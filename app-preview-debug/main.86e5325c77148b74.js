(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{78:(J,De,b)=>{"use strict";var E=b(8447);J.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var q="abcdefghijklmnopqrst",$=q.split(""),c={},G=0;G<$.length;++G)c[$[G]]=$[G];var I=Object.assign({},c),U="";for(var B in I)U+=B;return q!==U}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var q=Object.preventExtensions({1:2});try{Object.assign(q,"xy")}catch{return"y"===q[1]}return!1}()?E:Object.assign}},158:(J,De,b)=>{"use strict";var E=b(8344),P=b(5712);if(b(1459)()||b(6497)()){var z=Symbol.iterator;J.exports=function(Se){return null!=Se&&typeof Se[z]<"u"?Se[z]():E(Se)?Array.prototype[z].call(Se):void 0}}else{var q=b(7638),$=b(6837),c=b(2521),G=c("%Map%",!0),I=c("%Set%",!0),U=b(3463),B=U("Array.prototype.push"),K=U("String.prototype.charCodeAt"),j=U("String.prototype.slice"),A=function(Se){var ge=0;return{next:function(){var ee,W=ge>=Se.length;return W||(ee=Se[ge],ge+=1),{done:W,value:ee}}}},ue=function(Se,ge){if(q(Se)||E(Se))return A(Se);if($(Se)){var we=0;return{next:function(){var ee=function(Se,ge){if(ge+1>=Se.length)return ge+1;var W=K(Se,ge);if(W<55296||W>56319)return ge+1;var ee=K(Se,ge+1);return ee<56320||ee>57343?ge+1:ge+2}(Se,we),O=j(Se,we,ee);return we=ee,{done:ee>Se.length,value:O}}}}return ge&&typeof Se["_es6-shim iterator_"]<"u"?Se["_es6-shim iterator_"]():void 0};if(G||I){var pe=b(5217),ve=b(9116),re=U("Map.prototype.forEach",!0),L=U("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var oe=U("Map.prototype.iterator",!0),xe=U("Set.prototype.iterator",!0);var Oe=U("Map.prototype.@@iterator",!0)||U("Map.prototype._es6-shim iterator_",!0),tt=U("Set.prototype.@@iterator",!0)||U("Set.prototype._es6-shim iterator_",!0);J.exports=function(Se){return function(Se){if(pe(Se)){if(oe)return P(oe(Se));if(Oe)return Oe(Se);if(re){var ge=[];return re(Se,function(W,ee){B(ge,[ee,W])}),A(ge)}}if(ve(Se)){if(xe)return P(xe(Se));if(tt)return tt(Se);if(L){var we=[];return L(Se,function(W){B(we,W)}),A(we)}}}(Se)||ue(Se)}}else J.exports=function(Se){if(null!=Se)return ue(Se,!0)}}},159:J=>{"use strict";J.exports=Number.isNaN||function(b){return b!=b}},362:J=>{"use strict";var De=typeof BigInt<"u"&&BigInt;J.exports=function(){return"function"==typeof De&&"function"==typeof BigInt&&"bigint"==typeof De(42)&&"bigint"==typeof BigInt(42)}},497:(J,De,b)=>{"use strict";var E=b(159);J.exports=function(z){return E(z)||0===z?z:z<0?-1:1}},545:(J,De,b)=>{"use strict";var E=b(592),P=b(6283),z=b(9831),q=b(9110),$=b(5796),c=P(q(),Object);E(c,{getPolyfill:q,implementation:z,shim:$}),J.exports=c},566:(J,De,b)=>{"use strict";b.d(De,{B:()=>q,G:()=>$});class P{constructor(G,I,U,B,K){this.id=I,this.name=U,this.disableScroll=K,this.priority=1e6*B+I,this.ctrl=G}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const G=this.ctrl.capture(this.name,this.id,this.priority);return G&&this.disableScroll&&this.ctrl.disableScroll(this.id),G}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class z{constructor(G,I,U,B){this.id=I,this.disable=U,this.disableScroll=B,this.ctrl=G}block(){if(this.ctrl){if(this.disable)for(const G of this.disable)this.ctrl.disableGesture(G,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const G of this.disable)this.ctrl.enableGesture(G,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const q="backdrop-no-scroll",$=new class E{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(G){var I;return new P(this,this.newID(),G.name,null!==(I=G.priority)&&void 0!==I?I:0,!!G.disableScroll)}createBlocker(G={}){return new z(this,this.newID(),G.disable,!!G.disableScroll)}start(G,I,U){return this.canStart(G)?(this.requestedStart.set(I,U),!0):(this.requestedStart.delete(I),!1)}capture(G,I,U){if(!this.start(G,I,U))return!1;const B=this.requestedStart;let K=-1e4;if(B.forEach(j=>{K=Math.max(K,j)}),K===U){this.capturedId=I,B.clear();const j=new CustomEvent("ionGestureCaptured",{detail:{gestureName:G}});return document.dispatchEvent(j),!0}return B.delete(I),!1}release(G){this.requestedStart.delete(G),this.capturedId===G&&(this.capturedId=void 0)}disableGesture(G,I){let U=this.disabledGestures.get(G);void 0===U&&(U=new Set,this.disabledGestures.set(G,U)),U.add(I)}enableGesture(G,I){const U=this.disabledGestures.get(G);void 0!==U&&U.delete(I)}disableScroll(G){this.disabledScroll.add(G),1===this.disabledScroll.size&&document.body.classList.add(q)}enableScroll(G){this.disabledScroll.delete(G),0===this.disabledScroll.size&&document.body.classList.remove(q)}canStart(G){return!(void 0!==this.capturedId||this.isDisabled(G))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(G){const I=this.disabledGestures.get(G);return!!(I&&I.size>0)}newID(){return this.gestureId++,this.gestureId}}},575:(J,De,b)=>{"use strict";b.d(De,{d:()=>P,w:()=>E});const E=typeof window<"u"?window:void 0,P=typeof document<"u"?document:void 0},592:(J,De,b)=>{"use strict";var E=b(9209),P="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),z=Object.prototype.toString,q=Array.prototype.concat,$=b(1197),G=b(6652)(),I=function(B,K,j,M){if(K in B)if(!0===M){if(B[K]===j)return}else if(!function(B){return"function"==typeof B&&"[object Function]"===z.call(B)}(M)||!M())return;G?$(B,K,j,!0):$(B,K,j)},U=function(B,K){var j=arguments.length>2?arguments[2]:{},M=E(K);P&&(M=q.call(M,Object.getOwnPropertySymbols(K)));for(var A=0;A<M.length;A+=1)I(B,M[A],K[M[A]],j[M[A]])};U.supportsDescriptors=!!G,J.exports=U},603:(J,De,b)=>{"use strict";var E=b(2521),P=b(840),z=b(3687),q=b(2375),$=b(8519),c=E("%WeakMap%",!0),G=P("WeakMap.prototype.get",!0),I=P("WeakMap.prototype.set",!0),U=P("WeakMap.prototype.has",!0),B=P("WeakMap.prototype.delete",!0);J.exports=c?function(){var j,M,A={assert:function(ue){if(!A.has(ue))throw new $("Side channel does not contain "+z(ue))},delete:function(ue){if(c&&ue&&("object"==typeof ue||"function"==typeof ue)){if(j)return B(j,ue)}else if(q&&M)return M.delete(ue);return!1},get:function(ue){return c&&ue&&("object"==typeof ue||"function"==typeof ue)&&j?G(j,ue):M&&M.get(ue)},has:function(ue){return c&&ue&&("object"==typeof ue||"function"==typeof ue)&&j?U(j,ue):!!M&&M.has(ue)},set:function(ue,pe){c&&ue&&("object"==typeof ue||"function"==typeof ue)?(j||(j=new c),I(j,ue,pe)):q&&(M||(M=q()),M.set(ue,pe))}};return A}:q},767:(J,De,b)=>{"use strict";let E;function P(){return E}function z(e){const t=E;return E=e,t}const $=Symbol("NotFound");function G(e){return e===$||"\u0275NotFound"===e?.name}function I(e,t){return Object.is(e,t)}Error;let U=null,B=!1,K=1;const M=Symbol("SIGNAL");function A(e){const t=U;return U=e,t}const re={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function L(e){if(B)throw new Error("");if(null===U)return;U.consumerOnSignalRead(e);const t=U.producersTail;if(void 0!==t&&t.producer===e)return;let n;const r=U.recomputing;if(r&&(n=void 0!==t?t.nextProducer:U.producers,void 0!==n&&n.producer===e))return U.producersTail=n,void(n.lastReadVersion=e.version);const i=e.consumersTail;if(void 0!==i&&i.consumer===U&&(!r||function ye(e,t){const n=t.producersTail;if(void 0!==n){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(void 0!==r)}return!1}(i,U)))return;const o=Te(U),s={producer:e,consumer:U,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};U.producersTail=s,void 0!==t?t.nextProducer=s:U.producers=s,o&&ee(e,s)}function xe(e){if((!Te(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==K)){if(!e.producerMustRecompute(e)&&!we(e))return void Ae(e);e.producerRecomputeValue(e),Ae(e)}}function Oe(e){if(void 0===e.consumers)return;const t=B;B=!0;try{for(let n=e.consumers;void 0!==n;n=n.nextConsumer){const r=n.consumer;r.dirty||le(r)}}finally{B=t}}function tt(){return!1!==U?.consumerAllowSignalWrites}function le(e){e.dirty=!0,Oe(e),e.consumerMarkedDirty?.(e)}function Ae(e){e.dirty=!1,e.lastCleanEpoch=K}function Se(e){return e&&(e.producersTail=void 0,e.recomputing=!0),A(e)}function ge(e,t){if(A(t),!e)return;e.recomputing=!1;const n=e.producersTail;let r=void 0!==n?n.nextProducer:e.producers;if(void 0!==r){if(Te(e))do{r=O(r)}while(void 0!==r);void 0!==n?n.nextProducer=void 0:e.producers=void 0}}function we(e){for(let t=e.producers;void 0!==t;t=t.nextProducer){const n=t.producer,r=t.lastReadVersion;if(r!==n.version||(xe(n),r!==n.version))return!0}return!1}function W(e){if(Te(e)){let t=e.producers;for(;void 0!==t;)t=O(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function ee(e,t){const n=e.consumersTail,r=Te(e);if(void 0!==n?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;void 0!==i;i=i.nextProducer)ee(i.producer,i)}function O(e){const t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,void 0!==r?r.prevConsumer=i:t.consumersTail=i,void 0!==i)i.nextConsumer=r;else if(t.consumers=r,!Te(t)){let o=t.producers;for(;void 0!==o;)o=O(o)}return n}function Te(e){return e.consumerIsAlwaysLive||void 0!==e.consumers}const Be=Symbol("UNSET"),Ce=Symbol("COMPUTING"),Ye=Symbol("ERRORED"),C={...re,value:Be,dirty:!0,error:null,equal:I,kind:"computed",producerMustRecompute:e=>e.value===Be||e.value===Ce,producerRecomputeValue(e){if(e.value===Ce)throw new Error("");const t=e.value;e.value=Ce;const n=Se(e);let r,i=!1;try{r=e.computation(),A(null),i=t!==Be&&t!==Ye&&r!==Ye&&e.equal(t,r)}catch(o){r=Ye,e.error=o}finally{ge(e,n)}i?e.value=t:(e.value=r,e.version++)}};let He=function ke(){throw new Error};function Ct(e){He(e)}function ut(e,t){const n=Object.create(Ln);n.value=e,void 0!==t&&(n.equal=t);const r=()=>function lt(e){return L(e),e.value}(n);return r[M]=n,[r,s=>Mt(n,s),s=>function Gt(e,t){tt()||Ct(e),Mt(e,t(e.value))}(n,s)]}function Mt(e,t){tt()||Ct(e),e.equal(e.value,t)||(e.value=t,function hn(e){e.version++,function oe(){K++}(),Oe(e)}(e))}const Ln={...re,equal:I,value:void 0,kind:"signal"};function Lt(e){return"function"==typeof e}function Ke(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const $e=Ke(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ze(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class gt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Lt(r))try{r()}catch(o){t=o instanceof $e?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Qe(o)}catch(s){t=t??[],s instanceof $e?t=[...t,...s.errors]:t.push(s)}}if(t)throw new $e(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Qe(t);else{if(t instanceof gt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ze(n,t)}remove(t){const{_finalizers:n}=this;n&&ze(n,t),t instanceof gt&&t._removeParent(this)}}gt.EMPTY=(()=>{const e=new gt;return e.closed=!0,e})();const tn=gt.EMPTY;function Un(e){return e instanceof gt||e&&"closed"in e&&Lt(e.remove)&&Lt(e.add)&&Lt(e.unsubscribe)}function Qe(e){Lt(e)?e():e.unsubscribe()}const Wn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$n={setTimeout(e,t,...n){const{delegate:r}=$n;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=$n;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function cr(e){$n.setTimeout(()=>{const{onUnhandledError:t}=Wn;if(!t)throw e;t(e)})}function br(){}const ur=Yr("C",void 0,void 0);function Yr(e,t,n){return{kind:e,value:t,error:n}}let Gi=null;function rt(e){if(Wn.useDeprecatedSynchronousErrorHandling){const t=!Gi;if(t&&(Gi={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Gi;if(Gi=null,n)throw r}}else e()}class Ee extends gt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Un(t)&&t.add(this)):this.destination=Kr}static create(t,n,r){return new un(t,n,r)}next(t){this.isStopped?Ii(function Sr(e){return Yr("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Ii(function rr(e){return Yr("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ii(ur,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Re=Function.prototype.bind;function nn(e,t){return Re.call(e,t)}class ir{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){an(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){an(r)}else an(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){an(n)}}}class un extends Ee{constructor(t,n,r){let i;if(super(),Lt(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Wn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&nn(t.next,o),error:t.error&&nn(t.error,o),complete:t.complete&&nn(t.complete,o)}):i=t}this.destination=new ir(i)}}function an(e){Wn.useDeprecatedSynchronousErrorHandling?function Zt(e){Wn.useDeprecatedSynchronousErrorHandling&&Gi&&(Gi.errorThrown=!0,Gi.error=e)}(e):cr(e)}function Ii(e,t){const{onStoppedNotification:n}=Wn;n&&$n.setTimeout(()=>n(e,t))}const Kr={closed:!0,next:br,error:function Oi(e){throw e},complete:br},Ni="function"==typeof Symbol&&Symbol.observable||"@@observable";function qn(e){return e}function tr(e){return 0===e.length?qn:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let dn=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function jt(e){return e&&e instanceof Ee||function Ko(e){return e&&Lt(e.next)&&Lt(e.error)&&Lt(e.complete)}(e)&&Un(e)}(n)?n:new un(n,r,i);return rt(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=wo(r))((i,o)=>{const s=new un({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Ni](){return this}pipe(...n){return tr(n)(this)}toPromise(n){return new(n=wo(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function wo(e){var t;return null!==(t=e??Wn.Promise)&&void 0!==t?t:Promise}const jn=Ke(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let x=(()=>{class e extends dn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Or(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new jn}next(n){rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){rt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?tn:(this.currentObservers=null,o.push(n),new gt(()=>{this.currentObservers=null,ze(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new dn;return n.source=this,n}}return e.create=(t,n)=>new Or(t,n),e})();class Or extends x{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:tn}}class ri extends x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const po="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class Le extends Error{code;constructor(t,n){super(Tr(t,n)),this.code=t}}function Tr(e,t){return`${function xi(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}const dr=globalThis;function xn(e){for(let t in e)if(e[t]===xn)return t;throw Error("")}function Ui(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Xr(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(Xr).join(", ")}]`;if(null==e)return""+e;const t=e.overriddenName||e.name;if(t)return`${t}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return r>=0?n.slice(0,r):n}function ji(e,t){return e?t?`${e} ${t}`:e:t||""}const el=xn({__forward_ref__:xn});function Tn(e){return e.__forward_ref__=Tn,e.toString=function(){return Xr(this())},e}function Qt(e){return hi(e)?e():e}function hi(e){return"function"==typeof e&&e.hasOwnProperty(el)&&e.__forward_ref__===Tn}function et(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function jr(e){return{providers:e.providers||[],imports:e.imports||[]}}function ss(e){return function oa(e,t){return e.hasOwnProperty(t)&&e[t]||null}(e,Bo)}function mo(e){return e&&e.hasOwnProperty(Ta)?e[Ta]:null}const Bo=xn({\u0275prov:xn}),Ta=xn({\u0275inj:xn});class at{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=et({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ls(e){return e&&!!e.\u0275providers}const as=xn({\u0275cmp:xn}),ca=xn({\u0275dir:xn}),$s=xn({\u0275pipe:xn}),ua=xn({\u0275mod:xn}),jo=xn({\u0275fac:xn}),no=xn({__NG_ELEMENT_ID__:xn}),xo=xn({__NG_ENV_ID__:xn});function sn(e){return"string"==typeof e?e:null==e?"":String(e)}const Qi=xn({ngErrorCode:xn}),ls=xn({ngErrorMessage:xn}),Xo=xn({ngTokenPath:xn});function ll(e,t){return ul("",-200,t)}function cl(e,t){throw new Le(-201,!1)}function ul(e,t,n){const r=new Le(t,e);return r[Qi]=t,r[ls]=e,n&&(r[Xo]=n),r}let Cr;function ka(){return Cr}function mi(e){const t=Cr;return Cr=e,t}function To(e,t,n){const r=ss(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:8&n?null:void 0!==t?t:void cl()}const Mo={};class Gl{injector;constructor(t){this.injector=t}retrieve(t,n){const r=cs(n)||0;try{return this.injector.get(t,8&r?null:Mo,r)}catch(i){if(G(i))return i;throw i}}}function fl(e,t=0){const n=P();if(void 0===n)throw new Le(-203,!1);if(null===n)return To(e,void 0,t);{const r=function hl(e){return{optional:!!(8&e),host:!!(1&e),self:!!(2&e),skipSelf:!!(4&e)}}(t),i=n.retrieve(e,r);if(G(i)){if(r.optional)return null;throw i}return i}}function de(e,t=0){return(ka()||fl)(Qt(e),t)}function Ge(e,t){return de(e,cs(t))}function cs(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Bs(e){const t=[];for(let n=0;n<e.length;n++){const r=Qt(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Le(900,!1);let i,o=0;for(let s=0;s<r.length;s++){const a=r[s],l=Ul(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}t.push(de(i,o))}else t.push(de(r))}return t}function Ul(e){return e.__NG_DI_FLAG__}function p(e,t){return e.hasOwnProperty(jo)?e[jo]:null}function k(e,t){e.forEach(n=>Array.isArray(n)?k(n,t):t(n))}function te(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ne(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Me(e,t,n){let r=_t(e,t);return r>=0?e[1|r]=n:(r=~r,function Xe(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Ve(e,t){const n=_t(e,t);if(n>=0)return e[1|n]}function _t(e,t){return function mt(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const Ft={},bt=[],Cn=new at(""),Mr=new at("",-1),nr=new at("");class zn{get(t,n=Mo){if(n===Mo){const i=ul("",-201);throw i.name="\u0275NotFound",i}return n}}function Qr(e){return e[ua]||null}function Ht(e){return e[as]||null}function Ar(e){return e[ca]||null}function Li(e){return e[$s]||null}function or(e){return{\u0275providers:e}}function Ir(...e){return{\u0275providers:ro(0,e),\u0275fromNgModule:!0}}function ro(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return k(t,s=>{const a=s;vo(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&ds(i,o),n}function ds(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];Na(i,o=>{t(o,r)})}}function vo(e,t,n,r){if(!(e=Qt(e)))return!1;let i=null,o=mo(e);const s=!o&&Ht(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const l=e.ngModule;if(o=mo(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)vo(u,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{k(o.imports,f=>{vo(f,t,n,r)&&(u||=[],u.push(f))})}finally{}void 0!==u&&ds(u,t)}if(!a){const u=p(i)||(()=>new i);t({provide:i,useFactory:u,deps:bt},i),t({provide:nr,useValue:i,multi:!0},i),t({provide:Cn,useValue:()=>de(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const u=e;Na(l,f=>{t(f,u)})}}}return i!==e&&void 0!==e.providers}function Na(e,t){for(let n of e)Ls(n)&&(n=n.\u0275providers),Array.isArray(n)?Na(n,t):t(n)}const jl=xn({provide:String,useValue:xn});function Fa(e){return null!==e&&"object"==typeof e&&jl in e}function ko(e){return"function"==typeof e}const Pa=new at(""),da={},yl={};let Oa;function fa(){return void 0===Oa&&(Oa=new zn),Oa}class Lr{}class Qo extends Lr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,pa(t,s=>this.processProvider(s)),this.records.set(Mr,fs(void 0,this)),i.has("environment")&&this.records.set(Lr,fs(void 0,this));const o=this.records.get(Pa);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(nr,bt,{self:!0}))}retrieve(t,n){const r=cs(n)||0;try{return this.get(t,Mo,r)}catch(i){if(G(i))return i;throw i}}destroy(){Gs(this),this._destroyed=!0;const t=A(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),A(t)}}onDestroy(t){return Gs(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Gs(this);const n=z(this),r=mi(void 0);try{return t()}finally{z(n),mi(r)}}get(t,n=Mo,r){if(Gs(this),t.hasOwnProperty(xo))return t[xo](this);const i=cs(r),s=z(this),a=mi(void 0);try{if(!(4&i)){let u=this.records.get(t);if(void 0===u){const f=function mc(e){return"function"==typeof e||"object"==typeof e&&"InjectionToken"===e.ngMetadataName}(t)&&ss(t);u=f&&this.injectableDefInScope(f)?fs(La(t),da):null,this.records.set(t,u)}if(null!=u)return this.hydrate(t,u,i)}return(2&i?fa():this.parent).get(t,n=8&i&&n===Mo?null:n)}catch(l){const u=function dl(e){return e[Qi]}(l);throw-200===u||-201===u?new Le(u,null):l}finally{mi(a),z(s)}}resolveInjectorInitializers(){const t=A(null),n=z(this),r=mi(void 0);try{const o=this.get(Cn,bt,{self:!0});for(const s of o)s()}finally{z(n),mi(r),A(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Xr(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){let n=ko(t=Qt(t))?t:Qt(t&&t.provide);const r=function bl(e){return Fa(e)?fs(void 0,e.useValue):fs(Vl(e),da)}(t);if(!ko(t)&&!0===t.multi){let i=this.records.get(n);i||(i=fs(void 0,da,!0),i.factory=()=>Bs(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){const i=A(null);try{if(n.value===yl)throw ll(Xr(t));return n.value===da&&(n.value=yl,n.value=n.factory(void 0,r)),"object"==typeof n.value&&n.value&&function Hl(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{A(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Qt(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function La(e){const t=ss(e),n=null!==t?t.factory:p(e);if(null!==n)return n;if(e instanceof at)throw new Le(204,!1);if(e instanceof Function)return function zl(e){if(e.length>0)throw new Le(204,!1);const n=function Do(e){return(e?.[Bo]??null)||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Le(204,!1)}function Vl(e,t,n){let r;if(ko(e)){const i=Qt(e);return p(i)||La(i)}if(Fa(e))r=()=>Qt(e.useValue);else if(function gl(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Bs(e.deps||[]));else if(function _l(e){return!(!e||!e.useExisting)}(e))r=(i,o)=>de(Qt(e.useExisting),void 0!==o&&8&o?8:void 0);else{const i=Qt(e&&(e.useClass||e.provide));if(!function hc(e){return!!e.deps}(e))return p(i)||La(i);r=()=>new i(...Bs(e.deps))}return r}function Gs(e){if(e.destroyed)throw new Le(205,!1)}function fs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function pa(e,t){for(const n of e)Array.isArray(n)?pa(n,t):n&&Ls(n)?pa(n.\u0275providers,t):t(n)}function Vi(e,t){let n;e instanceof Qo?(Gs(e),n=e):n=new Gl(e);const i=z(n),o=mi(void 0);try{return t()}finally{z(i),mi(o)}}function Sl(){return void 0!==ka()||null!=P()}const R=10;function X(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ze(e){return Array.isArray(e)&&!0===e[1]}function Ot(e){return!!(4&e.flags)}function ht(e){return e.componentOffset>-1}function $t(e){return!(1&~e.flags)}function rn(e){return!!e.template}function pr(e){return!!(512&e[2])}function Hi(e){return!(256&~e[2])}function $i(e){for(;Array.isArray(e);)e=e[0];return e}function El(e,t){return $i(t[e])}function Mi(e,t){return $i(t[e.index])}function vc(e,t){return e.data[t]}function ql(e,t){return e[t]}function Ro(e,t){const n=t[e];return X(n)?n:n[0]}function Fd(e){return!(128&~e[2])}function yo(e,t){return null==t?null:e[t]}function up(e){e[17]=0}function dp(e){1024&e[2]||(e[2]|=1024,Fd(e)&&yc(e))}function Nu(e){return!!(9216&e[2]||e[24]?.dirty)}function Pd(e){e[10].changeDetectionScheduler?.notify(8),64&e[2]&&(e[2]|=1024),Nu(e)&&yc(e)}function yc(e){e[10].changeDetectionScheduler?.notify(0);let t=Ga(e);for(;null!==t&&!(8192&t[2])&&(t[2]|=8192,Fd(t));)t=Ga(t)}function Fu(e,t){if(Hi(e))throw new Le(911,!1);null===e[21]&&(e[21]=[]),e[21].push(t)}function Ga(e){const t=e[3];return Ze(t)?t[3]:t}function pp(e){return e[7]??=[]}function hp(e){return e.cleanup??=[]}const wn={lFrame:Ap(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let $d=!1;function _p(){wn.lFrame.elementDepthCount--}function Bd(){return wn.bindingsEnabled}function gp(){return null!==wn.skipHydrationRootTNode}function vp(e){return wn.skipHydrationRootTNode===e}function yp(){wn.skipHydrationRootTNode=null}function it(){return wn.lFrame.lView}function Rn(){return wn.lFrame.tView}function vt(e){return wn.lFrame.contextLView=e,e[8]}function yt(e){return wn.lFrame.contextLView=null,e}function Dn(){let e=bp();for(;null!==e&&64===e.type;)e=e.parent;return e}function bp(){return wn.lFrame.currentTNode}function Ua(e,t){const n=wn.lFrame;n.currentTNode=e,n.isParent=t}function Sp(){return wn.lFrame.isParent}function Cp(){wn.lFrame.isParent=!1}function Dp(){return $d}function Pu(e){const t=$d;return $d=e,t}function No(){const e=wn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ja(){return wn.lFrame.bindingIndex}function zo(){return wn.lFrame.bindingIndex++}function za(e){const t=wn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function zm(e,t){const n=wn.lFrame;n.bindingIndex=n.bindingRootIndex=e,Gd(t)}function Gd(e){wn.lFrame.currentDirectiveIndex=e}function jd(){return wn.lFrame.currentQueryIndex}function Ou(e){wn.lFrame.currentQueryIndex=e}function Hm(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[5]:null}function Tp(e,t,n){if(4&n){let i=t,o=e;for(;!(i=i.parent,null!==i||1&n||(i=Hm(o),null===i||(o=o[14],10&i.type))););if(null===i)return!1;t=i,e=o}const r=wn.lFrame=Mp();return r.currentTNode=t,r.lView=e,!0}function zd(e){const t=Mp(),n=e[1];wn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Mp(){const e=wn.lFrame,t=null===e?null:e.child;return null===t?Ap(e):t}function Ap(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function kp(){const e=wn.lFrame;return wn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Rp=kp;function Vd(){const e=kp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function oo(){return wn.lFrame.selectedIndex}function Zl(e){wn.lFrame.selectedIndex=e}function zs(){const e=wn.lFrame;return vc(e.tView,e.selectedIndex)}let Np=!0;function Lu(){return Np}function tu(e){Np=e}let Hd={elements:void 0};function Fp(e,t=null,n=null,r){const i=Pp(e,t,n,r);return i.resolveInjectorInitializers(),i}function Pp(e,t=null,n=null,r,i=new Set){const o=[n||bt,Ir(e)];return r=r||("object"==typeof e?void 0:Xr(e)),new Qo(o,t||fa(),r||null,i)}class gi{static THROW_IF_NOT_FOUND=Mo;static NULL=new zn;static create(t,n){if(Array.isArray(t))return Fp({name:""},n,t,"");{const r=t.name??"";return Fp({name:r},t.parent,t.providers,r)}}static \u0275prov=et({token:gi,providedIn:"any",factory:()=>de(Mr)});static __NG_ELEMENT_ID__=-1}const so=new at("");let Vo=(()=>class e{static __NG_ELEMENT_ID__=e_;static __NG_ENV_ID__=n=>n})();class Jm extends Vo{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Hi(this._lView)}onDestroy(t){const n=this._lView;return Fu(n,t),()=>function Od(e,t){if(null===e[21])return;const n=e[21].indexOf(t);-1!==n&&e[21].splice(n,1)}(n,t)}}function e_(){return new Jm(it())}class Sc{_console=console;handleError(t){this._console.error("ERROR",t)}}const _a=new at("",{providedIn:"root",factory:()=>{const e=Ge(Lr);let t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(Sc),t.handleError(n))}}}),t_={provide:Cn,useValue:()=>{Ge(Sc)},multi:!0};function ao(e,t){const[n,r,i]=ut(e,t?.equal),o=n;return o.set=r,o.update=i,o.asReadonly=qd.bind(o),o}function qd(){const e=this[M];if(void 0===e.readonlyFn){const t=()=>this();t[M]=e,e.readonlyFn=t}return e.readonlyFn}class Cc{}const i_=new at("",{providedIn:"root",factory:()=>!1}),Zd=new at(""),o_=new at("");let Fr=(()=>class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=ga})();function ga(){return new Fr(it(),Dn())}let Jt=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ri(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new dn(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=et({token:e,providedIn:"root",factory:()=>new e})}return e})(),Yd=(()=>{class e{internalPendingTasks=Ge(Jt);scheduler=Ge(Cc);errorHandler=Ge(_a);add(){const n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){const r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=et({token:e,providedIn:"root",factory:()=>new e})}return e})();function $u(...e){}let s_=(()=>{class e{static \u0275prov=et({token:e,providedIn:"root",factory:()=>new zy})}return e})();class zy{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){const r=this.queues.get(t.zone);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){const n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(const[n,r]of this.queues)t||=null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(const r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}}let a_=null;function en(){return a_}class RI{}let l_=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>Ge(FI),providedIn:"platform"})}return e})();const NI=new at("");let FI=(()=>{class e extends l_{_location;_history;_doc=Ge(so);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return en().getBaseHref(this._doc)}onPopState(n){const r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function c_(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function sr(e){const t=e.search(/#|\?|$/);return"/"===e[t-1]?e.slice(0,t-1)+e.slice(t):e}function Ue(e){return e&&"?"!==e[0]?`?${e}`:e}let xr=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>Ge(ei),providedIn:"root"})}return e})();const hr=new at("");let ei=(()=>{class e extends xr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ge(so).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return c_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ue(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Ue(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Ue(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(de(l_),de(hr,8))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ai=(()=>{class e{_subject=new x;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function ts(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(sr(Ji(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ue(r))}normalize(n){return e.stripTrailingSlash(function es(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,Ji(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ue(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ue(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ue;static joinWithSlash=c_;static stripTrailingSlash=sr;static \u0275fac=function(r){return new(r||e)(de(xr))};static \u0275prov=et({token:e,factory:()=>function Jo(){return new Ai(de(xr))}(),providedIn:"root"})}return e})();function Ji(e){return e.replace(/\/index.html$/,"")}function vi(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}class fn{}var T=b(1890);function Nn(e){return Lt(e?.lift)}function er(e){return t=>{if(Nn(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Kn(e,t,n,r,i){return new zt(e,t,n,r,i)}class zt extends Ee{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Xt(e,t){return er((n,r)=>{let i=0;n.subscribe(Kn(r,o=>{r.next(e.call(t,o,i++))}))})}function d(e){return{toString:e}.toString()}class w${previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function PI(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}const vs=(()=>{const e=()=>OI;return e.ngInherit=!0,e})();function OI(e){return e.type.prototype.ngOnChanges&&(e.setInput=D$),E$}function E$(){const e=$I(this),t=e?.current;if(t){const n=e.previous;if(n===Ft)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function D$(e,t,n,r,i){const o=this.declaredInputs[r],s=$I(e)||function I$(e,t){return e[LI]=t}(e,{previous:Ft,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new w$(u&&u.currentValue,n,l===Ft),PI(e,t,i,n)}const LI="__ngSimpleChanges__";function $I(e){return e[LI]||null}const Gu=[],ci=function(e,t=null,n){for(let r=0;r<Gu.length;r++)(0,Gu[r])(e,t,n)};function BI(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:f}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),null!=f&&(e.destroyHooks??=[]).push(n,f)}}function p_(e,t,n){GI(e,t,3,n)}function h_(e,t,n,r){(3&e[2])===n&&GI(e,t,n,r)}function Wy(e,t){let n=e[2];(3&n)===t&&(n&=16383,n+=1,e[2]=n)}function GI(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&e[17]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[17]+=65536),(a<o||-1==o)&&(k$(e,n,t,l),e[17]=(4294901760&e[17])+l+2),l++}function UI(e,t){ci(4,e,t);const n=A(null);try{t.call(e)}finally{A(n),ci(5,e,t)}}function k$(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[2]>>14<e[17]>>16&&(3&e[2])===t&&(e[2]+=16384,UI(a,o)):UI(a,o)}class Op{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}}function zI(e){return 3===e||4===e||6===e}function VI(e){return 64===e.charCodeAt(0)}function Qd(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||HI(e,n,i,0,-1===n||2===n?t[++r]:null)}}return e}function HI(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n)return void(null!==i&&(e[o+1]=i));o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i)}function Zy(e){return-1!==e}function Lp(e){return 32767&e}function $p(e,t){let n=function P$(e){return e>>16}(e),r=t;for(;n>0;)r=r[14],n--;return r}let Yy=!0;function m_(e){const t=Yy;return Yy=e,t}let O$=0;const Jl={};function __(e,t){const n=ZI(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Ky(r.data,e),Ky(t,null),Ky(r.blueprint,null));const i=g_(e,t),o=e.injectorIndex;if(Zy(i)){const s=Lp(i),a=$p(i,t),l=a[1].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=i,o}function Ky(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ZI(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function g_(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=tx(i),null===r)return-1;if(n++,i=i[14],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Xy(e,t,n){!function L$(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(no)&&(r=n[no]),null==r&&(r=n[no]=O$++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function YI(e,t,n){if(8&n||void 0!==e)return e;cl()}function KI(e,t,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const i=e[9],o=mi(void 0);try{return i?i.get(t,r,8&n):To(t,r,8&n)}finally{mi(o)}}return YI(r,0,n)}function XI(e,t,n,r=0,i){if(null!==e){if(2048&t[2]&&!(2&r)){const s=function j$(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[2]&&!pr(s);){const a=QI(o,s,n,2|r,Jl);if(a!==Jl)return a;let l=o.parent;if(!l){const u=s[20];if(u){const f=u.get(n,Jl,r);if(f!==Jl)return f}l=tx(s),s=s[14]}o=l}return i}(e,t,n,r,Jl);if(s!==Jl)return s}const o=QI(e,t,n,r,Jl);if(o!==Jl)return o}return KI(t,n,r,i)}function QI(e,t,n,r,i){const o=function G$(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(no)?e[no]:void 0;return"number"==typeof t?t>=0?255&t:U$:t}(n);if("function"==typeof o){if(!Tp(t,e,r))return 1&r?YI(i,0,r):KI(t,n,r,i);try{let s;if(s=o(r),null!=s||8&r)return s;cl()}finally{Rp()}}else if("number"==typeof o){let s=null,a=ZI(e,t),l=-1,u=1&r?t[15][5]:null;for((-1===a||4&r)&&(l=-1===a?g_(e,t):t[a+8],-1!==l&&ex(r,!1)?(s=t[1],a=Lp(l),t=$p(l,t)):a=-1);-1!==a;){const f=t[1];if(JI(o,a,f.data)){const m=B$(a,t,n,s,r,u);if(m!==Jl)return m}l=t[a+8],-1!==l&&ex(r,t[1].data[a+8]===u)&&JI(o,a,t)?(s=f,a=Lp(l),t=$p(l,t)):a=-1}}return i}function B$(e,t,n,r,i,o){const s=t[1],a=s.data[e+8],f=v_(a,s,n,null==r?ht(a)&&Yy:r!=s&&!!(3&a.type),1&i&&o===a);return null!==f?Bp(t,s,f,a,i):Jl}function v_(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,f=o>>20,g=i?a+f:e.directiveEnd;for(let w=r?a:a+f;w<g;w++){const F=s[w];if(w<l&&n===F||w>=l&&F.type===n)return w}if(i){const w=s[l];if(w&&rn(w)&&w.type===n)return l}return null}function Bp(e,t,n,r,i){let o=e[n];const s=t.data;if(o instanceof Op){const a=o;if(a.resolving)throw function vn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():sn(e)}(s[n]),ll();const l=m_(a.canSeeViewProviders);a.resolving=!0;const m=a.injectImpl?mi(a.injectImpl):null;Tp(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function A$(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=OI(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,s[n],t)}finally{null!==m&&mi(m),m_(l),a.resolving=!1,Rp()}}return o}function JI(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function ex(e,t){return!(2&e||1&e&&t)}class Wi{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return XI(this._tNode,this._lView,t,cs(r),n)}}function U$(){return new Wi(Dn(),it())}function Ci(e){return d(()=>{const t=e.prototype.constructor,n=t[jo]||Qy(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[jo]||Qy(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Qy(e){return hi(e)?()=>{const t=Qy(Qt(e));return t&&t()}:p(e)}function tx(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[5]:null}function wc(e){return function $$(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(zI(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(Dn(),e)}function K$(){return Jd(Dn(),it())}function Jd(e,t){return new ct(Mi(e,t))}let ct=(()=>class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=K$})();function sx(e){return e instanceof ct?e.nativeElement:e}function X$(){return this._results[Symbol.iterator]()}class Q${_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new x}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function D(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function v(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=X$}function Gp(e){return!(128&~e.flags)}var b_=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(b_||{});const S_=new Map;let tB=0;function tb(e){S_.delete(e[19])}const rb="__ngContext__";function Hs(e,t){X(t)?(e[rb]=t[19],function rB(e){S_.set(e[19],e)}(t)):e[rb]=t}function gx(e){return yx(e[12])}function vx(e){return yx(e[4])}function yx(e){for(;null!==e&&!Ze(e);)e=e[4];return e}let ib;const jp=new at("",{providedIn:"root",factory:()=>DB}),DB="ng",Ix=new at(""),w_=new at("",{providedIn:"platform",factory:()=>"unknown"}),xx=new at("",{providedIn:"root",factory:()=>function ru(){if(void 0!==ib)return ib;if(typeof document<"u")return document;throw new Le(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),NB=new at("",{providedIn:"root",factory:()=>!1}),LB=new at("");function x_(e){return!(32&~e.flags)}function Qx(e,t){const n=e.contentQueries;if(null!==n){const r=A(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=e.data[s];Ou(n[i]),a.contentQueries(2,t[s],s)}}}finally{A(r)}}}function Sb(e,t,n){Ou(0);const r=A(null);try{t(e,n)}finally{A(r)}}function Cb(e,t,n){if(Ot(t)){const r=A(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{A(r)}}}var Ec=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ec||{});let R_;function sf(e){return function Jx(){if(void 0===R_&&(R_=null,dr.trustedTypes))try{R_=dr.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return R_}()?.createHTML(e)||e}class ju{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${po})`}}class cG extends ju{getTypeName(){return"HTML"}}class uG extends ju{getTypeName(){return"Style"}}class dG extends ju{getTypeName(){return"Script"}}class fG extends ju{getTypeName(){return"URL"}}class pG extends ju{getTypeName(){return"ResourceURL"}}function va(e){return e instanceof ju?e.changingThisBreaksApplicationSecurity:e}function ec(e,t){const n=function hG(e){return e instanceof ju&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${po})`)}return n===t}class bG{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(sf(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}}class SG{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=sf(t),n}}const wG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function F_(e){return(e=String(e)).match(wG)?e:"unsafe:"+e}function Dc(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Hp(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const iT=Dc("area,br,col,hr,img,wbr"),oT=Dc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sT=Dc("rp,rt"),Eb=Hp(iT,Hp(oT,Dc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hp(sT,Dc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hp(sT,oT)),Db=Dc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),aT=Hp(Db,Dc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Dc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),EG=Dc("script,style,template");class DG{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,i=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)i.push(n),n=TG(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=xG(n);if(o){n=o;break}n=i.pop()}return this.buf.join("")}startElement(t){const n=lT(t).toLowerCase();if(!Eb.hasOwnProperty(n))return this.sanitizedSomething=!0,!EG.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!aT.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Db[a]&&(l=F_(l)),this.buf.push(" ",s,'="',uT(l),'"')}return this.buf.push(">"),!0}endElement(t){const n=lT(t).toLowerCase();Eb.hasOwnProperty(n)&&!iT.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(uT(t))}}function xG(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw cT(t);return t}function TG(e){const t=e.firstChild;if(t&&function IG(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw cT(t);return t}function lT(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function cT(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const MG=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,AG=/([^\#-~ |!])/g;function uT(e){return e.replace(/&/g,"&amp;").replace(MG,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(AG,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let P_;function dT(e,t){let n=null;try{P_=P_||function rT(e){const t=new SG(e);return function CG(){try{return!!(new window.DOMParser).parseFromString(sf(""),"text/html")}catch{return!1}}()?new bG(t):t}(e);let r=t?String(t):"";n=P_.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=P_.getInertBodyElement(r)}while(r!==o);return sf((new DG).sanitizeChildren(Ib(n)||n))}finally{if(n){const r=Ib(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function Ib(e){return"content"in e&&function kG(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ws=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ws||{});const $G=/^>|^->|<!--|-->|--!>|<!-$/g,BG=/(<|>)/g;function tc(e){return e instanceof Function?e():e}function QG(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}const wT="ng-template";function JG(e,t,n,r){let i=0;if(r){for(;i<t.length&&"string"==typeof t[i];i+=2)if("class"===t[i]&&-1!==QG(t[i+1].toLowerCase(),n,0))return!0}else if(Mb(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&"string"==typeof(o=t[i]);)if(o.toLowerCase()===n)return!0}return!1}function Mb(e){return 4===e.type&&e.value!==wT}function e3(e,t,n){return t===(4!==e.type||n?e.value:wT)}function t3(e,t,n){let r=4;const i=e.attrs,o=null!==i?function i3(e){for(let t=0;t<e.length;t++)if(zI(e[t]))return t;return e.length}(i):0;let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!e3(e,l,n)||""===l&&1===t.length){if(Dl(r))return!1;s=!0}}else if(8&r){if(null===i||!JG(e,i,l,n)){if(Dl(r))return!1;s=!0}}else{const u=t[++a],f=n3(l,i,Mb(e),n);if(-1===f){if(Dl(r))return!1;s=!0;continue}if(""!==u){let m;if(m=f>o?"":i[f+1].toLowerCase(),2&r&&u!==m){if(Dl(r))return!1;s=!0}}}}else{if(!s&&!Dl(r)&&!Dl(l))return!1;if(s&&Dl(l))continue;s=!1,r=l|1&r}}return Dl(r)||s}function Dl(e){return!(1&e)}function n3(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function o3(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ET(e,t,n=!1){for(let r=0;r<t.length;r++)if(t3(e,t[r],n))return!0;return!1}function s3(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function DT(e,t){return e?":not("+t.trim()+")":t}function a3(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Dl(s)&&(t+=DT(o,i),i=""),r=s,o=o||!Dl(r);n++}return""!==i&&(t+=DT(o,i)),t}const ti={};function kb(e,t){return e.createComment(function mT(e){return e.replace($G,t=>t.replace(BG,"\u200b$1\u200b"))}(t))}function $_(e,t,n){return e.createElement(t,n)}function zu(e,t,n,r,i){e.insertBefore(t,n,r,i)}function xT(e,t,n){e.appendChild(t,n)}function TT(e,t,n,r,i){null!==r?zu(e,t,n,r,i):xT(e,t,n)}function AT(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&function F$(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];VI(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}}(e,t,r),null!==i&&function d3(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}(e,t,i),null!==o&&function u3(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function Rb(e,t,n,r,i,o,s,a,l,u,f){const m=26+r,g=m+i,w=function f3(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ti);return n}(m,g),F="function"==typeof u?u():u;return w[1]={type:e,blueprint:w,template:n,queries:null,viewQuery:a,declTNode:t,data:w.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:F,incompleteFirstPass:!1,ssrId:f}}function B_(e,t,n,r,i,o,s,a,l,u,f){const m=t.blueprint.slice();return m[0]=i,m[2]=1228|r,(null!==u||e&&2048&e[2])&&(m[2]|=2048),up(m),m[3]=m[14]=e,m[8]=n,m[10]=s||e&&e[10],m[11]=a||e&&e[11],m[9]=l||e&&e[9]||null,m[5]=o,m[19]=function nB(){return tB++}(),m[6]=f,m[20]=u,m[15]=2==t.type?e[15]:m,m}function Nb(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Zp(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Fb(e,t){return e[12]?e[13][4]=t:e[12]=t,e[13]=t,t}function fe(e=1){RT(Rn(),it(),oo()+e,!1)}function RT(e,t,n,r){if(!r)if(3&~t[2]){const o=e.preOrderHooks;null!==o&&h_(t,o,0,n)}else{const o=e.preOrderCheckHooks;null!==o&&p_(t,o,n)}Zl(n)}var G_=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(G_||{});function Yp(e,t,n,r){const i=A(null);try{const[o,s,a]=e.inputs[n];let l=null;0!==(s&G_.SignalBased)&&(l=t[o][M]),null!==l&&void 0!==l.transformFn?r=l.transformFn(r):null!==a&&(r=a.call(t,r)),null!==e.setInput?e.setInput(t,l,r,n,o):PI(t,l,o,r)}finally{A(i)}}var ou=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ou||{});function Ob(e,t){return undefined(e,t)}function lf(e,t,n,r,i){if(null!=r){let o,s=!1;Ze(r)?o=r:X(r)&&(s=!0,r=r[0]);const a=$i(r);0===e&&null!==n?null==i?xT(t,n,a):zu(t,n,a,i||null,!0):1===e&&null!==n?zu(t,n,a,i||null,!0):2===e?function qp(e,t,n){e.removeChild(null,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function b3(e,t,n,r,i){const o=n[7];o!==$i(n)&&lf(t,e,r,o,i);for(let a=R;a<n.length;a++){const l=n[a];j_(l[1],l,e,t,r,o)}}(t,e,o,n,i)}}function FT(e,t){t[10].changeDetectionScheduler?.notify(9),j_(e,t,t[11],2,null,null)}function Lb(e,t){const n=e[9],r=n.indexOf(t);n.splice(r,1)}function Kp(e,t){if(Hi(t))return;const n=t[11];n.destroyNode&&j_(e,t,n,3,null,null),function _3(e){let t=e[12];if(!t)return $b(e[1],e);for(;t;){let n=null;if(X(t))n=t[12];else{const r=t[R];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)X(t)&&$b(t[1],t),t=t[3];null===t&&(t=e),X(t)&&$b(t[1],t),n=t&&t[4]}t=n}}(t)}function $b(e,t){if(Hi(t))return;const n=A(null);try{t[2]&=-129,t[2]|=256,t[24]&&W(t[24]),function v3(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Op)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];ci(4,a,l);try{l.call(a)}finally{ci(5,a,l)}}else{ci(4,i,o);try{o.call(i)}finally{ci(5,i,o)}}}}}(e,t),function g3(e,t){const n=e.cleanup,r=t[7];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[7]=null);const i=t[21];if(null!==i){t[21]=null;for(let s=0;s<i.length;s++)(0,i[s])()}const o=t[23];if(null!==o){t[23]=null;for(const s of o)s.destroy()}}(e,t),1===t[1].type&&t[11].destroy();const r=t[16];if(null!==r&&Ze(t[3])){r!==t[3]&&Lb(r,t);const i=t[18];null!==i&&i.detachView(e)}tb(t)}finally{A(n)}}function Bb(e,t,n){return function PT(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[0];if(ht(r)){const{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Ec.None||i===Ec.Emulated)return null}return Mi(r,n)}(e,t.parent,n)}function OT(e,t,n){return $T(e,t,n)}let $T=function LT(e,t,n){return 40&e.type?Mi(e,n):null};function Ub(e,t,n,r){const i=Bb(e,r,t),o=t[11],a=OT(r.parent||t[5],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)TT(o,i,n[l],a,!1);else TT(o,i,n,a,!1)}function Vu(e,t){if(null!==t){const n=t.type;if(3&n)return Mi(t,e);if(4&n)return U_(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Vu(e,r);{const i=e[t.index];return Ze(i)?U_(-1,i):$i(i)}}if(128&n)return Vu(e,t.next);if(32&n)return Ob(t,e)()||$i(e[t.index]);{const r=GT(e,t);return null!==r?Array.isArray(r)?r[0]:Vu(Ga(e[15]),r):Vu(e,t.next)}}return null}function GT(e,t){return null!==t?e[15][5].projection[t.projection]:null}function U_(e,t){const n=R+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return Vu(r,i)}return t[7]}function jb(e,t,n,r,i,o,s){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],l=n.type;if(s&&0===t&&(a&&Hs($i(a),r),n.flags|=2),!x_(n))if(8&l)jb(e,t,n.child,r,i,o,!1),lf(t,e,i,a,o);else if(32&l){const u=Ob(n,r);let f;for(;f=u();)lf(t,e,i,f,o);lf(t,e,i,a,o)}else 16&l?UT(e,t,r,n,i,o):lf(t,e,i,a,o);n=s?n.projectionNext:n.next}}function j_(e,t,n,r,i,o){jb(n,r,e.firstChild,t,i,o,!1)}function UT(e,t,n,r,i,o){const s=n[15],l=s[5].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)lf(t,e,i,l[u],o);else{let u=l;const f=s[3];Gp(r)&&(u.flags|=128),jb(e,t,u,f,i,o,!0)}}function jT(e,t,n,r,i){const o=oo(),s=2&r;try{Zl(-1),s&&t.length>26&&RT(e,t,26,!1),ci(s?2:0,i,n),n(r,i)}finally{Zl(o),ci(s?3:1,i,n)}}function z_(e,t,n){(function I3(e,t,n){const r=n.directiveStart,i=n.directiveEnd;ht(n)&&function p3(e,t,n){const r=Mi(t,e),i=function kT(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Rb(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(n),o=e[10].rendererFactory,s=Fb(e,B_(e,i,null,Nb(n),r,t,null,o.createRenderer(r,n),null,null,null));e[t.index]=s}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||__(n,t);const o=n.initialInputs;for(let s=r;s<i;s++){const a=e.data[s],l=Bp(t,e,s,n);Hs(l,t),null!==o&&A3(0,s-r,l,a,0,o),rn(a)&&(Ro(n.index,t)[8]=Bp(t,e,s,n))}})(e,t,n),!(64&~n.flags)&&function x3(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function Vm(){return wn.lFrame.currentDirectiveIndex}();try{Zl(o);for(let a=r;a<i;a++){const l=e.data[a],u=t[a];Gd(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&T3(l,u)}}finally{Zl(-1),Gd(s)}}(e,t,n)}function cf(e,t,n=Mi){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}let zT=()=>null;function zb(e,t,n,r,i,o){q_(e,t[1],t,n,r)?ht(e)&&function VT(e,t){const n=Ro(t,e);16&n[2]||(n[2]|=64)}(t,e.index):(3&e.type&&(n=function D3(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n)),function Vb(e,t,n,r,i,o){if(3&e.type){const s=Mi(e,t);r=null!=o?o(r,e.value||"",n):r,i.setProperty(s,n,r)}}(e,t,n,r,i,o))}function T3(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Hb(e,t){const n=e.directiveRegistry;let r=null;if(n)for(let i=0;i<n.length;i++){const o=n[i];ET(t,o.selectors,!1)&&(r??=[],rn(o)?r.unshift(o):r.push(o))}return r}function A3(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;a+=2)Yp(r,n,s[a],s[a+1])}function H_(e,t,n,r,i){const o=26+n,s=t[1],a=i(s,t,e,r,n);t[o]=a,Ua(e,!0);const l=2===e.type;return l?(AT(t[11],a,e),(0===function $m(){return wn.lFrame.elementDepthCount}()||$t(e))&&Hs(a,t),function Bm(){wn.lFrame.elementDepthCount++}()):Hs(a,t),Lu()&&(!l||!x_(e))&&Ub(s,t,a,e),e}function W_(e){let t=e;return Sp()?Cp():(t=t.parent,Ua(t,!1)),t}function q_(e,t,n,r,i){const o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r];let a=!1;if(s)for(let l=0;l<s.length;l+=2){const u=s[l];Yp(t.data[u],n[u],s[l+1],i),a=!0}if(o)for(const l of o)Yp(t.data[l],n[l],r,i),a=!0;return a}function R3(e,t){const n=Ro(t,e),r=n[1];!function N3(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[0];null!==i&&null===n[6]&&(n[6]=null),ci(18),Z_(r,n,n[8]),ci(19,n[8])}function Z_(e,t,n){zd(t);try{const r=e.viewQuery;null!==r&&Sb(1,r,n);const i=e.template;null!==i&&jT(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[18]?.finishViewCreation(e),e.staticContentQueries&&Qx(e,t),e.staticViewQueries&&Sb(2,e.viewQuery,n);const o=e.components;null!==o&&function F3(e,t){for(let n=0;n<t.length;n++)R3(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Vd()}}function uf(e,t,n,r){const i=A(null);try{const o=t.tView,l=B_(e,o,n,4096&e[2]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[16]=e[t.index];const f=e[18];return null!==f&&(l[18]=f.createEmbeddedView(o)),Z_(o,l,n),l}finally{A(i)}}function Hu(e,t){return!t||null===t.firstChild||Gp(e)}function Xp(e,t,n,r,i=!1){for(;null!==n;){if(128===n.type){n=i?n.projectionNext:n.next;continue}const o=t[n.index];null!==o&&r.push($i(o)),Ze(o)&&O3(o,r);const s=n.type;if(8&s)Xp(e,t,n.child,r);else if(32&s){const a=Ob(n,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=GT(t,n);if(Array.isArray(a))r.push(...a);else{const l=Ga(t[15]);Xp(l[1],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function O3(e,t){for(let n=R;n<e.length;n++){const r=e[n],i=r[1].firstChild;null!==i&&Xp(r[1],r,i,t)}e[7]!==e[0]&&t.push(e[7])}function ZT(e){if(null!==e[25]){for(const t of e[25])t.impl.addSequence(t);e[25].length=0}}let YT=[];const G3={...re,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{yc(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},j3={...re,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Ga(e.lView);for(;t&&!KT(t[1]);)t=Ga(t);t&&dp(t)},consumerOnSignalRead(){this.lView[24]=this}};function KT(e){return 2!==e.type}function XT(e){if(null===e[23])return;let t=!0;for(;t;){let n=!1;for(const r of e[23])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(8192&e[2])}}function Y_(e,t=0){const r=e[10].rendererFactory;r.begin?.();try{!function V3(e,t){const n=Dp();try{Pu(!0),qb(e,t);let r=0;for(;Nu(e);){if(100===r)throw new Le(103,!1);r++,qb(e,1)}}finally{Pu(n)}}(e,t)}finally{r.end?.()}}function QT(e,t,n,r){if(Hi(t))return;const i=t[2];zd(t);let a=!0,l=null,u=null;KT(e)?(u=function L3(e){return e[24]??function $3(e){const t=YT.pop()??Object.create(G3);return t.lView=e,t}(e)}(t),l=Se(u)):null===function ue(){return U}()?(a=!1,u=function U3(e){const t=e[24]??Object.create(j3);return t.lView=e,t}(t),l=Se(u)):t[24]&&(W(t[24]),t[24]=null);try{up(t),function Ip(e){return wn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&jT(e,t,n,2,r);const f=!(3&~i);if(f){const w=e.preOrderCheckHooks;null!==w&&p_(t,w,null)}else{const w=e.preOrderHooks;null!==w&&h_(t,w,0,null),Wy(t,0)}if(function W3(e){for(let t=gx(e);null!==t;t=vx(t)){if(!(2&t[2]))continue;const n=t[9];for(let r=0;r<n.length;r++)dp(n[r])}}(t),XT(t),JT(t,0),null!==e.contentQueries&&Qx(e,t),f){const w=e.contentCheckHooks;null!==w&&p_(t,w)}else{const w=e.contentHooks;null!==w&&h_(t,w,1),Wy(t,1)}!function Z3(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Zl(~i);else{const o=i,s=n[++r],a=n[++r];zm(s,o);const l=t[o];ci(24,l),a(2,l),ci(25,l)}}}finally{Zl(-1)}}(e,t);const m=e.components;null!==m&&t1(t,m,0);const g=e.viewQuery;if(null!==g&&Sb(2,g,r),f){const w=e.viewCheckHooks;null!==w&&p_(t,w)}else{const w=e.viewHooks;null!==w&&h_(t,w,2),Wy(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const w of t[22])w();t[22]=null}ZT(t),t[2]&=-73}catch(f){throw yc(t),f}finally{null!==u&&(ge(u,l),a&&function B3(e){e.lView[24]!==e&&(e.lView=null,YT.push(e))}(u)),Vd()}}function JT(e,t){for(let n=gx(e);null!==n;n=vx(n))for(let r=R;r<n.length;r++)e1(n[r],t)}function q3(e,t,n){ci(18);const r=Ro(t,e);e1(r,n),ci(19,r[8])}function e1(e,t){Fd(e)&&qb(e,t)}function qb(e,t){const r=e[1],i=e[2],o=e[24];let s=!!(0===t&&16&i);if(s||=!!(64&i&&0===t),s||=!!(1024&i),s||=!(!o?.dirty||!we(o)),s||=!1,o&&(o.dirty=!1),e[2]&=-9217,s)QT(r,e,r.template,e[8]);else if(8192&i){const a=A(null);try{XT(e),JT(e,1);const l=r.components;null!==l&&t1(e,l,1),ZT(e)}finally{A(a)}}}function t1(e,t,n){for(let r=0;r<t.length;r++)q3(e,t[r],n)}function df(e,t){const n=Dp()?64:1088;for(e[10].changeDetectionScheduler?.notify(t);e;){e[2]|=n;const r=Ga(e);if(pr(e)&&!r)return e;e=r}return null}function n1(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function ff(e,t,n,r=!0){const i=t[1];if(function Y3(e,t,n,r){const i=R+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-R?(t[4]=n[i],te(n,R+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[16];null!==s&&n!==s&&i1(s,t);const a=t[18];null!==a&&a.insertView(e),Pd(t),t[2]|=128}(i,t,e,n),r){const s=U_(n,e),a=t[11],l=a.parentNode(e[7]);null!==l&&function m3(e,t,n,r,i,o){r[0]=i,r[5]=t,j_(e,r,n,1,i,o)}(i,e[5],a,t,l,s)}const o=t[6];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Qp(e,t){if(e.length<=R)return;const n=R+t,r=e[n];if(r){const i=r[16];null!==i&&i!==e&&Lb(i,r),t>0&&(e[n-1][4]=r[4]);const o=ne(e,R+t);!function NT(e,t){FT(e,t),t[0]=null,t[5]=null}(r[1],r);const s=o[18];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function i1(e,t){const n=e[9],r=t[3];(X(r)||t[15]!==r[3][15])&&(e[2]|=2),null===n?e[9]=[t]:n.push(t)}class Jp{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const t=this._lView,n=t[1];return Xp(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return Hi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Ze(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Qp(t,r),ne(n,r))}this._attachedToViewContainer=!1}Kp(this._lView[1],this._lView)}onDestroy(t){Fu(this._lView,t)}markForCheck(){df(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){Pd(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,Y_(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=pr(this._lView),n=this._lView[16];null!==n&&!t&&Lb(n,this._lView),FT(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=t;const n=pr(this._lView),r=this._lView[16];null!==r&&!n&&i1(r,this._lView),Pd(this._lView)}}let Il=(()=>class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=K3;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){const o=uf(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Jp(o)}})();function K3(){return K_(Dn(),it())}function K_(e,t){return 4&e.type?new Il(t,e,Jd(e,t)):null}function Wu(e,t,n,r,i){let o=e.data[t];if(null===o)o=function Qb(e,t,n,r,i){const o=bp(),s=Sp(),l=e.data[t]=function oU(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return gp()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return function iU(e,t,n,r){null===e.firstChild&&(e.firstChild=t),null!==n&&(r?null==n.child&&null!==t.parent&&(n.child=t):null===n.next&&(n.next=t,t.prev=n))}(e,l,o,s),l}(e,t,n,r,i),function jm(){return wn.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function eu(){const e=wn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ua(o,!0),o}let UU=class{},M1=class{};class jU{resolveComponentFactory(t){throw new Le(917,!1)}}let ig=class{static NULL=new jU};class oS{}let Ic=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function zU(){const e=it(),n=Ro(Dn().index,e);return(X(n)?n:e)[11]}()})(),VU=(()=>{class e{static \u0275prov=et({token:e,providedIn:"root",factory:()=>null})}return e})();const aS={};class hf{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const i=this.injector.get(t,aS,r);return i!==aS||n===aS?i:this.parentInjector.get(t,n,r)}}function sg(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=ji(i,a):2==o&&(r=ji(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function y(e,t=0){const n=it();return null===n?de(e,t):XI(Dn(),n,Qt(e),t)}function R1(e,t,n,r,i){const o=null===r?null:{"":-1},s=i(e,n);if(null!==s){let a=s,l=null,u=null;for(const f of s)if(null!==f.resolveHostDirectives){[a,l,u]=f.resolveHostDirectives(s);break}!function KU(e,t,n,r,i,o,s){const a=r.length;let l=!1;for(let g=0;g<a;g++){const w=r[g];!l&&rn(w)&&(l=!0,YU(e,n,g)),Xy(__(n,t),e,w.type)}!function nj(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,a);for(let g=0;g<a;g++){const w=r[g];w.providersResolver&&w.providersResolver(w)}let u=!1,f=!1,m=Zp(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let g=0;g<a;g++){const w=r[g];if(n.mergedAttrs=Qd(n.mergedAttrs,w.hostAttrs),QU(e,n,t,m,w),tj(m,w,i),null!==s&&s.has(w)){const[H,ie]=s.get(w);n.directiveToIndex.set(w.type,[m,H+n.directiveStart,ie+n.directiveStart])}else(null===o||!o.has(w))&&n.directiveToIndex.set(w.type,m);null!==w.contentQueries&&(n.flags|=4),(null!==w.hostBindings||null!==w.hostAttrs||0!==w.hostVars)&&(n.flags|=64);const F=w.type.prototype;!u&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!f&&(F.ngOnChanges||F.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),f=!0),m++}!function XU(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){const i=e.data[r];if(null!==n&&n.has(i)){const o=n.get(i);F1(0,t,o,r),F1(1,t,o,r),O1(t,r,!0)}else N1(0,t,i,r),N1(1,t,i,r),O1(t,r,!1)}}(e,n,o)}(e,t,n,a,o,l,u)}null!==o&&null!==r&&function ZU(e,t,n){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new Le(-301,!1);r.push(t[i],o)}}(n,r,o)}function YU(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function N1(e,t,n,r){const i=0===e?n.inputs:n.outputs;for(const o in i)if(i.hasOwnProperty(o)){let s;s=0===e?t.inputs??={}:t.outputs??={},s[o]??=[],s[o].push(r),P1(t,o)}}function F1(e,t,n,r){const i=0===e?n.inputs:n.outputs;for(const o in i)if(i.hasOwnProperty(o)){const s=i[o];let a;a=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),P1(t,s)}}function P1(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function O1(e,t,n){const{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(null===r||!n&&null===i||n&&null===o||Mb(e))return e.initialInputs??=[],void e.initialInputs.push(null);let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;if(!n&&i.hasOwnProperty(l)){const u=i[l];for(const f of u)if(f===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){const u=o[l];for(let f=0;f<u.length;f+=2)if(u[f]===t){s??=[],s.push(u[f+1],r[a+1]);break}}a+=2}else a+=2;else a+=4}e.initialInputs??=[],e.initialInputs.push(s)}function QU(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=p(i.type)),s=new Op(o,rn(i),y,null);e.blueprint[r]=s,n[r]=s,function JU(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function ej(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,Zp(e,n,i.hostVars,ti),i)}function tj(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;rn(t)&&(n[""]=e)}}function lS(e,t,n,r,i,o,s,a){const l=t[1],u=l.consts,m=Wu(l,e,n,r,yo(u,s));return o&&R1(l,t,m,yo(u,a),i),m.mergedAttrs=Qd(m.mergedAttrs,m.attrs),null!==m.attrs&&sg(m,m.attrs,!1),null!==m.mergedAttrs&&sg(m,m.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,m),m}function cS(e,t){BI(e,t),Ot(t)&&e.queries.elementEnd(t)}function ag(e){return!!function uS(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function nc(e,t,n){return e[t]=n}function ki(e,t,n){return n!==ti&&(!Object.is(e[t],n)&&(e[t]=n,!0))}function Yu(e,t,n,r){const i=ki(e,t,n);return ki(e,t+1,r)||i}function uh(e,t,n){return function r(i){df(ht(e)?Ro(e.index,t):t,5);const s=t[8];let a=$1(t,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=$1(t,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function $1(e,t,n,r){const i=A(null);try{return ci(6,t,n),!1!==n(r)}catch(o){return function Wb(e,t){const n=e[9];if(!n)return;let r;try{r=n.get(_a,null)}catch{r=null}r?.(t)}(e,o),!1}finally{ci(7,t,n),A(i)}}function B1(e,t,n,r,i,o,s,a){const l=$t(e);let u=!1,f=null;if(!r&&l&&(f=function sj(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[7],l=i[o+2];return a&&a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,n,o,e.index)),null!==f)(f.__ngLastListenerFn__||f).__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,u=!0;else{const m=Mi(e,n),g=r?r(m):m,w=i.listen(g,o,a);G1(r?H=>r($i(H[e.index])):e.index,t,n,o,a,w,!1)}return u}function G1(e,t,n,r,i,o,s){const a=t.firstCreatePass?hp(t):null,l=pp(n),u=l.length;l.push(i,o),a&&a.push(r,e,u,(u+1)*(s?-1:1))}function cg(e,t,n,r,i,o){const a=t[1],m=t[n][a.data[n].outputs[r]].subscribe(o);G1(e.index,a,t,i,o,m,!0)}const au=Symbol("BINDING");class U1 extends ig{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Ht(t);return new dh(n,this.ngModule)}}class dh extends M1{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function hj(e){return Object.keys(e).map(t=>{const[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:0!==(r&G_.SignalBased)};return i&&(o.transform=i),o})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function mj(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function l3(e){return e.map(a3).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){ci(22);const a=A(null);try{const l=this.componentDef,u=function bj(e,t,n,r){const i=e?["ng-version","20.3.0"]:function c3(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Dl(i))break;i=o}r++}return n.length&&t.push(1,...n),t}(t.selectors[0]);let o=null,s=null,a=0;if(n)for(const f of n)a+=f[au].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){const m=r[f];if("function"!=typeof m)for(const g of m.bindings){a+=g[au].requiredVars;const w=f+1;g.create&&(g.targetIdx=w,(o??=[]).push(g)),g.update&&(g.targetIdx=w,(s??=[]).push(g))}}const l=[t];if(r)for(const f of r){const g=Ar("function"==typeof f?f:f.type);l.push(g)}return Rb(0,null,function Sj(e,t){return e||t?n=>{if(1&n&&e)for(const r of e)r.create();if(2&n&&t)for(const r of t)r.update()}:null}(o,s),1,a,l,null,null,null,[i],null)}(r,l,s,o),f=function _j(e,t,n){let r=t instanceof Lr?t:t?.injector;return r&&null!==e.getStandaloneInjector&&(r=e.getStandaloneInjector(r)||r),r?new hf(n,r):n}(l,i||this.ngModule,t),m=function gj(e){const t=e.get(oS,null);if(null===t)throw new Le(407,!1);return{rendererFactory:t,sanitizer:e.get(VU,null),changeDetectionScheduler:e.get(Cc,null),ngReflect:!1}}(f),g=m.rendererFactory.createRenderer(null,l),w=r?function C3(e,t,n,r){const o=r.get(NB,!1)||n===Ec.ShadowDom,s=e.selectRootElement(t,o);return function w3(e){zT(e)}(s),s}(g,r,l.encapsulation,f):function vj(e,t){const n=function yj(e){return(e.selectors[0][0]||"div").toLowerCase()}(e);return $_(t,n,"svg"===n?"svg":"math"===n?"math":null)}(l,g),F=s?.some(j1)||o?.some(me=>"function"!=typeof me&&me.bindings.some(j1)),H=B_(null,u,null,512|Nb(l),null,null,m,g,f,null,null);H[26]=w,zd(H);let ie=null;try{const me=lS(26,H,2,"#host",()=>u.directiveRegistry,!0,0);w&&(AT(g,w,me),Hs(w,H)),z_(u,H,me),Cb(u,me,H),cS(u,me),void 0!==n&&function wj(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o&&o.length?Array.from(o):null)}}(me,this.ngContentSelectors,n),ie=Ro(me.index,H),H[8]=ie[8],Z_(u,H,null)}catch(me){throw null!==ie&&tb(ie),tb(H),me}finally{ci(23),Vd()}return new Cj(this.componentType,H,!!F)}finally{A(a)}}}function j1(e){const t=e[au].kind;return"input"===t||"twoWay"===t}class Cj extends UU{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=vc(n[1],26),this.location=Jd(this._tNode,n),this.instance=Ro(this._tNode.index,n)[8],this.hostView=this.changeDetectorRef=new Jp(n,void 0),this.componentType=t}setInput(t,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const i=this._rootLView;q_(r,i[1],i,t,n),this.previousInputValues.set(t,n),df(Ro(r.index,i),1)}get injector(){return new Wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let ys=(()=>class e{static __NG_ELEMENT_ID__=Ej})();function Ej(){return H1(Dn(),it())}const Dj=ys,z1=class extends Dj{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Jd(this._hostTNode,this._hostLView)}get injector(){return new Wi(this._hostTNode,this._hostLView)}get parentInjector(){const t=g_(this._hostTNode,this._hostLView);if(Zy(t)){const n=$p(t,this._hostLView),r=Lp(t);return new Wi(n[1].data[r+8],n)}return new Wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=V1(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-R}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,Hu(this._hostTNode,null)),a}createComponent(t,n,r,i,o,s,a){const l=t&&!function Bu(e){return"function"==typeof e}(t);let u;if(l)u=n;else{const ie=n||{};u=ie.index,r=ie.injector,i=ie.projectableNodes,o=ie.environmentInjector||ie.ngModuleRef,s=ie.directives,a=ie.bindings}const f=l?t:new dh(Ht(t)),m=r||this.parentInjector;if(!o&&null==f.ngModule){const me=(l?m:this.parentInjector).get(Lr,null);me&&(o=me)}Ht(f.componentType??{});const H=f.create(m,i,null,o,s,a);return this.insertImpl(H.hostView,u,Hu(this._hostTNode,null)),H}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const i=t._lView;if(function Lm(e){return Ze(e[3])}(i)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=i[3],u=new z1(l,l[5],l[3]);u.detach(u.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;return ff(s,i,o,r),t.attachToViewContainerRef(),te(dS(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=V1(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Qp(this._lContainer,n);r&&(ne(dS(this._lContainer),n),Kp(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Qp(this._lContainer,n);return r&&null!=ne(dS(this._lContainer),n)?new Jp(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function V1(e){return e[8]}function dS(e){return e[8]||(e[8]=[])}function H1(e,t){let n;const r=t[e.index];return Ze(r)?n=r:(n=n1(r,t,null,e),t[e.index]=n,Fb(t,n)),W1(n,t,e,r),new z1(n,e,t)}let W1=function Z1(e,t,n,r){if(e[7])return;let i;i=8&n.type?$i(r):function Ij(e,t){const n=e[11],r=n.createComment(""),i=Mi(t,e),o=n.parentNode(i);return zu(n,o,r,n.nextSibling(i),!1),r}(t,n),e[7]=i};class pS{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new pS(this.queryList)}setDirty(){this.queryList.setDirty()}}class hS{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new hS(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==yS(t,n).matches&&this.queries[n].setDirty()}}class Y1{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function Nj(e){return e.split(",").map(t=>t.trim())}(t):t}}class mS{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new mS(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class _S{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new _S(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,Mj(n,o)),this.matchTNodeWithReadOption(t,n,v_(n,t,o,!1,!1))}else r===Il?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,v_(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ct||i===ys||i===Il&&4&n.type)this.addMatch(n.index,-2);else{const o=v_(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Mj(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function kj(e,t,n,r){return-1===n?function Aj(e,t){return 11&e.type?Jd(e,t):4&e.type?K_(e,t):null}(t,e):-2===n?function Rj(e,t,n){return n===ct?Jd(t,e):n===Il?K_(t,e):n===ys?H1(t,e):void 0}(e,t,r):Bp(e,e[1],n,t)}function K1(e,t,n,r){const i=t[18].queries[r];if(null===i.matches){const o=e.data,s=n.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const u=s[l];a.push(u<0?null:kj(t,o[u],s[l+1],n.metadata.read))}i.matches=a}return i.matches}function gS(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=K1(e,t,i,n);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const u=o[a+1],f=t[-l];for(let m=R;m<f.length;m++){const g=f[m];g[16]===g[3]&&gS(g[1],g,u,r)}if(null!==f[9]){const m=f[9];for(let g=0;g<m.length;g++){const w=m[g];gS(w[1],w,u,r)}}}}}return r}function X1(e,t,n){const r=new Q$(!(4&~n));return function mp(e,t,n,r){const i=pp(t);i.push(n),e.firstCreatePass&&hp(e).push(r,i.length-1)}(e,t,r,r.destroy),(t[18]??=new hS).queries.push(new pS(r))-1}function eM(e,t,n){null===e.queries&&(e.queries=new mS),e.queries.track(new _S(t,n))}function yS(e,t){return e.queries.getByIndex(t)}function tM(e,t){const n=e[1],r=yS(n,t);return r.crossesNgTemplate?gS(n,e,t,[]):K1(n,e,r,t)}const sM=new Set;function Ho(e){sM.has(e)||(sM.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let Ku=class{},aM=class{};class CS extends Ku{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new U1(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;const o=Qr(t);this._bootstrapComponents=tc(o.bootstrap),this._r3Injector=Pp(t,n,[{provide:Ku,useValue:this},{provide:ig,useValue:this.componentFactoryResolver},...r],Xr(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class lM extends aM{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new CS(this.moduleType,t,[])}}class Wj extends Ku{injector;componentFactoryResolver=new U1(this);instance=null;constructor(t){super();const n=new Qo([...t.providers,{provide:Ku,useValue:this},{provide:ig,useValue:this.componentFactoryResolver}],t.parent||fa(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function ug(e,t,n=null){return new Wj({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let qj=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=ro(0,n.type),i=r.length>0?ug([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=et({token:e,providedIn:"environment",factory:()=>new e(de(Lr))})}return e})();function Je(e){return d(()=>{const t=uM(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===b_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(qj).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ec.Emulated,styles:e.styles||bt,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&Ho("NgStandalone"),dM(n);const r=e.dependencies;return n.directiveDefs=dg(r,cM),n.pipeDefs=dg(r,Li),n.id=function Xj(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function cM(e){return Ht(e)||Ar(e)}function lo(e){return d(()=>({type:e.type,bootstrap:e.bootstrap||bt,declarations:e.declarations||bt,imports:e.imports||bt,exports:e.exports||bt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Zj(e,t){if(null==e)return Ft;const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];let o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=G_.None,l=null),n[o]=[r,a,l],t[o]=s}return n}function Yj(e){if(null==e)return Ft;const t={};for(const n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Yt(e){return d(()=>{const t=uM(e);return dM(t),t})}function Fo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function uM(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Ft,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||bt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Zj(e.inputs,t),outputs:Yj(e.outputs),debugInfo:null}}function dM(e){e.features?.forEach(t=>t(e))}function dg(e,t){return e?()=>{const n="function"==typeof e?e():e,r=[];for(const i of n){const o=t(i);null!==o&&r.push(o)}return r}:null}function Qn(e){let t=function fM(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(rn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Le(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=wS(e.inputs),s.declaredInputs=wS(e.declaredInputs),s.outputs=wS(e.outputs);const a=i.hostBindings;a&&nz(e,a);const l=i.viewQuery,u=i.contentQueries;if(l&&ez(e,l),u&&tz(e,u),Qj(e,i),Ui(e.outputs,i.outputs),rn(i)&&i.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===Qn&&(n=!1)}}t=Object.getPrototypeOf(t)}!function Jj(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Qd(i.hostAttrs,n=Qd(n,i.hostAttrs))}}(r)}function Qj(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function wS(e){return e===Ft?{}:e===bt?[]:e}function ez(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function tz(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function nz(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function gM(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=Qd(e.mergedAttrs,e.attrs);const f=e.tView=Rb(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);null!==n.queries&&(n.queries.template(n,e),f.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),Ua(e,!1);const l=yM(n,t,e,r);Lu()&&Ub(n,t,l,e),Hs(l,t);const u=n1(l,t,l,e);t[r+26]=u,Fb(t,u)}function Xu(e,t,n,r,i,o,s,a,l,u,f){const m=n+26;let g;if(t.firstCreatePass){if(g=Wu(t,m,4,s||null,a||null),null!=u){const w=yo(t.consts,u);g.localNames=[];for(let F=0;F<w.length;F+=2)g.localNames.push(w[F],-1)}}else g=t.data[m];return gM(g,e,t,n,r,i,o,l),null!=u&&cf(e,g,f),g}function pn(e,t,n,r,i,o,s,a){const l=it(),u=Rn();return function cz(e,t,n,r,i,o,s,a,l,u,f){const m=n+26;let g;t.firstCreatePass?(g=Wu(t,m,4,s||null,a||null),Bd()&&R1(t,e,g,yo(t.consts,u),Hb),BI(t,g)):g=t.data[m],gM(g,e,t,n,r,i,o,l),$t(g)&&z_(t,e,g),null!=u&&cf(e,g,f)}(l,u,e,t,n,r,i,yo(u.consts,o),void 0,s,a),pn}let yM=function bM(e,t,n,r){return tu(!0),t[11].createComment("")};var DS=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(DS||{});const mh=new at(""),DM=!1,En=class mz extends x{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Sl()&&(this.destroyRef=Ge(Vo,{optional:!0})??void 0,this.pendingTasks=Ge(Jt,{optional:!0})??void 0)}emit(t){const n=A(null);try{super.next(t)}finally{A(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof gt&&t.add(a),a}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function IM(e){let t,n;function r(){e=$u;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function xM(e){return queueMicrotask(()=>e()),()=>{e=$u}}const IS="isAngularZone",mg=IS+"_ID";let _z=0;class qe{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new En(!1);onMicrotaskEmpty=new En(!1);onStable=new En(!1);onError=new En(!1);constructor(t){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=DM}=t;if(typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,function yz(e){const t=()=>{!function vz(e){function t(){IM(()=>{e.callbackScheduled=!1,TS(e),e.isCheckStableRunning=!0,xS(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),TS(e))}(e)},n=_z++;e._inner=e._inner.fork({name:"angular",properties:{[IS]:!0,[mg]:n,[mg+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(function bz(e){return AM(e,"__ignore_ng_zone__")}(l))return r.invokeTask(o,s,a,l);try{return TM(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),MM(e)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return TM(e),r.invoke(o,s,a,l,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Sz(e){return AM(e,"__scheduler_tick__")}(l)&&t(),MM(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,TS(e),xS(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(IS)}static assertInAngularZone(){if(!qe.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(qe.isInAngularZone())throw new Le(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,gz,$u,$u);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const gz={};function xS(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function TS(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function TM(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function MM(e){e._nesting--,xS(e)}class MS{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new En;onMicrotaskEmpty=new En;onStable=new En;onError=new En;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}function AM(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}let kM=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=et({token:e,providedIn:"root",factory:()=>new e})}return e})();const RM=[0,1,2,3];let wz=(()=>{class e{ngZone=Ge(qe);scheduler=Ge(Cc);errorHandler=Ge(Sc,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Ge(mh,{optional:!0})}execute(){const n=this.sequences.size>0;n&&ci(16),this.executing=!0;for(const r of RM)for(const i of this.sequences)if(!i.erroredOrDestroyed&&i.hooks[r])try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,i.hooks[r])(i.pipelinedValue),i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ci(17)}register(n){const{view:r}=n;void 0!==r?((r[25]??=[]).push(n),yc(r),r[2]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(DS.AFTER_NEXT_RENDER,n):n()}static \u0275prov=et({token:e,providedIn:"root",factory:()=>new e})}return e})();class NM{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(n=>n!==this))}}function AS(e,t){const n=t?.injector??Ge(gi);return Ho("NgAfterNextRender"),function FM(e,t,n,r){const i=t.get(kM);i.impl??=t.get(wz);const o=t.get(mh,null,{optional:!0}),s=!0!==n?.manualCleanup?t.get(Vo):null,a=t.get(Fr,null,{optional:!0}),l=new NM(i.impl,function Dz(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}(e,n,t,!0)}let zM=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const iA=new at(""),bg=new at("");let BS,LS=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,i){this._ngZone=n,this.registry=r,Sl()&&(this._destroyRef=Ge(Vo,{optional:!0})??void 0),BS||(function TV(e){BS=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{qe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static \u0275fac=function(r){return new(r||e)(de(qe),de($S),de(bg))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})(),$S=(()=>{class e{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return BS?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function vh(e){return!!e&&"function"==typeof e.then}function oA(e){return!!e&&"function"==typeof e.subscribe}const GS=new at("");function US(e){return or([{provide:GS,multi:!0,useValue:e}])}let sA=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=Ge(GS,{optional:!0})??[];injector=Ge(gi);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=Vi(this.injector,i);if(vh(o))n.push(o);else if(oA(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const aA=new at("");function lA(e,t){return Array.isArray(t)?t.reduce(lA,e):{...e,...t}}let Ha=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Ge(_a);afterRenderManager=Ge(kM);zonelessEnabled=Ge(i_);rootEffectScheduler=Ge(s_);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new x;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Ge(Jt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Xt(n=>!n))}constructor(){Ge(mh,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=Ge(Lr);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=gi.NULL){return this._injector.get(qe).run(()=>{ci(10);const s=n instanceof M1;if(!this._injector.get(sA).done)throw new Le(405,"");let l;l=s?n:this._injector.get(ig).resolveComponentFactory(n),this.componentTypes.push(l.componentType);const u=function AV(e){return e.isBoundToModule}(l)?void 0:this._injector.get(Ku),m=l.create(i,[],r||l.selector,u),g=m.location.nativeElement,w=m.injector.get(iA,null);return w?.registerApplication(g),m.onDestroy(()=>{this.detachView(m.hostView),Sg(this.components,m),w?.unregisterApplication(g)}),this._loadComponent(m),ci(11,m),m})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ci(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(DS.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Le(101,!1);const n=A(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,A(n),this.afterTick.next(),ci(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(oS,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;)ci(14),this.synchronizeOnce(),ci(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews)(r||Nu(i))&&(Y_(i,r&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>Nu(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Sg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(aA,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Sg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Le(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Sg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function ya(e,t,n,r){const i=it();return ki(i,zo(),t)&&(Rn(),function M3(e,t,n,r,i,o){const s=Mi(e,t);!function V_(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?sn(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[11],s,o,e.value,n,r,i)}(zs(),i,e,t,n,r)),ya}const vA=new at("",{providedIn:"root",factory:()=>!1}),pH=new at("",{providedIn:"root",factory:()=>hH}),hH=4e3;function Df(e,t,n,r,i,o,s,a){Ho("NgControlFlow");const l=it(),u=Rn();return Xu(l,u,e,t,n,r,i,yo(u.consts,o),256,s,a),JS}function JS(e,t,n,r,i,o,s,a){Ho("NgControlFlow");const l=it(),u=Rn();return Xu(l,u,e,t,n,r,i,yo(u.consts,o),512,s,a),JS}function If(e,t){Ho("NgControlFlow");const n=it(),r=zo(),i=n[r]!==ti?n[r]:-1,o=-1!==i?xg(n,26+i):void 0;if(ki(n,r,e)){const a=A(null);try{if(void 0!==o&&function Zb(e,t){const n=Qp(e,t);return void 0!==n&&Kp(n[1],n),n}(o,0),-1!==e){const l=26+e,u=xg(n,l),f=function eC(e,t){return vc(e,t)}(n[1],l),m=null;ff(u,uf(n,f,t,{dehydratedView:m}),0,Hu(f,m))}}finally{A(a)}}else if(void 0!==o){const a=function r1(e,t){const n=R+t;if(n<e.length)return e[n]}(o,0);void 0!==a&&(a[8]=t)}}function xg(e,t){return e[t]}function _e(e,t,n){const r=it();return ki(r,zo(),t)&&(Rn(),zb(zs(),r,e,t,r[11],n)),_e}function tC(e,t,n,r,i){q_(t,e,n,i?"class":"style",r)}function V(e,t,n,r){const i=it(),o=i[1],s=e+26,a=o.firstCreatePass?lS(s,i,2,t,Hb,Bd(),n,r):o.data[s];if(H_(a,i,e,t,nC),$t(a)){const l=i[1];z_(l,i,a),Cb(l,a,i)}return null!=r&&cf(i,a),V}function Y(){const e=Rn(),n=W_(Dn());return e.firstCreatePass&&cS(e,n),vp(n)&&yp(),_p(),null!=n.classesWithoutHost&&function R$(e){return!!(8&e.flags)}(n)&&tC(e,n,it(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function N$(e){return!!(16&e.flags)}(n)&&tC(e,n,it(),n.stylesWithoutHost,!1),Y}function st(e,t,n,r){return V(e,t,n,r),Y(),st}function Tg(e,t,n,r){const i=it(),o=i[1],s=e+26,a=o.firstCreatePass?function L1(e,t,n,r,i,o){const s=t.consts,l=Wu(t,e,n,r,yo(s,i));if(l.mergedAttrs=Qd(l.mergedAttrs,l.attrs),null!=o){const u=yo(s,o);l.localNames=[];for(let f=0;f<u.length;f+=2)l.localNames.push(u[f],-1)}return null!==l.attrs&&sg(l,l.attrs,!1),null!==l.mergedAttrs&&sg(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,2,t,n,r):o.data[s];return H_(a,i,e,t,nC),null!=r&&cf(i,a),Tg}function Mg(){return vp(W_(Dn()))&&yp(),_p(),Mg}typeof document<"u"&&document;let nC=(e,t,n,r,i)=>(tu(!0),$_(t[11],r,function Xm(){return wn.lFrame.currentNamespace}()));function du(e,t,n){const r=it(),i=r[1],o=e+26,s=i.firstCreatePass?lS(o,r,8,"ng-container",Hb,Bd(),t,n):i.data[o];if(H_(s,r,e,"ng-container",iC),$t(s)){const a=r[1];z_(a,r,s),Cb(a,s,r)}return null!=n&&cf(r,s),du}function xc(){const e=Rn(),n=W_(Dn());return e.firstCreatePass&&cS(e,n),xc}let iC=(e,t,n,r,i)=>(tu(!0),kb(t[11],""));function Fn(){return it()}const kg="en-US";let OA=kg;function je(e,t,n){const r=it(),i=Rn(),o=Dn();return function lC(e,t,n,r,i,o,s){let a=!0,l=null;if((3&r.type||s)&&(l??=uh(r,t,o),B1(r,e,t,s,n,i,o,l)&&(a=!1)),a){const u=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let m=0;m<f.length;m+=2){const g=f[m],w=f[m+1];l??=uh(r,t,o),cg(r,t,g,w,i,l)}if(u&&u.length)for(const m of u)l??=uh(r,t,o),cg(r,t,m,i,i,l)}}(i,r,r[11],o,e,t,n),je}function aC(e,t,n){const r=it(),i=Rn(),o=Dn();return(3&o.type||n)&&B1(o,i,r,n,r[11],e,t,uh(o,r,t)),aC}function ft(e=1){return function Wm(e){return(wn.lFrame.contextLView=function fp(e,t){for(;e>0;)t=t[14],e--;return t}(e,wn.lFrame.contextLView))[8]}(e)}function k4(e,t){let n=null;const r=function r3(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?ET(e,o,!0):s3(r,o))return i}else n=i}return n}function Et(e){const t=it()[15][5];if(!t.projection){const r=t.projection=function We(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(e?e.length:1,null),i=r.slice();let o=t.child;for(;null!==o;){if(128!==o.type){const s=e?k4(o,e):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function wt(e,t=0,n,r,i,o){const s=it(),a=Rn(),l=r?e+1:null;null!==l&&Xu(s,a,l,r,i,o,null,n);const u=Wu(a,26+e,16,null,n||null);null===u.projection&&(u.projection=t),Cp();const m=!s[6]||gp();null===s[15][5].projection[u.projection]&&null!==l?function R4(e,t,n){const r=26+n,i=t.data[r],o=e[r];ff(o,uf(e,i,void 0,{dehydratedView:null}),0,Hu(i,null))}(s,a,l):m&&!x_(u)&&function y3(e,t,n){UT(t[11],0,t,n,Bb(e,n,t),OT(n.parent||t[5],n,t))}(a,s,u)}function id(e,t,n,r){!function J1(e,t,n,r){const i=Rn();if(i.firstCreatePass){const o=Dn();eM(i,new Y1(t,n,r),o.index),function Fj(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),!(2&~n)&&(i.staticContentQueries=!0)}return X1(i,it(),n)}(e,t,n,r)}function Tc(e,t,n){!function Q1(e,t,n){const r=Rn();return r.firstCreatePass&&(eM(r,new Y1(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),X1(r,it(),t)}(e,t,n)}function Ss(e){const t=it(),n=Rn(),r=jd();Ou(r+1);const i=yS(n,r);if(e.dirty&&function Om(e){return!(4&~e[2])}(t)===!(2&~i.metadata.flags)){if(null===i.matches)e.reset([]);else{const o=tM(t,r);e.reset(o,sx),e.notifyOnChanges()}return!0}return!1}function Cs(){return function vS(e,t){return e[18].queries[t].queryList}(it(),jd())}function ba(e){return ql(function wp(){return wn.lFrame.contextLView}(),26+e)}function Pg(e,t){return e<<17|t<<2}function od(e){return e>>17&32767}function cC(e){return 2|e}function Tf(e){return(131068&e)>>2}function uC(e,t){return-131069&e|t<<2}function dC(e){return 1|e}function tk(e,t,n,r){const i=e[n+1],o=null===t;let s=r?od(i):Tf(i),a=!1;for(;0!==s&&(!1===a||o);){const u=e[s+1];U4(e[s],t)&&(a=!0,e[s+1]=r?dC(u):cC(u)),s=r?od(u):Tf(u)}a&&(e[n+1]=r?cC(i):dC(i))}function U4(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&_t(e,t)>=0}function sd(e,t,n){return lk(e,t,n,!1),sd}function Sa(e,t){return lk(e,t,null,!0),Sa}function lk(e,t,n,r){const i=it(),o=Rn(),s=za(2);o.firstUpdatePass&&function dk(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[oo()],s=function uk(e,t){return t>=e.expandoStartIndex}(e,n);(function mk(e,t){return!!(e.flags&(t?8:16))})(o,r)&&null===t&&!s&&(t=!1),t=function Q4(e,t,n,r){const i=function Ud(e){const t=wn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Dh(n=fC(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=fC(i,e,t,n,r),null===o){let l=function J4(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Tf(r))return e[od(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=fC(null,e,t,l[1],r),l=Dh(l,t.attrs,r),function e6(e,t,n,r){e[od(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else o=function t6(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Dh(r,e[o].hostAttrs,n);return Dh(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function B4(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=od(s),l=Tf(s);e[r]=n;let f,u=!1;if(Array.isArray(n)?(f=n[1],(null===f||_t(n,f)>0)&&(u=!0)):f=n,i)if(0!==l){const g=od(e[a+1]);e[r+1]=Pg(g,a),0!==g&&(e[g+1]=uC(e[g+1],r)),e[a+1]=function L4(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Pg(a,0),0!==a&&(e[a+1]=uC(e[a+1],r)),a=r;else e[r+1]=Pg(l,0),0===a?a=r:e[l+1]=uC(e[l+1],r),l=r;u&&(e[r+1]=cC(e[r+1])),tk(e,f,r,!0),tk(e,f,r,!1),function G4(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&_t(o,t)>=0&&(n[r+1]=dC(n[r+1]))}(t,f,e,r,o),s=Pg(a,l),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}(o,e,s,r),t!==ti&&ki(i,s,t)&&function pk(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const l=e.data,u=l[a+1],f=function $4(e){return!(1&~e)}(u)?hk(l,t,n,i,Tf(u),s):void 0;Og(f)||(Og(o)||function O4(e){return!(2&~e)}(u)&&(o=hk(l,null,n,i,a,s)),function S3(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:ou.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ou.Important),e.setStyle(n,r,i,o))}}(r,s,El(oo(),n),i,o))}(o,o.data[oo()],i,i[11],e,i[s+1]=function o6(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Xr(va(e)))),e}(t,n),r,s)}function fC(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=Dh(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Dh(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Me(e,s,!!n||t[++o]))}return void 0===e?null:e}function hk(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const l=e[i],u=Array.isArray(l),f=u?l[1]:l,m=null===f;let g=n[i+1];g===ti&&(g=m?bt:void 0);let w=m?Ve(g,r):f===r?g:void 0;if(u&&!Og(w)&&(w=Ve(l,r)),Og(w)&&(a=w,s))return a;const F=e[i+1];i=s?od(F):Tf(F)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=Ve(l,r))}return a}function Og(e){return void 0!==e}function Pe(e,t=""){const n=it(),r=Rn(),i=e+26,o=r.firstCreatePass?Wu(r,i,1,t,null):r.data[i],s=_k(r,n,o,t,e);n[i]=s,Lu()&&Ub(r,n,s,o),Ua(o,!1)}let _k=(e,t,n,r,i)=>(tu(!0),function Ab(e,t){return e.createText(t)}(t[11],r));function vk(e,t,n,r=""){return ki(e,zo(),n)?t+sn(n)+r:ti}function bk(e,t,n,r,i,o,s,a=""){const u=function lg(e,t,n,r,i){const o=Yu(e,t,n,r);return ki(e,t+2,i)||o}(e,ja(),n,i,s);return za(3),u?t+sn(n)+r+sn(i)+o+sn(s)+a:ti}function Ks(e){return Po("",e),Ks}function Po(e,t,n){const r=it(),i=vk(r,e,t,n);return i!==ti&&Mc(r,oo(),i),Po}function Ih(e,t,n,r,i){const o=it(),s=function yk(e,t,n,r,i,o=""){const a=Yu(e,ja(),n,i);return za(2),a?t+sn(n)+r+sn(i)+o:ti}(o,e,t,n,r,i);return s!==ti&&Mc(o,oo(),s),Ih}function pC(e,t,n,r,i,o,s){const a=it(),l=bk(a,e,t,n,r,i,o,s);return l!==ti&&Mc(a,oo(),l),pC}function Mc(e,t,n){const r=El(t,e);!function IT(e,t,n){e.setValue(t,n)}(e[11],r,n)}function xh(e){return ki(it(),zo(),e)?sn(e):ti}function hC(e,t,n=""){return vk(it(),e,t,n)}function mC(e,t,n,r,i){if(e=Qt(e),Array.isArray(e))for(let o=0;o<e.length;o++)mC(e[o],t,n,r,i);else{const o=Rn(),s=it(),a=Dn();let l=ko(e)?e:Qt(e.provide);const u=Vl(e),f=1048575&a.providerIndexes,m=a.directiveStart,g=a.providerIndexes>>20;if(ko(e)||!e.multi){const w=new Op(u,i,y,null),F=gC(l,t,i?f:f+g,m);-1===F?(Xy(__(a,s),o,l),_C(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),s.push(w)):(n[F]=w,s[F]=w)}else{const w=gC(l,t,f+g,m),F=gC(l,t,f,f+g),ie=F>=0&&n[F];if(i&&!ie||!i&&!(w>=0&&n[w])){Xy(__(a,s),o,l);const me=function C6(e,t,n,r,i){const s=new Op(e,n,y,null);return s.multi=[],s.index=t,s.componentProviders=0,Ok(s,i,r&&!n),s}(i?S6:b6,n.length,i,r,u);!i&&ie&&(n[F].providerFactory=me),_C(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(me),s.push(me)}else _C(o,e,w>-1?w:F,Ok(n[i?F:w],u,!i&&r));!i&&r&&ie&&n[F].componentProviders++}}}function _C(e,t,n,r){const i=ko(t),o=function vl(e){return!!e.useClass}(t);if(i||o){const l=(o?Qt(t.useClass):t).prototype.ngOnDestroy;if(l){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const f=u.indexOf(n);-1===f?u.push(n,[r,l]):u[f+1].push(r,l)}else u.push(n,l)}}}function Ok(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function gC(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function b6(e,t,n,r,i){return vC(this.multi,[])}function S6(e,t,n,r,i){const o=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=Bp(r,r[1],this.providerFactory.index,i);s=l.slice(0,a),vC(o,s);for(let u=a;u<l.length;u++)s.push(l[u])}else s=[],vC(o,s);return s}function vC(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Wr(e,t=[]){return n=>{n.providersResolver=(r,i)=>function y6(e,t,n){const r=Rn();if(r.firstCreatePass){const i=rn(e);mC(n,r.data,r.blueprint,i,!0),mC(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}function Gk(e,t,n,r,i,o){const s=t+n;return ki(e,s,i)?nc(e,s+1,o?r.call(o,i):r(i)):function Th(e,t){const n=e[t];return n===ti?void 0:n}(e,s+1)}function fu(e,t){const n=Rn();let r;const i=e+26;n.firstCreatePass?(r=function P6(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=p(r.type)),a=mi(y);try{const l=m_(!1),u=o();return m_(l),function Nd(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,it(),i,u),u}finally{mi(a)}}function pu(e,t,n){const r=e+26,i=it(),o=ql(i,r);return function Mh(e,t){return e[1].data[t].pure}(i,r)?Gk(i,No(),t,o.transform,n,o):o.transform(n)}class h5{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let m5=(()=>{class e{compileModuleSync(n){return new lM(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=tc(Qr(n).declarations).reduce((s,a)=>{const l=Ht(a);return l&&s.push(new dh(l)),s},[]);return new h5(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),g5=(()=>{class e{zone=Ge(qe);changeDetectionScheduler=Ge(Cc);applicationRef=Ge(Ha);applicationErrorHandler=Ge(_a);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lR({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new qe({...wC(),scheduleInRootZone:n}),[{provide:qe,useFactory:e},{provide:Cn,multi:!0,useFactory:()=>{const r=Ge(g5,{optional:!0});return()=>r.initialize()}},{provide:Cn,multi:!0,useFactory:()=>{const r=Ge(y5);return()=>{r.initialize()}}},!0===t?{provide:Zd,useValue:!0}:[],{provide:o_,useValue:n??DM},{provide:_a,useFactory:()=>{const r=Ge(qe),i=Ge(Lr);let o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Sc),o.handleError(s))})}}}]}function wC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let y5=(()=>{class e{subscription=new gt;initialized=!1;zone=Ge(qe);pendingTasks=Ge(Jt);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{qe.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{qe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dR=(()=>{class e{applicationErrorHandler=Ge(_a);appRef=Ge(Ha);taskService=Ge(Jt);ngZone=Ge(qe);zonelessEnabled=Ge(i_);tracing=Ge(mh,{optional:!0});disableScheduling=Ge(Zd,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new gt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(mg):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ge(o_,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof MS||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const i=this.useMicrotaskScheduler?xM:IM;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(mg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xM(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const mu=new at("",{providedIn:"root",factory:()=>Ge(mu,{optional:!0,skipSelf:!0})||function b5(){return typeof $localize<"u"&&$localize.locale||kg}()}),jg=Symbol("InputSignalNode#UNSET"),mR={...Ln,transformFn:void 0,applyValueToInputSignal(e,t){Mt(e,t)}};function _R(e,t){const n=Object.create(mR);function r(){if(L(n),n.value===jg)throw new Le(-950,null);return n.value}return n.value=e,n.transformFn=t?.transform,r[M]=n,r}function gR(e,t){return _R(e,t)}new at("").__NG_ELEMENT_ID__=e=>{const t=Dn();if(null===t)throw new Le(204,!1);if(2&t.type)return t.value;if(8&e)return null;throw new Le(204,!1)};const k5=(gR.required=function A5(e){return _R(jg,e)},gR),Vg=new at(""),O5=new at("");function kh(e){return!e.moduleRef}let wR;function ER(){wR=L5}function L5(e,t){const n=e.injector.get(Ha);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Le(-403,!1);e.instance.ngDoBootstrap(n)}t.push(e)}let DR=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(n){this._injector=n}bootstrapModuleFactory(n,r){const i=r?.scheduleInRootZone,s=r?.ignoreChangesOutsideZone,a=[lR({ngZoneFactory:()=>function Cz(e="zone.js",t){return"noop"===e?new MS:"zone.js"===e?new qe(t):e}(r?.ngZone,{...wC({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}),scheduleInRootZone:i}),ignoreChangesOutsideZone:s}),{provide:Cc,useExisting:dR},t_],l=function Hj(e,t,n){return new CS(e,t,n,!1)}(n.moduleType,this.injector,a);return ER(),function CR(e){const t=kh(e)?e.r3Injector:e.moduleRef.injector,n=t.get(qe);return n.run(()=>{kh(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=t.get(_a);let i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),kh(e)){const o=()=>t.destroy(),s=e.platformInjector.get(Vg);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{const o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Vg);s.add(o),e.moduleRef.onDestroy(()=>{Sg(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return function $5(e,t,n){try{const r=n();return vh(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}(r,n,()=>{const o=t.get(Jt),s=o.add(),a=t.get(sA);return a.runInitializers(),a.donePromise.then(()=>{if(function ZH(e){"string"==typeof e&&(OA=e.toLowerCase().replace(/_/g,"-"))}(t.get(mu,kg)||kg),!t.get(O5,!0))return kh(e)?t.get(Ha):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(kh(e)){const f=t.get(Ha);return void 0!==e.rootComponent&&f.bootstrap(e.rootComponent),f}return wR?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{o.remove(s)})})})}({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,r=[]){const i=lA({},r);return ER(),function R5(e,t,n){const r=new lM(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Vg,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||e)(de(gi))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Rf=null;function IR(e,t,n=[]){const r=`Platform: ${t}`,i=new at(r);return(o=[])=>{let s=Hg();if(!s){const a=[...n,...o,{provide:i,useValue:!0}];s=e?.(a)??function B5(e){if(Hg())throw new Le(400,!1);(function MV(){!function Tt(e){He=e}(()=>{throw new Le(600,"")})})(),Rf=e;const t=e.get(DR);return function TR(e){const t=e.get(Ix,null);Vi(e,()=>{t?.forEach(n=>n())})}(e),t}(function xR(e=[],t){return gi.create({name:t,providers:[{provide:Pa,useValue:"platform"},{provide:Vg,useValue:new Set([()=>Rf=null])},...e]})}(a,r))}return function G5(){const t=Hg();if(!t)throw new Le(401,!1);return t}()}}function Hg(){return Rf?.get(DR)??null}let St=(()=>class e{static __NG_ELEMENT_ID__=j5})();function j5(e){return function z5(e,t,n){if(ht(e)&&!n){const r=Ro(e.index,t);return new Jp(r,r)}return 175&e.type?new Jp(t[15],t):null}(Dn(),it(),!(16&~e))}class AR{constructor(){}supports(t){return ag(t)}create(t){return new H5(t)}}const V5=(e,t)=>t;class H5{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||V5}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<RR(r,i,o)?n:r,a=RR(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,f=l-i;if(u!=f){for(let g=0;g<u;g++){const w=g<o.length?o[g]:o[g]=0,F=w+g;f<=F&&F<u&&(o[g]=w+1)}o[s.previousIndex]=f-u}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!ag(t))throw new Le(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function ij(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new W5(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new kR),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kR),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class W5{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}}class q5{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class kR{map=new Map;put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new q5,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function RR(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function FR(){return new TC([new AR])}let TC=(()=>{class e{factories;static \u0275prov=et({token:e,providedIn:"root",factory:FR});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:()=>{const r=Ge(e,{optional:!0,skipSelf:!0});return e.create(n,r||FR())}}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Le(901,!1)}}return e})();const Q5=IR(null,"core",[]);let J5=(()=>{class e{constructor(n){}static \u0275fac=function(r){return new(r||e)(de(Ha))};static \u0275mod=lo({type:e});static \u0275inj=jr({})}return e})();function KR(e){const t=Ht(e);if(!t)return null;const n=new dh(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}const XR="browser";function Ff(e){return e===XR}let T8=(()=>{class e{static \u0275prov=et({token:e,providedIn:"root",factory:()=>new M8(Ge(so),window)})}return e})();class M8{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo({...n,left:t[0],top:t[1]})}scrollToAnchor(t,n){const r=function A8(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(Tr(2400,!1))}}scrollToElement(t,n){const r=t.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo({...n,left:i-s[0],top:o-s[1]})}}function wi(e){return function aW(e){const t=A(null);try{return e()}finally{A(t)}}(e)}function Oo(e,t){return function Ne(e,t){const n=Object.create(C);n.computation=e,void 0!==t&&(n.equal=t);const r=()=>{if(xe(n),L(n),n.value===Ye)throw n.error;return n.value};return r[M]=n,r}(e,t?.equal)}Error,Error;let _N=(()=>{class e extends xr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=c_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Ue(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Ue(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(de(l_),de(hr,8))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();class c9{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let kc=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new c9(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),xN(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{xN(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(y(ys),y(Il),y(TC))};static \u0275dir=Yt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function xN(e,t){e.context.$implicit=t.item}let Zi=(()=>{class e{_viewContainer;_context=new u9;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){TN(n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){TN(n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(y(ys),y(Il))};static \u0275dir=Yt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})();class u9{$implicit=null;ngIf=null}function TN(e,t){if(e&&!e.createEmbeddedView)throw new Le(2020,!1)}class HC{_viewContainerRef;_templateRef;_created=!1;constructor(t,n){this._viewContainerRef=t,this._templateRef=n}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let dv=(()=>{class e{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const r=n===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const r of this._defaultViews)r.enforceState(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Yt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return e})(),MN=(()=>{class e{ngSwitch;_view;ngSwitchCase;constructor(n,r,i){this.ngSwitch=i,i._addCase(),this._view=new HC(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||e)(y(ys),y(Il),y(dv,9))};static \u0275dir=Yt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return e})(),AN=(()=>{class e{constructor(n,r,i){i._addDefault(new HC(n,r))}static \u0275fac=function(r){return new(r||e)(y(ys),y(Il),y(dv,9))};static \u0275dir=Yt({type:e,selectors:[["","ngSwitchDefault",""]]})}return e})(),Rc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=lo({type:e});static \u0275inj=jr({})}return e})();const YC=new at("");let NN=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Le(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(de(YC),de(qe))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();class FN{_doc;constructor(t){this._doc=t}manager}const KC="ng-app-id";function PN(e){for(const t of e)t.remove()}function ON(e,t){const n=t.createElement("style");return n.textContent=e,n}function XC(e,t){const n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}let LN=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,function P9(e,t,n,r){const i=e.head?.querySelectorAll(`style[${KC}="${t}"],link[${KC}="${t}"]`);if(i)for(const o of i)o.removeAttribute(KC),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(const i of n)this.addUsage(i,this.inline,ON);r?.forEach(i=>this.addUsage(i,this.external,XC))}removeStyles(n,r){for(const i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){const o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){const i=r.get(n);i&&(i.usage--,i.usage<=0&&(PN(i.elements),r.delete(n)))}ngOnDestroy(){for(const[,{elements:n}]of[...this.inline,...this.external])PN(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(const[r,{elements:i}]of this.inline)i.push(this.addElement(n,ON(r,this.doc)));for(const[r,{elements:i}]of this.external)i.push(this.addElement(n,XC(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(de(so),de(jp),de(xx,8),de(w_))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();const QC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},JC=/%COMP%/g,U9=new at("",{providedIn:"root",factory:()=>!0});function BN(e,t){return t.map(n=>n.replace(JC,e))}let GN=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(n,r,i,o,s,a,l,u=null,f,m,g=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.animationDisabled=f,this.maxAnimationTimeout=m,this.tracingService=g,this.platformIsServer=!1,this.defaultRenderer=new e0(n,s,l,this.platformIsServer,this.tracingService,this.registry=function Wd(){return Hd}(),this.maxAnimationTimeout)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof jN?i.applyToHost(n):i instanceof t0&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Ec.Emulated:o=new jN(l,u,r,this.appId,f,s,a,m,g,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case Ec.ShadowDom:return new H9(l,u,n,r,s,a,this.nonce,m,g,this.registry,this.maxAnimationTimeout);default:o=new t0(l,u,r,f,s,a,m,g,this.registry,this.animationDisabled,this.maxAnimationTimeout)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(de(NN),de(LN),de(jp),de(U9),de(so),de(w_),de(qe),de(xx),de(vA),de(pH),de(mh,8))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();class e0{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o,s,a){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(QC[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(UN(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(UN(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){const{elements:r}=this.registry;r?r.animate(n,()=>n.remove(),this.maxAnimationTimeout):n.remove()}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Le(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=QC[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=QC[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(ou.DashCase|ou.Important)?t.style.setProperty(n,r,i&ou.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&ou.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if("string"==typeof t&&!(t=en().getGlobalEventTarget(this.doc,t)))throw new Le(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&n.preventDefault()}}}function UN(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class H9 extends e0{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,l,u,f,m){super(t,o,s,l,u,f,m),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let g=i.styles;g=BN(i.id,g);for(const F of g){const H=document.createElement("style");a&&H.setAttribute("nonce",a),H.textContent=F,this.shadowRoot.appendChild(H)}const w=i.getExternalStyles?.();if(w)for(const F of w){const H=XC(F,o);a&&H.setAttribute("nonce",a),this.shadowRoot.appendChild(H)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class t0 extends e0{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(t,n,r,i,o,s,a,l,u,f,m,g){super(t,o,s,a,l,u,m),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this._animationDisabled=f;let w=r.styles;this.styles=g?BN(g,w):w,this.styleUrls=r.getExternalStyles?.(g)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements)return void this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}}class jN extends t0{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,l,u,f,m,g){const w=i+"-"+r.id;super(t,n,r,o,s,a,l,u,f,m,g,w),this.contentAttr=function j9(e){return"_ngcontent-%COMP%".replace(JC,e)}(w),this.hostAttr=function z9(e){return"_nghost-%COMP%".replace(JC,e)}(w)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class n0 extends RI{supportsDOMEvents=!0;static makeCurrent(){!function bo(e){a_??=e}(new n0)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function W9(){return Lh=Lh||document.head.querySelector("base"),Lh?Lh.getAttribute("href"):null}();return null==n?null:function q9(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){Lh=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return vi(document.cookie,t)}}let Lh=null,Y9=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})(),K9=(()=>{class e extends FN{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(de(so))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();const zN=["alt","control","meta","shift"],X9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Q9={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let J9=(()=>{class e extends FN{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i,o){const s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>en().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),zN.forEach(u=>{const f=r.indexOf(u);f>-1&&(r.splice(f,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=X9[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),zN.forEach(s=>{s!==i&&(0,Q9[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static \u0275fac=function(r){return new(r||e)(de(so))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();const r7=IR(Q5,"browser",[{provide:w_,useValue:XR},{provide:Ix,useValue:function e7(){n0.makeCurrent()},multi:!0},{provide:so,useFactory:function n7(){return function EB(e){ib=e}(document),document}}]),WN=[{provide:bg,useClass:class Z9{addToWindow(t){dr.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Le(5103,!1);return o},dr.getAllAngularTestabilities=()=>t.getAllTestabilities(),dr.getAllAngularRootElements=()=>t.getAllRootElements(),dr.frameworkStabilizers||(dr.frameworkStabilizers=[]),dr.frameworkStabilizers.push(r=>{const i=dr.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?en().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}}},{provide:iA,useClass:LS,deps:[qe,$S,bg]},{provide:LS,useClass:LS,deps:[qe,$S,bg]}],qN=[{provide:Pa,useValue:"root"},{provide:Sc,useFactory:function t7(){return new Sc}},{provide:YC,useClass:K9,multi:!0,deps:[so]},{provide:YC,useClass:J9,multi:!0,deps:[so]},GN,LN,NN,{provide:oS,useExisting:GN},{provide:fn,useClass:Y9},[]];let i7=(()=>{class e{constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275mod=lo({type:e});static \u0275inj=jr({providers:[...qN,...WN],imports:[Rc,J5]})}return e})(),o7=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(de(so))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let r0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:function(r){let i=null;return i=r?new(r||e):de(u7),i},providedIn:"root"})}return e})(),u7=(()=>{class e extends r0{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case Ws.NONE:return r;case Ws.HTML:return ec(r,"HTML")?va(r):dT(this._doc,String(r)).toString();case Ws.STYLE:return ec(r,"Style")?va(r):r;case Ws.SCRIPT:if(ec(r,"Script"))return va(r);throw new Le(5200,!1);case Ws.URL:return ec(r,"URL")?va(r):F_(String(r));case Ws.RESOURCE_URL:if(ec(r,"ResourceURL"))return va(r);throw new Le(5201,!1);default:throw new Le(5202,!1)}}bypassSecurityTrustHtml(n){return function mG(e){return new cG(e)}(n)}bypassSecurityTrustStyle(n){return function _G(e){return new uG(e)}(n)}bypassSecurityTrustScript(n){return function gG(e){return new dG(e)}(n)}bypassSecurityTrustUrl(n){return function vG(e){return new fG(e)}(n)}bypassSecurityTrustResourceUrl(n){return function yG(e){return new pG(e)}(n)}static \u0275fac=function(r){return new(r||e)(de(so))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Of="safari"in window,Bi=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,KN=Bi&&!navigator.userAgent.match(/(crios)|(fxios)/i),rc=!!navigator.userAgent.match(/pwashell/i),o0=(Of||Bi||!!navigator.userAgent.match(/Safari/)&&navigator.userAgent.match(/Chrome/),!!navigator.userAgent.match(/android/i)),d7=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;function fv(e){return e+"-preview"}function s0(e){return localStorage.getItem(fv(e))}function a0(e,t){localStorage.setItem(fv(e),t)}const XN="DYNAMIC_FONTS";function QN(){return!!Lf()&&"1"===(s0(XN)??"1")}function Lf(){return Bi}function JN(){Lf()&&(QN()?document.documentElement.style.removeProperty("--ion-dynamic-font"):document.documentElement.style.setProperty("--ion-dynamic-font","initial"))}const eF="cp-indicator-fix-portrait",tF="cp-indicator-fix-landscape",nF="cloudpilot-indicator-fix-mode";let pv;function rF(){return function f7(e){return localStorage.getItem(fv(e))??localStorage.getItem(e)}(nF)??"none"}function l0(){return KN&&!navigator?.standalone}function iF(e){if(!l0())return;pv||(pv=document.createElement("style"),pv.textContent=`\n           @media (orientation: portrait) and (min-height: ${window.screen.height-110}px) {\n                html.${eF} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n\n            @media (orientation: landscape) {\n                html.${tF} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n        `,document.head.appendChild(pv)),void 0!==e?a0(nF,e):e=rF();const t=document.documentElement.classList;t.toggle(eF,"all"===e||"portrait"===e),t.toggle(tF,"all"===e||"landscape"===e)}const hv="cloudpilot-session";function oF(){!function p7(e){localStorage.removeItem(fv(e))}(hv)}var gn=b(6784),y7=b(3028),$f=b.n(y7);let mv,_v;function sF(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const n=t.split("&").map(r=>r.split("="));for(const[r,i]of n)if("url"===r&&i)try{return decodeURIComponent(i)}catch{continue}}function aF(){return void 0!==_v}class lF{constructor(){this.requestEvent=new gn.J}dispatchRequest(t){if(t){try{t=new($f())(t).toString()}catch(n){return void console.error(`invalid URL: ${t}`,n)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let c0=(()=>{var e;class t{constructor(){this.installation=new lF,this.import=new lF,mv&&this.installation.dispatchRequest(mv),_v&&this.import.dispatchRequest(_v)}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function se(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function gu(e){return this instanceof gu?(this.v=e,this):new gu(e)}function fF(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function p0(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const m0=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function pF(e){return Lt(e?.then)}function hF(e){return Lt(e[Ni])}function mF(e){return Symbol.asyncIterator&&Lt(e?.[Symbol.asyncIterator])}function _F(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const gF=function q7(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function vF(e){return Lt(e?.[gF])}function yF(e){return function dF(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(w){return function(F){return Promise.resolve(F).then(w,m)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(w,F){r[w]&&(i[w]=function(H){return new Promise(function(ie,me){o.push([w,H,ie,me])>1||l(w,H)})},F&&(i[w]=F(i[w])))}function l(w,F){try{!function u(w){w.value instanceof gu?Promise.resolve(w.value.v).then(f,m):g(o[0][2],w)}(r[w](F))}catch(H){g(o[0][3],H)}}function f(w){l("next",w)}function m(w){l("throw",w)}function g(w,F){w(F),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield gu(n.read());if(i)return yield gu(void 0);yield yield gu(r)}}finally{n.releaseLock()}})}function bF(e){return Lt(e?.getReader)}function Xs(e){if(e instanceof dn)return e;if(null!=e){if(hF(e))return function Z7(e){return new dn(t=>{const n=e[Ni]();if(Lt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(m0(e))return function Y7(e){return new dn(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(pF(e))return function K7(e){return new dn(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,cr)})}(e);if(mF(e))return SF(e);if(vF(e))return function X7(e){return new dn(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(bF(e))return function Q7(e){return SF(yF(e))}(e)}throw _F(e)}function SF(e){return new dn(t=>{(function J7(e,t){var n,r,i,o;return function cF(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(f){try{u(r.next(f))}catch(m){s(m)}}function l(f){try{u(r.throw(f))}catch(m){s(m)}}function u(f){f.done?o(f.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=fF(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Nc(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function qo(e,t,n=1/0){return Lt(t)?qo((r,i)=>Xt((o,s)=>t(r,o,i,s))(Xs(e(r,i))),n):("number"==typeof t&&(n=t),er((r,i)=>function eq(e,t,n,r,i,o,s,a){const l=[];let u=0,f=0,m=!1;const g=()=>{m&&!l.length&&!u&&t.complete()},w=H=>u<r?F(H):l.push(H),F=H=>{o&&t.next(H),u++;let ie=!1;Xs(n(H,f++)).subscribe(Kn(t,me=>{i?.(me),o?w(me):t.next(me)},()=>{ie=!0},void 0,()=>{if(ie)try{for(u--;l.length&&u<r;){const me=l.shift();s?Nc(t,s,()=>F(me)):F(me)}g()}catch(me){t.error(me)}}))};return e.subscribe(Kn(t,w,()=>{m=!0,g()})),()=>{a?.()}}(r,i,e,n)))}function Bf(e,t){return Lt(t)?qo(e,t,1):qo(e,1)}function Ya(e,t){return er((n,r)=>{let i=0;n.subscribe(Kn(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Bh(e){return er((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Lo(e,t){return er((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Kn(r,l=>{i?.unsubscribe();let u=0;const f=o++;Xs(e(l,f)).subscribe(i=Kn(r,m=>r.next(t?t(l,m,f,u++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function CF(e){return e&&Lt(e.schedule)}function _0(e){return e[e.length-1]}function wF(e){return Lt(_0(e))?e.pop():void 0}function Gh(e){return CF(_0(e))?e.pop():void 0}function EF(e,t=0){return er((n,r)=>{n.subscribe(Kn(r,i=>Nc(r,e,()=>r.next(i),t),()=>Nc(r,e,()=>r.complete(),t),i=>Nc(r,e,()=>r.error(i),t)))})}function DF(e,t=0){return er((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function IF(e,t){if(!e)throw new Error("Iterable cannot be null");return new dn(n=>{Nc(n,t,()=>{const r=e[Symbol.asyncIterator]();Nc(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Co(e,t){return t?function aq(e,t){if(null!=e){if(hF(e))return function nq(e,t){return Xs(e).pipe(DF(t),EF(t))}(e,t);if(m0(e))return function iq(e,t){return new dn(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(pF(e))return function rq(e,t){return Xs(e).pipe(DF(t),EF(t))}(e,t);if(mF(e))return IF(e,t);if(vF(e))return function oq(e,t){return new dn(n=>{let r;return Nc(n,t,()=>{r=e[gF](),Nc(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Lt(r?.return)&&r.return()})}(e,t);if(bF(e))return function sq(e,t){return IF(yF(e),t)}(e,t)}throw _F(e)}(e,t):Xs(e)}function _n(...e){return Co(e,Gh(e))}class gv{}class vv{}class Ml{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ml?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new Ml;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ml?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=t.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}addHeaderEntry(t,n){const r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class lq{encodeKey(t){return xF(t)}encodeValue(t){return xF(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const uq=/%(\d[a-f0-9])/gi,dq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xF(e){return encodeURIComponent(e).replace(uq,(t,n)=>dq[n]??t)}function yv(e){return`${e}`}class vu{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new lq,t.fromString){if(t.fromObject)throw new Le(2805,!1);this.map=function cq(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],i=Array.isArray(r)?r.map(yv):[yv(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new vu({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(yv(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(yv(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class fq{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function TF(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function MF(e){return typeof Blob<"u"&&e instanceof Blob}function AF(e){return typeof FormData<"u"&&e instanceof FormData}const Uh="Content-Type",g0="X-Request-URL",kF="text/plain",RF="application/json",NF=`${RF}, ${kF}, */*`;class jh{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,i){let o;if(this.url=n,this.method=t.toUpperCase(),function pq(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),"number"==typeof o.timeout){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Le(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new Ml,this.context??=new fq,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new vu,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||TF(this.body)||MF(this.body)||AF(this.body)||function hq(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof vu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||AF(this.body)?null:MF(this.body)?this.body.type||null:TF(this.body)?null:"string"==typeof this.body?kF:this.body instanceof vu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?RF:null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,l=t.mode||this.mode,u=t.redirect||this.redirect,f=t.credentials||this.credentials,m=t.referrer||this.referrer,g=t.integrity||this.integrity,w=t.transferCache??this.transferCache,F=t.timeout??this.timeout,H=void 0!==t.body?t.body:this.body,ie=t.withCredentials??this.withCredentials,me=t.reportProgress??this.reportProgress;let he=t.headers||this.headers,pt=t.params||this.params;const xt=t.context??this.context;return void 0!==t.setHeaders&&(he=Object.keys(t.setHeaders).reduce((Dt,Pn)=>Dt.set(Pn,t.setHeaders[Pn]),he)),t.setParams&&(pt=Object.keys(t.setParams).reduce((Dt,Pn)=>Dt.set(Pn,t.setParams[Pn]),pt)),new jh(n,r,H,{params:pt,headers:he,context:xt,reportProgress:me,responseType:i,withCredentials:ie,transferCache:w,keepalive:o,cache:a,priority:s,timeout:F,mode:l,redirect:u,credentials:f,referrer:m,integrity:g})}}var yu=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(yu||{});class v0{headers;status;statusText;url;ok;type;redirected;constructor(t,n=200,r="OK"){this.headers=t.headers||new Ml,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}}class Sv extends v0{constructor(t={}){super(t)}type=yu.ResponseHeader;clone(t={}){return new Sv({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class zh extends v0{body;constructor(t={}){super(t),this.body=void 0!==t.body?t.body:null}type=yu.Response;clone(t={}){return new zh({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}}class ld extends v0{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function y0(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer}}let b0=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof jh)o=n;else{let l,u;l=i.headers instanceof Ml?i.headers:new Ml(i.headers),i.params&&(u=i.params instanceof vu?i.params:new vu({fromObject:i.params})),o=new jh(n,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}const s=_n(o).pipe(Bf(l=>this.handler.handle(l)));if(n instanceof jh||"events"===i.observe)return s;const a=s.pipe(Ya(l=>l instanceof zh));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Xt(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Le(2806,!1);return l.body}));case"blob":return a.pipe(Xt(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Le(2807,!1);return l.body}));case"text":return a.pipe(Xt(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Le(2808,!1);return l.body}));default:return a.pipe(Xt(l=>l.body))}case"response":return a;default:throw new Le(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new vu).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,y0(i,r))}post(n,r,i={}){return this.request("POST",n,y0(i,r))}put(n,r,i={}){return this.request("PUT",n,y0(i,r))}static \u0275fac=function(r){return new(r||e)(de(gv))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();const OF=new at("");function LF(e,t){return t(e)}function bq(e,t){return(n,r)=>t.intercept(n,{handle:i=>e(i,r)})}const Cq=new at(""),Vh=new at(""),wq=new at(""),$F=new at("",{providedIn:"root",factory:()=>!0});function Eq(){let e=null;return(t,n)=>{null===e&&(e=(Ge(Cq,{optional:!0})??[]).reduceRight(bq,LF));const r=Ge(Yd);if(Ge($F)){const o=r.add();return e(t,n).pipe(Bh(o))}return e(t,n)}}let BF=(()=>{class e extends gv{backend;injector;chain=null;pendingTasks=Ge(Yd);contributeToStability=Ge($F);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Vh),...this.injector.get(wq,[])]));this.chain=r.reduceRight((i,o)=>function Sq(e,t,n){return(r,i)=>Vi(n,()=>t(r,o=>e(o,i)))}(i,o,this.injector),LF)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Bh(r))}return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(de(vv),de(Lr))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();const Tq=/^\)\]\}',?\n/,Mq=RegExp(`^${g0}:`,"m");let UF=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Le(-2800,!1);const r=this.xhrFactory;return _n(null).pipe(Lo(()=>new dn(o=>{const s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((ie,me)=>s.setRequestHeader(ie,me.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept",NF),!n.headers.has(Uh)){const ie=n.detectContentTypeHeader();null!==ie&&s.setRequestHeader(Uh,ie)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){const ie=n.responseType.toLowerCase();s.responseType="json"!==ie?ie:"text"}const a=n.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const ie=s.statusText||"OK",me=new Ml(s.getAllResponseHeaders()),he=function Aq(e){return"responseURL"in e&&e.responseURL?e.responseURL:Mq.test(e.getAllResponseHeaders())?e.getResponseHeader(g0):null}(s)||n.url;return l=new Sv({headers:me,status:s.status,statusText:ie,url:he}),l},f=()=>{let{headers:ie,status:me,statusText:he,url:pt}=u(),xt=null;204!==me&&(xt=typeof s.response>"u"?s.responseText:s.response),0===me&&(me=xt?200:0);let Dt=me>=200&&me<300;if("json"===n.responseType&&"string"==typeof xt){const Pn=xt;xt=xt.replace(Tq,"");try{xt=""!==xt?JSON.parse(xt):null}catch(Bn){xt=Pn,Dt&&(Dt=!1,xt={error:Bn,text:xt})}}Dt?(o.next(new zh({body:xt,headers:ie,status:me,statusText:he,url:pt||void 0})),o.complete()):o.error(new ld({error:xt,headers:ie,status:me,statusText:he,url:pt||void 0}))},m=ie=>{const{url:me}=u(),he=new ld({error:ie,status:s.status||0,statusText:s.statusText||"Unknown Error",url:me||void 0});o.error(he)};let g=m;n.timeout&&(g=ie=>{const{url:me}=u(),he=new ld({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:me||void 0});o.error(he)});let w=!1;const F=ie=>{w||(o.next(u()),w=!0);let me={type:yu.DownloadProgress,loaded:ie.loaded};ie.lengthComputable&&(me.total=ie.total),"text"===n.responseType&&s.responseText&&(me.partialText=s.responseText),o.next(me)},H=ie=>{let me={type:yu.UploadProgress,loaded:ie.loaded};ie.lengthComputable&&(me.total=ie.total),o.next(me)};return s.addEventListener("load",f),s.addEventListener("error",m),s.addEventListener("timeout",g),s.addEventListener("abort",m),n.reportProgress&&(s.addEventListener("progress",F),null!==a&&s.upload&&s.upload.addEventListener("progress",H)),s.send(a),o.next({type:yu.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",f),s.removeEventListener("timeout",g),n.reportProgress&&(s.removeEventListener("progress",F),null!==a&&s.upload&&s.upload.removeEventListener("progress",H)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(de(fn))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();const w0=new at(""),jF=new at("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),zF=new at("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class VF{}let Nq=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=vi(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(de(so),de(jF))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();function Fq(e,t){const n=e.url.toLowerCase();if(!Ge(w0)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=Ge(VF).getToken(),i=Ge(zF);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var bu=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(bu||{});function cd(e,t){return{\u0275kind:e,\u0275providers:t}}function Pq(...e){const t=[b0,UF,BF,{provide:gv,useExisting:BF},{provide:vv,useFactory:()=>Ge(OF,{optional:!0})??Ge(UF)},{provide:Vh,useValue:Fq,multi:!0},{provide:w0,useValue:!0},{provide:VF,useClass:Nq}];for(const n of e)t.push(...n.\u0275providers);return or(t)}const HF=new at(""),{isArray:$q}=Array,{getPrototypeOf:Bq,prototype:Gq,keys:Uq}=Object;function WF(e){if(1===e.length){const t=e[0];if($q(t))return{args:t,keys:null};if(function jq(e){return e&&"object"==typeof e&&Bq(e)===Gq}(t)){const n=Uq(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:zq}=Array;function E0(e){return Xt(t=>function Vq(e,t){return zq(t)?e(...t):e(t)}(e,t))}function qF(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Cv(...e){const t=Gh(e),n=wF(e),{args:r,keys:i}=WF(e);if(0===r.length)return Co([],t);const o=new dn(function Hq(e,t,n=qn){return r=>{ZF(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)ZF(t,()=>{const u=Co(e[l],t);let f=!1;u.subscribe(Kn(r,m=>{o[l]=m,f||(f=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>qF(i,s):qn));return n?o.pipe(E0(n)):o}function ZF(e,t,n){e?Nc(n,e,t):t()}const wv=Ke(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Gf(e=1/0){return qo(qn,e)}function D0(...e){return function Wq(){return Gf(1)}()(Co(e,Gh(e)))}function I0(e){return new dn(t=>{Xs(e()).subscribe(t)})}function Ev(e,t){const n=Lt(e)?e:()=>e,r=i=>i.error(n());return new dn(t?i=>t.schedule(r,0,i):r)}const Ka=new dn(e=>e.complete());function x0(){return er((e,t)=>{let n=null;e._refCount++;const r=Kn(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class YF extends dn{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Nn(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new gt;const n=this.getSubject();t.add(this.source.subscribe(Kn(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=gt.EMPTY)}return t}refCount(){return x0()(this)}}function Uf(e){return e<=0?()=>Ka:er((t,n)=>{let r=0;t.subscribe(Kn(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Dv(e){return er((t,n)=>{let r=!1;t.subscribe(Kn(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function KF(e=Yq){return er((t,n)=>{let r=!1;t.subscribe(Kn(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function Yq(){return new wv}function Su(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ya((i,o)=>e(i,o,r)):qn,Uf(1),n?Dv(t):KF(()=>new wv))}function ns(e,t,n){const r=Lt(e)||t||n?{next:e,error:t,complete:n}:e;return r?er((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Kn(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):qn}function ud(e){return er((t,n)=>{let o,r=null,i=!1;r=t.subscribe(Kn(n,void 0,void 0,s=>{o=Xs(e(s,ud(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function T0(e){return e<=0?()=>Ka:er((t,n)=>{let r=[];t.subscribe(Kn(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function M0(e){return er((t,n)=>{Xs(e).subscribe(Kn(n,()=>n.complete(),br)),!n.closed&&t.subscribe(n)})}const Jn="primary",Hh=Symbol("RouteTitle");class Jq{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function jf(e){return new Jq(e)}function eZ(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(":"===s[0])i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ic(e,t){const n=e?A0(e):void 0,r=t?A0(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!XF(e[i],t[i]))return!1;return!0}function A0(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function XF(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function QF(e){return e.length>0?e[e.length-1]:null}function Fc(e){return function Lq(e){return!!e&&(e instanceof dn||Lt(e.lift)&&Lt(e.subscribe))}(e)?e:vh(e)?Co(Promise.resolve(e)):_n(e)}const nZ={exact:function tP(e,t,n){if(!fd(e.segments,t.segments)||!Iv(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!tP(e.children[r],t.children[r],n))return!1;return!0},subset:nP},JF={exact:function rZ(e,t){return ic(e,t)},subset:function iZ(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>XF(e[n],t[n]))},ignored:()=>!0};function eP(e,t,n){return nZ[n.paths](e.root,t.root,n.matrixParams)&&JF[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function nP(e,t,n){return rP(e,t,t.segments,n)}function rP(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!fd(i,n)||t.hasChildren()||!Iv(i,n,r))}if(e.segments.length===n.length){if(!fd(e.segments,n)||!Iv(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!nP(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(fd(e.segments,i)&&Iv(e.segments,i,r)&&e.children[Jn])&&rP(e.children[Jn],t,o,r)}}function Iv(e,t,n){return t.every((r,i)=>JF[n](e[i].parameters,r.parameters))}class dd{root;queryParams;fragment;_queryParamMap;constructor(t=new fi([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=jf(this.queryParams),this._queryParamMap}toString(){return aZ.serialize(this)}}class fi{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tv(this)}}class Wh{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=jf(this.parameters),this._parameterMap}toString(){return sP(this)}}function fd(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let zf=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>new xv,providedIn:"root"})}return e})();class xv{parse(t){const n=new vZ(t);return new dd(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${qh(t.root,!0)}`,r=function uZ(e){const t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Mv(n)}=${Mv(i)}`).join("&"):`${Mv(n)}=${Mv(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function lZ(e){return encodeURI(e)}(t.fragment)}`:""}`}}const aZ=new xv;function Tv(e){return e.segments.map(t=>sP(t)).join("/")}function qh(e,t){if(!e.hasChildren())return Tv(e);if(t){const n=e.children[Jn]?qh(e.children[Jn],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Jn&&r.push(`${i}:${qh(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function sZ(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Jn&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Jn&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===Jn?[qh(e.children[Jn],!1)]:[`${i}:${qh(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Jn]?`${Tv(e)}/${n[0]}`:`${Tv(e)}/(${n.join("//")})`}}function iP(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mv(e){return iP(e).replace(/%3B/gi,";")}function k0(e){return iP(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Av(e){return decodeURIComponent(e)}function oP(e){return Av(e.replace(/\+/g,"%20"))}function sP(e){return`${k0(e.path)}${function cZ(e){return Object.entries(e).map(([t,n])=>`;${k0(t)}=${k0(n)}`).join("")}(e.parameters)}`}const dZ=/^[^\/()?;#]+/;function R0(e){const t=e.match(dZ);return t?t[0]:""}const fZ=/^[^\/()?;=#]+/,hZ=/^[^=?&#]+/,_Z=/^[^&#]+/;class vZ{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fi([],{}):new fi([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Jn]=new fi(t,n)),r}parseSegment(){const t=R0(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Le(4009,!1);return this.capture(t),new Wh(Av(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function pZ(e){const t=e.match(fZ);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=R0(this.remaining);i&&(r=i,this.capture(r))}t[Av(n)]=Av(r)}parseQueryParam(t){const n=function mZ(e){const t=e.match(hZ);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function gZ(e){const t=e.match(_Z);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=oP(n),o=oP(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=R0(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Le(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Jn);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Jn]:new fi([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Le(4011,!1)}}function aP(e){return e.segments.length>0?new fi([],{[Jn]:e}):e}function lP(e){const t={};for(const[r,i]of Object.entries(e.children)){const o=lP(i);if(r===Jn&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function yZ(e){if(1===e.numberOfChildren&&e.children[Jn]){const t=e.children[Jn];return new fi(e.segments.concat(t.segments),t.children)}return e}(new fi(e.segments,t))}function pd(e){return e instanceof dd}function cP(e){let t;const i=aP(function n(o){const s={};for(const l of o.children){const u=n(l);s[l.outlet]=u}const a=new fi(o.url,s);return o===e&&(t=a),a}(e.root));return t??i}function uP(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return N0(i,i,i,n,r);const o=function SZ(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new fP(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new fP(n,t,r)}(t);if(o.toRoot())return N0(i,i,new fi([],{}),n,r);const s=function CZ(e,t,n){if(e.isAbsolute)return new Rv(t,!0,0);if(!n)return new Rv(t,!1,NaN);if(null===n.parent)return new Rv(n,!0,0);const r=kv(e.commands[0])?0:1;return function wZ(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Le(4005,!1);i=r.segments.length}return new Rv(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?Yh(s.segmentGroup,s.index,o.commands):pP(s.segmentGroup,s.index,o.commands);return N0(i,s.segmentGroup,a,n,r)}function kv(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Zh(e){return"object"==typeof e&&null!=e&&e.outlets}function N0(e,t,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`}),s=e===t?n:dP(e,t,n);const a=aP(lP(s));return new dd(a,o,i)}function dP(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:dP(o,t,n)}),new fi(e.segments,r)}class fP{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&kv(r[0]))throw new Le(4003,!1);const i=r.find(Zh);if(i&&i!==QF(r))throw new Le(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rv{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function pP(e,t,n){if(e??=new fi([],{}),0===e.segments.length&&e.hasChildren())return Yh(e,t,n);const r=function DZ(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(Zh(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!mP(l,u,s))return o;r+=2}else{if(!mP(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new fi(e.segments.slice(0,r.pathIndex),{});return o.children[Jn]=new fi(e.segments.slice(r.pathIndex),e.children),Yh(o,0,i)}return r.match&&0===i.length?new fi(e.segments,{}):r.match&&!e.hasChildren()?F0(e,t,n):r.match?Yh(e,0,i):F0(e,t,n)}function Yh(e,t,n){if(0===n.length)return new fi(e.segments,{});{const r=function EZ(e){return Zh(e[0])?e[0].outlets:{[Jn]:e}}(n),i={};if(Object.keys(r).some(o=>o!==Jn)&&e.children[Jn]&&1===e.numberOfChildren&&0===e.children[Jn].segments.length){const o=Yh(e.children[Jn],t,n);return new fi(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=pP(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new fi(e.segments,i)}}function F0(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(Zh(o)){const l=IZ(o.outlets);return new fi(r,l)}if(0===i&&kv(n[0])){r.push(new Wh(e.segments[t].path,hP(n[0]))),i++;continue}const s=Zh(o)?o.outlets[Jn]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&kv(a)?(r.push(new Wh(s,hP(a))),i+=2):(r.push(new Wh(s,{})),i++)}return new fi(r,{})}function IZ(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=F0(new fi([],{}),0,r))}),t}function hP(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function mP(e,t,n){return e==n.path&&ic(t,n.parameters)}const Kh="imperative";var vr=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(vr||{});class oc{id;url;constructor(t,n){this.id=t,this.url=n}}class Xh extends oc{type=vr.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pc extends oc{urlAfterRedirects;type=vr.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Qs=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(Qs||{}),Nv=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Nv||{});class hd extends oc{reason;code;type=vr.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vf extends oc{reason;code;type=vr.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}}class P0 extends oc{error;target;type=vr.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _P extends oc{urlAfterRedirects;state;type=vr.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xZ extends oc{urlAfterRedirects;state;type=vr.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TZ extends oc{urlAfterRedirects;state;shouldActivate;type=vr.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class MZ extends oc{urlAfterRedirects;state;type=vr.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AZ extends oc{urlAfterRedirects;state;type=vr.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kZ{route;type=vr.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class RZ{route;type=vr.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class NZ{snapshot;type=vr.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FZ{snapshot;type=vr.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PZ{snapshot;type=vr.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OZ{snapshot;type=vr.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gP{routerEvent;position;anchor;type=vr.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class O0{}class Fv{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}}function Al(e){return e.outlet||Jn}function Hf(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class zZ{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Hf(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new md(this.rootInjector)}}let md=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new zZ(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(de(Lr))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class vP{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=L0(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=L0(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=$0(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return $0(t,this._root).map(n=>n.value)}}function L0(e,t){if(e===t.value)return t;for(const n of t.children){const r=L0(e,n);if(r)return r}return null}function $0(e,t){if(e===t.value)return[t];for(const n of t.children){const r=$0(e,n);if(r.length)return r.unshift(t),r}return[]}class kl{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Wf(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class yP extends vP{snapshot;constructor(t,n){super(t),this.snapshot=n,B0(this,t)}toString(){return this.snapshot.toString()}}function bP(e){const t=function VZ(e){const o=new Ov([],{},{},"",{},Jn,e,null,{});return new SP("",new kl(o,[]))}(e),n=new ri([new Wh("",{})]),r=new ri({}),i=new ri({}),o=new ri({}),s=new ri(""),a=new Oc(n,r,o,s,i,Jn,e,t.root);return a.snapshot=t.root,new yP(new kl(a,[]),t)}class Oc{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Xt(u=>u[Hh]))??_n(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Xt(t=>jf(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Xt(t=>jf(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pv(e,t,n="emptyOnly"){let r;const{routeConfig:i}=e;return r=null===t||"always"!==n&&""!==i?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...i?.data,...e._resolvedData}},i&&wP(i)&&(r.resolve[Hh]=i.title),r}class Ov{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Hh]}constructor(t,n,r,i,o,s,a,l,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=jf(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=jf(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SP extends vP{url;constructor(t,n){super(n),this.url=t,B0(this,n)}toString(){return CP(this._root)}}function B0(e,t){t.value._routerState=e,t.children.forEach(n=>B0(e,n))}function CP(e){const t=e.children.length>0?` { ${e.children.map(CP).join(", ")} } `:"";return`${e.value}${t}`}function G0(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ic(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),ic(t.params,n.params)||e.paramsSubject.next(n.params),function tZ(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ic(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),ic(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function U0(e,t){const n=ic(e.params,t.params)&&function oZ(e,t){return fd(e,t)&&e.every((n,r)=>ic(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||U0(e.parent,t.parent))}function wP(e){return"string"==typeof e.title||null===e.title}const HZ=new at("");let EP=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Jn;activateEvents=new En;deactivateEvents=new En;attachEvents=new En;detachEvents=new En;routerOutletData=k5(void 0);parentContexts=Ge(md);location=Ge(ys);changeDetector=Ge(St);inputBinder=Ge(Lv,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Le(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Le(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Le(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Le(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new WZ(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Yt({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[vs]})}return e})();class WZ{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===Oc?this.route:t===md?this.childContexts:t===HZ?this.outletData:this.parent.get(t,n)}}const Lv=new at("");let DP=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Cv([r.queryParams,r.params,r.data]).pipe(Lo(([o,s,a],l)=>(a={...o,...s,...a},0===l?_n(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=KR(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})(),IP=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Je({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){1&r&&st(0,"router-outlet")},dependencies:[EP],encapsulation:2})}return e})();function j0(e){const t=e.children&&e.children.map(j0),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Jn&&(n.component=IP),n}function Qh(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function ZZ(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Qh(e,r,i);return Qh(e,r)})}(e,t,n);return new kl(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Qh(e,a)),s}}const r=function YZ(e){return new Oc(new ri(e.url),new ri(e.params),new ri(e.queryParams),new ri(e.fragment),new ri(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>Qh(e,o));return new kl(r,i)}}class z0{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}}const xP="ngNavigationCancelingError";function $v(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=pd(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=TP(!1,Qs.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function TP(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[xP]=!0,n.cancellationCode=t,n}function MP(e){return!!e&&e[xP]}class QZ{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),G0(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Wf(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Wf(t);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Wf(t);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=Wf(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new OZ(o.value.snapshot))}),t.children.length&&this.forwardEvent(new FZ(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(G0(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),G0(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}}class AP{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Bv{component;route;constructor(t,n){this.component=t,this.route=n}}function JZ(e,t,n){const r=e._root;return Jh(r,t?t._root:null,n,[r.value])}function qf(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function ho(e){return null!==ss(e)}(e)?t.get(e):e:r}function Jh(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Wf(t);return e.children.forEach(s=>{(function tY(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function nY(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!fd(e.url,t.url);case"pathParamsOrQueryParamsChange":return!fd(e.url,t.url)||!ic(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!U0(e,t)||!ic(e.queryParams,t.queryParams);default:return!U0(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new AP(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Jh(e,t,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Bv(a.outlet.component,s))}else s&&em(t,a,i),i.canActivateChecks.push(new AP(r)),Jh(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>em(a,n.getContext(s),i)),i}function em(e,t,n){const r=Wf(e),i=e.value;Object.entries(r).forEach(([o,s])=>{em(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new Bv(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function tm(e){return"function"==typeof e}function kP(e){return e instanceof wv||"EmptyError"===e?.name}const Gv=Symbol("INITIAL_VALUE");function Zf(){return Lo(e=>Cv(e.map(t=>t.pipe(Uf(1),function Zq(...e){const t=Gh(e);return er((n,r)=>{(t?D0(e,n,t):D0(e,n)).subscribe(r)})}(Gv)))).pipe(Xt(t=>{for(const n of t)if(!0!==n){if(n===Gv)return Gv;if(!1===n||cY(n))return n}return!0}),Ya(t=>t!==Gv),Uf(1)))}function cY(e){return pd(e)||e instanceof z0}function RP(e){return function Er(...e){return tr(e)}(ns(t=>{if("boolean"!=typeof t)throw $v(0,t)}),Xt(t=>!0===t))}class V0{segmentGroup;constructor(t){this.segmentGroup=t||null}}class H0 extends Error{urlTree;constructor(t){super(),this.urlTree=t}}function Yf(e){return Ev(new V0(e))}function bY(e){return Ev(new Le(4e3,!1))}class CY{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return _n(r);if(i.numberOfChildren>1||!i.children[Jn])return bY();i=i.children[Jn]}}applyRedirectCommands(t,n,r,i,o){return function wY(e,t,n){if("string"==typeof e)return _n(e);const r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:u,data:f,title:m}=t;return Fc(Vi(n,()=>r({params:u,data:f,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:m})))}(n,i,o).pipe(Xt(s=>{if(s instanceof dd)throw new H0(s);const a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if("/"===s[0])throw new H0(a);return a}))}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new dd(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&":"===o[0]){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new fi(o,s)}createSegments(t,n,r,i){return n.map(o=>":"===o.path[0]?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new Le(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const W0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function EY(e,t,n,r,i){const o=NP(e,t,n);return o.matched?(r=function $Z(e,t){return e.providers&&!e._injector&&(e._injector=ug(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function yY(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?_n(i.map(s=>{const a=qf(s,e);return Fc(function lY(e){return e&&tm(e.canMatch)}(a)?a.canMatch(t,n):Vi(e,()=>a(t,n)))})).pipe(Zf(),RP()):_n(!0)}(r,t,n).pipe(Xt(s=>!0===s?o:{...W0}))):_n(o)}function NP(e,t,n){if("**"===t.path)return function DY(e){return{matched:!0,parameters:e.length>0?QF(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...W0}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||eZ)(n,e,t);if(!i)return{...W0};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function FP(e,t,n,r){return n.length>0&&function TY(e,t,n){return n.some(r=>Uv(e,t,r)&&Al(r)!==Jn)}(e,n,r)?{segmentGroup:new fi(t,xY(r,new fi(n,e.children))),slicedSegments:[]}:0===n.length&&function MY(e,t,n){return n.some(r=>Uv(e,t,r))}(e,n,r)?{segmentGroup:new fi(e.segments,IY(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new fi(e.segments,e.children),slicedSegments:n}}function IY(e,t,n,r){const i={};for(const o of n)if(Uv(e,t,o)&&!r[Al(o)]){const s=new fi([],{});i[Al(o)]=s}return{...r,...i}}function xY(e,t){const n={};n[Jn]=t;for(const r of e)if(""===r.path&&Al(r)!==Jn){const i=new fi([],{});n[Al(r)]=i}return n}function Uv(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class kY{}class FY{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new CY(this.urlSerializer,this.urlTree)}noMatchError(t){return new Le(4002,`'${t.segmentGroup}'`)}recognize(){const t=FP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Xt(({children:n,rootSnapshot:r})=>{const i=new kl(r,n),o=new SP("",i),s=function bZ(e,t,n=null,r=null){return uP(cP(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){const n=new Ov([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Jn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Jn,n).pipe(Xt(r=>({children:r,rootSnapshot:n})),ud(r=>{if(r instanceof H0)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof V0?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(Xt(s=>s instanceof kl?[s]:[]))}processChildren(t,n,r,i){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return Co(o).pipe(Bf(s=>{const a=r.children[s],l=function jZ(e,t){const n=e.filter(r=>Al(r)===t);return n.push(...e.filter(r=>Al(r)!==t)),n}(n,s);return this.processSegmentGroup(t,l,a,s,i)}),function Xq(e,t){return er(function Kq(e,t,n,r,i){return(o,s)=>{let a=n,l=t,u=0;o.subscribe(Kn(s,f=>{const m=u++;l=a?e(l,f,m):(a=!0,f),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),Dv(null),function Qq(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ya((i,o)=>e(i,o,r)):qn,T0(1),n?Dv(t):KF(()=>new wv))}(),qo(s=>{if(null===s)return Yf(r);const a=PP(s);return function PY(e){e.sort((t,n)=>t.value.outlet===Jn?-1:n.value.outlet===Jn?1:t.value.outlet.localeCompare(n.value.outlet))}(a),_n(a)}))}processSegment(t,n,r,i,o,s,a){return Co(n).pipe(Bf(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,s,a).pipe(ud(u=>{if(u instanceof V0)return _n(null);throw u}))),Su(l=>!!l),ud(l=>{if(kP(l))return function AY(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?_n(new kY):Yf(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,l){return Al(r)===s||s!==Jn&&Uv(i,o,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,l):Yf(i):Yf(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){const{matched:l,parameters:u,consumedSegments:f,positionalParamSegments:m,remainingSegments:g}=NP(n,i,o);if(!l)return Yf(n);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const w=new Ov(o,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,OP(i),Al(i),i.component??i._loadedComponent??null,i,LP(i)),F=Pv(w,a,this.paramsInheritanceStrategy);return w.params=Object.freeze(F.params),w.data=Object.freeze(F.data),this.applyRedirects.applyRedirectCommands(f,i.redirectTo,m,w,t).pipe(Lo(ie=>this.applyRedirects.lineralizeSegments(i,ie)),qo(ie=>this.processSegment(t,r,n,ie.concat(g),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){const a=EY(n,r,i,t);return"**"===r.path&&(n.children={}),a.pipe(Lo(l=>l.matched?this.getChildConfig(t=r._injector??t,r,i).pipe(Lo(({routes:u})=>{const f=r._loadedInjector??t,{parameters:m,consumedSegments:g,remainingSegments:w}=l,F=new Ov(g,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,OP(r),Al(r),r.component??r._loadedComponent??null,r,LP(r)),H=Pv(F,s,this.paramsInheritanceStrategy);F.params=Object.freeze(H.params),F.data=Object.freeze(H.data);const{segmentGroup:ie,slicedSegments:me}=FP(n,g,w,u);if(0===me.length&&ie.hasChildren())return this.processChildren(f,u,ie,F).pipe(Xt(pt=>new kl(F,pt)));if(0===u.length&&0===me.length)return _n(new kl(F,[]));const he=Al(r)===o;return this.processSegment(f,u,ie,me,he?Jn:o,!0,F).pipe(Xt(pt=>new kl(F,pt instanceof kl?[pt]:[])))})):Yf(n)))}getChildConfig(t,n,r){return n.children?_n({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?_n({routes:n._loadedRoutes,injector:n._loadedInjector}):function vY(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?_n(!0):_n(i.map(s=>{const a=qf(s,e);return Fc(function iY(e){return e&&tm(e.canLoad)}(a)?a.canLoad(t,n):Vi(e,()=>a(t,n)))})).pipe(Zf(),RP())}(t,n,r).pipe(qo(i=>i?this.configLoader.loadChildren(t,n).pipe(ns(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function SY(){return Ev(TP(!1,Qs.GuardRejected))}())):_n({routes:[],injector:t})}}function OY(e){const t=e.value.routeConfig;return t&&""===t.path}function PP(e){const t=[],n=new Set;for(const r of e){if(!OY(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=PP(r.children);t.push(new kl(r.value,i))}return t.filter(r=>!n.has(r))}function OP(e){return e.data||{}}function LP(e){return e.resolve||{}}function $P(e){const t=e.children.map(n=>$P(n)).flat();return[e,...t]}function q0(e){return Lo(t=>{const n=e(t);return n?Co(n).pipe(Xt(()=>t)):_n(t)})}let BP=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Jn);return r}getResolvedTitleForRoute(n){return n.data[Hh]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>Ge(jY),providedIn:"root"})}return e})(),jY=(()=>{class e extends BP{title;constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(de(o7))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Kf=new at("",{providedIn:"root",factory:()=>({})}),jv=new at("");let Z0=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Ge(m5);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return _n(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Fc(Vi(n,()=>r.loadComponent())).pipe(Xt(GP),Lo(UP),ns(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Bh(()=>{this.componentLoaders.delete(r)})),o=new YF(i,()=>new x).pipe(x0());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return _n({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function zY(e,t,n,r){return Fc(Vi(n,()=>e.loadChildren())).pipe(Xt(GP),Lo(UP),qo(i=>i instanceof aM||Array.isArray(i)?_n(i):Co(t.compileModuleAsync(i))),Xt(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(jv,[],{optional:!0,self:!0}).flat()),{routes:s.map(j0),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Bh(()=>{this.childrenLoaders.delete(r)})),s=new YF(o,()=>new x).pipe(x0());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function GP(e){return function VY(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}function UP(e){return _n(e)}let Y0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>Ge(HY),providedIn:"root"})}return e})(),HY=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const jP=new at(""),zP=new at("");function WY(e,t,n){const r=e.get(zP),i=e.get(so);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o;const s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),function qY(e){return new Promise(t=>{AS({read:()=>setTimeout(t)},{injector:e})})}(e)));a.ready.catch(u=>{});const{onViewTransitionCreated:l}=r;return l&&Vi(e,()=>l({transition:a,from:t,to:n})),s}const VP=new at("");let K0=(()=>{class e{currentNavigation=ao(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new x;transitionAbortWithErrorSubject=new x;configLoader=Ge(Z0);environmentInjector=Ge(Lr);destroyRef=Ge(Vo);urlSerializer=Ge(zf);rootContexts=Ge(md);location=Ge(Ai);inputBindingEnabled=null!==Ge(Lv,{optional:!0});titleStrategy=Ge(BP);options=Ge(Kf,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Ge(Y0);createViewTransition=Ge(jP,{optional:!0});navigationErrorHandler=Ge(VP,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>_n(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=i=>this.events.next(new RZ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new kZ(i)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;wi(()=>{this.transitions?.next({...n,extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r})})}setupNavigations(n){return this.transitions=new ri(null),this.transitions.pipe(Ya(r=>null!==r),Lo(r=>{let i=!1;return _n(r).pipe(Lo(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Qs.SupersededByNewNavigation),Ka;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:"string"==typeof o.extras.browserUrl?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>o.abortController.abort()});const s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!s&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation))return this.events.next(new Vf(o.id,this.urlSerializer.serialize(o.rawUrl),"",Nv.IgnoredSameUrlNavigation)),o.resolve(!1),Ka;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return _n(o).pipe(Lo(l=>(this.events.next(new Xh(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ka:Promise.resolve(l))),function LY(e,t,n,r,i,o){return qo(s=>function RY(e,t,n,r,i,o,s="emptyOnly"){return new FY(e,t,n,r,i,s,o).recognize()}(e,t,n,r,s.extractedUrl,i,o).pipe(Xt(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ns(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=l.urlAfterRedirects,f));const u=new _P(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){const{id:l,extractedUrl:u,source:f,restoredState:m,extras:g}=o,w=new Xh(l,this.urlSerializer.serialize(u),f,m);this.events.next(w);const F=bP(this.rootComponentType).snapshot;return this.currentTransition=r={...o,targetSnapshot:F,urlAfterRedirects:u,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(H=>(H.finalUrl=u,H)),_n(r)}return this.events.next(new Vf(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Nv.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Ka}),ns(o=>{const s=new xZ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Xt(o=>(this.currentTransition=r={...o,guards:JZ(o.targetSnapshot,o.currentSnapshot,this.rootContexts)},r)),function uY(e,t){return qo(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?_n({...n,guardsResult:!0}):function dY(e,t,n,r){return Co(e).pipe(qo(i=>function gY(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?_n(o.map(a=>{const l=Hf(t)??i,u=qf(a,l);return Fc(function aY(e){return e&&tm(e.canDeactivate)}(u)?u.canDeactivate(e,t,n,r):Vi(l,()=>u(e,t,n,r))).pipe(Su())})).pipe(Zf()):_n(!0)}(i.component,i.route,n,t,r)),Su(i=>!0!==i,!0))}(s,r,i,e).pipe(qo(a=>a&&function rY(e){return"boolean"==typeof e}(a)?function fY(e,t,n,r){return Co(t).pipe(Bf(i=>D0(function hY(e,t){return null!==e&&t&&t(new NZ(e)),_n(!0)}(i.route.parent,r),function pY(e,t){return null!==e&&t&&t(new PZ(e)),_n(!0)}(i.route,r),function _Y(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function eY(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>I0(()=>_n(s.guards.map(l=>{const u=Hf(s.node)??n,f=qf(l,u);return Fc(function sY(e){return e&&tm(e.canActivateChild)}(f)?f.canActivateChild(r,e):Vi(u,()=>f(r,e))).pipe(Su())})).pipe(Zf())));return _n(o).pipe(Zf())}(e,i.path,n),function mY(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return _n(!0);const i=r.map(o=>I0(()=>{const s=Hf(t)??n,a=qf(o,s);return Fc(function oY(e){return e&&tm(e.canActivate)}(a)?a.canActivate(t,e):Vi(s,()=>a(t,e))).pipe(Su())}));return _n(i).pipe(Zf())}(e,i.route,n))),Su(i=>!0!==i,!0))}(r,o,e,t):_n(a)),Xt(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),ns(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&"boolean"!=typeof o.guardsResult)throw $v(0,o.guardsResult);const s=new TZ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Ya(o=>!!o.guardsResult||(this.cancelNavigationTransition(o,"",Qs.GuardRejected),!1)),q0(o=>{if(0!==o.guards.canActivateChecks.length)return _n(o).pipe(ns(s=>{const a=new MZ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Lo(s=>{let a=!1;return _n(s).pipe(function $Y(e,t){return qo(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return _n(n);const o=new Set(i.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const u of $P(l))s.add(u);let a=0;return Co(s).pipe(Bf(l=>o.has(l)?function BY(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!wP(i)&&(o[Hh]=i.title),I0(()=>(e.data=Pv(e,e.parent,n).resolve,function GY(e,t,n,r){const i=A0(e);if(0===i.length)return _n({});const o={};return Co(i).pipe(qo(s=>function UY(e,t,n,r){const i=Hf(t)??r,o=qf(e,i);return Fc(o.resolve?o.resolve(t,n):Vi(i,()=>o(t,n)))}(e[s],t,n,r).pipe(Su(),ns(a=>{if(a instanceof z0)throw $v(new xv,a);o[s]=a}))),T0(1),Xt(()=>o),ud(s=>kP(s)?Ka:Ev(s)))}(o,e,t,r).pipe(Xt(s=>(e._resolvedData=s,e.data={...e.data,...s},null)))))}(l,r,e,t):(l.data=Pv(l,l.parent,e).resolve,_n(void 0))),ns(()=>a++),T0(1),qo(l=>a===s.size?_n(n):Ka))})}(this.paramsInheritanceStrategy,this.environmentInjector),ns({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Qs.NoDataFromResolver)}}))}),ns(s=>{const a=new AZ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),q0(o=>{const s=a=>{const l=[];if(a.routeConfig?.loadComponent){const u=Hf(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(ns(f=>{a.component=f}),Xt(()=>{})))}for(const u of a.children)l.push(...s(u));return l};return Cv(s(o.targetSnapshot.root)).pipe(Dv(null),Uf(1))}),q0(()=>this.afterPreactivation()),Lo(()=>{const{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Co(a).pipe(Xt(()=>r)):_n(r)}),Xt(o=>{const s=function qZ(e,t,n){const r=Qh(e,t._root,n?n._root:void 0);return new yP(r,t)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r={...o,targetRouterState:s},this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),ns(()=>{this.events.next(new O0)}),((e,t,n,r)=>Xt(i=>(new QZ(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Uf(1),M0(new dn(o=>{const s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Ya(()=>!i&&!r.targetRouterState),ns(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Qs.Aborted)}))),ns({next:o=>{i=!0,this.lastSuccessfulNavigation=wi(this.currentNavigation),this.events.next(new Pc(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),M0(this.transitionAbortWithErrorSubject.pipe(ns(o=>{throw o}))),Bh(()=>{i||this.cancelNavigationTransition(r,"",Qs.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ud(o=>{if(this.destroyed)return r.resolve(!1),Ka;if(i=!0,MP(o))this.events.next(new hd(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),function KZ(e){return MP(e)&&pd(e.url)}(o)?this.events.next(new Fv(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{const s=new P0(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{const a=Vi(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(!(a instanceof z0))throw this.events.next(s),o;{const{message:l,cancellationCode:u}=$v(0,a);this.events.next(new hd(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new Fv(a.redirectTo,a.navigationBehaviorOptions))}}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Ka}))}))}cancelNavigationTransition(n,r,i){const o=new hd(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=wi(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ZY(e){return e!==Kh}let HP=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>Ge(KY),providedIn:"root"})}return e})();class YY{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let KY=(()=>{class e extends YY{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ci(e)))(i||e)}})();static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),WP=(()=>{class e{urlSerializer=Ge(zf);options=Ge(Kf,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Ge(Ai);urlHandlingStrategy=Ge(Y0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new dd;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){const o=void 0!==n?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof dd?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=bP(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>Ge(XY),providedIn:"root"})}return e})(),XY=(()=>{class e extends WP{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Xh?this.updateStateMemento():n instanceof Vf?this.commitTransition(r):n instanceof _P?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof O0?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof hd&&n.code!==Qs.SupersededByNewNavigation&&n.code!==Qs.Redirect?this.restoreHistory(r):n instanceof P0?this.restoreHistory(r,!0):n instanceof Pc&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){const{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){const a=this.browserPageId,l={...s,...this.generateNgRouterState(i,a)};this.location.replaceState(n,"",l)}else{const a={...s,...this.generateNgRouterState(i,this.browserPageId+1)};this.location.go(n,"",a)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&0===o&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ci(e)))(i||e)}})();static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function qP(e,t){e.events.pipe(Ya(n=>n instanceof Pc||n instanceof hd||n instanceof P0||n instanceof Vf),Xt(n=>n instanceof Pc||n instanceof Vf?0:n instanceof hd&&(n.code===Qs.Redirect||n.code===Qs.SupersededByNewNavigation)?2:1),Ya(n=>2!==n),Uf(1)).subscribe(()=>{t()})}const QY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zo=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Ge(zM);stateManager=Ge(WP);options=Ge(Kf,{optional:!0})||{};pendingTasks=Ge(Jt);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Ge(K0);urlSerializer=Ge(zf);location=Ge(Ai);urlHandlingStrategy=Ge(Y0);injector=Ge(Lr);_events=new x;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Ge(HP);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Ge(jv,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Ge(Lv,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new gt;subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=wi(this.navigationTransitions.currentNavigation);if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof hd&&r.code!==Qs.Redirect&&r.code!==Qs.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Pc)this.navigated=!0;else if(r instanceof Fv){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||ZY(i.source),...s};this.scheduleNavigation(a,Kh,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function LZ(e){return!(e instanceof O0||e instanceof Fv)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Kh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(_a)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return wi(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(j0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s;let m,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f={...this.currentUrlTree.queryParams,...o};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}null!==f&&(f=this.removeEmptyProps(f));try{m=cP(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),m=this.currentUrlTree.root}return uP(m,n,f,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=pd(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Kh,null,r)}navigate(n,r={skipLocationChange:!1}){return function eK(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Le(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...QY}:!1===r?{...JY}:r,pd(n))return eP(this.currentUrlTree,n,i);const o=this.parseUrl(n);return eP(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((m,g)=>{a=m,l=g});const f=this.pendingTasks.add();return qP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(m=>Promise.reject(m))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var iK=b(7510),oK=b.n(iK),Q=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e.te2="Tungsten-E2",e.frankene2="Franken-E2",e}(Q||{});function ZP(e,t){return Object.setPrototypeOf({GetCurrentEntryContent:()=>{const n=t.getPointer(e.GetCurrentEntryContent()),r=e.GetCurrentEntrySize();return n>0&&r>0?t.HEAPU8.subarray(n,n+r):void 0}},e)}function X0(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}let sK=0;const YP=[Q.palmPilot,Q.pilot,Q.iii,Q.palmVx,Q.palmV,Q.palmVII,Q.palmVIIEZ,Q.palmVIIx,Q.iiixe,Q.iiix,Q.iiie,Q.m500,Q.m505,Q.m515,Q.m520,Q.iiic,Q.m100,Q.m105,Q.m125,Q.m130,Q.i705,Q.i710,Q.handera330,Q.handera330c,Q.pegS300,Q.pegS320,Q.pegS500c,Q.pegT400,Q.pegN600c,Q.pegT600c,Q.pegN700c,Q.pegT650c,Q.pegNR70,Q.acerS11,Q.lp168];function Vt(){return(e,t,n)=>{const r=n.value;return n.value=function(i,o){return this.guard(()=>r.call(this,i,o))},n}}function KP(e){switch(e){case 0:return Q.te2;case 1:return Q.frankene2;default:return}}class Bt{constructor(t){this.module=t,this.fatalErrorEvent=new gn.J,this.pwmUpdateEvent=new gn.J,this.proxyDisconnectEvent=new gn.J,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((n,r)=>this.pwmUpdateEvent.dispatch({frequency:n,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(()=>this.proxyDisconnectEvent.dispatch(),"v")),this.transportIR=this.wrapTransport(this.cloudpilot.GetTransportIR()),this.transportSerial=this.wrapTransport(this.cloudpilot.GetTransportSerial())}static create(t){return(0,T.A)(function*(){const n=sK++;return new Bt(yield oK()({print:r=>console.log(`${n}: ${r}`),printErr:r=>console.warn(`${n}: ${r}`),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}enableLogging(t){this.cloudpilot.EnableLogging(t)}getRomInfo(t){const n=this.copyIn(t);try{return this.getRomInfoCloudpilot(n,t.length)||this.getRomInfoUarm(n,t.length)}finally{this.cloudpilot.Free(n)}}initializeSession(t,n){const r=this.copyIn(t),i=this.cloudpilot.InitializeSession(r,t.length,n);return this.cloudpilot.Free(r),i}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){return this.cloudpilot.RunEmulation(t)}getFrame(){const t=this.cloudpilot.CopyFrame(),n=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(n,n+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,n){this.cloudpilot.QueuePenMove(t,n)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t){this.cloudpilot.QueueKeyboardEvent(t)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const n=this.copyIn(t),r=this.cloudpilot.InstallDb(n,t.length);return this.cloudpilot.Free(n),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),n=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((n>>>13)+(n%8192==0?0:1)))}loadMemory(t){const n=this.getMemory32();if((()=>{if(t.length!==n.length||t.length<256)return!1;for(let i=256;i>0;i--){if(t[t.length-i]!==n[n.length-i])return!1;if(4294967295===n[n.length-i])break}return!0})())return n.set(t),!0;{const i=this.copyIn32(t),o=this.cloudpilot.ImportMemoryImage(i,t.length<<2);return this.cloudpilot.Free(i),o}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const n=this.copyIn(t),r=this.cloudpilot.LoadState(n,t.length);return this.cloudpilot.Free(n),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var n=this;return(0,T.A)(function*(){const r=n.guard(()=>n.cloudpilot.StartBackup());try{return yield t(n.wrap(r))}finally{n.module.destroy(r)}})()}getArchive(t){const n=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),n)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.IsSuspended()?this.cloudpilot.GetSuspendContext().GetKind():void 0}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}getSuspendContextSerialSync(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextSerialSync())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){t&&this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,n){const r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+n)}withZipfileWalker(t,n){var r=this;return(0,T.A)(function*(){const i=r.guard(()=>{const o=r.copyIn(t),s=new r.module.ZipfileWalker(t.length,o);return r.cloudpilot.Free(o),s});try{return yield n(ZP(r.wrap(i),r.module))}finally{r.module.destroy(i)}})()}withZipfileWalkerSync(t,n){const r=this.guard(()=>{const i=this.copyIn(t),o=new this.module.ZipfileWalker(t.length,i);return this.cloudpilot.Free(i),o});try{return n(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(t){if("cloudpilot"===t.engine&&t.nand)throw new Error("cloudpilot image cannot have nand");const n=this.copyIn(t.rom),r=t.memory&&this.copyIn(t.memory),i=t.savestate&&this.copyIn(t.savestate),o=t.nand&&this.copyIn(t.nand);let s,a;if(void 0!==t.metadata){const l=(new TextEncoder).encode(JSON.stringify(t.metadata));a=l.length,s=this.copyIn(l)}try{switch(t.engine){case"cloudpilot":return this.serializeSessionImageCloudpilot(t.deviceId,{rom:n,romLength:t.rom.length,memory:r,memoryLength:t.memory?.length,savestate:i,savestateLength:t.savestate?.length,metadata:s,metadataLength:a});case"uarm":return this.serializeSessionImageUarm(t.deviceId,{rom:n,romLength:t.rom.length,nand:o,nandLength:t.nand?.length,memory:r,memoryLength:t.memory?.length,savestate:i,savestateLength:t.savestate?.length,metadata:s,metadataLength:a});default:throw new Error("unreachable")}}finally{[n,o,r,i,s].forEach(l=>this.freeBuffer(l))}}deserializeSessionImage(t){if(!t)return;const n=function rK(e){if(!(e.length<4))switch(new DataView(e.buffer,e.byteOffset).getUint32(0,!0)){case 538247427:return"cloudpilot";case 427821081:return"uarm";default:return}}(t);if(void 0===n)return;const r=this.copyIn(t);try{switch(n){case"cloudpilot":return this.deserializeSessionImageCloudpilot(r,t.length);case"uarm":return this.deserializeSessionImageUarm(r,t.length);default:return}}finally{this.cloudpilot.Free(r)}}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const n=this.copyIn(t.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(n,32);return this.cloudpilot.Free(n),r}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,n){return this.cloudpilot.AllocateCard(t,n>>>9)}decompressCard(t,n){const r=this.copyIn(n);let i;try{for(i=new this.module.GunzipContext(r,n.length,524288);0===i.GetState();)i.Continue();return-1===i.GetState()?(console.error(`gunzip failed: ${i.GetError()}`),!1):i.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,i.ReleaseUncompressedData(),i.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(r),i&&this.module.destroy(i)}}getCardData(t){const n=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==n)return this.module.HEAPU32.subarray(n>>>2,n+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const n=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===n)return;const r=X0(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(n,n+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()||void 0}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}remountFailed(){return this.cloudpilot.RemountFailed()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const n=new this.module.SkinLoader(t);try{const r=this.module.getPointer(n.GetData());return 0===r?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(r,r+n.GetSize()))}finally{this.module.destroy(n)}}getTransportIR(){return this.transportIR}getTransportSerial(){return this.transportSerial}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(n){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(n instanceof Error?n:new Error("unknown error")),n}}getRomInfoCloudpilot(t,n){const r=new this.module.RomInfo(t,n);try{return r.IsValid()?{engine:"cloudpilot",cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:YP.filter(r.Supports.bind(r))}:void 0}finally{this.module.destroy(r)}}getRomInfoUarm(t,n){const r=new this.module.RomInfo5(t,n);if(!r.IsValid())return;const i=r.GetDeviceType(),o=KP(i);if(void 0!==o)try{return r.IsValid()?{engine:"uarm",romName:r.GetRomName(),cardName:r.GetCardName(),manufacturer:r.GetManufacturer(),companyId:r.GetCompanyId(),halId:r.GetHalId(),deviceType:i,recommendedRamSize:r.GetRecommendedRamSize(),supportedDevices:[o]}:void 0}finally{this.module.destroy(r)}}deserializeSessionImageCloudpilot(t,n){const r=new this.module.SessionImage;try{if(!r.Deserialize(t,n))return;const i=r.GetDeviceId();if(!YP.includes(i))throw new Error(`unsupported device ${i}`);const o=this.copyOut(r.GetRomImage(),r.GetRomImageSize()),s=this.copyOut(r.GetMemoryImage(),r.GetMemoryImageSize()),a=this.copyOut(r.GetSavestate(),r.GetSavestateSize());if(!o)throw new Error("invalid session image: no ROM or memory");let l;const u=this.copyOut(r.GetMetadata(),r.GetMetadataSize());if(u)try{l={engine:"cloudpilot",...JSON.parse((new TextDecoder).decode(u))}}catch(f){console.warn("ignoring invalid metadata",f)}return{engine:"cloudpilot",deviceId:i,rom:o,memory:s,savestate:a,metadata:l,version:r.GetVersion()}}catch(i){console.error(i)}finally{this.module.destroy(r)}}deserializeSessionImageUarm(t,n){const r=new this.module.SessionFile5;try{if(!r.Deserialize(n,t))return;const i=KP(r.GetDeviceId());if(void 0===i)throw new Error(`unsupported uARM device ${i}`);const o=this.copyOut(r.GetNor(),r.GetNorSize()),s=this.copyOut(r.GetMemory(),r.GetMemorySize()),a=this.copyOut(r.GetNand(),r.GetNandSize()),l=this.copyOut(r.GetSavestate(),r.GetSavestateSize());if(!o)throw new Error("invalid session image: no ROM or memory");const u=this.copyOut(r.GetMetadata(),r.GetMetadataSize());let f;if(u)try{f={engine:"uarm",...JSON.parse((new TextDecoder).decode(u))}}catch(m){console.warn("invalid metadata",m)}return{engine:"uarm",deviceId:i,rom:o,memory:s,nand:a,savestate:l,metadata:f,version:r.GetVersion()}}finally{this.module.destroy(r)}}serializeSessionImageCloudpilot(t,{rom:n,romLength:r,memory:i,memoryLength:o,savestate:s,savestateLength:a,metadata:l,metadataLength:u}){const f=new this.module.SessionImage;try{return f.SetDeviceId(t),f.SetRomImage(n,r),i&&f.SetMemoryImage(i,o??0),s&&f.SetSavestate(s,a??0),l&&f.SetMetadata(l,u??0),f.Serialize()?this.copyOut(f.GetSerializedImage(),f.GetSerializedImageSize()):void 0}finally{this.module.destroy(f)}}serializeSessionImageUarm(t,{rom:n,romLength:r,memory:i,memoryLength:o,nand:s,nandLength:a,savestate:l,savestateLength:u,metadata:f,metadataLength:m}){const g=new this.module.SessionFile5;try{return g.SetDeviceId(function aK(e){switch(e){case Q.te2:return 0;case Q.frankene2:return 1;default:return-1}}(t)),g.SetNor(r,n),i&&g.SetMemory(o??0,i),s&&g.SetNand(a??0,s),l&&g.SetSavestate(u??0,l),f&&g.SetMetadata(m??0,f),g.Serialize()?this.copyOut(g.GetSerializedSession(),g.GetSerializedSessionSize()):void 0}finally{this.module.destroy(g)}}copyIn(t){const n=this.cloudpilot.Malloc(t.length),r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+t.length).set(t),n}copyIn32(t){const n=this.cloudpilot.Malloc(t.length<<2),r=this.module.getPointer(n);return this.module.HEAPU32.subarray(r>>>2,(r>>>2)+t.length).set(t),n}copyOut(t,n){const r=this.module.getPointer(t);return r>0&&n>0?this.module.HEAPU8.subarray(r,r+n).slice():void 0}wrap(t){return new Proxy(t,{get:(n,r)=>{const i=n[r];return"function"!=typeof i?i:(...o)=>this.guard(()=>i.apply(n,o))}})}wrapTransport(t){const n=new gn.J;return t.SetRequestTransferCallback(this.module.addFunction(()=>n.dispatch(),"v")),this.wrap(Object.setPrototypeOf({Receive:()=>{const r=t.RxBytesPending();return this.copyOut(t.Receive(),r)},Send:(r,i)=>{const o=r&&this.copyIn(r);t.Send(r?.length??0,o??this.cloudpilot.Nullptr(),i),o&&this.cloudpilot.Free(o)},frameCompleteEvent:n},t))}}se([Vt()],Bt.prototype,"enableLogging",null),se([Vt()],Bt.prototype,"getRomInfo",null),se([Vt()],Bt.prototype,"initializeSession",null),se([Vt()],Bt.prototype,"cyclesPerSecond",null),se([Vt()],Bt.prototype,"runEmulation",null),se([Vt()],Bt.prototype,"getFrame",null),se([Vt()],Bt.prototype,"isScreenDirty",null),se([Vt()],Bt.prototype,"markScreenClean",null),se([Vt()],Bt.prototype,"minRamForDevice",null),se([Vt()],Bt.prototype,"framebufferSizeForDevice",null),se([Vt()],Bt.prototype,"totalMemorySizeForDevice",null),se([Vt()],Bt.prototype,"queuePenMove",null),se([Vt()],Bt.prototype,"queuePenUp",null),se([Vt()],Bt.prototype,"queueButtonDown",null),se([Vt()],Bt.prototype,"queueButtonUp",null),se([Vt()],Bt.prototype,"queueKeyboardEvent",null),se([Vt()],Bt.prototype,"isPowerOff",null),se([Vt()],Bt.prototype,"isUiInitialized",null),se([Vt()],Bt.prototype,"isSetupComplete",null),se([Vt()],Bt.prototype,"getOSVersion",null),se([Vt()],Bt.prototype,"reset",null),se([Vt()],Bt.prototype,"resetNoExtensions",null),se([Vt()],Bt.prototype,"resetHard",null),se([Vt()],Bt.prototype,"installDb",null),se([Vt()],Bt.prototype,"getPalette2bitMapping",null),se([Vt()],Bt.prototype,"getMemory",null),se([Vt()],Bt.prototype,"getMemory32",null),se([Vt()],Bt.prototype,"getDirtyPages",null),se([Vt()],Bt.prototype,"loadMemory",null),se([Vt()],Bt.prototype,"getRomImage",null),se([Vt()],Bt.prototype,"getSavestate",null),se([Vt()],Bt.prototype,"saveState",null),se([Vt()],Bt.prototype,"loadState",null),se([Vt()],Bt.prototype,"getHotsyncName",null),se([Vt()],Bt.prototype,"setClockFactor",null),se([Vt()],Bt.prototype,"setHotsyncName",null),se([Vt()],Bt.prototype,"setClipboardIntegration",null),se([Vt()],Bt.prototype,"getClipboardIntegration",null),se([Vt()],Bt.prototype,"isSuspended",null),se([Vt()],Bt.prototype,"getSuspendKind",null),se([Vt()],Bt.prototype,"cancelSuspend",null),se([Vt()],Bt.prototype,"getSuspendContextClipboardCopy",null),se([Vt()],Bt.prototype,"getSuspendContextClipboardPaste",null),se([Vt()],Bt.prototype,"setNetworkRedirection",null),se([Vt()],Bt.prototype,"getNetworkRedirection",null),se([Vt()],Bt.prototype,"getSuspendContextNetworkConnect",null),se([Vt()],Bt.prototype,"getSuspendContextNetworkRpc",null),se([Vt()],Bt.prototype,"getSuspendContextSerialSync",null),se([Vt()],Bt.prototype,"copyBuffer",null),se([Vt()],Bt.prototype,"freeBuffer",null),se([Vt()],Bt.prototype,"setHotsyncNameManagement",null),se([Vt()],Bt.prototype,"resolveBuffer",null),se([Vt()],Bt.prototype,"serializeSessionImage",null),se([Vt()],Bt.prototype,"deserializeSessionImage",null),se([Vt()],Bt.prototype,"launchAppByName",null),se([Vt()],Bt.prototype,"launchAppByDbHeader",null),se([Vt()],Bt.prototype,"clearExternalStorage",null),se([Vt()],Bt.prototype,"allocateCard",null),se([Vt()],Bt.prototype,"decompressCard",null),se([Vt()],Bt.prototype,"getCardData",null),se([Vt()],Bt.prototype,"getCardDirtyPages",null),se([Vt()],Bt.prototype,"getMountedKey",null),se([Vt()],Bt.prototype,"mountCard",null),se([Vt()],Bt.prototype,"removeCard",null),se([Vt()],Bt.prototype,"remountCards",null),se([Vt()],Bt.prototype,"remountFailed",null),se([Vt()],Bt.prototype,"getCardSupportLevel",null),se([Vt()],Bt.prototype,"loadSkin",null);const Q0="application/wasm";function XP(e){return J0.apply(this,arguments)}function J0(){return(J0=(0,T.A)(function*(e){const t=yield fetch(e);if(!t.ok)throw new Error(`request for ${e} failed with ${t.status}: ${t.statusText}`);const n=t.headers.get("Content-Type")??"no mime type";if(n!==Q0&&console.warn(`response for ${e} has wrong mime type: expected ${Q0}, got ${n}`),n===Q0&&WebAssembly.compileStreaming)return WebAssembly.compileStreaming(t);const r=yield t.arrayBuffer();return WebAssembly.compile(r)})).apply(this,arguments)}class QP{}let dK=(()=>{class e{preload(n,r){return r().pipe(ud(()=>_n(null)))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fK=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ya(n=>n instanceof Pc),Bf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=ug(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Co(i).pipe(Gf())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):_n(null);const o=i.pipe(qo(s=>null===s?_n(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?Co([o,this.loader.loadComponent(n,r)]).pipe(Gf()):o})}static \u0275fac=function(r){return new(r||e)(de(Zo),de(Lr),de(QP),de(Z0))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ew=new at("");let JP=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Kh;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Xh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Pc?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Vf&&n.code===Nv.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof gP&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){var i=this;this.zone.runOutsideAngular((0,T.A)(function*(){yield new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),i.zone.run(()=>{i.transitions.events.next(new gP(n,"popstate"===i.lastSource?i.store[i.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){!function k1(){throw new Error("invalid")}()};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();function sc(e,t){return{\u0275kind:e,\u0275providers:t}}function tO(){const e=Ge(gi);return t=>{const n=e.get(Ha);if(t!==n.components[0])return;const r=e.get(Zo),i=e.get(nO);1===e.get(tw)&&r.initialNavigation(),e.get(rO,null,{optional:!0})?.setUpPreloading(),e.get(ew,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const nO=new at("",{factory:()=>new x}),tw=new at("",{providedIn:"root",factory:()=>1}),rO=new at("");function _K(e){return sc(0,[{provide:rO,useExisting:fK},{provide:QP,useExisting:e}])}function vK(e){return Ho("NgRouterViewTransitions"),sc(9,[{provide:jP,useValue:WY},{provide:zP,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const yK=[Ai,{provide:zf,useClass:xv},Zo,md,{provide:Oc,useFactory:function eO(e){return e.routerState.root},deps:[Zo]},Z0,[]];let zv=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[yK,[],{provide:jv,multi:!0,useValue:n},[],r?.errorHandler?{provide:VP,useValue:r.errorHandler}:[],{provide:Kf,useValue:r||{}},r?.useHash?{provide:xr,useClass:_N}:{provide:xr,useClass:ei},{provide:ew,useFactory:()=>{const e=Ge(T8),t=Ge(qe),n=Ge(Kf),r=Ge(K0),i=Ge(zf);return n.scrollOffset&&e.setOffset(n.scrollOffset),new JP(i,r,e,t,n)}},r?.preloadingStrategy?_K(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?wK(r):[],r?.bindToComponentInputs?sc(8,[DP,{provide:Lv,useExisting:DP}]).\u0275providers:[],r?.enableViewTransitions?vK().\u0275providers:[],[{provide:iO,useFactory:tO},{provide:aA,multi:!0,useExisting:iO}]]}}static forChild(n){return{ngModule:e,providers:[{provide:jv,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=lo({type:e});static \u0275inj=jr({})}return e})();function wK(e){return["disabled"===e.initialNavigation?sc(3,[US(()=>{Ge(Zo).setUpLocationChangeListener()}),{provide:tw,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?sc(2,[{provide:LB,useValue:!0},{provide:tw,useValue:0},US(()=>{const t=Ge(gi);return t.get(NI,Promise.resolve()).then(()=>new Promise(r=>{const i=t.get(Zo),o=t.get(nO);qP(i,()=>{r(!0)}),t.get(K0).afterPreactivation=()=>(r(!0),o.closed?_n(void 0):o),i.initialNavigation()}))})]).\u0275providers:[]]}const iO=new at("");var DK=b(5886);const oO=e=>aO(e),aO=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=IK(e),t.forEach(n=>e.document.documentElement.classList.add(`plt-${n}`))),t},IK=e=>{const t=DK.c.get("platform");return Object.keys(fO).filter(n=>{const r=t?.[n];return"function"==typeof r?r(e):fO[n](e)})},nw=e=>!!(_d(e,/iPad/i)||_d(e,/Macintosh/i)&&Vv(e)),lO=e=>_d(e,/android|sink/i),Vv=e=>OK(e,"(any-pointer:coarse)"),cO=e=>uO(e)||dO(e),uO=e=>!!(e.cordova||e.phonegap||e.PhoneGap),dO=e=>{const t=e.Capacitor;return!!(t?.isNative||t?.isNativePlatform&&t.isNativePlatform())},_d=(e,t)=>t.test(e.navigator.userAgent),OK=(e,t)=>{var n;return null===(n=e.matchMedia)||void 0===n?void 0:n.call(e,t).matches},fO={ipad:nw,iphone:e=>_d(e,/iPhone/i),ios:e=>_d(e,/iPhone|iPod/i)||nw(e),android:lO,phablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),i=Math.max(t,n);return r>390&&r<520&&i>620&&i<800},tablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),i=Math.max(t,n);return nw(e)||(e=>lO(e)&&!_d(e,/mobile/i))(e)||r>460&&r<820&&i>780&&i<1400},cordova:uO,capacitor:dO,electron:e=>_d(e,/electron/i),pwa:e=>{var t;return!!(null!==(t=e.matchMedia)&&void 0!==t&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},mobile:Vv,mobileweb:e=>Vv(e)&&!cO(e),desktop:e=>!Vv(e),hybrid:cO};var rm=b(3112);const zK=["addListener","removeListener"],VK=["addEventListener","removeEventListener"],HK=["on","off"];function Hv(e,t,n,r){if(Lt(n)&&(r=n,n=void 0),r)return Hv(e,t,n).pipe(E0(r));const[i,o]=function ZK(e){return Lt(e.addEventListener)&&Lt(e.removeEventListener)}(e)?VK.map(s=>a=>e[s](t,a,n)):function WK(e){return Lt(e.addListener)&&Lt(e.removeListener)}(e)?zK.map(pO(e,t)):function qK(e){return Lt(e.on)&&Lt(e.off)}(e)?HK.map(pO(e,t)):[];if(!i&&m0(e))return qo(s=>Hv(s,t,n))(Xs(e));if(!i)throw new TypeError("Invalid event target");return new dn(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function pO(e,t){return n=>r=>e[n](t,r)}function hO(e,t=qn){return e=e??YK,er((n,r)=>{let i,o=!0;n.subscribe(Kn(r,s=>{const a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}function YK(e,t){return e===t}let mO=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(y(Ic),y(ct))};static \u0275dir=Yt({type:e})}return e})(),gd=(()=>{class e extends mO{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ci(e)))(i||e)}})();static \u0275dir=Yt({type:e,features:[Qn]})}return e})();const Js=new at(""),QK={provide:Js,useExisting:Tn(()=>rw),multi:!0},eX=new at("");let rw=(()=>{class e extends mO{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,null==this._compositionMode&&(this._compositionMode=!function JK(){const e=en()?en().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(y(Ic),y(ct),y(eX,8))};static \u0275dir=Yt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&je("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Wr([QK]),Qn]})}return e})();function iw(e){return null==e||0===ow(e)}function ow(e){return null==e?null:Array.isArray(e)||"string"==typeof e?e.length:e instanceof Set?e.size:null}const $o=new at(""),Cu=new at(""),tX=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class im{static min(t){return gO(t)}static max(t){return vO(t)}static required(t){return function yO(e){return iw(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function bO(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function SO(e){return iw(e.value)||tX.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function CO(e){return t=>{const n=t.value?.length??ow(t.value);return null===n||0===n?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}(t)}static maxLength(t){return wO(t)}static pattern(t){return function EO(e){if(!e)return Wv;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(iw(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return AO(t)}static composeAsync(t){return kO(t)}}function gO(e){return t=>{if(null==t.value||null==e)return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function vO(e){return t=>{if(null==t.value||null==e)return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function wO(e){return t=>{const n=t.value?.length??ow(t.value);return null!==n&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function Wv(e){return null}function DO(e){return null!=e}function IO(e){return vh(e)?Co(e):e}function xO(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function TO(e,t){return t.map(n=>n(e))}function MO(e){return e.map(t=>function nX(e){return!e.validate}(t)?t:n=>t.validate(n))}function AO(e){if(!e)return null;const t=e.filter(DO);return 0==t.length?null:function(n){return xO(TO(n,t))}}function sw(e){return null!=e?AO(MO(e)):null}function kO(e){if(!e)return null;const t=e.filter(DO);return 0==t.length?null:function(n){return function KK(...e){const t=wF(e),{args:n,keys:r}=WF(e),i=new dn(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let f=0;f<s;f++){let m=!1;Xs(n[f]).subscribe(Kn(o,g=>{m||(m=!0,u--),a[f]=g},()=>l--,void 0,()=>{(!l||!m)&&(u||o.next(r?qF(r,a):a),o.complete())}))}});return t?i.pipe(E0(t)):i}(TO(n,t).map(IO)).pipe(Xt(xO))}}function aw(e){return null!=e?kO(MO(e)):null}function RO(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function NO(e){return e._rawValidators}function FO(e){return e._rawAsyncValidators}function lw(e){return e?Array.isArray(e)?e:[e]:[]}function qv(e,t){return Array.isArray(e)?e.includes(t):e===t}function PO(e,t){const n=lw(t);return lw(e).forEach(i=>{qv(n,i)||n.push(i)}),n}function OO(e,t){return lw(t).filter(n=>!qv(e,n))}class LO{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=sw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=aw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Es extends LO{name;get formDirective(){return null}get path(){return null}}class Lc extends LO{_parent=null;name=null;valueAccessor=null}class $O{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let $c=(()=>{class e extends $O{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(y(Lc,2))};static \u0275dir=Yt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Sa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Qn]})}return e})(),Bc=(()=>{class e extends $O{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(y(Es,10))};static \u0275dir=Yt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Sa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Qn]})}return e})();const om="VALID",Yv="INVALID",Qf="PENDING",sm="DISABLED";class Jf{}class GO extends Jf{value;source;constructor(t,n){super(),this.value=t,this.source=n}}class dw extends Jf{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}}class fw extends Jf{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}}class Kv extends Jf{status;source;constructor(t,n){super(),this.status=t,this.source=n}}class UO extends Jf{source;constructor(t){super(),this.source=t}}class jO extends Jf{source;constructor(t){super(),this.source=t}}function pw(e){return(Xv(e)?e.validators:e)||null}function hw(e,t){return(Xv(t)?t.asyncValidators:e)||null}function Xv(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class mw{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return wi(this.statusReactive)}set status(t){wi(()=>this.statusReactive.set(t))}_status=Oo(()=>this.statusReactive());statusReactive=ao(void 0);get valid(){return this.status===om}get invalid(){return this.status===Yv}get pending(){return this.status==Qf}get disabled(){return this.status===sm}get enabled(){return this.status!==sm}errors;get pristine(){return wi(this.pristineReactive)}set pristine(t){wi(()=>this.pristineReactive.set(t))}_pristine=Oo(()=>this.pristineReactive());pristineReactive=ao(!0);get dirty(){return!this.pristine}get touched(){return wi(this.touchedReactive)}set touched(t){wi(()=>this.touchedReactive.set(t))}_touched=Oo(()=>this.touchedReactive());touchedReactive=ao(!1);get untouched(){return!this.touched}_events=new x;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(PO(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(PO(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(OO(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(OO(t,this._rawAsyncValidators))}hasValidator(t){return qv(this._rawValidators,t)}hasAsyncValidator(t){return qv(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const n=!1===this.touched;this.touched=!0;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:r}),n&&!1!==t.emitEvent&&this._events.next(new fw(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&!1!==t.emitEvent&&this._events.next(new fw(!1,r))}markAsDirty(t={}){const n=!0===this.pristine;this.pristine=!1;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:r}),n&&!1!==t.emitEvent&&this._events.next(new dw(!1,r))}markAsPristine(t={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&!1!==t.emitEvent&&this._events.next(new dw(!0,r))}markAsPending(t={}){this.status=Qf;const n=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new Kv(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:n})}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=sm,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue();const r=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new GO(this.value,r)),this._events.next(new Kv(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n},this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=om,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===om||this.status===Qf)&&this._runAsyncValidator(r,t.emitEvent)}const n=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new GO(this.value,n)),this._events.next(new Kv(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:n})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sm:om}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Qf,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n,shouldHaveEmitted:!1!==t};const r=IO(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Kv(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new En,this.statusChanges=new En}_calculateStatus(){return this._allControlsDisabled()?sm:this.errors?Yv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qf)?Qf:this._anyControlsHaveStatus(Yv)?Yv:om}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){const r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new dw(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new fw(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Xv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function cX(e){return Array.isArray(e)?sw(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function uX(e){return Array.isArray(e)?aw(e):e||null}(this._rawAsyncValidators)}}class wu extends mw{constructor(t,n,r){super(pw(n),hw(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function VO(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new Le(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function zO(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new Le(1e3,"");if(!r[n])throw new Le(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Qv=wu,vd=new at("",{providedIn:"root",factory:()=>am}),am="always";function lm(e,t,n=am){_w(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function pX(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&HO(e,t)})}(e,t),function mX(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function hX(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&HO(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function fX(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function ey(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),ny(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function ty(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function _w(e,t){const n=NO(e);null!==t.validator?e.setValidators(RO(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=FO(e);null!==t.asyncValidator?e.setAsyncValidators(RO(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();ty(t._rawValidators,i),ty(t._rawAsyncValidators,i)}function ny(e,t){let n=!1;if(null!==e){if(null!==t.validator){const i=NO(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const i=FO(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}const r=()=>{};return ty(t._rawValidators,r),ty(t._rawAsyncValidators,r),n}function HO(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ZO(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function YO(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const ea=class extends mw{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(pw(n),hw(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xv(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=YO(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ZO(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ZO(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){YO(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},pi=ea;Promise.resolve();let Gc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=Yt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();const bw=new at(""),kX={provide:Es,useExisting:Tn(()=>Xa)};let Xa=(()=>{class e extends Es{callSetDisabledState;get submitted(){return wi(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Oo(()=>this._submittedReactive());_submittedReactive=ao(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new En;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ny(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return lm(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){ey(n.control||null,n,!1),function yX(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),function qO(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new UO(this.control)),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1),!1!==r?.emitEvent&&this.form._events.next(new jO(this.form))}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(ey(r||null,n),(e=>e instanceof ea)(i)&&(lm(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function WO(e,t){_w(e,t)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function _X(e,t){return ny(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_w(this.form,this),this._oldForm&&ny(this._oldForm,this)}static \u0275fac=function(r){return new(r||e)(y($o,10),y(Cu,10),y(vd,8))};static \u0275dir=Yt({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&je("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Wr([kX]),Qn,vs]})}return e})();const FX={provide:Lc,useExisting:Tn(()=>ac)};let ac=(()=>{class e extends Lc{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new En;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function yw(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===rw?n=o:function vX(e){return Object.getPrototypeOf(e.constructor)===gd}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._added||this._setUpControl(),function vw(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Jv(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(y(Es,13),y($o,10),y(Cu,10),y(Js,10),y(bw,8))};static \u0275dir=Yt({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Wr([FX]),Qn,vs]})}return e})();function s2(e){return"number"==typeof e?e:parseFloat(e)}let yd=(()=>{class e{_validator=Wv;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Wv,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Yt({type:e,features:[vs]})}return e})();const UX={provide:$o,useExisting:Tn(()=>ww),multi:!0};let ww=(()=>{class e extends yd{max;inputName="max";normalizeInput=n=>s2(n);createValidator=n=>vO(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ci(e)))(i||e)}})();static \u0275dir=Yt({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&ya("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[Wr([UX]),Qn]})}return e})();const jX={provide:$o,useExisting:Tn(()=>Ew),multi:!0};let Ew=(()=>{class e extends yd{min;inputName="min";normalizeInput=n=>s2(n);createValidator=n=>gO(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ci(e)))(i||e)}})();static \u0275dir=Yt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&ya("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Wr([jX]),Qn]})}return e})();const qX={provide:$o,useExisting:Tn(()=>Iw),multi:!0};let Iw=(()=>{class e extends yd{maxlength;inputName="maxlength";normalizeInput=n=>function o2(e){return"number"==typeof e?e:parseInt(e,10)}(n);createValidator=n=>wO(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ci(e)))(i||e)}})();static \u0275dir=Yt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&ya("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Wr([qX]),Qn]})}return e})(),d2=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=lo({type:e});static \u0275inj=jr({})}return e})(),bd=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:vd,useValue:n.callSetDisabledState??am}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=lo({type:e});static \u0275inj=jr({imports:[d2]})}return e})(),ay=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:bw,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:vd,useValue:n.callSetDisabledState??am}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=lo({type:e});static \u0275inj=jr({imports:[d2]})}return e})();const KX=["tabsInner"];let XX=(()=>{class e{doc;_readyPromise;win;backButton=new x;keyboardDidShow=new x;keyboardDidHide=new x;pause=new x;resume=new x;resize=new x;constructor(n,r){this.doc=n,r.run(()=>{let i;this.win=n.defaultView,this.backButton.subscribeWithPriority=function(o,s){return this.subscribe(a=>a.register(o,l=>r.run(()=>s(l))))},ep(this.pause,n,"pause",r),ep(this.resume,n,"resume",r),ep(this.backButton,n,"ionBackButton",r),ep(this.resize,this.win,"resize",r),ep(this.keyboardDidShow,this.win,"ionKeyboardDidShow",r),ep(this.keyboardDidHide,this.win,"ionKeyboardDidHide",r),this._readyPromise=new Promise(o=>{i=o}),this.win?.cordova?n.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(n){return((e,t)=>("string"==typeof e&&(t=e,e=void 0),oO(e).includes(t)))(this.win,n)}platforms(){return oO(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(n){return QX(this.win.location.href,n)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(n){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(n)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}static \u0275fac=function(r){return new(r||e)(de(so),de(qe))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const QX=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},ep=(e,t,n,r)=>{t&&t.addEventListener(n,i=>{r.run(()=>{const o=i?.detail;e.next(o)})})};let tp=(()=>{class e{location;serializer;router;topOutlet;direction=f2;animated=p2;animationBuilder;guessDirection="forward";guessAnimation;lastNavId=-1;constructor(n,r,i,o){this.location=r,this.serializer=i,this.router=o,o&&o.events.subscribe(s=>{if(s instanceof Xh){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=this.guessAnimation=a<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?s.id:a}}),n.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(n,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateBack(n,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateRoot(n,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}back(n={animated:!0,animationDirection:"back"}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.location.back()}pop(){var n=this;return(0,T.A)(function*(){let r=n.topOutlet;for(;r;){if(yield r.pop())return!0;r=r.parentOutlet}return!1})()}setDirection(n,r,i,o){this.direction=n,this.animated=JX(n,r,i),this.animationBuilder=o}setTopOutlet(n){this.topOutlet=n}consumeTransition(){let r,n="root";const i=this.animationBuilder;return"auto"===this.direction?(n=this.guessDirection,r=this.guessAnimation):(r=this.animated,n=this.direction),this.direction=f2,this.animated=p2,this.animationBuilder=void 0,{direction:n,animation:r,animationBuilder:i}}navigate(n,r){if(Array.isArray(n))return this.router.navigate(n,r);{const i=this.serializer.parse(n.toString());return void 0!==r.queryParams&&(i.queryParams={...r.queryParams}),void 0!==r.fragment&&(i.fragment=r.fragment),this.router.navigateByUrl(i,r)}}static \u0275fac=function(r){return new(r||e)(de(XX),de(Ai),de(zf),de(Zo,8))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const JX=(e,t,n)=>{if(!1!==t){if(void 0!==n)return n;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},f2="auto",p2=void 0;let dm=(()=>{class e{get(n,r){const i=Tw();return i?i.get(n,r):null}getBoolean(n,r){const i=Tw();return!!i&&i.getBoolean(n,r)}getNumber(n,r){const i=Tw();return i?i.getNumber(n,r):0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const xw=new at("USERCONFIG"),Tw=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class h2{data;constructor(t={}){this.data=t,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(t){return this.data[t]}}const eQ=new at("IonModalToken");let fm=(()=>{class e{zone=Ge(qe);applicationRef=Ge(Ha);config=Ge(xw);create(n,r,i){return new tQ(n,r,this.applicationRef,this.zone,i,this.config.useSetInputAPI??!1)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();class tQ{environmentInjector;injector;applicationRef;zone;elementReferenceKey;enableSignalsSupport;elRefMap=new WeakMap;elEventsMap=new WeakMap;constructor(t,n,r,i,o,s){this.environmentInjector=t,this.injector=n,this.applicationRef=r,this.zone=i,this.elementReferenceKey=o,this.enableSignalsSupport=s}attachViewToDom(t,n,r,i){return this.zone.run(()=>new Promise(o=>{const s={...r};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),o(nQ(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,n,s,i,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(t,n){return this.zone.run(()=>new Promise(r=>{const i=this.elRefMap.get(n);if(i){i.destroy(),this.elRefMap.delete(n);const o=this.elEventsMap.get(n);o&&(o(),this.elEventsMap.delete(n))}r()}))}}const nQ=(e,t,n,r,i,o,s,a,l,u,f,m)=>{const g=iQ(l);"ion-modal"===s.tagName.toLowerCase()&&g.push({provide:eQ,useValue:s});const F=function I8(e,t){const n=Ht(e),r=t.elementInjector||fa();return new dh(n).create(r,t.projectableNodes,t.hostElement,t.environmentInjector,t.directives,t.bindings)}(a,{environmentInjector:t,elementInjector:gi.create({providers:g,parent:n})}),H=F.instance,ie=F.location.nativeElement;if(l)if(f&&void 0!==H[f]&&console.error(`[Ionic Error]: ${f} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${f}" property from ${a.name}.`),!0===m&&void 0!==F.setInput){const{modal:he,popover:pt,...xt}=l;for(const Dt in xt)F.setInput(Dt,xt[Dt]);void 0!==he&&Object.assign(H,{modal:he}),void 0!==pt&&Object.assign(H,{popover:pt})}else Object.assign(H,l);if(u)for(const he of u)ie.classList.add(he);const me=m2(e,H,ie);return s.appendChild(ie),r.attachView(F.hostView),i.set(ie,F),o.set(ie,me),ie},rQ=[rm.L,rm.a,rm.b,rm.c,rm.d],m2=(e,t,n)=>e.run(()=>{const r=rQ.filter(i=>"function"==typeof t[i]).map(i=>{const o=s=>t[i](s.detail);return n.addEventListener(i,o),()=>n.removeEventListener(i,o)});return()=>r.forEach(i=>i())}),_2=new at("NavParamsToken"),iQ=e=>[{provide:_2,useValue:e},{provide:h2,useFactory:oQ,deps:[_2]}],oQ=e=>new h2(e),sQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)}})})},aQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{n[r]=function(){const i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})};function ly(e){return function(n){const{defineCustomElementFn:r,inputs:i,methods:o}=e;return void 0!==r&&r(),i&&sQ(n,i),o&&aQ(n,o),n}}const g2=(e,t)=>((e=e.filter(n=>n.stackId!==t.stackId)).push(t),e),Aw=(e,t)=>{const n=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(n)},v2=(e,t)=>!t||e.stackId!==t.stackId,gQ=(e,t)=>{if(!e)return;const n=y2(t);for(let r=0;r<n.length;r++){if(r>=e.length)return n[r];if(n[r]!==e[r])return}},y2=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),b2=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class vQ{containerEl;router;navCtrl;zone;location;views=[];runningTask;skipTransition=!1;tabsPrefix;activeView;nextId=0;constructor(t,n,r,i,o,s){this.containerEl=n,this.router=r,this.navCtrl=i,this.zone=o,this.location=s,this.tabsPrefix=void 0!==t?y2(t):void 0}createView(t,n){const r=Aw(this.router,n),i=t?.location?.nativeElement,o=m2(this.zone,t.instance,i);return{id:this.nextId++,stackId:gQ(this.tabsPrefix,r),unlistenEvents:o,element:i,ref:t,url:r}}getExistingView(t){const n=Aw(this.router,t),r=this.views.find(i=>i.url===n);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(t){const n=this.navCtrl.consumeTransition();let{direction:r,animation:i,animationBuilder:o}=n;const s=this.activeView,a=v2(t,s);a&&(r="back",i=void 0);const l=this.views.slice();let u;const f=this.router;f.getCurrentNavigation?u=f.getCurrentNavigation():f.navigations?.value&&(u=f.navigations.value),u?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const m=this.views.includes(t),g=this.insertView(t,r);m||t.ref.changeDetectorRef.detectChanges();const w=t.animationBuilder;return void 0===o&&"back"===r&&!a&&void 0!==w&&(o=w),s&&(s.animationBuilder=o),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,i,this.canGoBack(1),!1,o).then(()=>yQ(t,g,l,this.location,this.zone)).then(()=>({enteringView:t,direction:r,animation:i,tabSwitch:a})))))}canGoBack(t,n=this.getActiveStackId()){return this.getStack(n).length>t}pop(t,n=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(n);if(r.length<=t)return Promise.resolve(!1);const i=r[r.length-t-1];let o=i.url;const s=i.savedData;if(s){const l=s.get("primary");l?.route?._routerState?.snapshot.url&&(o=l.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(o,{...i.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const n=this.getStack(t.stackId),r=n[n.length-2],i=r.animationBuilder;return this.wait(()=>this.transition(r,t,"back",this.canGoBack(2),!0,i))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&S2(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const n=this.getStack(t);return n.length>0?n[n.length-1]:void 0}getRootUrl(t){const n=this.getStack(t);return n.length>0?n[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(b2),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(n=>n.stackId===t)}insertView(t,n){return this.activeView=t,this.views=((e,t,n)=>"root"===n?g2(e,t):"forward"===n?((e,t)=>(e.indexOf(t)>=0?e=e.filter(r=>r.stackId!==t.stackId||r.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(r=>r.stackId!==t.stackId||r.id<=t.id):g2(e,t))(e,t))(this.views,t,n),this.views.slice()}transition(t,n,r,i,o,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(n===t)return Promise.resolve(!1);const a=t?t.element:void 0,l=n?n.element:void 0,u=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),u.commit)?u.commit(a,l,{duration:void 0===r?0:void 0,direction:r,showGoBack:i,progressAnimation:o,animationBuilder:s}):Promise.resolve(!1)}wait(t){var n=this;return(0,T.A)(function*(){void 0!==n.runningTask&&(yield n.runningTask,n.runningTask=void 0);const r=n.runningTask=t();return r.finally(()=>n.runningTask=void 0),r})()}}const yQ=(e,t,n,r,i)=>"function"==typeof requestAnimationFrame?new Promise(o=>{requestAnimationFrame(()=>{S2(e,t,n,r,i),o()})}):Promise.resolve(),S2=(e,t,n,r,i)=>{i.run(()=>n.filter(o=>!t.includes(o)).forEach(b2)),t.forEach(o=>{const a=r.path().split("?")[0].split("#")[0];if(o!==e&&o.url!==a){const l=o.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),o.ref.changeDetectorRef.detach()}})};let C2=(()=>{class e{parentOutlet;nativeEl;activatedView=null;tabsPrefix;_swipeGesture;stackCtrl;proxyMap=new WeakMap;currentActivatedRoute$=new ri(null);activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Jn;stackWillChange=new En;stackDidChange=new En;activateEvents=new En;deactivateEvents=new En;parentContexts=Ge(md);location=Ge(ys);environmentInjector=Ge(Lr);inputBinder=Ge(w2,{optional:!0});supportsBindingToComponentInputs=!0;config=Ge(dm);navCtrl=Ge(tp);set animation(n){this.nativeEl.animation=n}set animated(n){this.nativeEl.animated=n}set swipeGesture(n){this._swipeGesture=n,this.nativeEl.swipeHandler=n?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}constructor(n,r,i,o,s,a,l,u){this.parentOutlet=u,this.nativeEl=o.nativeElement,this.name=n||Jn,this.tabsPrefix="true"===r?Aw(s,l):void 0,this.stackCtrl=new vQ(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,i),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const n=this.getContext();n?.route&&this.activateWith(n.route,n.injector)}new Promise(n=>((e,t)=>{e.componentOnReady?e.componentOnReady().then(n=>t(n)):(e=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e)})(()=>t(e))})(this.nativeEl,n)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(n,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const i=this.activatedView.savedData.get("primary");if(i&&r.route&&(i.route={...r.route}),this.activatedView.savedExtras={},r.route){const o=r.route.snapshot;this.activatedView.savedExtras.queryParams=o.queryParams,this.activatedView.savedExtras.fragment=o.fragment}}const n=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;let i,o=this.stackCtrl.getExistingView(n);if(o){i=this.activated=o.ref;const a=o.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(i.instance,n)}else{const a=n._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,u=new ri(null),f=this.createActivatedRouteProxy(u,n),m=new bQ(f,l,this.location.injector);i=this.activated=this.outletContent.createComponent(a.routeConfig.component??a.component,{index:this.outletContent.length,injector:m,environmentInjector:r??this.environmentInjector}),u.next(i.instance),o=this.stackCtrl.createView(this.activated,n),this.proxyMap.set(i.instance,f),this.currentActivatedRoute$.next({component:i.instance,activatedRoute:n})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=o,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:o,tabSwitch:v2(o,s)}),this.stackCtrl.setActive(o).then(a=>{this.activateEvents.emit(i.instance),this.stackDidChange.emit(a)})}canGoBack(n=1,r){return this.stackCtrl.canGoBack(n,r)}pop(n=1,r){return this.stackCtrl.pop(n,r)}getLastUrl(n){const r=this.stackCtrl.getLastUrl(n);return r?r.url:void 0}getLastRouteView(n){return this.stackCtrl.getLastUrl(n)}getRootView(n){return this.stackCtrl.getRootUrl(n)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(n,r){const i=new Oc;return i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,i._paramMap=this.proxyObservable(n,"paramMap"),i._queryParamMap=this.proxyObservable(n,"queryParamMap"),i.url=this.proxyObservable(n,"url"),i.params=this.proxyObservable(n,"params"),i.queryParams=this.proxyObservable(n,"queryParams"),i.fragment=this.proxyObservable(n,"fragment"),i.data=this.proxyObservable(n,"data"),i}proxyObservable(n,r){return n.pipe(Ya(i=>!!i),Lo(i=>this.currentActivatedRoute$.pipe(Ya(o=>null!==o&&o.component===i),Lo(o=>o&&o.activatedRoute[r]),hO())))}updateActivatedRouteProxy(n,r){const i=this.proxyMap.get(n);if(!i)throw new Error("Could not find activated route proxy for view");i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,this.currentActivatedRoute$.next({component:n,activatedRoute:r})}static \u0275fac=function(r){return new(r||e)(wc("name"),wc("tabs"),y(Ai),y(ct),y(Zo),y(qe),y(Oc),y(e,12))};static \u0275dir=Yt({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"],standalone:!1})}return e})();class bQ{route;childContexts;parent;constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Oc?this.route:t===md?this.childContexts:this.parent.get(t,n)}}const w2=new at("");let SQ=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Cv([r.queryParams,r.params,r.data]).pipe(Lo(([o,s,a],l)=>(a={...o,...s,...a},0===l?_n(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=KR(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();function wQ(e){return e?.componentInputBindingEnabled?new SQ:null}const E2=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let cy=(()=>{class e{injector;elementRef;onChange=()=>{};onTouched=()=>{};lastValue;statusChanges;constructor(n,r){this.injector=n,this.elementRef=r}writeValue(n){this.elementRef.nativeElement.value=this.lastValue=n,np(this.elementRef)}handleValueChange(n,r){n===this.elementRef.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),np(this.elementRef))}_handleBlurEvent(n){n===this.elementRef.nativeElement?(this.onTouched(),np(this.elementRef)):n.closest("ion-radio-group")===this.elementRef.nativeElement&&this.onTouched()}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.elementRef.nativeElement.disabled=n}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let n;try{n=this.injector.get(Lc)}catch{}if(!n)return;n.statusChanges&&(this.statusChanges=n.statusChanges.subscribe(()=>np(this.elementRef)));const r=n.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(o=>{if(typeof r[o]<"u"){const s=r[o].bind(r);r[o]=(...a)=>{s(...a),np(this.elementRef)}}})}static \u0275fac=function(r){return new(r||e)(y(gi),y(ct))};static \u0275dir=Yt({type:e,hostBindings:function(r,i){1&r&&je("ionBlur",function(s){return i._handleBlurEvent(s.target)})},standalone:!1})}return e})();const np=e=>{E2(()=>{const t=e.nativeElement,n=null!=t.value&&t.value.toString().length>0,r=EQ(t);kw(t,r);const i=t.closest("ion-item");i&&kw(i,n?[...r,"item-has-value"]:r)})},EQ=e=>{const t=e.classList,n=[];for(let r=0;r<t.length;r++){const i=t.item(r);null!==i&&DQ(i,"ng-")&&n.push(`ion-${i.substring(3)}`)}return n},kw=(e,t)=>{const n=e.classList;n.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),n.add(...t)},DQ=(e,t)=>e.substring(0,t.length)===t,IQ=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let xQ=(()=>{let e=class qE{routerOutlet;navCtrl;config;r;z;el;constructor(n,r,i,o,s,a){this.routerOutlet=n,this.navCtrl=r,this.config=i,this.r=o,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(n){const r=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),n.preventDefault()):null!=r&&(this.navCtrl.navigateBack(r,{animation:this.routerAnimation}),n.preventDefault())}static \u0275fac=function(r){return new(r||qE)(y(C2,8),y(tp),y(dm),y(ct),y(qe),y(St))};static \u0275dir=Yt({type:qE,hostBindings:function(r,i){1&r&&je("click",function(s){return i.onClick(s)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},standalone:!1})};return e=se([ly({inputs:IQ})],e),e})();const TQ=["animated","animation","root","rootParams","swipeGesture"],MQ=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let AQ=(()=>{let e=class ZE{z;el;constructor(n,r,i,o,s,a){this.z=s,a.detach(),this.el=n.nativeElement,n.nativeElement.delegate=o.create(r,i),((e,t,n)=>{n.forEach(r=>e[r]=Hv(t,r))})(this,this.el,["ionNavDidChange","ionNavWillChange"])}static \u0275fac=function(r){return new(r||ZE)(y(ct),y(Lr),y(gi),y(fm),y(qe),y(St))};static \u0275dir=Yt({type:ZE,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},standalone:!1})};return e=se([ly({inputs:TQ,methods:MQ})],e),e})(),NQ=(()=>{class e{navCtrl;tabsInner;ionTabsWillChange=new En;ionTabsDidChange=new En;tabBarSlot="bottom";hasTab=!1;selectedTab;leavingTab;constructor(n){this.navCtrl=n}ngAfterViewInit(){const n=this.tabs.length>0?this.tabs.first:void 0;n&&(this.hasTab=!0,this.setActiveTab(n.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:n,tabSwitch:r}){const i=n.stackId;r&&void 0!==i&&this.ionTabsWillChange.emit({tab:i})}onStackDidChange({enteringView:n,tabSwitch:r}){const i=n.stackId;r&&void 0!==i&&(this.tabBar&&(this.tabBar.selectedTab=i),this.ionTabsDidChange.emit({tab:i}))}select(n){const r="string"==typeof n,i=r?n:n.detail.tab;if(this.hasTab)return this.setActiveTab(i),void this.tabSwitch();const o=this.outlet.getActiveStackId()===i,s=`${this.outlet.tabsPrefix}/${i}`;if(r||n.stopPropagation(),o){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const u=this.outlet.getRootView(i);return this.navCtrl.navigateRoot(s,{...u&&s===u.url&&u.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(i),l=a?.url||s,u=a?.savedExtras;return this.navCtrl.navigateRoot(l,{...u,animated:!0,animationDirection:"back"})}}setActiveTab(n){const i=this.tabs.find(o=>o.tab===n);i?(this.leavingTab=this.selectedTab,this.selectedTab=i,this.ionTabsWillChange.emit({tab:n}),i.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${n}" does not exist`)}tabSwitch(){const{selectedTab:n,leavingTab:r}=this;this.tabBar&&n&&(this.tabBar.selectedTab=n.tab),r?.tab!==n?.tab&&r?.el&&(r.el.active=!1),n&&this.ionTabsDidChange.emit({tab:n.tab})}getSelected(){return this.hasTab?this.selectedTab?.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(n=>{const r=n.el.getAttribute("slot");r!==this.tabBarSlot&&(this.tabBarSlot=r,this.relocateTabBar())})}relocateTabBar(){const n=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(n):this.tabsInner.nativeElement.after(n)}static \u0275fac=function(r){return new(r||e)(y(tp))};static \u0275dir=Yt({type:e,selectors:[["ion-tabs"]],viewQuery:function(r,i){if(1&r&&Tc(KX,7,ct),2&r){let o;Ss(o=Cs())&&(i.tabsInner=o.first)}},hostBindings:function(r,i){1&r&&je("ionTabButtonClick",function(s){return i.select(s)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},standalone:!1})}return e})();class pm{ctrl;constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,n,r){return this.ctrl.dismiss(t,n,r)}getTop(){return this.ctrl.getTop()}}class FQ{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,n){}retrieve(t){return null}shouldReuseRoute(t,n){if(t.routeConfig!==n.routeConfig)return!1;const r=t.params,i=n.params,o=Object.keys(r),s=Object.keys(i);if(o.length!==s.length)return!1;for(const a of o)if(i[a]!==r[a])return!1;return!0}}b(7133),b(6780),b(9805),b(1393),b(5860);var PQ=b(9919),OQ=(b(6721),b(9335)),Rw=b(3460),hm=(b(5989),b(7433));b(575),b(566),b(4896),b(5827);const LQ=PQ.i,$Q=function(){var e=(0,T.A)(function*(t,n){if(!(typeof window>"u"))return yield LQ(),(0,OQ.b)(JSON.parse('[["ion-menu_3",[[289,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[289,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[257,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[289,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[289,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[257,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[257,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[256,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[288,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[289,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16,"router-animation"]}]]],["ion-toast",[[289,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16,"html-attributes"],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[289,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"target":[1]}],[288,"ion-card-content"],[289,"ion-card-header",{"color":[513],"translucent":[4]}],[289,"ion-card-subtitle",{"color":[513]}],[289,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[289,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[288,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[256,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[305,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[289,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[288,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[256,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[289,"ion-reorder",null,[[2,"click","onClick"]]],[256,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[289,"ion-segment-button",{"contentId":[513,"content-id"],"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[289,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-chip",[[289,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-input",[[294,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16,"counter-formatter"],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},[[2,"click","onClickCapture"]],{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-searchbar",[[290,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[289,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[257,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16,"root-params"],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[256,"ion-nav-link",{"component":[1],"componentProps":[16,"component-props"],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"]}]]],["ion-tab_2",[[257,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[257,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-textarea",[[294,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16,"counter-formatter"],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},[[2,"click","onClickCapture"]],{"debounce":["debounceChanged"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-backdrop",[[289,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[290,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[289,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"]}],[289,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-tab-bar_2",[[289,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[289,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-datetime-button",[[289,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16,"component-props"],"beforeLeave":[16,"before-leave"],"beforeEnter":[16,"before-enter"]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[257,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"target":[1]}]]],["ion-avatar_3",[[289,"ion-avatar"],[289,"ion-badge",{"color":[513]}],[257,"ion-thumbnail"]]],["ion-col_3",[[257,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[257,"ion-grid",{"fixed":[4]}],[257,"ion-row"]]],["ion-img",[[257,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-input-otp",[[294,"ion-input-otp",{"autocapitalize":[1],"color":[513],"disabled":[516],"fill":[1],"inputmode":[1],"length":[2],"pattern":[1],"readonly":[516],"separators":[1],"shape":[1],"size":[1],"type":[1],"value":[1032],"inputValues":[32],"hasFocus":[32],"previousInputValues":[32],"setFocus":[64]},null,{"value":["valueChanged"],"separators":["processSeparators"],"length":["processSeparators"]}]]],["ion-progress-bar",[[289,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[289,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16,"pin-formatter"],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"step":["stepChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-segment-content",[[257,"ion-segment-content"]]],["ion-segment-view",[[289,"ion-segment-view",{"disabled":[4],"isManualScroll":[32],"setContent":[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]]],["ion-split-pane",[[289,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[257,"ion-text",{"color":[513]}]]],["ion-select-modal",[[290,"ion-select-modal",{"header":[1],"multiple":[4],"options":[16]}]]],["ion-datetime_3",[[289,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16,"format-options"],"readonly":[4],"isDateEnabled":[16,"is-date-enabled"],"showAdjacentDays":[4,"show-adjacent-days"],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16,"title-selected-dates-formatter"],"multiple":[4],"highlightedDates":[16,"highlighted-dates"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[290,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[288,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-action-sheet",[[290,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[290,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-modal",[[289,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"breakpoints":[16],"expandToScroll":[4,"expand-to-scroll"],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16,"component-props"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16,"presenting-element"],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},[[9,"resize","onWindowResize"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-picker",[[289,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[257,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-picker-column-option",[[289,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[289,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"component":[1],"componentProps":[16,"component-props"],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[289,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"setFocus":[64]}]]],["ion-item_8",[[289,"ion-item-divider",{"color":[513],"sticky":[4]}],[288,"ion-item-group"],[289,"ion-note",{"color":[513]}],[257,"ion-skeleton-text",{"animated":[4]}],[294,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[289,"ion-list-header",{"color":[513],"lines":[1]}],[289,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16,"router-animation"],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32],"isInteractive":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[288,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}]]],["ion-app_8",[[256,"ion-app",{"setFocus":[64]}],[292,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[257,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16,"swipe-handler"],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[257,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[292,"ion-header",{"collapse":[1],"translucent":[4]}],[289,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[289,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[294,"ion-buttons",{"collapse":[4]}]]],["ion-select_3",[[289,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"required":[4],"isExpanded":[32],"hasFocus":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[257,"ion-select-option",{"disabled":[4],"value":[8]}],[290,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-spinner",[[257,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[289,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[292,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032],"helperText":[1,"helper-text"],"errorText":[1,"error-text"],"setFocus":[64]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[257,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[289,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"],"aria-checked":["onAriaChanged"],"aria-label":["onAriaChanged"]}],[257,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]]]'),n)});return function(n,r){return e.apply(this,arguments)}}();!function(){if(typeof window<"u"&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}();const It=["*"],BQ=["outletContent"],GQ=["outlet"],UQ=[[["","slot","top"]],"*",[["ion-tab"]]],jQ=["[slot=top]","*","ion-tab"];function zQ(e,t){if(1&e){const n=Fn();V(0,"ion-router-outlet",5,1),je("stackWillChange",function(i){return vt(n),yt(ft().onStackWillChange(i))})("stackDidChange",function(i){return vt(n),yt(ft().onStackDidChange(i))}),Y()}}function VQ(e,t){1&e&&wt(0,2,["*ngIf","tabs.length > 0"])}let rp=(()=>{class e extends cy{constructor(n,r){super(n,r)}writeValue(n){this.elementRef.nativeElement.checked=this.lastValue=n,np(this.elementRef)}_handleIonChange(n){this.handleValueChange(n,n.checked)}static \u0275fac=function(r){return new(r||e)(y(gi),y(ct))};static \u0275dir=Yt({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,i){1&r&&je("ionChange",function(s){return i._handleIonChange(s.target)})},standalone:!1,features:[Wr([{provide:Js,useExisting:e,multi:!0}]),Qn]})}return e})(),Nw=(()=>{class e extends cy{el;constructor(n,r){super(n,r),this.el=r}handleInputEvent(n){this.handleValueChange(n,n.value)}registerOnChange(n){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName||"ION-INPUT-OTP"===this.el.nativeElement.tagName?r=>{n(""===r?null:parseFloat(r))}:n)}static \u0275fac=function(r){return new(r||e)(y(gi),y(ct))};static \u0275dir=Yt({type:e,selectors:[["ion-input","type","number"],["ion-input-otp",3,"type","text"],["ion-range"]],hostBindings:function(r,i){1&r&&je("ionInput",function(s){return i.handleInputEvent(s.target)})},standalone:!1,features:[Wr([{provide:Js,useExisting:e,multi:!0}]),Qn]})}return e})(),mm=(()=>{class e extends cy{constructor(n,r){super(n,r)}_handleChangeEvent(n){this.handleValueChange(n,n.value)}static \u0275fac=function(r){return new(r||e)(y(gi),y(ct))};static \u0275dir=Yt({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,i){1&r&&je("ionChange",function(s){return i._handleChangeEvent(s.target)})},standalone:!1,features:[Wr([{provide:Js,useExisting:e,multi:!0}]),Qn]})}return e})(),Uc=(()=>{class e extends cy{constructor(n,r){super(n,r)}_handleInputEvent(n){this.handleValueChange(n,n.value)}static \u0275fac=function(r){return new(r||e)(y(gi),y(ct))};static \u0275dir=Yt({type:e,selectors:[["ion-input",3,"type","number"],["ion-input-otp","type","text"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(r,i){1&r&&je("ionInput",function(s){return i._handleInputEvent(s.target)})},standalone:!1,features:[Wr([{provide:Js,useExisting:e,multi:!0}]),Qn]})}return e})();const qQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)},configurable:!0})})},ZQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{n[r]=function(){const i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})},wr=(e,t,n)=>{n.forEach(r=>e[r]=Hv(t,r))};function kt(e){return function(n){const{defineCustomElementFn:r,inputs:i,methods:o}=e;return void 0!==r&&r(),i&&qQ(n,i),o&&ZQ(n,o),n}}let D2=(()=>{let e=class JE{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||JE)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:JE,selectors:[["ion-app"]],standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({methods:["setFocus"]})],e),e})(),Ds=(()=>{let e=class oD{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement,wr(this,this.el,["ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||oD)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:oD,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),Is=(()=>{let e=class sD{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||sD)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:sD,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["collapse"]})],e),e})(),I2=(()=>{let e=class fD{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement,wr(this,this.el,["ionChange","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||fD)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:fD,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",errorText:"errorText",helperText:"helperText",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",required:"required",value:"value"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["alignment","checked","color","disabled","errorText","helperText","indeterminate","justify","labelPlacement","mode","name","required","value"]})],e),e})(),xs=(()=>{let e=class mD{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement,wr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}static \u0275fac=function(r){return new(r||mD)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:mD,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),Ts=(()=>{let e=class wD{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||wD)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:wD,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["collapse","mode","translucent"]})],e),e})(),fo=(()=>{let e=class ED{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||ED)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:ED,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),jc=(()=>{let e=class TD{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement,wr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}static \u0275fac=function(r){return new(r||TD)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:TD,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),Yi=(()=>{let e=class kD{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||kD)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:kD,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],e),e})(),uy=(()=>{let e=class FD{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||FD)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:FD,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),dy=(()=>{let e=class PD{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement,wr(this,this.el,["ionSwipe"])}static \u0275fac=function(r){return new(r||PD)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:PD,selectors:[["ion-item-options"]],inputs:{side:"side"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["side"]})],e),e})(),fy=(()=>{let e=class OD{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement,wr(this,this.el,["ionDrag"])}static \u0275fac=function(r){return new(r||OD)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:OD,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),Sd=(()=>{let e=class LD{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||LD)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:LD,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["color","mode","position"]})],e),e})(),wa=(()=>{let e=class $D{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||$D)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:$D,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),Fw=(()=>{let e=class JD{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement,wr(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}static \u0275fac=function(r){return new(r||JD)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:JD,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),_m=(()=>{let e=class dI{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement,wr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||dI)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:dI,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",errorText:"errorText",expandedIcon:"expandedIcon",fill:"fill",helperText:"helperText",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",required:"required",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["cancelText","color","compareWith","disabled","errorText","expandedIcon","fill","helperText","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","required","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),gm=(()=>{let e=class pI{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||pI)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:pI,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["disabled","value"]})],e),e})(),vm=(()=>{let e=class mI{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||mI)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:mI,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["color","duration","name","paused"]})],e),e})(),x2=(()=>{let e=class gI{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||gI)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:gI,selectors:[["ion-tab"]],inputs:{component:"component",tab:"tab"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["component","tab"],methods:["setActive"]})],e),e})(),py=(()=>{let e=class vI{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||vI)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:vI,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),T2=(()=>{let e=class yI{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||yI)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:yI,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),Ms=(()=>{let e=class wI{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||wI)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:wI,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["color","size"]})],e),e})(),ym=(()=>{let e=class DI{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement,wr(this,this.el,["ionChange","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||DI)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:DI,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",errorText:"errorText",helperText:"helperText",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",required:"required",value:"value"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["alignment","checked","color","disabled","enableOnOffLabels","errorText","helperText","justify","labelPlacement","mode","name","required","value"]})],e),e})(),As=(()=>{let e=class II{z;el;constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||II)(y(St),y(ct),y(qe))};static \u0275cmp=Je({type:II,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},standalone:!1,ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})};return e=se([kt({inputs:["color","mode"]})],e),e})(),bm=(()=>{class e extends C2{parentOutlet;outletContent;constructor(n,r,i,o,s,a,l,u){super(n,r,i,o,s,a,l,u),this.parentOutlet=u}static \u0275fac=function(r){return new(r||e)(wc("name"),wc("tabs"),y(Ai),y(ct),y(Zo),y(qe),y(Oc),y(e,12))};static \u0275cmp=Je({type:e,selectors:[["ion-router-outlet"]],viewQuery:function(r,i){if(1&r&&Tc(BQ,7,ys),2&r){let o;Ss(o=Cs())&&(i.outletContent=o.first)}},standalone:!1,features:[Qn],ngContentSelectors:It,decls:3,vars:0,consts:[["outletContent",""]],template:function(r,i){1&r&&(Et(),du(0,null,0),wt(2),xc())},encapsulation:2})}return e})(),M2=(()=>{class e extends NQ{outlet;tabBar;tabBars;tabs;static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ci(e)))(i||e)}})();static \u0275cmp=Je({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,i,o){if(1&r&&(id(o,py,5),id(o,py,4),id(o,x2,4)),2&r){let s;Ss(s=Cs())&&(i.tabBar=s.first),Ss(s=Cs())&&(i.tabBars=s),Ss(s=Cs())&&(i.tabs=s)}},viewQuery:function(r,i){if(1&r&&Tc(GQ,5,bm),2&r){let o;Ss(o=Cs())&&(i.outlet=o.first)}},standalone:!1,features:[Qn],ngContentSelectors:jQ,decls:6,vars:2,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange",4,"ngIf"],[4,"ngIf"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(r,i){1&r&&(Et(UQ),wt(0),V(1,"div",2,0),pn(3,zQ,2,0,"ion-router-outlet",3)(4,VQ,1,0,"ng-content",4),Y(),wt(5,1)),2&r&&(fe(3),_e("ngIf",0===i.tabs.length),fe(),_e("ngIf",i.tabs.length>0))},dependencies:[Zi,bm],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})}return e})(),A2=(()=>{class e extends xQ{constructor(n,r,i,o,s,a){super(n,r,i,o,s,a)}static \u0275fac=function(r){return new(r||e)(y(bm,8),y(tp),y(dm),y(ct),y(qe),y(St))};static \u0275cmp=Je({type:e,selectors:[["ion-back-button"]],standalone:!1,features:[Qn],ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})}return e})(),Pw=(()=>{class e extends AQ{constructor(n,r,i,o,s,a){super(n,r,i,o,s,a)}static \u0275fac=function(r){return new(r||e)(y(ct),y(Lr),y(gi),y(fm),y(qe),y(St))};static \u0275cmp=Je({type:e,selectors:[["ion-nav"]],standalone:!1,features:[Qn],ngContentSelectors:It,decls:1,vars:0,template:function(r,i){1&r&&(Et(),wt(0))},encapsulation:2,changeDetection:0})}return e})();const aee={provide:$o,useExisting:Tn(()=>k2),multi:!0};let k2=(()=>{class e extends ww{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ci(e)))(i||e)}})();static \u0275dir=Yt({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&ya("max",i._enabled?i.max:null)},standalone:!1,features:[Wr([aee]),Qn]})}return e})();const lee={provide:$o,useExisting:Tn(()=>R2),multi:!0};let R2=(()=>{class e extends Ew{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ci(e)))(i||e)}})();static \u0275dir=Yt({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&ya("min",i._enabled?i.min:null)},standalone:!1,features:[Wr([lee]),Qn]})}return e})(),Ow=(()=>{class e extends pm{constructor(){super(hm.a)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Sm=(()=>{class e extends pm{constructor(){super(hm.b)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cee=(()=>{class e extends pm{constructor(){super(hm.l)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ta=(()=>{class e extends pm{angularDelegate=Ge(fm);injector=Ge(gi);environmentInjector=Ge(Lr);constructor(){super(hm.m)}create(n){return super.create({...n,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();class zc extends pm{angularDelegate=Ge(fm);injector=Ge(gi);environmentInjector=Ge(Lr);constructor(){super(hm.c)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const uee=(e,t,n)=>()=>{const r=t.defaultView;if(r&&typeof window<"u"){(0,Rw.s)({...e,_zoneGate:o=>n.run(o)});const i="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return $Q(r,{exclude:["ion-tabs"],syncQueue:!0,raf:E2,jmp:o=>n.runOutsideAngular(o),ael(o,s,a,l){o[i](s,a,l)},rel(o,s,a,l){o.removeEventListener(s,a,l)}})}};let Eu=(()=>{class e{static forRoot(n={}){return{ngModule:e,providers:[{provide:xw,useValue:n},{provide:GS,useFactory:uee,multi:!0,deps:[xw,so,qe]},fm,{provide:w2,useFactory:wQ,deps:[Zo]}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=lo({type:e});static \u0275inj=jr({providers:[ta,zc],imports:[Rc]})}return e})();const dee=b.p+"wasm/uarm_web_optimized-af8cf9d1741b7ac6.wasm",fee=b.p+"wasm/cloudpilot_web-9ce60fdbe7bf944f.wasm";var Lw=b(1051);function hee(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self;var $w={exports:{}};!function(t,n){function i(l){var u=this,f=function a(){var l=4022871197;return function(f){f=String(f);for(var m=0;m<f.length;m++){var g=.02519603282416938*(l+=f.charCodeAt(m));g-=l=g>>>0,l=(g*=l)>>>0,l+=4294967296*(g-=l)}return 2.3283064365386963e-10*(l>>>0)}}();u.next=function(){var m=2091639*u.s0+2.3283064365386963e-10*u.c;return u.s0=u.s1,u.s1=u.s2,u.s2=m-(u.c=0|m)},u.c=1,u.s0=f(" "),u.s1=f(" "),u.s2=f(" "),u.s0-=f(l),u.s0<0&&(u.s0+=1),u.s1-=f(l),u.s1<0&&(u.s1+=1),u.s2-=f(l),u.s2<0&&(u.s2+=1),f=null}function o(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function s(l,u){var f=new i(l),m=u&&u.state,g=f.next;return g.int32=function(){return 4294967296*f.next()|0},g.double=function(){return g()+11102230246251565e-32*(2097152*g()|0)},g.quick=g,m&&("object"==typeof m&&o(m,f),g.state=function(){return o(f,{})}),g}n&&n.exports?n.exports=s:this.alea=s}(0,$w);const _ee=hee($w.exports),N2=Lw.compile({WhiteSpace:{match:/[\t\v\f\ufeff\p{Zs}]+/u,lineBreaks:!0},Lines:{match:/\r?\n|[\r\u2028\u2029]/u,lineBreaks:!0},ObjectKey:/\[?(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+\]?(?=:)/u,Punctuator:/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![/*]))=?|[?~,:;[\](){}]/u,BooleanLiteral:/true|false/u,NumericLiteral:/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/u,StringLiteral:{match:/(?:'(?:(?!')[^\\\n\r]|\\(?:\r\n|[^]))*')|(?:"(?:(?!")[^\\\n\r]|\\(?:\r\n|[^]))*")/u,value:e=>`"${e.slice(1,-1)}"`},Identifier:/(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/u}),Cee=new RegExp("(?<==)(?:true|false)"),wee=new RegExp("(?<==)-?(?:(?:0[xX][\\da-fA-F](?:_?[\\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|-?0n|-?[1-9](?:_?\\d)*n|(?:(?:0(?!\\d)|0\\d*[89]\\d*|[1-9](?:_?\\d)*)(?:\\.(?:\\d(?:_?\\d)*)?)?|\\.\\d(?:_?\\d)*)(?:[eE][+-]?\\d(?:_?\\d)*)?|-?0[0-7]+)"),Eee=new RegExp("(?<==)'(?!.*&[0-9a-zA-Z]+;)[^'\\\\]*(?:\\\\.|\\\\n[^\"\\\\]*|&[^0-9a-zA-Z;]*)*'"),Dee=new RegExp('(?<==)"(?!.*&[0-9a-zA-Z]+;)[^"\\\\]*(?:\\\\.|\\\\n[^"\\\\]*|&[^0-9a-zA-Z;]*)*"'),Iee=new RegExp("(?<==)[^\"\\s'`=<>\\x00]+");function Bw(e){const t="string"==typeof e&&/^(['"]).*?\1$/.test(e)?e.slice(1,-1):e;return t.startsWith("[")&&t.endsWith("]")||t.startsWith("{")&&t.endsWith("}")?JSON.parse(function gee(e,t={}){const n=e.trim().replace(/[,]+$/,"");if(""===n)return"{}";if(!function vee(e){return e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]")}(n))throw new TypeError("Unexpected input format");let r="";N2.reset(n);for(const i of N2)if("WhiteSpace"!==i.type&&"Lines"!==i.type){switch(i.type){case"Identifier":i.value=`"${t[i.value]||i.value}"`;break;case"ObjectKey":i.value="["===i.value.slice(0,1)&&"]"===i.value.slice(-1)?`"${t[i.value.slice(1,-1)]||i.value.slice(1,-1)}"`:`"${i.value}"`}r+=i.value}return r.replace(/,([}\]])/g,"$1")}(t)):t}const F2=Lw.states({main:{WhiteSpace:/[ \t\v\f\ufeff]+/,AttributeShorthand:/[.#](?:(?!-?\d)(?:[a-zA-Z0-9\xA0-\uFFFF_-])+)/,BooleanLiteral:{match:Cee,value:e=>"true"===e},NumericLiteral:{match:wee,value(e){const t=Number(e);return Number.isNaN(t)?Number(e.replace(/_|n$/g,"")):Number(e)}},SingleQuotedValue:{match:Eee,value:Bw,type:()=>"StringLiteral"},DoubleQuotedLiteral:{match:Dee,value:Bw,type:()=>"StringLiteral"},UnquotedLiteral:{match:Iee,value:Bw,type:()=>"StringLiteral"},AttributeName:/(?:(?![\s\x00\x22\x27\x3E\x2F\x3D\x00-\x1F\x7F-\x9F])[^\s\x00-\x1F\x7F-\x9F\x22\x27\x3E\x2F\x3D])+/,Separator:"="}});const Mee=Lw.compile({spaces:/[\t\v\f\ufeff ]+/,name:/[a-zA-Z][\w-]*/,attrs:{match:/\{.*\}/,value:e=>function Tee(e){let t=null;const n=F2.reset(e),r={};Object.defineProperties(r,{toString:{writable:!1,enumerable:!1,configurable:!1,value:()=>function xee(e){let t="";for(const n in e){const r=e[n];switch(typeof r){case"object":t+=` ${n}='${JSON.stringify(r)}'`;break;case"string":t+=` ${n}="${r}"`;break;case"number":case"boolean":t+=` ${n}=${r}`}}return t.slice(1)}(r)},getTokens:{writable:!1,enumerable:!1,configurable:!1,value:()=>Array.from(F2.reset(e))}});const i=[];for(const{type:o,value:s}of n)switch(o){case"AttributeName":t=s,r[t]=t;break;case"AttributeShorthand":"."===s[0]?i.push(s.slice(1)):"#"===s[0]&&(r.id=s.slice(1));break;case"BooleanLiteral":case"NumericLiteral":case"StringLiteral":t&&("class"===t&&i.push(s),r[t]=s,t=null)}return i.length&&(r.class=i.join(" ")),r}(e.slice(1,-1))},text:{match:/\[.*\]/,value:e=>e.slice(1,-1)},blockText:{match:/[\s\S]+/,lineBreaks:!0}});function Aee(e){const{type:t,level:n,raw:r,content:i,marker:o,tag:s}=e,a=Mee.reset(i);let l,u,f="",m=[];for(const{type:g,value:w}of a)switch(g){case"name":l=w;break;case"attrs":u=w;break;case"text":case"blockText":f=w,m="container"===n?this.lexer.blockTokens(w):this.lexer.inlineTokens(w)}return{type:t,raw:r,meta:{level:n,marker:o,tag:s,name:l},attrs:u,text:f,tokens:m}}function P2(e){return["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"].includes(e)}function Nee(e){const{meta:t,attrs:n,tokens:r=[]}=e,i=t.name||t.tag;let o=`<${i}`;return o+=n?" "+n.toString():"",o+=P2(i)?" />":">",o+="container"===t.level?"\n":"",P2(i)||(o+="container"===t.level?this.parser.parse(r):this.parser.parseInline(r),o+=`</${i}>`),o+="inline"===t.level?"":"\n",o}const Fee=[{level:"container",marker:":::"},{level:"block",marker:"::"},{level:"inline",marker:":"}];function Pee(e=Fee){return{extensions:e.map(({level:t,marker:n,tag:r,renderer:i})=>{const o=_ee(n).int32(),s=`directive${function Ree(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}(t)}${o}`;return{name:s,level:"inline"===t?"inline":"block",start:a=>{var l;return null==(l=a.match(new RegExp(n)))?void 0:l.index},tokenizer(a){const l=function kee(e,t){switch(e){case"container":return`^${t}([\\s\\S]*?)\\n${t}`;case"block":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{\\[].*?[\\}\\]])+)`;case"inline":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{].*?[\\}]+|[\\[].*?[\\]])+)`}}(t,n),u=a.match(new RegExp(l));if(u){const[f,m=""]=u;return Aee.call(this,{type:s,level:t,raw:f,content:m,marker:n,tag:r||("inline"===t?"span":"div")})}},renderer:i||Nee}})}}var Cd={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function O2(e){Cd=e}var Cm={exec:()=>null};function qr(e,t=""){let n="string"==typeof e?e:e.source,r={replace:(i,o)=>{let s="string"==typeof o?o:o.source;return s=s.replace(ks.caret,"$1"),n=n.replace(i,s),r},getRegex:()=>new RegExp(n,t)};return r}var ks={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},wm=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Uw=/(?:[*+-]|\d{1,9}[.)])/,L2=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,$2=qr(L2).replace(/bull/g,Uw).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Gee=qr(L2).replace(/bull/g,Uw).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),jw=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,zw=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,jee=qr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",zw).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),zee=qr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Uw).getRegex(),hy="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Vw=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Vee=qr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",Vw).replace("tag",hy).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),B2=qr(jw).replace("hr",wm).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hy).getRegex(),Hw={blockquote:qr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",B2).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:jee,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:wm,html:Vee,lheading:$2,list:zee,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:B2,table:Cm,text:/^[^\n]+/},G2=qr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",wm).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hy).getRegex(),Wee={...Hw,lheading:Gee,table:G2,paragraph:qr(jw).replace("hr",wm).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",G2).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hy).getRegex()},qee={...Hw,html:qr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Vw).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Cm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:qr(jw).replace("hr",wm).replace("heading"," *#{1,6} *[^\n]").replace("lheading",$2).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},U2=/^( {2,}|\\)\n(?!\s*$)/,my=/[\p{P}\p{S}]/u,Ww=/[\s\p{P}\p{S}]/u,j2=/[^\s\p{P}\p{S}]/u,Xee=qr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Ww).getRegex(),z2=/(?!~)[\p{P}\p{S}]/u,V2=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,tte=qr(V2,"u").replace(/punct/g,my).getRegex(),nte=qr(V2,"u").replace(/punct/g,z2).getRegex(),H2="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",rte=qr(H2,"gu").replace(/notPunctSpace/g,j2).replace(/punctSpace/g,Ww).replace(/punct/g,my).getRegex(),ite=qr(H2,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,z2).getRegex(),ote=qr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,j2).replace(/punctSpace/g,Ww).replace(/punct/g,my).getRegex(),ste=qr(/\\(punct)/,"gu").replace(/punct/g,my).getRegex(),ate=qr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),lte=qr(Vw).replace("(?:--\x3e|$)","--\x3e").getRegex(),cte=qr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",lte).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),_y=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,ute=qr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",_y).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),W2=qr(/^!?\[(label)\]\[(ref)\]/).replace("label",_y).replace("ref",zw).getRegex(),q2=qr(/^!?\[(ref)\](?:\[\])?/).replace("ref",zw).getRegex(),qw={_backpedal:Cm,anyPunctuation:ste,autolink:ate,blockSkip:/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,br:U2,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Cm,emStrongLDelim:tte,emStrongRDelimAst:rte,emStrongRDelimUnd:ote,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:ute,nolink:q2,punctuation:Xee,reflink:W2,reflinkSearch:qr("reflink|nolink(?!\\()","g").replace("reflink",W2).replace("nolink",q2).getRegex(),tag:cte,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Cm},fte={...qw,link:qr(/^!?\[(label)\]\((.*?)\)/).replace("label",_y).getRegex(),reflink:qr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_y).getRegex()},Zw={...qw,emStrongRDelimAst:ite,emStrongLDelim:nte,url:qr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},pte={...Zw,br:qr(U2).replace("{2,}","*").getRegex(),text:qr(Zw.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},gy={normal:Hw,gfm:Wee,pedantic:qee},Em={normal:qw,gfm:Zw,breaks:pte,pedantic:fte},hte={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Z2=e=>hte[e];function lc(e,t){if(t){if(ks.escapeTest.test(e))return e.replace(ks.escapeReplace,Z2)}else if(ks.escapeTestNoEncode.test(e))return e.replace(ks.escapeReplaceNoEncode,Z2);return e}function Y2(e){try{e=encodeURI(e).replace(ks.percentDecode,"%")}catch{return null}return e}function K2(e,t){let r=e.replace(ks.findPipe,(o,s,a)=>{let l=!1,u=s;for(;--u>=0&&"\\"===a[u];)l=!l;return l?"|":" |"}).split(ks.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(ks.slashPipe,"|");return r}function Dm(e,t,n){let r=e.length;if(0===r)return"";let i=0;for(;i<r;){let o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.slice(0,r-i)}function X2(e,t,n,r,i){let o=t.href,s=t.title||null,a=e[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:o,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}var vy=class{options;rules;lexer;constructor(e){this.options=e||Cd}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Dm(n,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=function _te(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(null===r)return t;let i=r[1];return t.split("\n").map(o=>{let s=o.match(n.other.beginningSpace);if(null===s)return o;let[a]=s;return a.length>=i.length?o.slice(i.length):o}).join("\n")}(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=Dm(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Dm(t[0],"\n")}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=Dm(t[0],"\n").split("\n"),r="",i="",o=[];for(;n.length>0;){let l,s=!1,a=[];for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))a.push(n[l]),s=!0;else{if(s)break;a.push(n[l])}n=n.slice(l);let u=a.join("\n"),f=u.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}\n${u}`:u,i=i?`${i}\n${f}`:f;let m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,o,!0),this.lexer.state.top=m,0===n.length)break;let g=o.at(-1);if("code"===g?.type)break;if("blockquote"===g?.type){let w=g,F=w.raw+"\n"+n.join("\n"),H=this.blockquote(F);o[o.length-1]=H,r=r.substring(0,r.length-w.raw.length)+H.raw,i=i.substring(0,i.length-w.text.length)+H.text;break}if("list"===g?.type){let w=g,F=w.raw+"\n"+n.join("\n"),H=this.list(F);o[o.length-1]=H,r=r.substring(0,r.length-g.raw.length)+H.raw,i=i.substring(0,i.length-w.raw.length)+H.raw,n=F.substring(o.at(-1).raw.length).split("\n");continue}}return{type:"blockquote",raw:r,tokens:o,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let o=this.rules.other.listItemRegex(n),s=!1;for(;e;){let l=!1,u="",f="";if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;u=t[0],e=e.substring(u.length);let m=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,me=>" ".repeat(3*me.length)),g=e.split("\n",1)[0],w=!m.trim(),F=0;if(this.options.pedantic?(F=2,f=m.trimStart()):w?F=t[1].length+1:(F=t[2].search(this.rules.other.nonSpaceChar),F=F>4?1:F,f=m.slice(F),F+=t[1].length),w&&this.rules.other.blankLine.test(g)&&(u+=g+"\n",e=e.substring(g.length+1),l=!0),!l){let me=this.rules.other.nextBulletRegex(F),he=this.rules.other.hrRegex(F),pt=this.rules.other.fencesBeginRegex(F),xt=this.rules.other.headingBeginRegex(F),Dt=this.rules.other.htmlBeginRegex(F);for(;e;){let Bn,Pn=e.split("\n",1)[0];if(g=Pn,this.options.pedantic?(g=g.replace(this.rules.other.listReplaceNesting,"  "),Bn=g):Bn=g.replace(this.rules.other.tabCharGlobal,"    "),pt.test(g)||xt.test(g)||Dt.test(g)||me.test(g)||he.test(g))break;if(Bn.search(this.rules.other.nonSpaceChar)>=F||!g.trim())f+="\n"+Bn.slice(F);else{if(w||m.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||pt.test(m)||xt.test(m)||he.test(m))break;f+="\n"+g}!w&&!g.trim()&&(w=!0),u+=Pn+"\n",e=e.substring(Pn.length+1),m=Bn.slice(F)}}i.loose||(s?i.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(s=!0));let ie,H=null;this.options.gfm&&(H=this.rules.other.listIsTask.exec(f),H&&(ie="[ ] "!==H[0],f=f.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:u,task:!!H,checked:ie,loose:!1,text:f,tokens:[]}),i.raw+=u}let a=i.items.at(-1);if(!a)return;a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd(),i.raw=i.raw.trimEnd();for(let l=0;l<i.items.length;l++)if(this.lexer.state.top=!1,i.items[l].tokens=this.lexer.blockTokens(i.items[l].text,[]),!i.loose){let u=i.items[l].tokens.filter(m=>"space"===m.type),f=u.length>0&&u.some(m=>this.rules.other.anyLine.test(m.raw));i.loose=f}if(i.loose)for(let l=0;l<i.items.length;l++)i.items[l].loose=!0;return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:i}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=K2(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let s of r)this.rules.other.tableAlignRight.test(s)?o.align.push("right"):this.rules.other.tableAlignCenter.test(s)?o.align.push("center"):this.rules.other.tableAlignLeft.test(s)?o.align.push("left"):o.align.push(null);for(let s=0;s<n.length;s++)o.header.push({text:n[s],tokens:this.lexer.inline(n[s]),header:!0,align:o.align[s]});for(let s of i)o.rows.push(K2(s,o.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:o.align[l]})));return o}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let o=Dm(n.slice(0,-1),"\\");if((n.length-o.length)%2==0)return}else{let o=function mte(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}(t[2],"()");if(-2===o)return;if(o>-1){let s=(0===t[0].indexOf("!")?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let r=t[2],i="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(r);o&&(r=o[1],i=o[3])}else i=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(r=this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r.slice(1):r.slice(1,-1)),X2(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let i=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!i){let o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return X2(n,i,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){let o,s,i=[...r[0]].length-1,a=i,l=0,u="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+i);null!=(r=u.exec(t));){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(s=[...o].length,r[3]||r[4]){a+=s;continue}if((r[5]||r[6])&&i%3&&!((i+s)%3)){l+=s;continue}if(a-=s,a>0)continue;s=Math.min(s,s+a+l);let f=[...r[0]][0].length,m=e.slice(0,i+r.index+f+s);if(Math.min(i,s)%2){let w=m.slice(1,-1);return{type:"em",raw:m,text:w,tokens:this.lexer.inlineTokens(w)}}let g=m.slice(2,-2);return{type:"strong",raw:m,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return"@"===t[2]?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if("@"===t[2])n=t[0],r="mailto:"+n;else{let i;do{i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(i!==t[0]);n=t[0],r="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],escaped:this.lexer.state.inRawBlock}}},Vc=class xI{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Cd,this.options.tokenizer=this.options.tokenizer||new vy,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:ks,block:gy.normal,inline:Em.normal};this.options.pedantic?(n.block=gy.pedantic,n.inline=Em.pedantic):this.options.gfm&&(n.block=gy.gfm,n.inline=this.options.breaks?Em.breaks:Em.gfm),this.tokenizer.rules=n}static get rules(){return{block:gy,inline:Em}}static lex(t,n){return new xI(n).lex(t)}static lexInline(t,n){return new xI(n).inlineTokens(t)}lex(t){t=t.replace(ks.carriageReturn,"\n"),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){for(this.options.pedantic&&(t=t.replace(ks.tabCharGlobal,"    ").replace(ks.spaceLine,""));t;){let i;if(this.options.extensions?.block?.some(s=>!!(i=s.call({lexer:this},t,n))&&(t=t.substring(i.raw.length),n.push(i),!0)))continue;if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length);let s=n.at(-1);1===i.raw.length&&void 0!==s?s.raw+="\n":n.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length);let s=n.at(-1);"paragraph"===s?.type||"text"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+i.raw,s.text+="\n"+i.text,this.inlineQueue.at(-1).src=s.text):n.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length);let s=n.at(-1);"paragraph"===s?.type||"text"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+i.raw,s.text+="\n"+i.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},n.push(i));continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),n.push(i);continue}let o=t;if(this.options.extensions?.startBlock){let l,s=1/0,a=t.slice(1);this.options.extensions.startBlock.forEach(u=>{l=u.call({lexer:this},a),"number"==typeof l&&l>=0&&(s=Math.min(s,l))}),s<1/0&&s>=0&&(o=t.substring(0,s+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){let s=n.at(-1);r&&"paragraph"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+i.raw,s.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(i),r=o.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length);let s=n.at(-1);"text"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+i.raw,s.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(i);continue}if(t){let s="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(s);break}throw new Error(s)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r=t,i=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(r));)a.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.anyPunctuation.exec(r));)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(r));)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let o=!1,s="";for(;t;){let a;if(o||(s=""),o=!1,this.options.extensions?.inline?.some(u=>!!(a=u.call({lexer:this},t,n))&&(t=t.substring(a.raw.length),n.push(a),!0)))continue;if(a=this.tokenizer.escape(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.tag(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.link(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(a.raw.length);let u=n.at(-1);"text"===a.type&&"text"===u?.type?(u.raw+=a.raw,u.text+=a.text):n.push(a);continue}if(a=this.tokenizer.emStrong(t,r,s)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.codespan(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.br(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.del(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.autolink(t)){t=t.substring(a.raw.length),n.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(t))){t=t.substring(a.raw.length),n.push(a);continue}let l=t;if(this.options.extensions?.startInline){let m,u=1/0,f=t.slice(1);this.options.extensions.startInline.forEach(g=>{m=g.call({lexer:this},f),"number"==typeof m&&m>=0&&(u=Math.min(u,m))}),u<1/0&&u>=0&&(l=t.substring(0,u+1))}if(a=this.tokenizer.inlineText(l)){t=t.substring(a.raw.length),"_"!==a.raw.slice(-1)&&(s=a.raw.slice(-1)),o=!0;let u=n.at(-1);"text"===u?.type?(u.raw+=a.raw,u.text+=a.text):n.push(a);continue}if(t){let u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}throw new Error(u)}}return n}},Du=class{options;parser;constructor(e){this.options=e||Cd}space(e){return""}code({text:e,lang:t,escaped:n}){let r=(t||"").match(ks.notSpaceStart)?.[0],i=e.replace(ks.endingNewline,"")+"\n";return r?'<pre><code class="language-'+lc(r)+'">'+(n?i:lc(i,!0))+"</code></pre>\n":"<pre><code>"+(n?i:lc(i,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){let t=e.ordered,n=e.start,r="";for(let s=0;s<e.items.length;s++)r+=this.listitem(e.items[s]);let i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+i+">\n"}listitem(e){let t="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+lc(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r="";for(let i=0;i<e.rows.length;i++){let o=e.rows[i];n="";for(let s=0;s<o.length;s++)n+=this.tablecell(o[s]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${lc(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),i=Y2(e);if(null===i)return r;let o='<a href="'+(e=i)+'"';return t&&(o+=' title="'+lc(t)+'"'),o+=">"+r+"</a>",o}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=Y2(e);if(null===i)return lc(n);let o=`<img src="${e=i}" alt="${n}"`;return t&&(o+=` title="${lc(t)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:lc(e.text)}},Yw=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Hc=class TI{options;renderer;textRenderer;constructor(t){this.options=t||Cd,this.options.renderer=this.options.renderer||new Du,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Yw}static parse(t,n){return new TI(n).parse(t)}static parseInline(t,n){return new TI(n).parseInline(t)}parse(t,n=!0){let r="";for(let i=0;i<t.length;i++){let o=t[i];if(this.options.extensions?.renderers?.[o.type]){let a=o,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(!1!==l||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(a.type)){r+=l||"";continue}}let s=o;switch(s.type){case"space":r+=this.renderer.space(s);continue;case"hr":r+=this.renderer.hr(s);continue;case"heading":r+=this.renderer.heading(s);continue;case"code":r+=this.renderer.code(s);continue;case"table":r+=this.renderer.table(s);continue;case"blockquote":r+=this.renderer.blockquote(s);continue;case"list":r+=this.renderer.list(s);continue;case"html":r+=this.renderer.html(s);continue;case"def":r+=this.renderer.def(s);continue;case"paragraph":r+=this.renderer.paragraph(s);continue;case"text":{let a=s,l=this.renderer.text(a);for(;i+1<t.length&&"text"===t[i+1].type;)a=t[++i],l+="\n"+this.renderer.text(a);r+=n?this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):l;continue}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(t,n=this.renderer){let r="";for(let i=0;i<t.length;i++){let o=t[i];if(this.options.extensions?.renderers?.[o.type]){let a=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==a||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=a||"";continue}}let s=o;switch(s.type){case"escape":case"text":r+=n.text(s);break;case"html":r+=n.html(s);break;case"link":r+=n.link(s);break;case"image":r+=n.image(s);break;case"strong":r+=n.strong(s);break;case"em":r+=n.em(s);break;case"codespan":r+=n.codespan(s);break;case"br":r+=n.br(s);break;case"del":r+=n.del(s);break;default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},yy=class{options;block;constructor(e){this.options=e||Cd}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Vc.lex:Vc.lexInline}provideParser(){return this.block?Hc.parse:Hc.parseInline}},wd=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Hc;Renderer=Du;TextRenderer=Yw;Lexer=Vc;Tokenizer=vy;Hooks=yy;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{let i=r;for(let o of i.header)n=n.concat(this.walkTokens(o.tokens,t));for(let o of i.rows)for(let s of o)n=n.concat(this.walkTokens(s.tokens,t));break}case"list":n=n.concat(this.walkTokens(r.items,t));break;default:{let i=r;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(o=>{let s=i[o].flat(1/0);n=n.concat(this.walkTokens(s,t))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let o=t.renderers[i.name];t.renderers[i.name]=o?function(...s){let a=i.renderer.apply(this,s);return!1===a&&(a=o.apply(this,s)),a}:i.renderer}if("tokenizer"in i){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");let o=t[i.level];o?o.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&("block"===i.level?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:"inline"===i.level&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){let i=this.defaults.renderer||new Du(this.defaults);for(let o in n.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let a=n.renderer[o],l=i[o];i[o]=(...u)=>{let f=a.apply(i,u);return!1===f&&(f=l.apply(i,u)),f||""}}r.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new vy(this.defaults);for(let o in n.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let a=n.tokenizer[o],l=i[o];i[o]=(...u)=>{let f=a.apply(i,u);return!1===f&&(f=l.apply(i,u)),f}}r.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new yy;for(let o in n.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let a=n.hooks[o],l=i[o];i[o]=yy.passThroughHooks.has(o)?u=>{if(this.defaults.async)return Promise.resolve(a.call(i,u)).then(m=>l.call(i,m));let f=a.call(i,u);return l.call(i,f)}:(...u)=>{let f=a.apply(i,u);return!1===f&&(f=l.apply(i,u)),f}}r.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,o=n.walkTokens;r.walkTokens=function(s){let a=[];return a.push(o.call(this,s)),i&&(a=a.concat(i.call(this,s))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Vc.lex(e,t??this.defaults)}parser(e,t){return Hc.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},i={...this.defaults,...r},o=this.onError(!!i.silent,!!i.async);if(!0===this.defaults.async&&!1===r.async)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return o(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=e);let s=i.hooks?i.hooks.provideLexer():e?Vc.lex:Vc.lexInline,a=i.hooks?i.hooks.provideParser():e?Hc.parse:Hc.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(t):t).then(l=>s(l,i)).then(l=>i.hooks?i.hooks.processAllTokens(l):l).then(l=>i.walkTokens?Promise.all(this.walkTokens(l,i.walkTokens)).then(()=>l):l).then(l=>a(l,i)).then(l=>i.hooks?i.hooks.postprocess(l):l).catch(o);try{i.hooks&&(t=i.hooks.preprocess(t));let l=s(t,i);i.hooks&&(l=i.hooks.processAllTokens(l)),i.walkTokens&&this.walkTokens(l,i.walkTokens);let u=a(l,i);return i.hooks&&(u=i.hooks.postprocess(u)),u}catch(l){return o(l)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){let r="<p>An error occurred:</p><pre>"+lc(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}};function Pr(e,t){return wd.parse(e,t)}Pr.options=Pr.setOptions=function(e){return wd.setOptions(e),O2(Pr.defaults=wd.defaults),Pr},Pr.getDefaults=function Gw(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},Pr.defaults=Cd,Pr.use=function(...e){return wd.use(...e),O2(Pr.defaults=wd.defaults),Pr},Pr.walkTokens=function(e,t){return wd.walkTokens(e,t)},Pr.parseInline=wd.parseInline,Pr.Parser=Hc,Pr.parser=Hc.parse,Pr.Renderer=Du,Pr.TextRenderer=Yw,Pr.Lexer=Vc,Pr.lexer=Vc.lex,Pr.Tokenizer=vy,Pr.Hooks=yy,Pr.parse=Pr;class wte extends gt{constructor(t,n){super()}schedule(t,n=0){return this}}const by={setInterval(e,t,...n){const{delegate:r}=by;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=by;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},Kw={now:()=>(Kw.delegate||Date).now(),delegate:void 0};class Im{constructor(t,n=Im.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}Im.now=Kw.now;const Ite=new class Dte extends Im{constructor(t,n=Im.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class Ete extends wte{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return by.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&by.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ze(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}});class Ate extends x{constructor(t=1/0,n=1/0,r=Kw){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(t),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=r?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}function Xw(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new un({next:()=>{r.unsubscribe(),e()}});return Xs(t(...n)).subscribe(r)}const Nte=["*"];let Q2=(()=>{var e;class t{constructor(){this._buttonClick$=new x,this.copied=function bte(e,t){const r=t?.manualCleanup?null:t?.injector?.get(Vo)??Ge(Vo),i=function Ste(e=Object.is){return(t,n)=>1===t.kind&&1===n.kind&&e(t.value,n.value)}(t?.equal);let o,s;o=ao(t?.requireSync?{kind:0}:{kind:1,value:t?.initialValue},{equal:i});const a=e.subscribe({next:l=>o.set({kind:1,value:l}),error:l=>{o.set({kind:2,error:l}),s?.()},complete:()=>{s?.()}});if(t?.requireSync&&0===o().kind)throw new Le(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),Oo(()=>{const l=o();switch(l.kind){case 1:return l.value;case 2:throw l.error;case 0:throw new Le(601,!1)}},{equal:t?.equal})}(this._buttonClick$.pipe(Lo(()=>function Cte(...e){const t=Gh(e),n=function tq(e,t){return"number"==typeof _0(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Xs(r[0]):Gf(n)(Co(r,t)):Ka}(_n(!0),function Tte(e=0,t,n=Ite){let r=-1;return null!=t&&(CF(t)?n=t:r=t),new dn(i=>{let o=function xte(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(3e3).pipe(function Mte(e){return Xt(()=>e)}(!1)))),hO(),function Rte(e,t,n){let r,i=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:n}=e):r=e??1/0,function kte(e={}){const{connector:t=()=>new x,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,u=0,f=!1,m=!1;const g=()=>{a?.unsubscribe(),a=void 0},w=()=>{g(),s=l=void 0,f=m=!1},F=()=>{const H=s;w(),H?.unsubscribe()};return er((H,ie)=>{u++,!m&&!f&&g();const me=l=l??t();ie.add(()=>{u--,0===u&&!m&&!f&&(a=Xw(F,i))}),me.subscribe(ie),!s&&u>0&&(s=new un({next:he=>me.next(he),error:he=>{m=!0,g(),a=Xw(w,n,he),me.error(he)},complete:()=>{f=!0,g(),a=Xw(w,r),me.complete()}}),Xs(H).subscribe(s))})(o)}}({connector:()=>new Ate(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}(1))),this.copiedText=Oo(()=>this.copied()?"Copied":"Copy")}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275cmp=Je({type:t,selectors:[["markdown-clipboard"]],decls:2,vars:3,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(i,o){1&i&&(Tg(0,"button",0),aC("click",function(){return o.onCopyToClipboardClick()}),Pe(1),Mg()),2&i&&(Sa("copied",o.copied()),fe(),Ks(o.copiedText()))},encapsulation:2,changeDetection:0}))}return e(),t})();const Ote=new at("CLIPBOARD_OPTIONS");var Qw=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(Qw||{});const J2=new at("MARKED_EXTENSIONS"),eL=new at("MARKED_OPTIONS"),$te=new at("MERMAID_OPTIONS"),tL=new at("SANITIZE");let Jw=(()=>{var e;class t{get options(){return this._options}set options(r){this._options={...this.DEFAULT_MARKED_OPTIONS,...r}}get renderer(){return this.options.renderer}set renderer(r){this.options.renderer=r}constructor(r,i,o,s,a,l,u,f){this.clipboardOptions=r,this.extensions=i,this.mermaidOptions=s,this.platform=a,this.sanitize=l,this.http=u,this.sanitizer=f,this.DEFAULT_MARKED_OPTIONS={renderer:new Du},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new x,this.reload$=this._reload$.asObservable(),this.options=o}parse(r,i=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:s,emoji:a,mermaid:l,disableSanitizer:u}=i,f={...this.options,...i.markedOptions},m=f.renderer||this.renderer||new Du;this.extensions&&(this.renderer=this.extendsRendererForExtensions(m)),l&&(this.renderer=this.extendsRendererForMermaid(m));const g=this.trimIndentation(r),w=o?this.decodeHtml(g):g,F=a?this.parseEmoji(w):w,H=this.parseMarked(F,f,s);return u?H:this.sanitizeHtml(H)}render(r,i=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:s,clipboardOptions:a,katex:l,katexOptions:u,mermaid:f,mermaidOptions:m}=i;l&&this.renderKatex(r,{...this.DEFAULT_KATEX_OPTIONS,...u}),f&&this.renderMermaid(r,{...this.DEFAULT_MERMAID_OPTIONS,...this.mermaidOptions,...m}),s&&this.renderClipboard(r,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),this.highlight(r)}reload(){this._reload$.next()}getSource(r){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(r,{responseType:"text"}).pipe(Xt(i=>this.handleExtension(r,i)))}highlight(r){if(!Ff(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;r||(r=document);const i=r.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(i,o=>o.classList.add("language-none")),Prism.highlightAllUnder(r)}decodeHtml(r){if(!Ff(this.platform))return r;const i=document.createElement("textarea");return i.innerHTML=r,i.value}extendsRendererForExtensions(r){const i=r;return!0===i.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&Pr.use(...this.extensions),i.\u0275NgxMarkdownRendererExtendedForExtensions=!0),r}extendsRendererForMermaid(r){const i=r;if(!0===i.\u0275NgxMarkdownRendererExtendedForMermaid)return r;const o=r.code;return r.code=s=>"mermaid"===s.lang?`<div class="mermaid">${s.text}</div>`:o(s),i.\u0275NgxMarkdownRendererExtendedForMermaid=!0,r}handleExtension(r,i){const o=r.lastIndexOf("://"),s=o>-1?r.substring(o+4):r,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",u=l.lastIndexOf("."),f=u>-1?l.substring(u+1):"";return f&&"md"!==f?"```"+f+"\n"+i+"\n```":i}parseMarked(r,i,o=!1){if(i.renderer){const s={...i.renderer};delete s.\u0275NgxMarkdownRendererExtendedForExtensions,delete s.\u0275NgxMarkdownRendererExtendedForMermaid,delete i.renderer,Pr.use({renderer:s})}return o?Pr.parseInline(r,i):Pr.parse(r,i)}parseEmoji(r){if(!Ff(this.platform))return r;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(r)}renderKatex(r,i){if(Ff(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(r,i)}}renderClipboard(r,i,o){if(!Ff(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!i)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=o,l=r.querySelectorAll("pre");for(let u=0;u<l.length;u++){const f=l.item(u),m=document.createElement("div");m.style.position="relative",f.parentNode.insertBefore(m,f),m.appendChild(f);const g=document.createElement("div");let w,F;if(g.classList.add("markdown-clipboard-toolbar"),g.style.position="absolute",g.style.top=".5em",g.style.right=".5em",g.style.zIndex="1",m.insertAdjacentElement("beforeend",g),m.onmouseenter=()=>g.classList.add("hover"),m.onmouseleave=()=>g.classList.remove("hover"),s){const H=i.createComponent(s);w=H.hostView,H.changeDetectorRef.markForCheck()}else if(a)w=i.createEmbeddedView(a);else{const H=i.createComponent(Q2);w=H.hostView,H.changeDetectorRef.markForCheck()}w.rootNodes.forEach(H=>{g.appendChild(H),F=new ClipboardJS(H,{text:()=>f.innerText})}),w.onDestroy(()=>F.destroy())}}renderMermaid(r,i=this.DEFAULT_MERMAID_OPTIONS){if(!Ff(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=r.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(i),mermaid.run({nodes:o}))}trimIndentation(r){if(!r)return"";let i;return r.split("\n").map(o=>{let s=i;return o.length>0&&(s=isNaN(s)?o.search(/\S|$/):Math.min(o.search(/\S|$/),s)),isNaN(i)&&(i=s),s?o.substring(s):o}).join("\n")}sanitizeHtml(r){var i=this;return(0,T.A)(function*(){return function Bte(e){return"function"==typeof e}(i.sanitize)?i.sanitize(yield r):i.sanitize!==Ws.NONE?i.sanitizer.sanitize(i.sanitize,r)??"":r})()}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(Ote,8),de(J2,8),de(eL,8),de($te,8),de(w_),de(tL),de(b0,8),de(r0))},this.\u0275prov=et({token:t,factory:t.\u0275fac}))}return e(),t})(),eE=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(r){this._disableSanitizer=this.coerceBooleanProperty(r)}get inline(){return this._inline}set inline(r){this._inline=this.coerceBooleanProperty(r)}get clipboard(){return this._clipboard}set clipboard(r){this._clipboard=this.coerceBooleanProperty(r)}get emoji(){return this._emoji}set emoji(r){this._emoji=this.coerceBooleanProperty(r)}get katex(){return this._katex}set katex(r){this._katex=this.coerceBooleanProperty(r)}get mermaid(){return this._mermaid}set mermaid(r){this._mermaid=this.coerceBooleanProperty(r)}get lineHighlight(){return this._lineHighlight}set lineHighlight(r){this._lineHighlight=this.coerceBooleanProperty(r)}get lineNumbers(){return this._lineNumbers}set lineNumbers(r){this._lineNumbers=this.coerceBooleanProperty(r)}get commandLine(){return this._commandLine}set commandLine(r){this._commandLine=this.coerceBooleanProperty(r)}constructor(r,i,o){this.element=r,this.markdownService=i,this.viewContainerRef=o,this.error=new En,this.load=new En,this.ready=new En,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new x}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(M0(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(r){var i=this;return(0,T.A)(function*(o,s=!1){const a={decodeHtml:s,inline:i.inline,emoji:i.emoji,mermaid:i.mermaid,disableSanitizer:i.disableSanitizer},l={clipboard:i.clipboard,clipboardOptions:i.getClipboardOptions(),katex:i.katex,katexOptions:i.katexOptions,mermaid:i.mermaid,mermaidOptions:i.mermaidOptions},u=yield i.markdownService.parse(o,a);i.element.nativeElement.innerHTML=u,i.handlePlugins(),i.markdownService.render(i.element.nativeElement,l,i.viewContainerRef),i.ready.emit()}).apply(this,arguments)}coerceBooleanProperty(r){return null!=r&&"false"!=`${String(r)}`}getClipboardOptions(){if(this.clipboardButtonComponent||this.clipboardButtonTemplate)return{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate}}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:r=>{this.render(r).then(()=>{this.load.emit(r)})},error:r=>this.error.emit(r)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Qw.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Qw.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(r,i){const o=r.querySelectorAll("pre");for(let s=0;s<o.length;s++){const a=i instanceof Array?i:[i];o.item(s).classList.add(...a)}}setPluginOptions(r,i){const o=r.querySelectorAll("pre");for(let s=0;s<o.length;s++)Object.keys(i).forEach(a=>{const l=i[a];if(l){const u=this.toLispCase(a);o.item(s).setAttribute(u,l.toString())}})}toLispCase(r){const i=r.match(/([A-Z])/g);if(!i)return r;let o=r.toString();for(let s=0,a=i.length;s<a;s++)o=o.replace(new RegExp(i[s]),"-"+i[s].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(y(ct),y(Jw),y(ys))},this.\u0275cmp=Je({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[vs],ngContentSelectors:Nte,decls:1,vars:0,template:function(i,o){1&i&&(Et(),wt(0))},encapsulation:2}))}return e(),t})();function qte(e){return[Jw,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],e?.mermaidOptions??[],e?.markedExtensions??[],Yte(e?.sanitize)??[]]}function Yte(e){return function Zte(e){return null!=e&&null!=e.provide}(e)?e:{provide:tL,useValue:e??Ws.HTML}}let tE=(()=>{var e;class t{static forRoot(r){return{ngModule:t,providers:[qte(r)]}}static forChild(){return{ngModule:t}}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275mod=lo({type:t}),this.\u0275inj=jr({}))}return e(),t})(),nL=(()=>{var e;class t{constructor(){}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275cmp=Je({type:t,selectors:[["app-dummy"]],standalone:!1,decls:2,vars:0,template:function(i,o){1&i&&(V(0,"div"),Pe(1,"Dummy"),Y())},encapsulation:2}))}return e(),t})(),rL=(()=>{var e;class t{constructor(r,i){this.linkApi=r,this.router=i}canActivate(r){return r.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(r.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!r.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(r.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(c0),de(Zo))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),xm=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275mod=lo({type:t}),this.\u0275inj=jr({imports:[Rc,tE.forChild(),Eu,bd,ay]}))}return e(),t})(),Kte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275mod=lo({type:t}),this.\u0275inj=jr({imports:[Rc,bd,Eu,xm,tE.forChild()]}))}return e(),t})(),Xte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275mod=lo({type:t}),this.\u0275inj=jr({imports:[Rc,bd,Eu,xm]}))}return e(),t})(),Qte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275mod=lo({type:t}),this.\u0275inj=jr({imports:[Rc,bd,Eu,ay,xm]}))}return e(),t})(),Jte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275mod=lo({type:t}),this.\u0275inj=jr({imports:[Rc,bd,Eu,xm,ay]}))}return e(),t})(),ene=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275mod=lo({type:t}),this.\u0275inj=jr({imports:[Rc,Eu,bd,ay,xm]}))}return e(),t})();const tne=b.p+"assets/doc/about-8c3f942a251dfc65.md",iL=b.p+"assets/doc/CHANGELOG-8369df3522d098ea.md";function nne(e,t){1&e&&(V(0,"div",5),st(1,"ion-spinner"),Y())}let Ed=(()=>{var e;class t{constructor(r){this.modalController=r,this.title="Help",this.loading=!0}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(y(ta))},this.\u0275cmp=Je({type:t,selectors:[["app-help"]],inputs:{url:"url",title:"title"},standalone:!1,decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"load","src"],[1,"loader"]],template:function(i,o){1&i&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Pe(3),Y(),V(4,"ion-buttons",0)(5,"ion-button",1),je("click",function(){return o.modalController.dismiss()}),Pe(6,"Close"),Y()()()(),V(7,"ion-content",2),pn(8,nne,2,0,"div",3),V(9,"markdown",4),je("load",function(){return o.loading=!1}),Y()()),2&i&&(fe(3),Ks(o.title),fe(5),_e("ngIf",o.loading),fe(),_e("src",o.url))},dependencies:[Zi,eE,Ds,Is,xs,Ts,vm,Ms,As],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}))}return e(),t})();function ar(){return(e,t,n)=>{const r=n.value;let i=!1;return n.value=(0,T.A)(function*(...o){if(!i){i=!0;try{return yield r.apply(this,o)}finally{i=!1}}}),n}}const Dd="1.10.15-8ac079c0 (preview)",one=(new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked"),new Error("request for lock canceled"));class ane{constructor(t,n=one){this._value=t,this._cancelError=n,this._queue=[],this._weightedWaiters=[]}acquire(t=1,n=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,i)=>{const o={resolve:r,reject:i,weight:t,priority:n},s=sL(this._queue,a=>n<=a.priority);-1===s&&t<=this._value?this._dispatchItem(o):this._queue.splice(s+1,0,o)})}runExclusive(t){return function(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(f){try{u(r.next(f))}catch(m){s(m)}}function l(f){try{u(r.throw(f))}catch(m){s(m)}}function u(f){f.done?o(f.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}(this,arguments,void 0,function*(n,r=1,i=0){const[o,s]=yield this.acquire(r,i);try{return yield n(o)}finally{s()}})}waitForUnlock(t=1,n=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return this._couldLockImmediately(t,n)?Promise.resolve():new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),function lne(e,t){const n=sL(e,r=>t.priority<=r.priority);e.splice(n+1,0,t)}(this._weightedWaiters[t-1],{resolve:r,priority:n})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatchQueue()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatchQueue()}cancel(){this._queue.forEach(t=>t.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(t){const n=this._value;this._value-=t.weight,t.resolve([n,this._newReleaser(t.weight)])}_newReleaser(t){let n=!1;return()=>{n||(n=!0,this.release(t))}}_drainUnlockWaiters(){if(0===this._queue.length)for(let t=this._value;t>0;t--){const n=this._weightedWaiters[t-1];n&&(n.forEach(r=>r.resolve()),this._weightedWaiters[t-1]=[])}else{const t=this._queue[0].priority;for(let n=this._value;n>0;n--){const r=this._weightedWaiters[n-1];if(!r)continue;const i=r.findIndex(o=>o.priority<=t);(-1===i?r:r.splice(0,i)).forEach(o=>o.resolve())}}}_couldLockImmediately(t,n){return(0===this._queue.length||this._queue[0].priority<n)&&t<=this._value}}function sL(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1}class na{constructor(t){this._semaphore=new ane(1,t)}acquire(){return e=this,t=arguments,r=function*(t=0){const[,n]=yield this._semaphore.acquire(1,t);return n},new((n=void 0)||(n=Promise))(function(o,s){function a(f){try{u(r.next(f))}catch(m){s(m)}}function l(f){try{u(r.throw(f))}catch(m){s(m)}}function u(f){f.done?o(f.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(f.value).then(a,l)}u((r=r.apply(e,t||[])).next())});var e,t,n,r}runExclusive(t,n=0){return this._semaphore.runExclusive(()=>t(),1,n)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(t=0){return this._semaphore.waitForUnlock(1,t)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}class dne{constructor(t,n,r=()=>performance.now()){var i=this;this.adapter=t,this.hideDelay=n,this.now=r,this.show=(0,T.A)(function*(){if(i.showHandle=void 0,i.stack.length<=0)return;i.loaderVisible=!0;const o=i.getMessage();yield i.mutex.runExclusive(()=>i.adapter.show(o,i.getLoaderOptions()))}),this.hide=()=>{this.hideHandle=void 0,!(this.stack.length>0)&&(this.loaderVisible=!1,this.mutex.runExclusive(()=>this.adapter.hide()))},this.stack=[],this.nextHandle=0,this.showAt=0,this.loaderVisible=!1,this.mutex=new na}add(t){var n=this;return(0,T.A)(function*(r,i=0,o){(i<0||n.loaderVisible)&&(i=0);const s=n.nextHandle++;return n.stack.push({message:r,handle:s,loaderOptions:o,resolved:!1}),yield n.scheduleShow(i),s}).apply(this,arguments)}resolve(t){let n;for(n=this.stack.length-1;n>=0&&this.stack[n].handle!==t;n--);const r=this.stack[n];if(void 0===r||r.resolved)throw new Error("double resolve loader");for(n!==this.stack.length-1&&console.error("BUG: loader resolved out of order"),r.resolved=!0,n=this.stack.length-1;n>=0&&this.stack[n].resolved;n--)this.stack.pop();0===this.stack.length?this.scheduleHide():void 0===this.showHandle&&this.show()}updateMessage(t,n){const r=this.stack.find(i=>i.handle===t);if(!r)throw new Error(`invalid handle ${t}`);if(r.resolved)throw new Error(`handle ${t} already resolved`);r.message=n,void 0===this.showHandle&&this.show()}showWhile(t,n,r,i){var o=this;return(0,T.A)(function*(){const s=yield o.add(n,r,i);try{return yield t(s)}finally{o.resolve(s)}})()}scheduleShow(t){const n=this.now();return void 0!==this.hideHandle&&(clearTimeout(this.hideHandle),this.hideHandle=void 0),void 0!==this.showHandle&&t>0&&n+t>=this.showAt?Promise.resolve():(void 0!==this.showHandle&&clearTimeout(this.showHandle),this.showHandle=void 0,this.showAt=n+t,t<=0?this.show():(this.showHandle=setTimeout(this.show,t),Promise.resolve()))}scheduleHide(){this.showHandle&&(clearTimeout(this.showHandle),this.showHandle=void 0),void 0===this.hideHandle&&(this.hideDelay<=0?this.hide():this.hideHandle=setTimeout(this.hide,this.hideDelay))}getMessage(){for(const t of this.stack)if(void 0!==t.message&&!t.resolved)return t.message.replace(/\.\.\./g,"\u2026")}getLoaderOptions(){return this.stack.length>0?this.stack[this.stack.length-1].loaderOptions:void 0}}class fne{constructor(t){this.loadingController=t}show(t){var n=this;return(0,T.A)(function*(r,{onTop:i}={}){n.loader?n.loader.message=r:(n.loader=yield n.loadingController.create({message:r}),yield n.loader.present()),n.loader.style.zIndex=i?"10000000":""}).apply(this,arguments)}hide(){var t=this;return(0,T.A)(function*(){t.loader&&(yield t.loader.dismiss(),t.loader=void 0)})()}}let Rs=(()=>{var e;class t extends dne{constructor(r){super(new fne(r),50)}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(cee))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Wc=(()=>{var e;class t{constructor(){this._context=ao(void 0),this._session=Oo(()=>this._context()?.session),this._engine=Oo(()=>this._context()?.engine)}get session(){return this._session}get engine(){return this._engine}get context(){return this._context}setContext(r,i){this._context.set({session:r,engine:i})}clearContext(){this._context.set(void 0)}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var lL;class cL{constructor(t){this.markup=t}}class Zr{constructor(t,n){this.alertController=t,this.emulationContext=n,this.emergencySaveEvent=new gn.J,this.sanitizeDiv=document.createElement("div")}verbatim(t){return new cL(t)}errorMessage(t){var n=this;return(0,T.A)(function*(r,i="Close"){const o=yield n.alertController.create({header:"Error",backdropDismiss:!1,message:n.sanitizeMessage(r),buttons:[{text:i,role:"cancel"}],cssClass:"alert-error"});yield o.present(),yield o.onDidDismiss()}).apply(this,arguments)}message(t,n){var r=this;return(0,T.A)(function*(i,o,s={},a="Close"){const l=yield r.alertController.create({header:i,message:r.sanitizeMessage(o),backdropDismiss:!1,buttons:[{text:a,role:"cancel"},...Object.keys(s).map(u=>({text:u,handler:()=>{s[u](),l.dismiss()}}))],cssClass:"cpe-alert-message"});yield l.present(),yield l.onDidDismiss()}).apply(this,arguments)}messageWithChoice(t,n,r,i){var o=this;return(0,T.A)(function*(s,a,l,u,f={},m="Close"){const g=yield o.alertController.create({header:s,message:o.sanitizeMessage(a),backdropDismiss:!1,buttons:[{text:m,role:"cancel"},...Object.keys(f).map(w=>({text:w,handler:()=>{f[w](),g.dismiss()}}))],inputs:[{type:"checkbox",label:l,checked:!1,handler:w=>u=!0===w.checked,cssClass:"alert-checkbox"}],cssClass:"alert-checkbox-no-border cpe-alert-message"});return yield g.present(),yield g.onDidDismiss(),u}).apply(this,arguments)}updateAvailable(t){var n=this;return(0,T.A)(function*(){const r=yield n.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield r.present(),yield r.onDidDismiss()})()}fatalError(t){var n=this;return(0,T.A)(function*(r,i=!0){const o=!!n.emulationContext.session(),s=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                ${r}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&i?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...o&&i?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield s.present(),yield s.onDidDismiss()}).apply(this,arguments)}errorInNativeCode(t){var n=this;return(0,T.A)(function*(){const r=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}snapshotTimeout(){var t=this;return(0,T.A)(function*(){yield t.message("Timeout while saving state","Your browser's IndexedDB is either slow to respond or has crashed. You can either retry or reload CloudpilotEmu.",{Reload:()=>window.location.reload()},"Retry")})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}sanitizeMessage(t){return new Rw.I(t instanceof cL?t.markup:t.replace(/<br\s*\/?>/g,"<br/>").replace(/\n/gm," ").split("<br/>").map(n=>(this.sanitizeDiv.textContent=n,this.sanitizeDiv.innerHTML)).join("<br/>"))}static#e=lL=()=>(this.\u0275fac=function(n){return new(n||Zr)(de(Ow),de(Wc))},this.\u0275prov=et({token:Zr,factory:Zr.\u0275fac,providedIn:"root"}))}lL(),se([ar()],Zr.prototype,"updateAvailable",null),se([ar()],Zr.prototype,"fatalError",null),se([ar()],Zr.prototype,"errorInNativeCode",null),se([ar()],Zr.prototype,"snapshotTimeout",null);const ip=function hne(){if(!rc)return 0;const e=navigator.userAgent.match(/cpe-native-api-(\d+)/);if(!e)return 0;const t=parseInt(e[1],10);return isNaN(t)?0:t}(),nE=new gn.J;ip>0&&(window.__cpeCallFromNative=e=>nE.dispatch(e));let Ea=(()=>{var e;class t{constructor(){this.netRpcResult=new gn.J,this.onNativeMessage=r=>{"netRpcResult"===r.type?this.netRpcResult.dispatch({sessionId:r.sessionId,rpcData:new Uint8Array(r.rpcData)}):console.error("unhandled native message",r)},nE.addHandler(this.onNativeMessage)}ngOnDestroy(){nE.removeHandler(this.onNativeMessage)}netOpenSession(){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netOpenSession"})}netCloseSession(r){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netCloseSession",sessionId:r})}netDispatchRpc(r,i){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netDispatchRpc",sessionId:r,rpcData:Array.from(i)}).then(o=>!!o)}clipboardRead(){return this.assertNativeClipboardSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"clipboardRead"})}clipboardWrite(r){return this.assertNativeClipboardSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"clipboardWrite",data:r})}isResumeFromBackground(){return void 0!==window.__cpeLastResume&&Date.now()-window.__cpeLastResume<=3e3}setWorkerRegistered(r){return(0,T.A)(function*(){ip>2&&(yield window.webkit.messageHandlers.nativeCall.postMessage({type:"setWorkerRegistered",workerRegistered:r}))})()}getWorkerFailed(){return(0,T.A)(function*(){return!(ip<3||!(yield window.webkit.messageHandlers.nativeCall.postMessage({type:"getWorkerFailed"})))})()}clearWorkerFailed(){ip>2&&window.webkit.messageHandlers.nativeCall.postMessage({type:"clearWorkerFailed"})}assertNativeNetworkIntegrationSupported(){if(!t.supportsNativeNetworkIntegration())throw new Error("native network integration not supported")}assertNativeClipboardSupported(){if(!t.supportsNativeClipboard())throw new Error("native clipboard is not supported")}static supportsNativeNetworkIntegration(){return rc&&ip>0}static supportsNativeClipboard(){return rc&&ip>1}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Cy=(()=>{var e;class t{constructor(r,i,o){var s=this;this.loaderService=r,this.alertService=i,this.nativeAppService=o,this.updateNativeAppRegistrationStatus=a=>this.updateNativeAppRegistrationStatusMutex.runExclusive(()=>this.nativeAppService.setWorkerRegistered(a)),this.register=()=>this.registerMutex.runExclusive((0,T.A)(function*(){if(s.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>s.reloadOnControllerChange&&window.location.reload()),yield new Promise(a=>setTimeout(a,3e3));try{s.setupRegistration(yield s.doRegister())}catch(a){console.error(a)}}})),this.reloadOnControllerChange=!1,this.registerMutex=new na,this.updateNativeAppRegistrationStatusMutex=new na,this.updateAvailableEvent=new gn.J,this.register(),this.isEnabled()&&this.updateNativeAppRegistrationStatus(this.isRegistered())}isEnabled(){return!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}reset(){var r=this;return(0,T.A)(function*(){try{yield r.loaderService.showWhile((0,T.A)(function*(){if(!(yield(yield navigator.serviceWorker.getRegistration())?.unregister()))throw new Error("failed to unregister worker");yield r.updateNativeAppRegistrationStatus(!1)}))}catch(i){return console.error(i),void(yield r.alertService.errorMessage("Failed to unregister service worker."))}yield r.alertService.message("Service worker unregistered","\n            The current service worker has been unregistered. Please reload the app\n            in order to register a new worker for offline usage.\n        ",{},"Reload"),window.location.reload()})()}update(){var r=this;return(0,T.A)(function*(){r.registration&&r.registration.update()})()}activateUpdate(){var r=this;return(0,T.A)(function*(){r.registration?.waiting&&(yield r.loaderService.showWhile((0,T.A)(function*(){r.registration.waiting.postMessage({type:"SKIP_WAITING"})}),"Updating..."))})()}doRegister(){return(0,T.A)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(r){this.registration=r,r.waiting&&this.dispatchUpdate(),r.installing&&this.handleInstallingWorker(r.installing),r.addEventListener("updatefound",()=>r.installing&&this.handleInstallingWorker(r.installing))}handleInstallingWorker(r){let i=!1;r.addEventListener("statechange",()=>{"installed"!==r.state||i||(i=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(Rs),de(Zr),de(Ea))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const gne=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function uL(e){let t=-1;for(let n=0;n<e.length;n++)t=gne[255&(t^e[n])]^t>>>8;return~t}function Tm(e){switch(e){case Q.i710:case Q.m520:case Q.te2:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case Q.handera330:case Q.handera330c:case Q.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case Q.pegS300:case Q.pegS320:case Q.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case Q.pegT600c:case Q.pegT400:case Q.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case Q.pegN600c:case Q.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case Q.pegNR70:case Q.frankene2:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case Q.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function rE(e){switch(e){case Q.pilot:case Q.palmPilot:case Q.iii:case Q.palmV:case Q.palmVx:case Q.iiix:case Q.iiixe:case Q.iiie:case Q.m100:case Q.m105:case Q.m125:case Q.m500:case Q.palmVII:case Q.palmVIIEZ:case Q.palmVIIx:case Q.i705:case Q.handera330:case Q.pegS300:case Q.pegS320:case Q.pegT400:case Q.acerS11:return!1;default:return!0}}function dL(e){switch(e){case Q.pilot:return"Pilot";case Q.palmPilot:return"Palm Pilot";case Q.iii:return"Palm III";case Q.m500:return"Palm m500";case Q.m505:return"Palm m505";case Q.m515:return"Palm m515";case Q.m520:return"Palm m520";case Q.palmVx:return"Palm Vx";case Q.iiix:return"Palm IIIx";case Q.iiixe:return"Palm IIIxe";case Q.iiie:return"Palm IIIe";case Q.palmV:return"Palm V";case Q.palmVII:return"Palm VII";case Q.palmVIIEZ:return"Palm VII EZ";case Q.palmVIIx:return"Palm VIIx";case Q.iiic:return"Palm IIIc";case Q.m100:return"Palm m100";case Q.m105:return"Palm m105";case Q.m125:return"Palm m125";case Q.m130:return"Palm m130";case Q.i705:return"Palm i705";case Q.i710:return"Tungsten W";case Q.handera330:return"Handera 330";case Q.handera330c:return"Handera 330c";case Q.pegS300:return"Sony PEG-S300";case Q.pegS320:return"Sony PEG-S320";case Q.pegT400:return"Sony PEG-T400 series";case Q.pegN600c:return"Sony PEG-N600C series";case Q.pegT600c:return"Sony PEG-T600C series";case Q.pegN700c:return"Sony PEG-N700C series";case Q.pegT650c:return"Sony PEG-T650C series";case Q.pegNR70:return"Sony PEG-NR70 series";case Q.pegS500c:return"Sony PEG-S500C series";case Q.acerS11:return"Acer S1x series";case Q.lp168:return"Legend P168";case Q.te2:return"Tungsten E2";case Q.frankene2:return"Tungsten E3";default:throw new Error("bad device ID")}}function iE(e){switch(e){case Q.m500:case Q.m505:case Q.m515:case Q.m520:case Q.m125:case Q.m130:case Q.i705:case Q.i710:case Q.handera330:case Q.handera330c:case Q.te2:case Q.frankene2:return"sdcard";case Q.pegS300:case Q.pegS500c:case Q.pegS320:case Q.pegT400:case Q.pegN600c:case Q.pegT600c:case Q.pegN700c:case Q.pegT650c:case Q.pegNR70:case Q.acerS11:return"memorystick";default:return"none"}}function oE(e){switch(e){case Q.te2:case Q.frankene2:return"uarm";default:return"cloudpilot"}}function wy(e){return"uarm"===oE(e)?34603008:void 0}function fL(e){switch(e){case Q.te2:case Q.frankene2:return!0;default:return!1}}var Sne=b(6243),Cne=b.n(Sne);const pL={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let sE;const wne=new Uint8Array(16),Yo=[];for(let e=0;e<256;++e)Yo.push((e+256).toString(16).slice(1));function Dne(e,t,n){const r=(e=e||{}).random??e.rng?.()??function Ene(){if(!sE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");sE=crypto.getRandomValues.bind(crypto)}return sE(wne)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[n+i]=r[i];return t}return function hL(e,t=0){return(Yo[e[t+0]]+Yo[e[t+1]]+Yo[e[t+2]]+Yo[e[t+3]]+"-"+Yo[e[t+4]]+Yo[e[t+5]]+"-"+Yo[e[t+6]]+Yo[e[t+7]]+"-"+Yo[e[t+8]]+Yo[e[t+9]]+"-"+Yo[e[t+10]]+Yo[e[t+11]]+Yo[e[t+12]]+Yo[e[t+13]]+Yo[e[t+14]]+Yo[e[t+15]]).toLowerCase()}(r)}const mL=function Ine(e,t,n){return!pL.randomUUID||t||e?Dne(e,t,n):pL.randomUUID()};let Id=(()=>{var e;class t{constructor(r,i,o){this.alertService=r,this.nativeAppService=i,this.ngZone=o,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>{this.nativeAppService.isResumeFromBackground()?window.location.reload():this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1)},this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=s=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${s}.`),this.fatalInNativeCode=s=>this.fatalWithMessage(s.message,!0,!1),this.fatalWithMessage=(s,a=!0,l=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,a&&oF(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(s,l))}),this.fatalErrorEvent=new gn.J,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(Zr),de(Ea),de(qe))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Ey=(()=>{var e;class t{constructor(r){this.errorService=r,this.ownershipMmap=new Map}getOwner(r){return this.ownershipMmap.get(r)??"none"}claim(r,i){this.assertOwnership(r,"none"),this.ownershipMmap.set(r,i)}release(r,i){this.assertOwnership(r,i),this.ownershipMmap.delete(r)}assertOwnership(r,i){if(this.getOwner(r)===i)return;const o="none"===i?`Card already claimed for ${this.getOwner(r)}.`:`Expected card ownership to be ${i}, but is ${this.getOwner(r)}.`;throw this.errorService.fatalBug(o),new Error(o)}transferOwnership(r,i,o){this.assertOwnership(r,i),this.ownershipMmap.set(r,o)}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(Id))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class xd extends Error{constructor(t){super(t)}}const Iu="session",op="rom",xu="memory",qc="state",Dy="kvs",Tu="memory-meta",cc="storage",Qa="storage-card",Mm="lock",Mu="nand",Am="session",lE="memory",vL="storage-meta",yL="storage-card";function cE(){return(cE=(0,T.A)(function*(e,t){function n(o){switch(o){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const i=t.objectStore(Am).openCursor();return new Promise((o,s)=>{i.onsuccess=()=>{const a=i.result;if(!a)return void o();const l=a.value,u={...l,totalMemory:1024*l.ram*1024+n(l.device)};a.update(u),a.continue()},i.onerror=a=>s(a)})})).apply(this,arguments)}function uE(){return(uE=(0,T.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");const n=t.objectStore("kvs"),r=yield new Promise((i,o)=>{const s=n.get("proxyCredentials");s.onsuccess=()=>i(s.result),s.onerror=()=>o(new Error(s.error?.message))});r&&(n.put(r,"credentials"),n.delete("proxyCredentials"))})).apply(this,arguments)}function dE(){return(dE=(0,T.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");const n=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(vL,{keyPath:"id",autoIncrement:!0});const i=t.objectStore(Am).openCursor();return new Promise((o,s)=>{i.onsuccess=()=>{const a=i.result;if(!a)return void o();const l=a.value;void 0!==l.totalMemory&&(n.put({sessionId:l.id,totalSize:l.totalMemory}),delete l.totalMemory,a.update(l)),a.continue()},i.onerror=a=>s(a)})})).apply(this,arguments)}function fE(){return(fE=(0,T.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(vL).name=yL})).apply(this,arguments)}function pE(){return(pE=(0,T.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(yL).createIndex("storageId","storageId")})).apply(this,arguments)}function hE(){return(hE=(0,T.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}function mE(){return(mE=(0,T.A)(function*(e,t){if(e.createObjectStore("nand"),!t)throw new Error("no version change transaction!");const r=t.objectStore(Am).openCursor();return new Promise((i,o)=>{r.onsuccess=()=>{const s=r.result;if(!s)return void i();const a={engine:"cloudpilot",wasResetForcefully:!1,deviceOrientation:"portrait",hotsyncName:"",dontManageHotsyncName:!1,speed:1,...s.value};s.update(a),s.continue()},r.onerror=s=>o(s)})})).apply(this,arguments)}function yr(e){return new Promise((t,n)=>{!function jne(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>n(new xd(e.error?.message))})}function bL(e){let t=255&e[0];t|=t<<8,t|=t<<16;const n=e.length;for(let r=0;r<n;r++)if(e[r]!==t)return e;return 255&e[0]}function _E(e){const t=e[0],n=e.length;for(let r=1;r<n;r++)if(e[r]!==t)return e;return t}var SL;const gE=new Error("page lock lost"),CL=new Error("version mismatch"),wL=mL();function Pi(){return(e,t,n)=>{const r=n.value;return n.value=(0,T.A)(function*(...i){const o=this.errorService;try{return yield r.apply(this,i)}catch(s){throw console.error(s),s instanceof xd?o?.fatalIDBDead():s===CL?o?.fatalVersionMismatch():s===gE?o?.fatalPageLockLost():s instanceof Error?o?.fatalBug(s?.message):o?.fatalBug("unknown reason"),s}}),n}}class lr{constructor(t,n,r){this.ngZone=t,this.errorService=n,this.storageCardContext=r,this.sessionChangeEvent=new gn.J,this.storageCardChangeEvent=new gn.J,this.sessionUpdateMutex=new na,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,{rom:n,memory:r,nand:i,state:o}){var s=this;return this.ngZone.runOutsideAngular((0,T.A)(function*(){const a=Cne()(n),l=yield s.newTransaction(Iu,op,qc,xu,Tu,Mu),u=l.objectStore(Iu),f=l.objectStore(op);(yield yr(f.get(a)))||f.put(n,a);const{id:g,...w}=t,F=yield yr(u.add({...w,rom:a})),H=yield yr(u.get(F));return s.saveMemory(l,t.engine,H.id,r),s.saveNand(l,H.id,i),s.saveState(l,H.id,o),yield yr(l),H}))}getAllSessions(){var t=this;return(0,T.A)(function*(){const[n]=yield t.prepareObjectStore(Iu);return yield yr(n.getAll())})()}getSession(t){var n=this;return(0,T.A)(function*(){const[r]=yield n.prepareObjectStore(Iu);return yield yr(r.get(t))})()}deleteSession(t){var n=this;return(0,T.A)(function*(){const r=yield n.newTransaction(Iu,op,qc,xu,Tu,Mu),i=r.objectStore(Iu),o=r.objectStore(op);(t=yield yr(i.get(t.id)))&&(i.delete(t.id),0===(yield yr(i.index("rom").getAll(t.rom))).length&&o.delete(t.rom),n.deleteMemory(r,t.id),n.deleteState(r,t.id),n.deleteNand(r,t.id),yield yr(r),n.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,n){var r=this;return this.sessionUpdateMutex.runExclusive((0,T.A)(function*(){const{id:i,rom:o,ram:s,device:a,engine:l,nand:u,...f}=n,[m,g]=yield r.prepareObjectStore(Iu),w=yield yr(m.get(t));if(!w)throw new Error(`no session with id ${t}`);const F={...w,...f};m.put(F),yield yr(g),r.sessionChangeEvent.dispatch([w.id,F])}))}updateSession(t){var n=this;return this.sessionUpdateMutex.runExclusive((0,T.A)(function*(){const[r,i]=yield n.prepareObjectStore(Iu),o=yield yr(r.get(t.id));if(!o)throw new Error(`no session with id ${t.id}`);if(o.engine!==t.engine)throw new Error("attempt to change session engine");if(o.rom!==t.rom)throw new Error("attempt to change ROM reference");if(o.ram!==t.ram)throw new Error("attempt to change RAM size");if(o.device!==t.device)throw new Error("attempt to change device type");if(o.nand!==t.nand)throw new Error("attempt to change NAND size");r.put(t),yield yr(i),n.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,n){var r=this;return this.ngZone.runOutsideAngular((0,T.A)(function*(){const i=yield r.newTransaction(op,qc,xu,Tu,Mu),o=i.objectStore(op);return{rom:yield yr(o.get(t.rom)),memory:yield r.loadMemory(i,t.id,n),savestate:yield r.loadState(i,t.id),nand:yield r.loadNand(i,t.id,t.device)}}))}deleteStateForSession(t){var n=this;return(0,T.A)(function*(){const[r,i]=yield n.prepareObjectStore(qc);r.delete(t.id),yield yr(i)})()}addEmptyStorageCard(t){var n=this;return(0,T.A)(function*(){const[r]=yield n.prepareObjectStore(Qa),i=yield yr(r.add(t)),o=yield yr(r.get(i));return n.storageCardChangeEvent.dispatch(o.id),o})()}importStorageCard(t,n){var r=this;return this.ngZone.runOutsideAngular((0,T.A)(function*(){const i=yield r.newTransaction(Qa,cc),o=i.objectStore(Qa),s=i.objectStore(cc),a=yield yr(o.add(t));if("number"!=typeof a)throw new Error("invalid key");r.savePagedData(s,8192,_E,a,0,new Uint8Array(n.buffer,n.byteOffset,n.byteLength));const l=yield yr(o.get(a));return yield yr(i),r.storageCardChangeEvent.dispatch(l.id),l}))}getAllStorageCards(){var t=this;return(0,T.A)(function*(){const[n]=yield t.prepareObjectStore(Qa);return yr(n.getAll())})()}getCard(t){var n=this;return(0,T.A)(function*(){const[r]=yield n.prepareObjectStore(Qa);return yr(r.get(t))})()}updateStorageCardPartial(t,n){var r=this;return(0,T.A)(function*(){const{storageId:i,size:o,id:s,...a}=n,[l,u]=yield r.prepareObjectStore(Qa),f=yield yr(l.get(t));if(!f)throw new Error(`no card with id ${t}`);const m={...f,...a};l.put(m),yield yr(u),r.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var n=this;return(0,T.A)(function*(){const r=yield n.newTransaction(Qa,cc);n.storageCardContext.assertOwnership(t,"none");const i=r.objectStore(Qa),o=r.objectStore(cc);i.delete(t),n.deletePagedData(o,t),yield yr(r),n.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,n,r){var i=this;return this.ngZone.runOutsideAngular((0,T.A)(function*(){const o=yield i.newTransaction(cc);i.storageCardContext.assertOwnership(t,r);const s=o.objectStore(cc);yield i.loadPagedData(t,s,8192,0,n)}))}updateCardData(t,n,r,i){var o=this;return this.ngZone.runOutsideAngular((0,T.A)(function*(){const s=yield o.newTransaction(Qa,cc);o.storageCardContext.assertOwnership(t,i);const a=s.objectStore(Qa),l=s.objectStore(cc),u=yield yr(a.get(t));if(!u)throw new Error(`no card with ID ${t}`);if(n.length!==u.size>>>2)throw new Error("data size mismatch");const f=(u.size>>>13)+(u.size%8192>0?1:0);if((f>>>3)+(f%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let m=0;for(let g=0;g<r.length;g++)for(let w=1;w<256&&!(m>=f);w<<=1)r[g]&w&&l.put(n.subarray(2048*m,2048*(m+1)).slice(),[u.id,m]),m++;yield yr(s)}))}kvsGet(t){var n=this;return(0,T.A)(function*(){const[r]=yield n.prepareObjectStore(Dy);return yr(r.get(t))})()}kvsSet(t){var n=this;return(0,T.A)(function*(){const[r,i]=yield n.prepareObjectStore(Dy);for(const o of Object.keys(t))r.put(t[o],o);yield yr(i)})()}kvsLoad(){var t=this;return(0,T.A)(function*(){const[n]=yield t.prepareObjectStore(Dy);return new Promise((r,i)=>{const o={},s=n.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(o);o[a.key]=a.value,a.continue()},s.onerror=()=>i(new xd(s.error?.message))})})()}kvsDelete(t){var n=this;return(0,T.A)(function*(){const[r,i]=yield n.prepareObjectStore(Dy);r.delete(t),yield yr(i)})()}acquireLock(t){var n=this;return(0,T.A)(function*(){if(n.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield yr(t.objectStore(Mm).get(0)))!==wL)throw t.abort(),t.db.close(),gE})()}newTransaction(...t){var n=this;return(0,T.A)(function*(){const r=(yield n.db).transaction([Mm,...t],"readwrite",{durability:"relaxed"});return yield n.acquireLock(r),r})()}prepareObjectStore(t){var n=this;return(0,T.A)(function*(){const r=yield n.newTransaction(t);return[r.objectStore(t),r]})()}loadState(t,n){return yr(t.objectStore(qc).get(n))}saveState(t,n,r){const i=t.objectStore(qc);r?i.put(r,n):i.delete(n)}deleteState(t,n){t.objectStore(qc).delete(n)}loadMemory(t,n,r){return(0,T.A)(function*(){const i=t.objectStore(Tu),o=yield yr(i.get(n));if(!o)return;const s=yield new Promise(function(){var a=(0,T.A)(function*(l,u){const f=t.objectStore(xu),m=new Uint32Array(o.totalSize>>>2),g=f.openCursor(IDBKeyRange.bound([n,0],[n+1,0],!1,!0));g.onsuccess=()=>{const w=g.result;if(!w)return l(new Uint8Array(m.buffer));const F=w.value,[,H]=w.key;"number"==typeof F?m.subarray(256*H,256*(H+1)).fill(F|F<<8|F<<16|F<<24):m.subarray(256*H,256*(H+1)).set(1024===F.length?new Uint32Array(F.buffer):F),w.continue()},g.onerror=()=>u(new xd(g.error?.message))});return function(l,u){return a.apply(this,arguments)}}());if(void 0!==o.crc32&&r&&o.crc32!==uL(s))throw new Error("snapshot CRC mismatch");return s})()}saveMemory(t,n,r,i){const o=t.objectStore(xu),s=t.objectStore(Tu);s.delete(r),i&&s.put({sessionId:r,totalSize:i.length}),this.savePagedData(o,1024,bL,r,0,i)}deleteMemory(t,n){const r=t.objectStore(xu),i=t.objectStore(Tu);this.deletePagedData(r,n),i.delete(n)}saveNand(t,n,r){this.savePagedData(t.objectStore(Mu),4224,_E,n,255,r)}loadNand(t,n,r){var i=this;return(0,T.A)(function*(){const o=wy(r);if(void 0===o)return;const s=new Uint8Array(o),a=new Uint32Array(s.buffer),l=t.objectStore(Mu);return yield i.loadPagedData(n,l,4224,255,a),s})()}deleteNand(t,n){this.deletePagedData(t.objectStore(Mu),n)}savePagedData(t,n,r,i,o,s){if(o=o|o<<8|o<<16|o<<24,t.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),!s)return;const a=new Uint32Array(s.buffer,s.byteOffset,s.byteLength>>>2),l=n>>>2,u=(s.length/n|0)+(s.length%n===0?0:1),f=new Uint32Array(l);for(let m=0;m<u;m++){let g=a.subarray(m*l,(m+1)*l);m===u-1&&(f.set(g),g=f);const w=r(g);"number"==typeof w&&(0|w)===o||t.put("number"==typeof w?w:w.slice(),[i,m])}}loadPagedData(t,n,r,i,o){const s=r>>>2;return o.fill(i=i|i<<8|i<<16|i<<24),new Promise((a,l)=>{const u=n.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));u.onsuccess=()=>{const f=u.result;if(!f)return a();let m=f.value;const[,g]=f.key;if("number"==typeof m)o.subarray(g*s,(g+1)*s).fill(m);else{if((g+1)*s>o.length){if((g+1)*s>o.length+s)throw new Error("bad page index");m=m.subarray(0,s-(g+1)*s+o.length)}o.subarray(g*s,(g+1)*s).set(m)}f.continue()},u.onerror=()=>l(new xd(u.error?.message))})}deletePagedData(t,n){t.delete(IDBKeyRange.bound([n,0],[n+1,0],!1,!0))}initializeLock(t){return(0,T.A)(function*(){const n=t.transaction(Mm,"readwrite");yield yr(n.objectStore(Mm).put(wL,0))})()}setupDb(){var t=this;return(0,T.A)(function*(){const n=setTimeout(()=>Bi&&window.location.reload(),500);try{if(indexedDB.databases){const i=(yield indexedDB.databases()).find(o=>"cloudpilot-preview"===o.name);if(clearTimeout(n),i&&void 0!==i.version&&i.version>10)throw CL}const r=yield new Promise((i,o)=>{const s=indexedDB.open("cloudpilot-preview",10);s.onerror=()=>{o(new xd("failed to open DB"))},s.onsuccess=()=>{i(s.result)},s.onblocked=()=>{o(new xd("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,T.A)(function*(l){clearTimeout(n),l.oldVersion<1&&function Nne(e){e.createObjectStore(Am,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),l.oldVersion<2&&function Fne(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(lE)&&e.deleteObjectStore(lE),t.objectStore(Am).clear(),e.createObjectStore("rom"),e.createObjectStore(lE),e.createObjectStore("kvs")}(s.result,s.transaction),l.oldVersion<4&&(yield function Pne(e,t){return cE.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<5&&(yield function One(e,t){return uE.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<6&&(yield function Lne(e,t){return dE.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<7&&(yield function $ne(e,t){return fE.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<8&&(yield function Bne(e,t){return pE.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<9&&(yield function Gne(e,t){return hE.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<10&&(yield function Une(e,t){return mE.apply(this,arguments)}(s.result,s.transaction))});return function(l){return a.apply(this,arguments)}}()});return yield t.initializeLock(r),r}finally{clearTimeout(n)}})()}requestPersistentStorage(){return(0,T.A)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}static#e=SL=()=>(this.\u0275fac=function(n){return new(n||lr)(de(qe),de(Id),de(Ey))},this.\u0275prov=et({token:lr,factory:lr.\u0275fac,providedIn:"root"}))}SL(),se([Pi()],lr.prototype,"addSession",null),se([Pi()],lr.prototype,"getAllSessions",null),se([Pi()],lr.prototype,"getSession",null),se([Pi()],lr.prototype,"deleteSession",null),se([Pi()],lr.prototype,"updateSessionPartial",null),se([Pi()],lr.prototype,"updateSession",null),se([Pi()],lr.prototype,"loadSession",null),se([Pi()],lr.prototype,"deleteStateForSession",null),se([Pi()],lr.prototype,"addEmptyStorageCard",null),se([Pi()],lr.prototype,"importStorageCard",null),se([Pi()],lr.prototype,"getAllStorageCards",null),se([Pi()],lr.prototype,"getCard",null),se([Pi()],lr.prototype,"updateStorageCardPartial",null),se([Pi()],lr.prototype,"deleteStorageCard",null),se([Pi()],lr.prototype,"loadCardData",null),se([Pi()],lr.prototype,"updateCardData",null),se([Pi()],lr.prototype,"kvsGet",null),se([Pi()],lr.prototype,"kvsSet",null),se([Pi()],lr.prototype,"kvsLoad",null),se([Pi()],lr.prototype,"kvsDelete",null),se([Pi()],lr.prototype,"newTransaction",null),se([Pi()],lr.prototype,"prepareObjectStore",null),se([Pi()],lr.prototype,"initializeLock",null),se([Pi()],lr.prototype,"setupDb",null);const EL={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,networkRedirectionMode:Ea.supportsNativeNetworkIntegration()?"native":"proxy",proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let rs=(()=>{var e;class t{constructor(r){var i=this;this.storageService=r,this.set=o=>this.storageMutex.runExclusive((0,T.A)(function*(){yield i.storageService.kvsSet(o);for(const s of Object.keys(o))i.rawKvs[s]=o[s];i.updateEvent.dispatch()})),this.updateEvent=new gn.J,this.mutex=new na,this.storageMutex=new na,this.initializationPromise=this.startInitialization().then(()=>this.migrate())}initialize(){var r=this;return(0,T.A)(function*(){return r.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialization(){var r=this;return(0,T.A)(function*(){const i=r;try{const o={...EL,...yield r.storageService.kvsLoad()};r.rawKvs=o,r.kvsProxy=new Proxy(o,{set:(s,a,l)=>(s[a]=l,i.storageMutex.runExclusive((0,T.A)(function*(){yield i.storageService.kvsSet({[a]:l})})),i.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],i.storageMutex.runExclusive(()=>i.storageService.kvsDelete(a)),i.updateEvent.dispatch(),!0)})}catch(o){console.error("failed to load KVS"),console.error(o),r.kvsProxy={...EL}}})()}migrate(){var r=this;return(0,T.A)(function*(){switch(r.kvs.networkRedirectionMode){case"native":Ea.supportsNativeNetworkIntegration()||(yield r.set({networkRedirectionMode:"proxy",networkRedirection:!1}));break;case"proxy":break;default:yield r.set({networkRedirectionMode:"proxy"})}})()}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(lr))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const DL='<a href="https://apps.apple.com/us/app/cloudpilotemu/id6478502699" target="_blank">App Store</a>',Hne=`\n    You can install CloudpilotEmu as an app either from the\n    ${DL} or by selecting "Share" and "Add to Home Screen"\n    in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`,qne=`\n    Howdy! It seems that you are using an iPhone or iPad. You can\n    install CloudpilotEmu as an app either from the\n    ${DL} or by selecting "Share"\n    and "Add to Home Screen" in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`;let Iy=(()=>{var e;class t{constructor(r,i){var o=this;this.kvsService=r,this.alertService=i,this.serviceWorkerKeepalive=(0,T.A)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch(s){console.error(s)}setTimeout(o.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(Bi||o0)&&"web"===this.installationMode}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.alertService.verbatim(this.getInstallMessage()))}invite(){(Bi||o0||Of)&&"web"===this.installationMode&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,Object.prototype.hasOwnProperty.call(window,"onbeforeinstallprompt")||this.alertService.message("App available",this.alertService.verbatim(this.getInviteMessage()))))}getInstallMessage(){return Bi?Hne:'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return Bi?qne:Of?'\n    Howdy! It seems that you are running CloudpilotEmu on a Mac. Safari will delete all\n    data after seven days of inactivity. However, you can click the "Share"\n    icon in the browser toolbar and select "Add to dock" to install\n    CloudpilotEmu as an app.\n    <br><br>\n    This will keep Safari from deleting your\n    data.\n':'\n    Howdy! It seems that you are using an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?"pwa":document.referrer.startsWith("android-app://")?"twa":window.matchMedia("(display-mode: standalone)").matches?"pwa":"web"}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(rs),de(Zr))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function Yne(e,t){if(1&e){const n=Fn();V(0,"ion-button",1),je("click",function(){return vt(n),yt(ft().onClick())}),st(1,"ion-icon",2),Y()}if(2&e){const n=ft();fe(),_e("name",n.iconName)}}let xy=(()=>{var e;class t{constructor(r){this.pwaService=r}onClick(){this.pwaService.install()}get iconName(){return Bi?"logo-apple-appstore":o0?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(y(Iy))},this.\u0275cmp=Je({type:t,selectors:[["app-pwa-prompt"]],standalone:!1,decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(i,o){1&i&&pn(0,Yne,2,1,"ion-button",0),2&i&&_e("ngIf",o.show)},dependencies:[Zi,Ds,fo],encapsulation:2}))}return e(),t})();var IL;function Kne(e,t){1&e&&(V(0,"div",12),st(1,"ion-spinner"),Y())}function Xne(e,t){if(1&e){const n=Fn();V(0,"div"),Pe(1,"app cached for offline use"),Y(),V(2,"a",10),je("click",function(){return vt(n),yt(ft().resetWorker())}),Pe(3,"reset worker"),Y()}}class km{constructor(t,n){this.modalController=t,this.serviceWorkerService=n,this.loading=!0}get version(){return Dd}get url(){return tne}showChangelog(){var t=this;return(0,T.A)(function*(){yield(yield t.modalController.create({component:Ed,componentProps:{url:iL,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}resetWorker(){var t=this;return(0,T.A)(function*(){yield t.serviceWorkerService.reset()})()}static#e=IL=()=>(this.\u0275fac=function(n){return new(n||km)(y(ta),y(Cy))},this.\u0275cmp=Je({type:km,selectors:[["app-about"]],standalone:!1,decls:22,vars:7,consts:[[3,"translucent"],["slot","secondary"],[3,"fullscreen"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"load","src","disableSanitizer"],[1,"version"],[1,"text-selectable"],["href","javascript:",3,"click"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(n,r){1&n&&(V(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Pe(3,"About"),Y(),V(4,"ion-buttons",1),st(5,"app-pwa-prompt"),Y()()(),V(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),Pe(10,"About"),Y()()(),pn(11,Kne,2,0,"div",5),V(12,"div",6)(13,"markdown",7),je("load",function(){return r.loading=!1}),Y()(),V(14,"div",8)(15,"span",9),Pe(16),Y(),st(17,"br"),V(18,"a",10),je("click",function(){return r.showChangelog()}),Pe(19,"Changelog"),Y(),Df(20,Xne,4,0),Y(),st(21,"img",11),Y()),2&n&&(_e("translucent",!0),fe(6),_e("fullscreen",!0),fe(5),_e("ngIf",r.loading),fe(2),_e("src",r.url)("disableSanitizer",!0),fe(3),Po("CloudpilotEmu version ",r.version),fe(4),If(r.serviceWorkerAvailable?20:-1))},dependencies:[Zi,Is,xs,Ts,vm,Ms,As,xy,eE],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:1em;margin-right:1em;max-width:var(--cp-page-width)}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}))}IL(),se([ar()],km.prototype,"resetWorker",null);const Qne=b.p+"assets/doc/emulation-57fd091f66800f1c.md";function Jne(e,t){if(1&e){const n=Fn();V(0,"ion-item",2),je("click",function(){const i=vt(n).$implicit;return yt(ft(2).onSelect(i))}),V(1,"div",3),Pe(2),Y()()}if(2&e){const n=t.$implicit,r=t.index,i=ft(2);_e("detail",!1)("lines",r===i.sessions.length-1?"none":"full"),fe(2),Ks(n.name)}}function ere(e,t){if(1&e&&(V(0,"ion-list"),pn(1,Jne,3,3,"ion-item",1),Y()),2&e){const n=ft();fe(),_e("ngForOf",n.sessions)}}let tre=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275cmp=Je({type:t,selectors:[["app-emulation-breadcrumb-menu"]],inputs:{sessions:"sessions",onSelect:"onSelect"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"click","detail","lines"],[1,"text-wrapper"]],template:function(i,o){1&i&&pn(0,ere,2,1,"ion-list",0),2&i&&_e("ngIf",o.sessions)},dependencies:[kc,Zi,Yi,wa],styles:["ion-item[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis}.text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrum-menu-width) - 16px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 32px)}"]}))}return e(),t})();var ni=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}(ni||{});function Rm(e){let t,n,r=!1;return i=>((!r||i!==t)&&(t=i,r=!0,n=e(i)),n)}function nre(e){switch(e.engine){case"cloudpilot":return{name:"",deviceOrientation:ni.portrait,hotsyncName:"",dontManageHotsyncName:!1,speed:1,...e};case"uarm":return{name:"",deviceOrientation:ni.portrait,disableAudio:!1,maxHostLoad:1,targetMips:100,warnSlowdownThreshold:.5,...e};default:throw new Error("unreachable")}}function TL(e){switch(e.engine){case"cloudpilot":{const{engine:t,name:n,deviceOrientation:r,hotsyncName:i,dontManageHotsyncName:o,speed:s}=e;return{engine:t,name:n,deviceOrientation:r,hotsyncName:i,dontManageHotsyncName:o,speed:s}}case"uarm":{const{engine:t,name:n,deviceOrientation:r,targetMips:i,disableAudio:o,warnSlowdownThreshold:s,maxHostLoad:a}=e;return{engine:t,name:n,deviceOrientation:r,targetMips:i,disableAudio:o,warnSlowdownThreshold:s,maxHostLoad:a}}default:throw new Error("unreachable")}}function ML(e,t){if(e.engine!==t.engine)throw new Error("engine mismatch");return{...e,...t}}function AL(e,t){switch(e){case"cloudpilot":return{engine:e,name:t?.name??"",deviceOrientation:t?.deviceOrientation??ni.portrait,hotsyncName:t?.hotsyncName??"",dontManageHotsyncName:t?.dontManageHotsyncName??!1,speed:t?.speed??1};case"uarm":return{engine:e,name:t?.name??"",deviceOrientation:t?.deviceOrientation??ni.portrait,disableAudio:t?.disableAudio??!1,maxHostLoad:t?.maxHostLoad??1,targetMips:t?.targetMips??100,warnSlowdownThreshold:t?.warnSlowdownThreshold??.5};default:throw new Error("unreachable")}}function sp(e,t){let n=e,r=1;for(;t(n);)n=`${e} (${r++})`;return n}function Td(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function kL(e){return`${Td(e.name)}.img`}function RL(e,t){return`backup_${Td(e.name)}${t?"_with_rom":""}.zip`}function SE(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}function NL(e){switch(e.engine){case"cloudpilot":{const{name:t,hotsyncName:n,osVersion:r,dontManageHotsyncName:i,speed:o,deviceOrientation:s}=e;return{name:t,hotsyncName:n,osVersion:r,dontManageHotsyncName:i,speed:o,deviceOrientation:s}}case"uarm":{const{name:t,osVersion:n,deviceOrientation:r,disableAudio:i,targetMips:o,warnSlowdownThreshold:s,maxHostLoad:a}=e;return{name:t,osVersion:n,deviceOrientation:r,disableAudio:i,targetMips:o,warnSlowdownThreshold:s,maxHostLoad:a}}default:throw new Error("unreachable")}}const Nm=new at("emulator lock"),Ty=new at("cloudpilot instance"),FL=new at("uarm module");let Fm=(()=>{var e;class t{constructor(r){this.cloudpilot=r}ramSizeForDevice(r,i){var o=this;return(0,T.A)(function*(){switch(r){case Q.te2:case Q.frankene2:{const s=(yield o.cloudpilot).getRomInfo(i);if("uarm"!==s?.engine)throw new Error(`${r} is OS5, but ROM is invalid`);return s.recommendedRamSize}default:return(yield o.cloudpilot).minRamForDevice(r)}})()}serializeSessionImage(r){return this.cloudpilot.then(i=>i.serializeSessionImage(r))}deserializeSessionImage(r){return this.cloudpilot.then(i=>i.deserializeSessionImage(r))}deviceSupportsCard(r,i){var o=this;return(0,T.A)(function*(){const s=iE(r);if("none"===s)return!1;switch((yield o.cloudpilot).getCardSupportLevel(i)){case 2:return!0;case 1:return"sdcard"===s;default:return!1}})()}getRomInfo(r){return this.cloudpilot.then(i=>i.getRomInfo(r))}getCardSupportLevel(r){return this.cloudpilot.then(i=>i.getCardSupportLevel(r))}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(Ty))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var are=b(6778),ap=b.n(are);const CE=524288;class wE{constructor(t,n){if(this.module=t,this.nativeContext=new t.CreateZipContext,!this.nativeContext.Initialize(n))throw new Error(`failed to initialize context: ${this.nativeContext.GetLastError()}`);const r=new t.FSTools;this.chunkBufferPtr=r.Malloc(CE),t.destroy(r)}static create(t,n){return(0,T.A)(function*(){return new wE(yield ap()({print:r=>console.log(r),printErr:r=>console.warn(r),instantiateWasm:n}),t)})()}addEntry(t,n){var r=this;return(0,T.A)(function*(){if(!r.nativeContext.AddEntry(t))throw new Error(`failed to add entry: ${r.nativeContext.GetLastError()}`);const i=r.module.getPointer(r.chunkBufferPtr);for(let o=0;o<n.length;o+=CE){o>0&&(yield new Promise(l=>setTimeout(l,0)));const s=Math.min(n.length-o,CE);if(r.module.HEAPU8.subarray(i,i+s).set(n.subarray(o,o+s)),!r.nativeContext.WriteData(r.chunkBufferPtr,s))throw new Error(`failed to add ${s} bytes to zip: ${r.nativeContext.GetLastError()}`)}})()}getContent(){const t=this.module.getPointer(this.nativeContext.GetZipData());if(!t)throw new Error(`unable to obtain zip data: ${this.nativeContext.GetLastError()}`);return this.module.HEAPU8.subarray(t,t+this.nativeContext.GetZipDataSize())}}class EE{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,T.A)(function*(){return new EE(yield ap()({print:n=>console.log(n),printErr:n=>console.warn(n),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),n=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==n)return this.module.HEAPU32.subarray(n>>>2,n+t>>>2)}}class DE{constructor(t,n){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(n>>>9)}static create(t,n){return(0,T.A)(function*(){const r=yield ap()({print:i=>console.log(i),printErr:i=>console.warn(i),instantiateWasm:n});return new DE(r,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),n=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(n>>>2,n+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),n=X0(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+n)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class My{constructor(t,n){this.module=t,n&&this.initialize(n)}static create(t,n){return(0,T.A)(function*(){const r=yield ap()({print:i=>console.log(i),printErr:i=>console.warn(i),instantiateWasm:t});return new My(r,n)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const n=new this.module.FSTools;this.bufferPtr&&n.Free(this.bufferPtr),this.bufferPtr=n.Malloc(t.length);const r=this.module.getPointer(this.bufferPtr);this.module.HEAPU8.subarray(r,r+t.length).set(t),this.module.destroy(n),this.nativeContext=new this.module.GunzipContext(this.bufferPtr,t.length,524288)}gunzip(){var t=this;return(0,T.A)(function*(){const n=t.getNativeContext();for(;0===n.Continue();)yield new Promise(r=>setTimeout(r,0));return-1!==n.GetState()||(console.error(`gunzip failed: ${n.GetError()}`),!1)})()}getDecompressedData(){const t=this.getNativeContext(),n=t.GetUncompressedSize(),r=t.GetUncompressedData(),i=this.module.getPointer(r);return this.module.HEAPU8.subarray(i,i+n)}getNativeContext(){if(!this.nativeContext)throw new Error("gunzip context not initialized");return this.nativeContext}}class IE{constructor(t,n){this.module=t,void 0!==n&&this.initialize(n)}static create(t,n){return(0,T.A)(function*(){const r=yield ap()({print:i=>console.log(i),printErr:i=>console.warn(i),instantiateWasm:t});return new IE(r,n)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const n=new this.module.FSTools;this.bufferPtr&&n.Free(this.bufferPtr),this.bufferPtr=n.Malloc(t),this.uncompressedDataSize=t,this.module.destroy(n),this.nativeContext=new this.module.GzipContext(this.bufferPtr,t,524288)}getBuffer(){if(!this.bufferPtr||void 0===this.uncompressedDataSize)throw new Error("gzip context not initialized");const t=this.module.getPointer(this.bufferPtr);return this.module.HEAPU8.subarray(t,t+this.uncompressedDataSize)}setFilename(t){return this.getNativeContext().SetFilename(t),this}setMtime(t){return this.getNativeContext().SetMtime(t),this}gzip(){var t=this;return(0,T.A)(function*(){const n=t.getNativeContext();for(n.Continue();1===n.Continue();)yield new Promise(r=>setTimeout(r,0));return-1!==n.GetState()||(console.error(`gzip failed: ${n.GetError()}`),!1)})()}getGzipData(){const t=this.getNativeContext(),n=t.GetGzipSize(),r=t.GetGzipData(),i=this.module.getPointer(r);return this.module.HEAPU8.subarray(i,i+n)}getNativeContext(){if(!this.nativeContext)throw new Error("gzip context not initialized");return this.nativeContext}}const PL=new Map;class ure{constructor(t){let n=PL.get(t);n||(n=function lK(e){const t=XP(e);return(n,r)=>{t.then(i=>WebAssembly.instantiate(i,n)).then(i=>r(i))}}(t),PL.set(t,n)),this.instantiante=n}mkfs(t){var n=this;return(0,T.A)(function*(){const r=yield EE.create(n.instantiante);if(r.mkfs(t))return r.getImage()})()}gunzip(t){var n=this;return(0,T.A)(function*(){const r=yield My.create(n.instantiante,t);if(yield r.gunzip())return r.getDecompressedData()})()}createGunzipContext(t){return My.create(this.instantiante,t)}createGzipContext(t){return IE.create(this.instantiante,t)}createFsckContext(t){return DE.create(t,this.instantiante)}createZipContext(t){return wE.create(t,this.instantiante)}createZipfileWalker(t){var n=this;return(0,T.A)(function*(){const r=yield ap()({print:a=>console.log(a),printErr:a=>console.warn(a),instantiateWasm:n.instantiante}),i=new r.FSTools,o=i.Malloc(t.length),s=r.getPointer(o);return r.HEAPU8.subarray(s,s+t.length).set(t),r.destroy(i),ZP(new r.ZipfileWalker(t.length,o),r)})()}}const dre=b.p+"wasm/fstools_web-b2f96f1edb7f3bac.wasm";let Ay=(()=>{var e;class t extends ure{constructor(){super(dre)}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function fre(e,t){1&e&&(V(0,"p",9),Pe(1,"ERROR: URL must be served via HTTPS."),Y())}function pre(e){if(!e.value)return{url:"URL empty"};let t;try{t=new($f())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let hre=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(r){"Enter"===r.key&&this.continue()}continue(){this.onContinue(new($f())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const r=this.formGroup.get("url")?.value;if(!r)return!1;try{const i=new($f())(r);return"https:"===location.protocol&&"https:"!==i.protocol}catch{}return!1}createFormGroup(){this.formGroup=new Qv({url:new pi("",pre)})}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275cmp=Je({type:t,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},standalone:!1,decls:19,vars:3,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown","formGroup"],["lines","inset"],["label","URL","labelPlacement","stacked","placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(i,o){1&i&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Pe(3,"Enter download URL"),Y(),V(4,"ion-buttons",0)(5,"ion-button",1),je("click",function(){return o.continue()}),Pe(6,"OK"),Y()(),V(7,"ion-buttons",2)(8,"ion-button",3),je("click",function(){return o.onCancel()}),Pe(9,"Cancel"),Y()()()(),V(10,"ion-content",4)(11,"form",5),je("keydown",function(a){return o.formKeyDown(a)}),V(12,"p"),Pe(13,"Please enter the URL from which to download:"),Y(),V(14,"ion-item",6),st(15,"ion-input",7),Y(),pn(16,fre,2,0,"p",8),V(17,"p"),Pe(18,"Note that the remote server needs to support the CORS protocol."),Y()()()),2&i&&(fe(5),_e("disabled",o.formGroup.invalid),fe(6),_e("formGroup",o.formGroup),fe(5),_e("ngIf",o.isMixedContent))},dependencies:[Zi,Ds,Is,xs,Ts,jc,Yi,Ms,As,Uc,Gc,$c,Bc,Xa,ac],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}))}return e(),t})(),mre=(()=>{var e;class t{constructor(r){this.kvs=r,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(r){"Enter"===r.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const r=this.kvs.kvs.credentials[this.origin];this.formGroup=new Qv({username:new pi(r?.username??""),password:new pi(r?.password??"")})}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(y(rs))},this.\u0275cmp=Je({type:t,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},standalone:!1,decls:18,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"keydown","formGroup"],["lines","inset"],["label","Username","labelPlacement","stacked","placeholder","Enter username","formControlName","username"],["label","Password","labelPlacement","stacked","placeholder","Enter password","formControlName","password","type","password"]],template:function(i,o){1&i&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Pe(3,"Authenticate"),Y(),V(4,"ion-buttons",0)(5,"ion-button",1),je("click",function(){return o.saveAndContinue()}),Pe(6,"OK"),Y()(),V(7,"ion-buttons",2)(8,"ion-button",1),je("click",function(){return o.onCancel()}),Pe(9,"Cancel"),Y()()()(),V(10,"ion-content",3)(11,"form",4),je("keydown",function(a){return o.formKeyDown(a)}),V(12,"p"),Pe(13,"The server requires authentication."),Y(),V(14,"ion-item",5),st(15,"ion-input",6),Y(),V(16,"ion-item",5),st(17,"ion-input",7),Y()()()),2&i&&(fe(11),_e("formGroup",o.formGroup))},dependencies:[Ds,Is,xs,Ts,jc,Yi,Ms,As,Uc,Gc,$c,Bc,Xa,ac],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}))}return e(),t})(),OL=(()=>{var e;class t{constructor(r,i,o){this.loaderService=r,this.kvsService=i,this.modalController=o}fetch(r,i){var o=this;return(0,T.A)(function*(){const s=i?.loaderDelay??0,a=void 0===i?.timeout?5e3:i?.timeout,l=new($f())("string"==typeof r?r:r.url);let u=!1;return o.loaderService.showWhile((0,T.A)(function*(){for(;;){const f=o.kvsService.kvs.credentials[l.origin],m=new AbortController,g=window.setTimeout(()=>m.abort(),a);try{const w=yield fetch(r,{...o.requestInit(i),signal:m.signal,headers:{...i?.headers||{},...u&&f?{Authorization:"Basic "+btoa(`${f.username}:${f.password}`)}:{}}});if(clearTimeout(g),401===w.status){if(!u&&f){u=!0;continue}if(u=!0,yield o.authenticate(l.origin))continue}return w}catch(w){throw clearTimeout(g),w}}}),"Loading...",s)})()}requestInit(r){if(!r)return;const{timeout:i,loaderDelay:o,...s}=r;return s}authenticate(r){var i=this;return(0,T.A)(function*(){const o=yield new Promise(s=>i.modalController.create({component:mre,backdropDismiss:!1,componentProps:{origin:r,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return i.modalController.dismiss(),o})()}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(Rs),de(rs),de(ta))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),uc=(()=>{var e;class t{constructor(r,i,o,s,a,l){this.actionSheetController=r,this.kvsService=i,this.modalController=o,this.alertService=s,this.fetchService=a,this.loaderService=l}openFile(r){this.openFilesImpl(!1,i=>{i.length>0&&r(i[0])})}openFiles(r){this.openFilesImpl(!0,r)}openFromDrop(r,i){"drop"!==r.type||!r.dataTransfer?.files||i(Array.from(r.dataTransfer.files).map(this.readFile.bind(this)))}saveFile(r,i,o="application/octet-stream"){this.saveBlob(r,new Blob([i],{type:o}))}saveBlob(r,i){const o=URL.createObjectURL(i),s=document.createElement("a");s.href=o,s.download=r,s.click()}openUrl(r,i){var o=this;return(0,T.A)(function*(){let s,a;try{s=new($f())(r)}catch{return void(yield o.alertService.errorMessage(`Invalid URL: ${r}`))}try{if(a=yield o.fetchService.fetch(r,{loaderDelay:-1}),!a.ok)throw new Error("request failed")}catch(u){return console.log(u),void(yield o.alertService.errorMessage(`Download from ${r} failed.`))}const l=a.arrayBuffer().then(u=>new Uint8Array(u));i({name:s.pathname.replace(/.*\//,""),getContent:u=>o.loaderService.showWhile(()=>l,"Loading...",100,u)})})()}openFilesImpl(r,i){var o=this;return(0,T.A)(function*(){o.kvsService.kvs.enableRemoteInstall?(yield o.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>o.openFilesLocal(r,i)},{text:"File on remote server",handler:()=>o.queryAndOpenFileRemote(i)},{text:"Cancel"}]})).present():o.openFilesLocal(r,i)})()}queryAndOpenFileRemote(r){var i=this;return(0,T.A)(function*(){let o;try{o=yield new Promise((s,a)=>i.modalController.create({component:hre,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(l=>l.present()))}catch{return}finally{i.modalController.dismiss()}yield i.openUrl(o,s=>r([s]))})()}openFilesLocal(r,i){var o=this;const s=Of||KN;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=r,this.input.type="file",Bi&&(this.input.accept="application/octet-stream"),this.input.addEventListener("change",function(){var a=(0,T.A)(function*(l){const u=l.target;u?.files&&i(Array.from(u.files).map(o.readFile.bind(o)))});return function(l){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(r){let i;return{name:r.name,getContent:s=>this.loaderService.showWhile(()=>i||(i=new Promise((a,l)=>{const u=new FileReader;u.onload=()=>a(new Uint8Array(u.result)),u.onerror=()=>{console.warn(u.error),l(u.error)},u.readAsArrayBuffer(r)}),i),"Loading...",100,s)}}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(Sm),de(rs),de(ta),de(Zr),de(OL),de(Rs))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class $L extends Error{constructor(t){super(t)}}let Au=(()=>{var e;class t{constructor(r,i,o,s,a,l){var u=this;this.nativeSupportService=r,this.storageService=i,this.loaderService=o,this.fsTools=s,this.alertService=a,this.fileService=l,this.addSessionFromImage=(f,m)=>this.loaderService.showWhile(()=>this.doAddSessionFromImage(f,m),"Importing..."),this.addSessionsFromArchive=f=>this.loaderService.showWhile(function(){var m=(0,T.A)(function*(g){try{const w=yield u.fsTools.createZipfileWalker(f);if(-1===w.GetState())return void(yield u.alertService.errorMessage("Import failed: unable to read zip file."));const F=w.GetTotalEntries(),H=new Set(u._sessions().map(pt=>pt.name));let ie=1,me=!1;const he=[];for(;0===w.GetState();)try{u.loaderService.updateMessage(g,`Importing ${ie++}/${F}...`);const pt=/\.(bin|img)$/i.test(w.GetCurrentEntryName())?yield u.nativeSupportService.deserializeSessionImage(w.GetCurrentEntryContent()):void 0;if(!pt)throw new $L(`${w.GetCurrentEntryName()} is not a valid session.`);const xt=sp(pt.metadata?.name??w.GetCurrentEntryName(),Dt=>H.has(Dt));yield u.doAddSessionFromImage(pt,{...AL(pt.engine,pt.metadata),name:xt})}catch(pt){if(!(pt instanceof $L))throw pt;he.push(w.GetCurrentEntryName()),me||(me=yield u.alertService.messageWithChoice("Error",pt.message,"Skip further errors",me,{},"Continue"))}finally{w.Next()}he.length<=3&&he.length>0?yield u.alertService.errorMessage(`The following files could not be imported: <br><br>${he.join("<br>")}`):he.length>3&&(yield u.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${he.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${he.length-3} more files.\n                    `))}catch(w){yield u.alertService.errorMessage(`Failed to import sessions: ${w?.message??"unknown error"}.`)}});return function(g){return m.apply(this,arguments)}}(),"Installing..."),this.saveSessions=f=>this.loaderService.showWhile(function(){var m=(0,T.A)(function*(g){const w=yield u.fsTools.createZipContext(0),F=new Set;try{let H=1;for(const ie of f){u.loaderService.updateMessage(g,`Exporting ${H++}/${f.length}...`);const me=yield u.serializeSession(ie);if(me){const he=sp(ie.name.replace(/[/\\]/,"_").substring(0,200),pt=>F.has(pt));F.add(he),yield w.addEntry(he+".img",me)}else yield u.alertService.errorMessage(`Failed  to export session '${ie.name}'.`,"Continue")}u.fileService.saveFile(function rre(){return`${Td("sessions")}.zip`}(),w.getContent())}catch(H){u.alertService.errorMessage(`Failed to export sessions: ${H.message??"unknown error"}`)}});return function(g){return m.apply(this,arguments)}}(),"Exporting..."),this._sessions=ao([]),this._loading=ao(!0),this.updateMutex=new na,this.updateSessionsFromStorage().then(()=>this._loading.set(!1)),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}get loading(){return this._loading}addSessionFromRom(r,i,o,s){var a=this;return(0,T.A)(function*(){if(oE(i)!==o.engine)throw new Error("settings do not match engine");if(s&&s?.length!==wy(i))throw new Error("NAND size mismatch");const u={...o,id:-1,device:i,ram:(yield a.nativeSupportService.ramSizeForDevice(i,r))>>>20,rom:"",wasResetForcefully:!1,nand:wy(i)};return a.loaderService.showWhile((0,T.A)(function*(){const f=yield a.storageService.addSession(u,{rom:r,nand:s});return yield a.updateSessionsFromStorage(),f}),"Importing...")})()}get sessions(){return this._sessions}deleteSession(r){var i=this;return(0,T.A)(function*(){yield i.storageService.deleteSession(r)})()}updateSession(r){var i=this;return(0,T.A)(function*(){yield i.storageService.updateSession(r)})()}saveSession(r){var i=this;return(0,T.A)(function*(){yield i.loaderService.showWhile((0,T.A)(function*(){const o=yield i.serializeSession(r);if(!o)throw new Error("Failed to save session.");i.fileService.saveFile(kL(r),o)}),"Exporting...")})()}emergencySaveSession(r,i,o,s,a){var l=this;return(0,T.A)(function*(){yield l.loaderService.showWhile((0,T.A)(function*(){const u={engine:r.engine,deviceId:r.device,metadata:NL(r),rom:i,memory:o,nand:s,savestate:a},f=yield l.nativeSupportService.serializeSessionImage(u);f&&l.fileService.saveFile(kL(r),f)}),"Exporting...",void 0,{onTop:!0})})()}serializeSession(r){var i=this;return(0,T.A)(function*(){const{rom:o,memory:s,savestate:a,nand:l}=yield i.storageService.loadSession(r,!1);if(!o)throw new Error(`invalid ROM ${r.rom}`);const u={engine:r.engine,deviceId:r.device,metadata:NL(r),rom:o,memory:s,savestate:a,nand:l};return i.nativeSupportService.serializeSessionImage(u)})()}updateSessionsFromStorage(){var r=this;return(0,T.A)(function*(){r._sessions.set(yield r.updateMutex.runExclusive((0,T.A)(function*(){return(yield r.storageService.getAllSessions()).sort((i,o)=>i.name.localeCompare(o.name))})))})()}doAddSessionFromImage(r,i){var o=this;return(0,T.A)(function*(){if(i.engine!==r.engine)throw new Error("settings do not match session type");const s={...i,id:-1,device:r.deviceId,ram:yield o.getRamSizeForSession(r),rom:"",osVersion:r?.metadata?.osVersion,wasResetForcefully:!1},a=yield o.storageService.addSession(s,{rom:r.rom,memory:r.memory,state:r.savestate,nand:r.nand});return yield o.updateSessionsFromStorage(),a})()}getRamSizeForSession(r){var i=this;return(0,T.A)(function*(){return"uarm"===r.engine&&r.memory?r.memory?.length>=32<<20?32:16:(yield i.nativeSupportService.ramSizeForDevice(r.deviceId,r.rom))>>>20})()}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(Fm),de(lr),de(Rs),de(Ay),de(Zr),de(uc))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function gre(e,t){if(1&e&&(V(0,"ion-select-option",11),Pe(1),Y()),2&e){const n=t.$implicit;_e("value",n[0]),fe(),Po("",n[1]," ")}}function vre(e,t){if(1&e&&(V(0,"ion-select-option",11),Pe(1),Y()),2&e){const n=t.$implicit;_e("value",n[0]),fe(),Po("",n[1]," ")}}function yre(e,t){if(1&e){const n=Fn();V(0,"ion-item",6)(1,"div",12)(2,"ion-input",13),je("click",function(){return vt(n),yt(ft().onNandClick())}),Y(),V(3,"ion-button",1),je("click",function(){return vt(n),yt(ft().onNandClearClick())}),Pe(4," Clear "),Y()()()}if(2&e){const n=ft();fe(2),_e("readonly",!0),fe(),_e("disabled",!n.formControlNand.value)}}function bre(e,t){if(1&e){const n=Fn();V(0,"h1"),Pe(1,"Performance"),Y(),V(2,"ion-item",6)(3,"ion-toggle",14),Pe(4,"Disable audio emulation"),Y()(),V(5,"ion-item",6)(6,"ion-range",15),je("ionInput",function(i){return vt(n),yt(ft().onTargetMipsDrag(i))})("ionKnobMoveEnd",function(){return vt(n),yt(ft().targetMipsTransient=void 0)}),Y()(),V(7,"ion-item",6)(8,"ion-range",16),je("ionInput",function(i){return vt(n),yt(ft().onWarnSlowdownThresholdDrag(i))})("ionKnobMoveEnd",function(){return vt(n),yt(ft().warnSlowdownThresholdTransient=void 0)}),Y()(),V(9,"ion-item",6)(10,"ion-range",17),je("ionInput",function(i){return vt(n),yt(ft().onMaxHostLoadDrag(i))})("ionKnobMoveEnd",function(){return vt(n),yt(ft().maxHostLoadTransient=void 0)}),Y()()}if(2&e){const n=ft();fe(6),_e("label",xh(n.targetMipsLabel)),fe(2),_e("label",xh(n.warnSlowdownThresholdLabel)),fe(2),_e("label",xh(n.maxHostLoadLabel))}}function Sre(e,t){if(1&e){const n=Fn();V(0,"ion-item",6)(1,"ion-range",18),je("ionInput",function(i){return vt(n),yt(ft().onSpeedDrag(i))})("ionKnobMoveEnd",function(){return vt(n),yt(ft().speedTransient=void 0)}),Y()()}if(2&e){const n=ft();fe(),_e("label",xh(n.speedLabel))}}function Cre(e,t){1&e&&(V(0,"ion-item",6),st(1,"ion-input",21),Y())}function wre(e,t){if(1&e&&(V(0,"h1"),Pe(1,"Hotsync"),Y(),V(2,"ion-item",6)(3,"ion-toggle",19),Pe(4,"Manage hotsync name"),Y()(),pn(5,Cre,2,0,"ion-item",20)),2&e){const n=ft();fe(5),_e("ngIf",n.showHotsyncNameInput)}}let BL=(()=>{var e;class t{constructor(r,i,o){this.sessionService=r,this.alertService=i,this.fileService=o,this.memoizedDevicelist=Rm(s=>s.map(a=>[a,dL(a)])),this.validateNameUnique=s=>s.value!==this.settings.name&&this.sessionService.sessions().some(a=>a.name===s.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[ni.portrait,"Portrait"],[ni.landscape90,"Landscape 90\xb0"],[ni.landscape270,"Landscape 270\xb0"],[ni.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get formControlTargetMips(){return this.formGroup.get("targetMips")}get formControlWarnSlowdownThreshold(){return this.formGroup.get("warnSlowdownThreshold")}get formControlMaxHostLoad(){return this.formGroup.get("maxHostLoad")}get formControlDisableAudioEmulation(){return this.formGroup.get("disableAudioEmulation")}get formControlNand(){return this.formGroup.get("nand")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get isCloudpilot(){return"cloudpilot"===this.settings.engine}get isUarm(){return"uarm"===this.settings.engine}get deviceList(){return this.memoizedDevicelist(this.availableDevices)}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.settings.name=this.formControlName.value,this.settings.deviceOrientation=this.formControlOrientation.value,this.saveCloudpilot(),this.saveUarm(),this.onSave(this.formControlDevice.value,this.nand))}onEnter(){this.save()}get speedValue(){const r=this.speedTransient??this.formControlSpeed.value??0;return r>=0?1+r:1/(1-r)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function vne(e){switch(e){case Q.palmPilot:case Q.pilot:case Q.iii:case Q.palmVII:case Q.palmVx:case Q.palmV:case Q.palmVIIEZ:case Q.palmVIIx:case Q.iiic:case Q.iiix:case Q.iiixe:case Q.iiie:case Q.m100:case Q.m105:case Q.pegS300:case Q.pegS500c:return 16;case Q.m500:case Q.m505:case Q.m515:case Q.m520:case Q.m125:case Q.m130:case Q.i705:case Q.i710:case Q.handera330:case Q.handera330c:case Q.pegS320:case Q.pegT400:case Q.pegN600c:case Q.pegT600c:case Q.pegN700c:case Q.acerS11:return 33;case Q.pegT650c:case Q.pegNR70:case Q.lp168:return 66;case Q.te2:case Q.frankene2:return 100}}(this.formControlDevice.value))}MHz`)}get targetMipsValue(){return this.targetMipsTransient??this.formControlTargetMips.value??100}get targetMipsLabel(){return`Target speed: ${this.targetMipsValue} MIPS`}get warnSlowdownThresholdValue(){return this.warnSlowdownThresholdTransient??this.formControlWarnSlowdownThreshold.value??50}get warnSlowdownThresholdLabel(){return`Minimum speed: ${this.warnSlowdownThresholdValue}%`}get maxHostLoadValue(){return this.maxHostLoadTransient??this.formControlMaxHostLoad.value??100}get maxHostLoadLabel(){return`Load limit: ${this.maxHostLoadValue}%`}onSpeedDrag(r){this.speedTransient=r.detail?.value}onTargetMipsDrag(r){this.targetMipsTransient=r.detail?.value}onWarnSlowdownThresholdDrag(r){this.warnSlowdownThresholdTransient=r.detail?.value}onMaxHostLoadDrag(r){this.maxHostLoadTransient=r.detail?.value}onNandClick(){var r=this;this.fileService.openFile(function(){var i=(0,T.A)(function*(o){let s;try{s=yield o.getContent({onTop:!0})}catch(a){return console.warn(a),void(yield r.alertService.errorMessage(`Unable to open ${o.name}.`))}s.length===r.selectNandSize?(r.nand=s,r.formControlNand.setValue(o.name)):r.alertService.errorMessage(`${o.name} is not a valid NAND image.`)});return function(o){return i.apply(this,arguments)}}())}onNandClearClick(){this.nand=void 0,this.formControlNand.setValue(void 0)}createFormGroup(){this.formGroup=new Qv({name:new pi(this.settings.name,{validators:[im.required,this.validateNameUnique]}),device:new pi({value:this.device,disabled:1===this.availableDevices.length}),orientation:new pi(this.settings.deviceOrientation),manageHotsyncName:new pi("cloudpilot"===this.settings.engine&&!this.settings.dontManageHotsyncName),hotsyncName:new pi("cloudpilot"===this.settings.engine?this.settings.hotsyncName:""),speed:new pi("cloudpilot"===this.settings.engine?this.settings.speed>=1?this.settings.speed-1:1-1/this.settings.speed:0),targetMips:new pi("uarm"===this.settings.engine?this.settings.targetMips:0),warnSlowdownThreshold:new pi("uarm"===this.settings.engine?Math.round(100*this.settings.warnSlowdownThreshold):0),maxHostLoad:new pi("uarm"===this.settings.engine?Math.round(100*this.settings.maxHostLoad):0),disableAudioEmulation:new pi("uarm"===this.settings.engine&&this.settings.disableAudio),nand:new pi})}saveCloudpilot(){"cloudpilot"===this.settings.engine&&(this.formControlManageHotsyncName.value?this.settings.dontManageHotsyncName?(this.settings.dontManageHotsyncName=!1,this.settings.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.settings.hotsyncName=this.formControlHotsyncName.value||this.settings.hotsyncName:this.settings.dontManageHotsyncName=!0,this.settings.speed=this.speedValue)}saveUarm(){"uarm"===this.settings.engine&&(this.settings.targetMips=this.targetMipsValue,this.settings.warnSlowdownThreshold=this.warnSlowdownThresholdValue/100,this.settings.maxHostLoad=this.maxHostLoadValue/100,this.settings.disableAudio=this.formControlDisableAudioEmulation.value)}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(y(Au),y(Zr),y(uc))},this.\u0275cmp=Je({type:t,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",settings:"settings",availableDevices:"availableDevices",device:"device",selectNandSize:"selectNandSize"},standalone:!1,decls:28,vars:12,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Session name","labelPlacement","stacked","placeholder","Enter session name","formControlName","name"],["label","Device type","labelPlacement","stacked","formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["label","Orientation","labelPlacement","stacked","formControlName","orientation"],[3,"value"],[1,"nand-container"],["label","NAND flash contents","labelPlacement","stacked","placeholder","blank","formControlName","nand","tabindex","-1",1,"input-nand",3,"click","readonly"],["labelPlacement","fixed","formControlName","disableAudioEmulation"],["labelPlacement","fixed","min","20","max","300","step","1","snaps","true","ticks","false","formControlName","targetMips",1,"label-speed",3,"ionInput","ionKnobMoveEnd","label"],["labelPlacement","fixed","min","0","max","100","step","1","snaps","true","ticks","false","formControlName","warnSlowdownThreshold",1,"label-speed",3,"ionInput","ionKnobMoveEnd","label"],["labelPlacement","fixed","min","10","max","100","step","1","snaps","true","ticks","false","formControlName","maxHostLoad",1,"label-speed",3,"ionInput","ionKnobMoveEnd","label"],["labelPlacement","fixed","min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",1,"label-speed",3,"ionInput","ionKnobMoveEnd","label"],["labelPlacement","fixed","formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],["label","Hotsync name","labelPlacement","stacked","placeholder","Enter hotsync name","formControlName","hotsyncName","maxlength","40"]],template:function(i,o){1&i&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Pe(3,"Session settings"),Y(),V(4,"ion-buttons",0)(5,"ion-button",1),je("click",function(){return o.save()}),Pe(6,"Save"),Y()(),V(7,"ion-buttons",2)(8,"ion-button",3),je("click",function(){return o.onCancel()}),Pe(9,"Cancel"),Y()()()(),V(10,"ion-content",4)(11,"form",5),je("keydown.enter",function(){return o.onEnter()}),V(12,"h1"),Pe(13,"Session"),Y(),V(14,"ion-item",6),st(15,"ion-input",7),Y(),V(16,"h1"),Pe(17,"Device"),Y(),V(18,"ion-item",6)(19,"ion-select",8),pn(20,gre,2,2,"ion-select-option",9),Y()(),V(21,"ion-item",6)(22,"ion-select",10),pn(23,vre,2,2,"ion-select-option",9),Y()(),Df(24,yre,5,2,"ion-item",6),Df(25,bre,11,6),Df(26,Sre,2,2,"ion-item",6),Df(27,wre,6,1),Y()()),2&i&&(fe(5),_e("disabled",o.formGroup.invalid),fe(5),Sa("engine-uarm",o.isUarm)("engine-cloudpilot",o.isCloudpilot),fe(),_e("formGroup",o.formGroup),fe(9),_e("ngForOf",o.deviceList),fe(3),_e("ngForOf",o.orientations),fe(),If(o.isUarm&&void 0!==o.selectNandSize?24:-1),fe(),If(o.isUarm?25:-1),fe(),If(o.isCloudpilot?26:-1),fe(),If(o.isCloudpilot?27:-1))},dependencies:[kc,Zi,Ds,Is,xs,Ts,jc,Yi,Fw,_m,gm,Ms,ym,As,rp,Nw,mm,Uc,Gc,$c,Bc,Iw,Xa,ac],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.engine-cloudpilot[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]::part(label){min-width:7.5rem}.engine-uarm[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]::part(label){min-width:11rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.nand-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.nand-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}.nand-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{max-height:1.5em;align-self:end}ion-toggle[_ngcontent-%COMP%]{padding-right:0}.input-nand[_ngcontent-%COMP%]     *{cursor:pointer!important}"]}))}return e(),t})();class GL{constructor(t,n){this.queue=new Array(t).fill(0),this.reset(n)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let n=0;n<this.size;n++)t+=this.queue[n];return t/this.size}}class Ere{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}const Dre=[135,135,105],Ire=[0,0,0],ku=new Array(16).fill(0).map((e,t)=>Ire.map((n,r)=>Math.floor((t*n+(15-t)*Dre[r])/15))).map(([e,t,n])=>4278190080|n<<16|t<<8|e),xE=ku.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var TE=b(8081);const UL=new WeakMap,Tre=e=>({...e,connect:({call:t})=>(0,T.A)(function*(){const{port1:n,port2:r}=new MessageChannel,i=yield t("connect",{port:n},[n]);return UL.set(r,i),r}),disconnect:({call:t})=>function(){var n=(0,T.A)(function*(r){const i=UL.get(r);if(void 0===i)throw new Error("The given port is not connected.");yield t("disconnect",{portId:i})});return function(r){return n.apply(this,arguments)}}(),isSupported:({call:t})=>()=>t("isSupported")}),ME=new WeakMap,Md=new Map([[0,null]]),Ad=new Map([[0,null]]),kre=(e=>{const t=Tre(e);return n=>{const r=(e=>{if(ME.has(e))return ME.get(e);const t=new Map;return ME.set(e,t),t})(n);n.addEventListener("message",({data:a})=>{const{id:l}=a;if(null!==l&&r.has(l)){const{reject:u,resolve:f}=r.get(l);r.delete(l),void 0===a.error?f(a.result):u(new Error(a.error.message))}}),(e=>"function"==typeof e.start)(n)&&n.start();const i=(a,l=null,u=[])=>new Promise((f,m)=>{const g=(0,TE.generateUniqueNumber)(r);r.set(g,{reject:m,resolve:f}),n.postMessage(null===l?{id:g,method:a}:{id:g,method:a,params:l},u)}),o=(a,l,u=[])=>{n.postMessage({id:null,method:a,params:l},u)};let s={};for(const[a,l]of Object.entries(t))s={...s,[a]:l({call:i,notify:o})};return{...s}}})({clearInterval:({call:e})=>t=>{"symbol"==typeof Md.get(t)&&(Md.set(t,null),e("clear",{timerId:t,timerType:"interval"}).then(()=>{Md.delete(t)}))},clearTimeout:({call:e})=>t=>{"symbol"==typeof Ad.get(t)&&(Ad.set(t,null),e("clear",{timerId:t,timerType:"timeout"}).then(()=>{Ad.delete(t)}))},setInterval:({call:e})=>(t,n=0,...r)=>{const i=Symbol(),o=(0,TE.generateUniqueNumber)(Md);Md.set(o,i);const s=()=>e("set",{delay:n,now:performance.timeOrigin+performance.now(),timerId:o,timerType:"interval"}).then(()=>{const a=Md.get(o);if(void 0===a)throw new Error("The timer is in an undefined state.");a===i&&(t(...r),Md.get(o)===i&&s())});return s(),o},setTimeout:({call:e})=>(t,n=0,...r)=>{const i=Symbol(),o=(0,TE.generateUniqueNumber)(Ad);return Ad.set(o,i),e("set",{delay:n,now:performance.timeOrigin+performance.now(),timerId:o,timerType:"timeout"}).then(()=>{const s=Ad.get(o);if(void 0===s)throw new Error("The timer is in an undefined state.");s===i&&(Ad.delete(o),t(...r))}),o}}),ky=(()=>{let n=null;return()=>{if(null!==n)return n;const r=new Blob(['(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<s?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*s);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,u=r(i),c=a(u,i),l=t(c);e.addUniqueNumber=l,e.generateUniqueNumber=c}(t)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(()=>{"use strict";const e=-32603,t=-32602,n=-32601,o=(e,t)=>Object.assign(new Error(e),{status:t}),s=t=>o(\'The handler of the method called "\'.concat(t,\'" returned an unexpected result.\'),e),a=(t,r)=>async({data:{id:a,method:i,params:u}})=>{const c=r[i];try{if(void 0===c)throw(e=>o(\'The requested method called "\'.concat(e,\'" is not supported.\'),n))(i);const r=void 0===u?c():c(u);if(void 0===r)throw(t=>o(\'The handler of the method called "\'.concat(t,\'" returned no required result.\'),e))(i);const l=r instanceof Promise?await r:r;if(null===a){if(void 0!==l.result)throw s(i)}else{if(void 0===l.result)throw s(i);const{result:e,transferables:r=[]}=l;t.postMessage({id:a,result:e},r)}}catch(e){const{message:r,status:n=-32603}=e;t.postMessage({error:{code:n,message:r},id:a})}};var i=r(455);const u=new Map,c=(e,r,n)=>({...r,connect:({port:t})=>{t.start();const n=e(t,r),o=(0,i.generateUniqueNumber)(u);return u.set(o,()=>{n(),t.close(),u.delete(o)}),{result:o}},disconnect:({portId:e})=>{const r=u.get(e);if(void 0===r)throw(e=>o(\'The specified parameter called "portId" with the given value "\'.concat(e,\'" does not identify a port connected to this worker.\'),t))(e);return r(),{result:null}},isSupported:async()=>{if(await new Promise(e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=({data:t})=>e(null!==t),n.postMessage(t,[t])})){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),l=(e,t,r=()=>!0)=>{const n=c(l,t,r),o=a(e,n);return e.addEventListener("message",o),()=>e.removeEventListener("message",o)},d=(e,t)=>r=>{const n=t.get(r);if(void 0===n)return Promise.resolve(!1);const[o,s]=n;return e(o),t.delete(r),s(!1),Promise.resolve(!0)},f=(e,t,r,n)=>(o,s,a)=>{const i=o+s-t.timeOrigin,u=i-t.now();return new Promise(t=>{e.set(a,[r(n,u,i,e,t,a),t])})},m=new Map,h=d(globalThis.clearTimeout,m),p=new Map,v=d(globalThis.clearTimeout,p),w=((e,t)=>{const r=(n,o,s,a)=>{const i=n-e.now();i>0?o.set(a,[t(r,i,n,o,s,a),s]):(o.delete(a),s(!0))};return r})(performance,globalThis.setTimeout),g=f(m,performance,globalThis.setTimeout,w),T=f(p,performance,globalThis.setTimeout,w);l(self,{clear:async({timerId:e,timerType:t})=>({result:await("interval"===t?h(e):v(e))}),set:async({delay:e,now:t,timerId:r,timerType:n})=>({result:await("interval"===n?g:T)(e,t,r)})})})()})();'],{type:"application/javascript; charset=utf-8"}),i=URL.createObjectURL(r);return n=(e=>{const t=new Worker(e);return kre(t)})(i),setTimeout(()=>URL.revokeObjectURL(i)),n}})();class jL{constructor(t){this.callback=t}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(t=>{this.handle=void 0,this.callback(t)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return 0}}class Fre{constructor(t,n=60){this.callback=t,this.fps=n}schedule(){if(void 0!==this.handle)return;const t=performance.now(),n=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=((...e)=>ky().setTimeout(...e))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(n-t,0))}cancel(){var e;void 0!==this.handle&&(e=this.handle,ky().clearTimeout(e),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return 1}}class zL{constructor(){this.onFrameComplete=()=>{this.transport&&this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()})},this.receiveEvent=new gn.J,this.dispatchEvent=new gn.J,this.isSync=!1}bind(t){this.transport!==t&&(this.unbind(),t.frameCompleteEvent.addHandler(this.onFrameComplete),t.SetModeSync(this.isSync),this.transport=t)}unbind(){this.transport&&(this.transport.frameCompleteEvent.removeHandler(this.onFrameComplete),this.transport=void 0)}send(t,n){if(this.transport){if(!this.transport.IsOpen()&&this.transport.GetModeSync())return void this.receiveEvent.dispatch({data:void 0,isFrameComplete:!0});this.transport.Send(t,n),setTimeout(()=>this.dispatchEvent.dispatch(),0)}}setModeSync(t){this.isSync=t,this.transport?.SetModeSync(t)}getModeSync(){return this.transport?.GetModeSync()??!1}dispatch(){if(!this.transport)return;const t=this.transport.RxBytesPending();0!==t&&(this.transport.GetModeSync()&&t<1024||this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()}))}}class Ore{constructor(){this.timer=0}reset(){this.timer=0}exec(t){const n=performance.now();try{return t()}finally{this.timer+=performance.now()-n}}get(){return this.timer}}class Lre{constructor(t){this.cloudpilotInstance=t,this.materialize=()=>this.timed.exec(()=>{if(this.cloudpilotInstance.isSuspended())return this.state="idle",!1;switch(this.state){case"scheduled":break;case"materialized":this.mergeBack();break;default:throw new Error(`bad snapshot state in materialize: ${this.state}`)}if(!this.snapshotMemory)throw new Error("snapshot not initialized");this.materializeSnapshot(this.snapshotMemory,this.cloudpilotInstance.getDirtyPages(),this.cloudpilotInstance.getMemory32()),this.updateMemoryCrc(),this.size=this.snapshotMemory.pageCount*this.snapshotMemory.pageSize*4;const n=this.cloudpilotInstance.getMountedKey()||void 0;if(this.updateSnapshotStorage(n),this.snapshotStorage){if(void 0===this.storageKey)throw new Error("unreachable");const r=this.cloudpilotInstance.getCardDirtyPages(this.storageKey),i=this.cloudpilotInstance.getCardData(this.storageKey);if(void 0===r||void 0===i)throw new Error(`storage key ${this.storageKey} not registered`);this.materializeSnapshot(this.snapshotStorage,r,i),this.size+=this.snapshotStorage.pageCount*this.snapshotStorage.pageSize*4}return this.savestate=this.cloudpilotInstance.saveState()?this.cloudpilotInstance.getSavestate():void 0,this.size+=this.savestate?.length??0,this.state="materialized",!0}),this.snapshotSuccessEvent=new gn.J,this.snapshotReleaseEvent=new gn.J,this.state="idle",this.memoryCrcCheck=!1,this.timed=new Ore,this.timestampStart=0,this.size=0}initializeMemory(){const t=this.cloudpilotInstance.getMemory32(),n=t.length>>>8;this.snapshotMemory={pageSize:256,pageCount:0,pageCountTotal:n,pages:new Uint32Array(n),offsets:new Uint32Array(n),pageData:t}}schedule(t){if("idle"!==this.state)throw new Error("snapshot already in progress");return this.state="scheduled",this.memoryCrcCheck=t,this.timed.reset(),this.timestampStart=Date.now(),this}isIdle(){return"idle"===this.state}getStorageKey(){return this.storageKey}refresh(){return(0,T.A)(function*(){})()}release(t,n,r){try{this.timed.exec(()=>{const i=this.state;this.state="idle","materialized"===i&&(t||this.mergeBack())}),this.snapshotSuccessEvent.dispatch({size:this.size,timeBlocking:n+this.timed.get(),timeTotal:n+r+this.timed.get(),timestamp:this.timestampStart})}finally{this.snapshotReleaseEvent.dispatch()}}getSnapshotMemory(){if(!this.snapshotMemory)throw new Error("snapshot not initialized");if("materialized"!==this.state)throw new Error("snapshot not materialized");return this.snapshotMemory}getSnapshotNand(){}getSnapshotStorage(){if("materialized"!==this.state)throw new Error("snapshot not materialized");return this.snapshotStorage}getSavestate(){if("materialized"!==this.state||!this.savestate)throw new Error("snapshot not materialized");return this.savestate}getMemoryCrc(){return this.memoryCrc}mergeBackSnapshot(t,n){for(let r=0;r<t.pageCount;r++){const i=t.pages[r];n[i>>>3]|=1<<(7&i)}}mergeBack(){if(!this.snapshotMemory)throw new Error("snapshot not materialized");if(this.mergeBackSnapshot(this.snapshotMemory,this.cloudpilotInstance.getDirtyPages()),this.snapshotStorage){if(void 0===this.storageKey)throw new Error("unreachable");const t=this.cloudpilotInstance.getCardDirtyPages(this.storageKey);void 0===t?console.warn(`seems like storage ${this.storageKey} was ejected; nothing to merge back, changes are lost`):this.mergeBackSnapshot(this.snapshotStorage,t)}}materializeSnapshot(t,n,r){const{pageCountTotal:i,pageSize:o,pages:s,offsets:a}=t;let l=0,u=0;for(let f=0;f<n.length;f++){const m=n[f];if(n[f]=0,0!==m)for(let g=1;g<256&&!(u>=i);g<<=1)m&g&&(s[l]=u,a[l]=u*o,l++),u++;else u+=8}t.pageCount=l,t.pageData=r}updateMemoryCrc(){if(this.memoryCrcCheck){const t=this.cloudpilotInstance.getMemory32();this.memoryCrc=uL(new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}else this.memoryCrc=void 0}updateSnapshotStorage(t){if(this.storageKey===t||(this.storageKey=t,this.snapshotStorage=void 0,void 0===t))return;const n=this.cloudpilotInstance.getCardData(t);if(!n)throw new Error(`storage key ${t} not registered`);const r=n.length>>>11;this.snapshotStorage={pageSize:2048,pageCount:0,pageCountTotal:r,pages:new Uint32Array(r),offsets:new Uint32Array(r),pageData:n}}}class Vre{constructor(t,n,r){this.cloudpilotInstance=t,this.clandestineExecute=n,this.settings=r,this.type="cloudpilot",this.onPwmUpdate=i=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(i):this.pendingPwmUpdates.push(i)},this.onSerialPortDispatch=()=>{this.processTimesliceNow()},this.onSchedule=i=>{this.cloudpilotInstance.isScreenDirty()&&this.newFrameEvent.dispatch(),this.pendingPwmUpdates.count()>0&&i-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=i),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(i)},0)),this.timePerFrameAverage.push(Math.max(0,i-this.timestampLastFrame)),this.timestampLastFrame=i,this.schedule()},this.onSnapshotRelease=()=>{0!==this.snapshotReleaseCallbacks.length&&(this.snapshotReleaseCallbacks.forEach(i=>i()),this.snapshotReleaseCallbacks=[])},this.pwmUpdateEvent=new gn.J,this.configuredHotsyncNameUpdateEvent=new gn.J,this.newFrameEvent=new gn.J,this.timesliceEvent=new gn.J,this.suspendEvent=new gn.J,this.snapshotEvent=new gn.J,this.palmosStateChangeEvent=new gn.J,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.suspended=!1,this.emulationSpeed=1,this.speedAverage=new GL(20),this.timePerFrameAverage=new GL(60),this.timestampLastFrame=0,this.frameCounter=0,this.clockEmulator=0,this.scheduler=new jL(i=>this.onSchedule(i)),this.serialPortIR=new zL,this.serialPortSerial=new zL,this.pendingPwmUpdates=new Ere(10),this.lastPwmUpdateEvent=0,this.canvasTmp=document.createElement("canvas"),this.serialSyncStartedAt=0,this.lastSnapshotAt=0,this.snapshotReleaseCallbacks=[],this.snapshotContainer=new Lre(t),this.snapshotContainer.snapshotReleaseEvent.addHandler(this.onSnapshotRelease),t.clearExternalStorage(),this.serialPortIR.bind(t.getTransportIR()),this.serialPortSerial.bind(t.getTransportSerial()),this.serialPortIR.dispatchEvent.addHandler(this.onSerialPortDispatch),this.serialPortSerial.dispatchEvent.addHandler(this.onSerialPortDispatch),t.pwmUpdateEvent.addHandler(this.onPwmUpdate)}supportsKeyboardIO(){return!0}shutdown(){this.serialPortIR.unbind(),this.serialPortSerial.unbind(),this.serialPortIR.dispatchEvent.removeHandler(this.onSerialPortDispatch),this.serialPortSerial.dispatchEvent.removeHandler(this.onSerialPortDispatch),this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate)}get fatalError(){return this.cloudpilotInstance.fatalErrorEvent}get snapshotSuccessEvent(){return this.snapshotContainer.snapshotSuccessEvent}penDown(t,n){this.cloudpilotInstance.queuePenMove(t,n)}penUp(){this.cloudpilotInstance.queuePenUp()}buttonDown(t){this.cloudpilotInstance.queueButtonDown(t)}buttonUp(t){this.cloudpilotInstance.queueButtonUp(t)}keyStroke(t){this.cloudpilotInstance.queueKeyboardEvent(t)}reset(){this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isLcdEnabled(){return!this.isPowerOff()}isUIInitialized(){return this.uiInitialized}isSuspended(){return this.suspended}isSlowdown(){return this.emulationSpeed<1}getDeviceId(){return this.deviceId??Q.m515}openSession(t,n,r,i,o,s){var a=this;return(0,T.A)(function*(){if(r)throw new Error("Cloudpilot devices do not support NAND");let l=!1;if(a.cloudpilotInstance.clearExternalStorage(),s&&(yield s.load(a)),!a.cloudpilotInstance.initializeSession(t,n))return!1;i&&(i.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(l=a.cloudpilotInstance.loadMemory(new Uint32Array(i.buffer,i.byteOffset,i.length>>>2)),l||console.warn("failed to load memory"))),l&&o&&a.cloudpilotInstance.loadState(o),a.cloudpilotInstance.remountCards(),void 0===a.cloudpilotInstance.getMountedKey()&&s&&!a.cloudpilotInstance.remountFailed()&&a.cloudpilotInstance.mountCard(s.storageKey),a.deviceId=n,a.speedAverage.reset(1),a.powerOff=a.cloudpilotInstance.isPowerOff(),a.uiInitialized=a.cloudpilotInstance.isUiInitialized();const u=Tm(n);return a.canvasTmp.width=u.width,a.canvasTmp.height=u.height,a.snapshotContainer.initializeMemory(),!0})()}resume(){var t=this;return(0,T.A)(function*(){t.running||(t.clockEmulator=performance.now(),t.schedule(),t.running=!0,t.resetFPS())})()}stop(){var t=this;return(0,T.A)(function*(){t.running&&(t.scheduler.cancel(),void 0!==t.advanceEmulationHandle&&(window.clearTimeout(t.advanceEmulationHandle),t.advanceEmulationHandle=void 0),t.running=!1)})()}processTimesliceNow(){this.advanceEmulation(performance.now())}requestSnapshot(){var t=this;return(0,T.A)(function*(){return t.snapshotContainer.schedule(t.settings.memoryCrc)})()}waitForPendingSnapshot(){var t=this;return(0,T.A)(function*(){if(!t.snapshotContainer.isIdle())return new Promise(n=>t.snapshotReleaseCallbacks.push(n))})()}blitFrame(t){if(!this.cloudpilotInstance.isScreenDirty()||this.cloudpilotInstance.isPowerOff())return;const n=this.cloudpilotInstance.getFrame();if(!n.hasChanges)return;if(n.lines*n.scaleY===t.height&&n.lineWidth*n.scaleX===t.width){(!this.imageData||this.imageData.width!==n.lineWidth||this.imageData.height!==n.lines)&&(this.imageData=new ImageData(n.lineWidth,n.lines));const s=new Uint32Array(this.imageData.data.buffer);switch(n.bpp){case 1:{const a=ku[15],l=ku[0];let u=0;for(let f=n.firstDirtyLine;f<=n.lastDirtyLine;f++){const m=f*n.bytesPerLine;for(let g=n.margin;g<n.lineWidth+n.margin;g++)s[u++]=n.buffer[m+(g>>>3)]&128>>>(7&g)?a:l}break}case 2:{const a=this.cloudpilotInstance.getPalette2bitMapping(),l=[ku[15&a],ku[a>>>4&15],ku[a>>>8&15],ku[a>>>12&15]];let u=0;for(let f=n.firstDirtyLine;f<=n.lastDirtyLine;f++){const m=f*n.bytesPerLine;for(let g=n.margin;g<n.lineWidth+n.margin;g++)s[u++]=l[n.buffer[m+(g>>>2)]>>6-2*(3&g)&3]}break}case 4:{let a=0;for(let l=n.firstDirtyLine;l<=n.lastDirtyLine;l++){const u=l*n.bytesPerLine;for(let f=n.margin;f<n.lineWidth+n.margin;f++)s[a++]=ku[n.buffer[u+(f>>>1)]>>>4-4*(1&f)&15]}break}case 24:{const a=new Uint32Array(n.buffer.buffer,n.buffer.byteOffset,n.buffer.byteLength>>>2);if(0===n.margin)s.subarray(0,n.lineWidth*(n.lastDirtyLine-n.firstDirtyLine+1)).set(a.subarray(n.firstDirtyLine*n.lineWidth,n.lineWidth*(n.lastDirtyLine+1)));else{let l=0;for(let u=n.firstDirtyLine;u<=n.lastDirtyLine;u++){let f=u*(n.bytesPerLine>>>2)+n.margin;for(let m=0;m<n.lineWidth;m++)s[l++]=a[f++]}}}}}if(!this.imageData)return;const r=1!==n.scaleX||1!==n.scaleY,i=t.getContext("2d"),o=r?this.canvasTmp.getContext("2d"):void 0;if(!i||r&&!o)throw new Error("unable to retrieve rendering context");(r?o:i).putImageData(this.imageData,0,n.firstDirtyLine,0,0,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1),r&&(i.imageSmoothingEnabled=!1,i.drawImage(this.canvasTmp,0,n.firstDirtyLine,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1,0,n.firstDirtyLine*n.scaleY,n.lineWidth*n.scaleX,(n.lastDirtyLine-n.firstDirtyLine+1)*n.scaleY)),this.cloudpilotInstance.markScreenClean(),this.frameCounter++}updateSettings(t){this.cloudpilotInstance.getClipboardIntegration()!==t.clipboardIntegration&&this.cloudpilotInstance.setClipboardIntegration(t.clipboardIntegration),this.cloudpilotInstance.getNetworkRedirection()!==t.networkIntegration&&this.cloudpilotInstance.setNetworkRedirection(this.settings.networkIntegration),this.cloudpilotInstance.setHotsyncNameManagement(t.manageHotsyncName),this.settings=t}allocateCard(t,n){if(!this.cloudpilotInstance.allocateCard(t,n))throw new Error(`failed to allocate card "${t}" @ ${n} bytes`);const r=this.cloudpilotInstance.getCardData(t);if(!r)throw new Error(`failed to get card data for key ${t}`);return r}releaseCard(t){var n=this;return(0,T.A)(function*(){n.cloudpilotInstance.removeCard(t)||console.warn(`failed to release card for key ${t}`)})()}getMountedKey(){var t=this;return(0,T.A)(function*(){return t.cloudpilotInstance.getMountedKey()})()}getCardData(t){var n=this;return(0,T.A)(function*(){return n.cloudpilotInstance.getCardData(t)})()}mountCard(t){var n=this;return(0,T.A)(function*(){return n.cloudpilotInstance.mountCard(t)})()}getFullState(){var t=this;return(0,T.A)(function*(){if(void 0!==t.deviceId)return t.cloudpilotInstance.saveState(),{rom:t.cloudpilotInstance.getRomImage().slice(),memory:t.cloudpilotInstance.getMemory().slice(),savestate:t.cloudpilotInstance.getSavestate().slice()}})()}getSerialPortSerial(){return this.serialPortSerial}getSerialPortIR(){return this.serialPortIR}getStatistics(){return{type:"cloudpilot",hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getOSVersion(){return this.cloudpilotInstance.getOSVersion()}installDb(t){var n=this;return(0,T.A)(function*(){return n.cloudpilotInstance.installDb(t)})()}backup(t){var n=this;return(0,T.A)(function*(){return n.cloudpilotInstance.backup(function(){var r=(0,T.A)(function*(i){const o=[];for(i.Init(t);i.IsInProgress();){const a=i.GetCurrentDatabase();i.Save()||o.push(a),yield new Promise(l=>setTimeout(l,0))}const s=n.cloudpilotInstance.getArchive(i);return s?{archive:s,failedDatabases:o}:void 0});return function(i){return r.apply(this,arguments)}}())})()}schedule(){this.scheduler.cancel(),this.settings.schedulerKind!==this.scheduler.getKind()&&(this.scheduler=0===this.settings.schedulerKind?new jL(t=>this.onSchedule(t)):new Fre(t=>this.onSchedule(t))),this.clandestineExecute(()=>this.scheduler.schedule())}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const n=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=n<=this.emulationSpeed||t-n>=.05?n:this.emulationSpeed}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.settings.hotsyncName;void 0===t?this.configuredHotsyncNameUpdateEvent.dispatch(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}advanceEmulation(t){if(!this.isRunning||t<this.clockEmulator)return;this.cloudpilotInstance.isSuspended()&&5===this.cloudpilotInstance.getSuspendKind()&&t-this.serialSyncStartedAt>250&&(console.log("serial sync timeout, waking emulator"),this.cloudpilotInstance.getSuspendContextSerialSync().Cancel());const n=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.settings.speed),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const i=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),o=performance.now();let s=0;for(;s<i;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(i-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,l=performance.now()-o,u=Math.max(a,l);this.clockEmulator+=u,this.speedAverage.push(a/(l>0?l:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!n&&(5===this.cloudpilotInstance.getSuspendKind()?this.serialSyncStartedAt=performance.now():this.suspendEvent.dispatch());const f=this.cloudpilotInstance.isPowerOff(),m=this.cloudpilotInstance.isUiInitialized();(f!==this.powerOff||m!==this.uiInitialized)&&(this.powerOff=f,this.uiInitialized=m,this.palmosStateChangeEvent.dispatch()),m&&!f&&this.settings.manageHotsyncName&&!r&&this.checkAndUpdateHotsyncName(),this.serialPortIR.dispatch(),this.serialPortSerial.dispatch(),this.settings.automaticSnapshotInterval>0&&t-this.lastSnapshotAt>this.settings.automaticSnapshotInterval&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotContainer.isIdle()&&this.snapshotEvent.dispatch(this.snapshotContainer.schedule(this.settings.memoryCrc)),this.lastSnapshotAt=t),this.timesliceEvent.dispatch(u)}}class Hre{constructor(t){this.dispatchMessage=t,this.nextRpcId=0,this.pendingCalls=new Map}call(t,n,r){return new Promise((i,o)=>{const s=this.nextRpcId++;this.pendingCalls.set(s,{resolve:i,reject:o}),this.dispatchMessage({type:"rpcCall",id:s,method:t,args:n},r)})}dispatchRpcMessage(t){switch(t.type){case"rpcSuccess":this.getContext(t.id).resolve(t.result);break;case"rpcError":this.getContext(t.id).reject(t.error)}}getContext(t){const n=this.pendingCalls.get(t);if(!n)throw new Error(`RPC failed: no context with ID ${t}`);return this.pendingCalls.delete(t),n}}function AE(e){return e?[e.pagePool,e.scheduledPages]:[]}class Wre{constructor(t,n,r,i){if(this.rpcHost=r,this.dispatch=i,this.snapshotSuccessEvent=new gn.J,this.savestate=new Uint8Array,this.sdSize=0,t%1024!=0)throw new Error("invalid memory size");if(n%4224!=0)throw new Error("invalid NAND size");const o=t>>>10,s=new Uint32Array(o);for(let u=0;u<o;u++)s[u]=256*u;this.snapshotMemory={pageCount:0,pageCountTotal:o,offsets:s,pages:new Uint32Array,pageData:new Uint32Array,pageSize:256};const a=n/4224|0,l=new Uint32Array(a);for(let u=0;u<a;u++)l[u]=1056*u;this.snapshotNand={pageCount:0,pageCountTotal:a,offsets:l,pages:new Uint32Array,pageData:new Uint32Array,pageSize:1056}}schedule(t){if(this.uarmSnapshot)throw new Error("snapshot already pending");return t.memory&&this.updateSnapshot(this.snapshotMemory,t.memory),t.nand&&this.updateSnapshot(this.snapshotNand,t.nand),this.updateSnapshotSd(t),this.savestate=new Uint8Array(t.savestate),this.uarmSnapshot=t,this}materialize(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return!0}refresh(){var t=this;return(0,T.A)(function*(){if(!t.uarmSnapshot)throw new Error("no pending snapshot");const n=t.uarmSnapshot;t.uarmSnapshot=void 0,t.schedule(yield t.rpcHost.call("refreshSnapshot",n))})()}release(t,n,r){if(!this.uarmSnapshot)throw new Error("no pending snapshot");let i=1024*(this.uarmSnapshot.memory?.scheduledPageCount??0)+4224*(this.uarmSnapshot.nand?.scheduledPageCount??0)+this.uarmSnapshot.savestate.byteLength;this.uarmSnapshot.sd&&(i+=8192*this.uarmSnapshot.sd.snapshot.scheduledPageCount),this.dispatch({type:"returnSnapshot",snapshot:this.uarmSnapshot,success:t},[...AE(this.uarmSnapshot.memory),...AE(this.uarmSnapshot.nand),...AE(this.uarmSnapshot.sd?.snapshot),this.uarmSnapshot.savestate]);const o=this.uarmSnapshot.time,s=o+r+n,a=this.uarmSnapshot.timestamp;this.uarmSnapshot=void 0,this.snapshotSuccessEvent.dispatch({size:i,timeBlocking:o,timeTotal:s,timestamp:a})}getStorageKey(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.sd?.key}getSnapshotMemory(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.memory?this.snapshotMemory:void 0}getSnapshotNand(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.nand?this.snapshotNand:void 0}getSnapshotStorage(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.sd?this.snapshotSd:void 0}getMemoryCrc(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.memory?.crc}getSavestate(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.savestate}updateSnapshot(t,n){t.pageCount=n.scheduledPageCount,t.pages=new Uint32Array(n.scheduledPages),t.pageData=new Uint32Array(n.pagePool)}updateSnapshotSd(t){if(t.sd){if(this.snapshotSd||(this.snapshotSd={pageCount:0,pageCountTotal:0,offsets:new Uint32Array,pages:new Uint32Array,pageData:new Uint32Array,pageSize:2048}),this.sdSize!==t.sd.size){this.snapshotSd.pageCountTotal=t.sd.size>>>13,t.sd.size>this.snapshotSd.pageCountTotal<<13&&this.snapshotSd.pageCountTotal++,this.snapshotSd.offsets=new Uint32Array(this.snapshotSd.pageCountTotal);for(let n=0;n<this.snapshotSd.pageCountTotal;n++)this.snapshotSd.offsets[n]=2048*n;this.sdSize=t.sd.size}this.updateSnapshot(this.snapshotSd,t.sd.snapshot)}}}class kE{constructor(t,n,r){this.worker=t,this.settings=n,this.type="uarm",this.dispatchMessage=(i,o)=>{this.worker.postMessage(i,o)},this.onVisibilityChange=()=>{"hidden"===document.visibilityState?this.dispatchMessage({type:"setBackgrounded",backgrounded:!0}):this.dispatchMessage({type:"setBackgrounded",backgrounded:!1})},this.onMessage=i=>{const o=i.data;switch(o.type){case"ready":return this.fatal("duplicate ready event");case"rpcError":case"rpcSuccess":return this.rpcHost.dispatchRpcMessage(o);case"fatalError":return this.fatal(o.error);case"timeslice":{this.timesliceEvent.dispatch(o.sizeSeconds),this.currentIps=o.currentIps,this.currentIpsMax=o.currentIpsMax;const s=this.lcdEnabled;this.lcdEnabled=o.lcdEnabled,o.frame&&o.lcdEnabled?(this.returnPendingFrame(),this.pendingFrame=o.frame,this.newFrameEvent.dispatch()):!o.lcdEnabled&&(s??!0)&&this.newFrameEvent.dispatch(),this.lcdEnabled=o.lcdEnabled;break}case"snapshot":try{if(!this.snapshotContainer)throw new Error("Unreachable: emulator runs, but snapshots are not initialized");this.snapshotEvent.dispatch(this.snapshotContainer.schedule(o.snapshot))}catch(s){throw this.fatal(`${s}`),s}break;case"systemStateChanged":this.uiInitialized=o.uiInitialized,this.osVersion=o.osVersion,this.palmosStateChangeEvent.dispatch()}},this.newFrameEvent=new gn.J,this.timesliceEvent=new gn.J,this.suspendEvent=new gn.J,this.snapshotEvent=new gn.J,this.palmosStateChangeEvent=new gn.J,this.fatalError=new gn.J,this.snapshotSuccessEvent=new gn.J,this.running=!1,this.currentIps=0,this.currentIpsMax=0,this.card={state:0},this.pcmChannel=new MessageChannel,this.uiInitialized=!1,this.rpcHost=new Hre(this.dispatchMessage),r(()=>t.addEventListener("message",this.onMessage))}static create(t,n,r){return(0,T.A)(function*(){const i=new Worker(b.tu(new URL(b.p+b.u(9689),b.b)));return(yield new Promise((s,a)=>{const l=[],u=()=>l.forEach(([g,w])=>i.removeEventListener(g,w)),f=g=>{u(),a(g.error)},m=g=>{u(),"ready"===g.data.type?s(new kE(i,n,r)):a(new Error("invalid message from worker"))};i.addEventListener("error",f),i.addEventListener("message",m,{once:!0}),l.push(["error",f],["message",m])})).initialize(t)})()}supportsKeyboardIO(){return!1}shutdown(){this.worker.removeEventListener("message",this.onMessage),this.worker.terminate(),document.removeEventListener("visibilitychange",this.onVisibilityChange)}getStatistics(){return{type:"uarm",currentSpeedMips:this.currentIps/1e6|0,currentMaxSpeedMips:this.currentIpsMax/1e6|0}}getPcmPort(){return this.pcmChannel.port1}enablePcmStreaming(){console.log("streaming enabled"),this.dispatchMessage({type:"setPcmStreaming",pcmStreaming:!0})}disablePcmStreaming(){console.log("streaming disabled"),this.dispatchMessage({type:"setPcmStreaming",pcmStreaming:!1})}penDown(t,n){this.dispatchMessage({type:"penDown",x:t,y:n})}penUp(){this.dispatchMessage({type:"penUp"})}buttonDown(t){this.dispatchMessage({type:"buttonDown",button:t})}buttonUp(t){this.dispatchMessage({type:"buttonUp",button:t})}keyStroke(t,n){}reset(){this.dispatchMessage({type:"reset",resetType:0})}resetNoExtensions(){this.dispatchMessage({type:"reset",resetType:1})}resetHard(){this.dispatchMessage({type:"reset",resetType:2})}isRunning(){return this.running}isPowerOff(){return!1}isLcdEnabled(){return this.lcdEnabled??!1}isUIInitialized(){return this.uiInitialized}isSlowdown(){return this.currentIps/1e6<this.settings.targetMips*this.settings.warnSlowdownThreshold}getOSVersion(){return this.osVersion??0}getDeviceId(){if(void 0===this.deviceId)throw new Error("not initialized");return this.deviceId}openSession(t,n,r,i,o,s){var a=this;return(0,T.A)(function*(){if(void 0!==a.deviceId)throw new Error("already initialized");a.deviceId=n,s&&(yield s.load(a));const l=1===a.card.state?[new Uint8Array(a.card.data.buffer),a.card.key]:void 0;if(!(yield a.rpcHost.call("openSession",{rom:t,nand:r,memory:i,state:o,card:l},[t.buffer,r?.buffer,i?.buffer,o?.buffer,1===a.card.state?a.card.data.buffer:void 0].filter(m=>void 0!==m))))return!1;const u=yield a.rpcHost.call("getMemorySize",void 0);a.snapshotContainer=new Wre(u.memory,u.nand,a.rpcHost,a.dispatchMessage),a.snapshotContainer.snapshotSuccessEvent.addHandler(m=>a.snapshotSuccessEvent.dispatch(m));const f=yield a.rpcHost.call("getSdCardState",void 0);return a.card=f.inserted?{state:2,key:f.key}:{state:0},!0})()}resume(){var t=this;return(0,T.A)(function*(){yield t.rpcHost.call("start",void 0),t.running=!0})()}stop(){var t=this;return(0,T.A)(function*(){yield t.rpcHost.call("stop",void 0),t.running=!1,t.returnPendingFrame()})()}processTimesliceNow(){console.log("processTimesliceNow not implemented for uARM")}requestSnapshot(){var t=this;return(0,T.A)(function*(){if(!t.snapshotContainer)throw new Error("emulator not initialized");return t.snapshotContainer.schedule(yield t.rpcHost.call("takeSnapshot",void 0))})()}waitForPendingSnapshot(){return this.rpcHost.call("waitForPendingSnapshot",void 0)}blitFrame(t){if(!this.pendingFrame)return;const n=new ImageData(new Uint8ClampedArray(this.pendingFrame),320);t.getContext("2d")?.putImageData(n,0,0),this.returnPendingFrame()}updateSettings(t){this.settings=t,this.dispatchMessage({type:"updateSettings",settings:t})}allocateCard(t,n){if(0!==this.card.state)throw new Error(`bad card state ${this.card.state}`);if(3&n)throw new Error(`invalid card size ${n}`);return this.card={state:1,key:t,data:new Uint32Array(n>>>2)},this.card.data}releaseCard(t){var n=this;return(0,T.A)(function*(){0!==n.card.state&&(yield n.rpcHost.call("sdCardEject",void 0),n.card={state:0})})()}mountCard(t){var n=this;return(0,T.A)(function*(){if(1!==n.card.state)throw new Error("no card allocated");if(n.card.key!==t)throw new Error(`wrong key: got ${t}, expected ${n.card.key}`);return(yield n.rpcHost.call("sdCardInsert",{data:n.card.data,key:n.card.key},[n.card.data.buffer]))?(n.card={state:2,key:t},!0):(n.card={state:0},!1)})()}getMountedKey(){var t=this;return(0,T.A)(function*(){return 2===t.card.state?t.card.key:void 0})()}getCardData(t){if(2!==this.card.state)throw new Error("no card mounted");if(this.card.key!==t)throw new Error(`invalid key: expected ${this.card.key}, got ${t}`);return this.rpcHost.call("getSdCardData",void 0)}getFullState(){var t=this;return(0,T.A)(function*(){return void 0===t.deviceId?void 0:t.rpcHost.call("getFullState",void 0)})()}installDb(t){return this.rpcHost.call("installDb",t)}backup(t){return this.rpcHost.call("backup",{includeRom:t})}initialize(t){var n=this;return(0,T.A)(function*(){return yield n.rpcHost.call("initialize",{module:t,settings:n.settings,pcmPort:n.pcmChannel.port2},[n.pcmChannel.port2]),document.addEventListener("visibilitychange",n.onVisibilityChange),n})()}fatal(t){this.fatalError.dispatch(t instanceof Error?t:new Error(t))}returnPendingFrame(){this.pendingFrame&&this.dispatchMessage({type:"returnFrame",frame:this.pendingFrame},[this.pendingFrame]),this.pendingFrame=void 0}}const Zre={automaticSnapshotInterval:0,memoryCrc:!1,speed:1,hotsyncName:"",manageHotsyncName:!1,schedulerKind:0,networkIntegration:!1,clipboardIntegration:!1,disableAudio:!1,maxHostLoad:1,targetMips:100,warnSlowdownThreshold:.5,runInBackground:!1};class Yre{constructor(t){this.cloudpilotPromise=t,this.onEngineNewFrameEvent=()=>{if(!this.engine)throw new Error("invalid state");this.engine.isLcdEnabled()?this.engine.blitFrame(this.canvas):this.clearCanvas(),this.newFrameEvent.dispatch(this.canvas)},this.onEngineTimesliceEvent=n=>this.onAfterAdvanceEmulation(n),this.onEngineSuspendEvent=()=>this.handleSuspend(),this.onEngineConfigureHotsyncNameEvent=n=>this.updateConfiguredHotsyncName(n),this.onSnapshotEvent=n=>this.handleSnapshot(n),this.onSnapshotSuccessEvent=n=>this.snapshotSuccessEvent.dispatch(n),this.onPalmosStateChangeEvent=()=>{this.handlePalmosStateChange(),this.palmosStateChangeEvent.dispatch()},this.onFatalError=n=>this.handleFatalInNativeCode(n),this.newFrameEvent=new gn.J,this.newSessionEvent=new gn.J,this.emulationStateChangeEvent=new gn.J,this.palmosStateChangeEvent=new gn.J,this.openSessionEvent=new gn.J,this.snapshotSuccessEvent=new gn.J,this.canvas=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.engineSettings={...Zre},this.shouldRun=!1,this.blocked=!1,t.then(n=>n.fatalErrorEvent.addHandler(this.onFatalError))}handlePointerMove(t,n,r){if(!this.engine?.isRunning())return;const i=performance.now();if(this.penDown=!0,!(i-this.lastPenUpdate<25)){if(r){const o=Tm(this.deviceId());t=this.transformSilkscreenX(t,o),n=this.transformSilkscreenY(n,o)}this.engine.penDown(Math.floor(t),Math.floor(n)),this.lastPenUpdate=i}}handlePointerUp(){this.engine?.isRunning()&&(this.engine&&this.penDown&&this.engine.penUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.engine?.isRunning()&&this.engine?.buttonDown(t)}handleButtonUp(t){this.engine?.isRunning()&&this.engine?.buttonUp(t)}handleKeyDown(t){this.engine?.isRunning()&&this.engine?.keyStroke(t)}reset(){this.engine?.reset()}resetNoExtensions(){this.engine?.resetNoExtensions()}resetHard(){this.engine?.resetHard()}isRunning(){return this.engine?.isRunning()??!1}isPowerOff(){return this.engine?.isPowerOff()??!1}isUiInitialized(){return this.engine?.isUIInitialized()??!1}getCanvas(){return this.canvas}getStatistics(){return this.engine?.getStatistics()}isSlowdown(){return this.engine?.isSlowdown()??!1}isSuspended(){return"cloudpilot"===this.engine?.type&&this.engine.isSuspended()}isBlocked(){return this.blocked}getSerialPortSerial(){return"cloudpilot"===this.engine?.type?this.engine.getSerialPortSerial():void 0}getSerialPortIR(){return"cloudpilot"===this.engine?.type?this.engine.getSerialPortIR():void 0}updateEngineSettings(t){this.engineSettings={...this.engineSettings,...t},this.engine?.updateSettings(this.engineSettings)}deviceId(){return this.engine?.getDeviceId()??Q.m515}pwmUpdateEvent(){return"cloudpilot"===this.engine?.type?this.engine.pwmUpdateEvent:void 0}pcmPort(){return"uarm"===this.engine?.type?this.engine.getPcmPort():void 0}enablePcmStreaming(){"uarm"===this.engine?.type&&this.engine.enablePcmStreaming()}disablePcmStreaming(){"uarm"===this.engine?.type&&this.engine.disablePcmStreaming()}supportsKeyboardIO(){return this.engine?.supportsKeyboardIO()??!1}processTimesliceNow(){this.engine?.processTimesliceNow()}openSession(t,n,r,i,o,s){var a=this;return(0,T.A)(function*(){a.unbindEngineHandlers(a.engine),a.engine?.shutdown(),a.engine=void 0,a.shouldRun=!1;const l=yield a.createEngine(oE(n));return l.updateSettings(a.engineSettings),!!(yield l.openSession(t,n,r,i,o,s))&&(a.bindEngineHandlers(l),a.engine=l,a.resetCanvas(),a.openSessionEvent.dispatch(),!0)})()}resetCanvas(){const t=Tm(this.deviceId());this.canvas.width=t.width,this.canvas.height=t.height,this.clearCanvas()}doResume(){var t=this;return(0,T.A)(function*(){t.shouldRun=!0,yield t.enforceRunState()})()}doStop(){var t=this;return(0,T.A)(function*(){t.shouldRun=!1,yield t.enforceRunState()})()}doBlock(){var t=this;return(0,T.A)(function*(){t.blocked=!0,yield t.enforceRunState()})()}doUnblock(){var t=this;return(0,T.A)(function*(){t.blocked=!1,yield t.enforceRunState()})()}clearCanvas(){const t=this.deviceId(),n=this.canvas.getContext("2d");if(!n)throw new Error("Unable to get rendering context. Get a new browser.");n.beginPath(),n.rect(0,0,this.canvas.width,this.canvas.height),n.fillStyle=rE(t)?"white":xE[0],n.fill()}transformSilkscreenX(t,n){return void 0===n.silkscreenOvershoot?t:(t-n.width/2)/(n.width/(n.width+2*n.silkscreenOvershoot))+n.width/2}transformSilkscreenY(t,n){return void 0===n.siklscreenShift?t:t+n.siklscreenShift}requestSnapshot(){var t=this;return(0,T.A)(function*(){return yield t.engine?.requestSnapshot()})()}getOSVersion(){return this.engine?.getOSVersion()??0}enforceRunState(){var t=this;return(0,T.A)(function*(){t.engine&&(t.shouldRun&&!t.blocked?yield t.engine.resume():yield t.engine.stop(),t.emulationStateChangeEvent.dispatch(t.engine.isRunning()))})()}createEngine(t){var n=this;return(0,T.A)(function*(){switch(t){case"cloudpilot":return new Vre(yield n.cloudpilotPromise,n.clandestineExecute,n.engineSettings);case"uarm":return kE.create(yield n.getUarmModule(),n.engineSettings,n.clandestineExecute);default:throw new Error("unreachable")}})()}bindEngineHandlers(t){if(t)switch(t.newFrameEvent.addHandler(this.onEngineNewFrameEvent),t.suspendEvent.addHandler(this.onEngineSuspendEvent),t.timesliceEvent.addHandler(this.onEngineTimesliceEvent),t.snapshotEvent.addHandler(this.onSnapshotEvent),t.palmosStateChangeEvent.addHandler(this.onPalmosStateChangeEvent),t.snapshotSuccessEvent.addHandler(this.onSnapshotSuccessEvent),t.type){case"cloudpilot":t.configuredHotsyncNameUpdateEvent.addHandler(this.onEngineConfigureHotsyncNameEvent);break;case"uarm":t.fatalError.addHandler(this.onFatalError)}}unbindEngineHandlers(t){if(t)switch(t.newFrameEvent.removeHandler(this.onEngineNewFrameEvent),t.suspendEvent.removeHandler(this.onEngineSuspendEvent),t.timesliceEvent.removeHandler(this.onEngineTimesliceEvent),t.snapshotEvent.removeHandler(this.onSnapshotEvent),t.palmosStateChangeEvent.removeHandler(this.onPalmosStateChangeEvent),t.snapshotSuccessEvent.removeHandler(this.onSnapshotSuccessEvent),t.type){case"cloudpilot":t.configuredHotsyncNameUpdateEvent.removeHandler(this.onEngineConfigureHotsyncNameEvent);break;case"uarm":t.fatalError.removeHandler(this.onFatalError)}}}class HL{constructor(t,n,r=window.document){this.timeoutRemaining=t,this.cb=n,this.document=r,this.onVisibilityChange=()=>{switch(this.tainted=!0,this.document.visibilityState){case"hidden":if("running"!==this.state)return;this.cancelTimeout(),this.update(),"finished"!==this.state&&(this.state="paused");break;case"visible":if("paused"!==this.state||this.timeoutRemaining<0)return;this.schedule(),this.state="running"}},this.onTimeout=()=>{this.handle=void 0,this.update(),this.timeoutRemaining>0&&"running"===this.state&&this.schedule()},this.state="created",this.timoutStartedAt=performance.now(),this.tainted=!1,this.accumulatedTimeout=0}start(){return this.setState("running"),this.schedule(),this.document.addEventListener("visibilitychange",this.onVisibilityChange),this}increase(t){return this.timeoutRemaining+=t,this}cancel(){return this.setState("finished"),this}isTainted(){return this.tainted}getAccumulatedTimeout(){return this.accumulatedTimeout}schedule(){void 0===this.handle&&(this.timoutStartedAt=performance.now(),this.handle=setTimeout(()=>this.onTimeout(),this.timeoutRemaining))}update(){if("running"!==this.state)return;const t=performance.now()-this.timoutStartedAt;this.timeoutRemaining-=t,this.accumulatedTimeout+=t,this.timeoutRemaining<=0&&(this.setState("finished"),this.cb())}cancelTimeout(){void 0!==this.handle&&(clearTimeout(this.handle),this.handle=void 0)}setState(t){if(t!==this.state){if("finished"===this.state||"created"===t)throw new Error(`invalid state transition: ${this.state} -> ${t}`);"finished"===t&&(this.cancelTimeout(),this.document.removeEventListener("visibilitychange",this.onVisibilityChange)),this.state=t}}}class RE{constructor(){this.pages=[],this.nextPage=-1}clear(){this.pages=[],this.nextPage=-1}reset(){this.nextPage=this.pages.length-1}duplicate(t){if("number"==typeof t)return t;if(this.nextPage>=0){const r=this.pages[this.nextPage--];return r.set(t),r}const n=t.slice();return this.pages.push(n),n}}function NE(e){return e?e.pageSize*e.pageCount*4:0}let FE=(()=>{var e;class t{constructor(r,i,o,s,a){var l=this;this.storageService=r,this.errorService=i,this.alertService=o,this.loaderService=s,this.ngZone=a,this.storeSnapshot=(u,f)=>this.ngZone.runOutsideAngular((0,T.A)(function*(){if(l.snapshotInProgress)throw new Error("cannot happen: snapshot while snapshot is in progress");if(l.snapshotInProgress=!0,f!==l.sessionId)throw new Error(`bad snapshot: session ID mismatch: ${l.sessionId} vs ${f}`);try{yield l.storeSnapshotUnguarded(u)}finally{l.snapshotInProgress=!1}})),this.snapshotRequestEvent=new gn.J,this.sessionId=-1,this.consecutiveErrorCount=0,this.timeoutDeltaMsecPerKbStart=.5,this.timeoutDeltaMsecPerKb=.5,this.timeBlocking=0,this.timeBackground=0,this.snapshotInProgress=!1,this.clonePoolMemory=new RE,this.clonePoolNand=new RE,this.clonePoolStorage=new RE}initialize(r){var i=this;return(0,T.A)(function*(){if(!i.errorService.hasFatalError()){if(i.snapshotInProgress)return void i.errorService.fatalBug("Attempt to reinitialize snapshots while snapshot is still in progress");i.sessionId=r.id,i.clonePoolMemory.clear(),i.clonePoolNand.clear(),i.clonePoolStorage.clear(),i.savestateClone=void 0,i.db=yield i.storageService.getDb()}})()}triggerSnapshot(){return new Promise((r,i)=>this.snapshotRequestEvent.dispatch(o=>{void 0!==o?i(o):r()}))}storeSnapshotUnguarded(r){var i=this;return(0,T.A)(function*(){for(i.timeBlocking=i.timeBackground=0,i.timeoutDeltaMsecPerKb=i.timeoutDeltaMsecPerKbStart;;)try{return r.release(yield i.attemptToStoreSnapshot(r),i.timeBlocking,i.timeBackground),i.consecutiveErrorCount=0,void i.hideLoader()}catch(o){if(i.hideLoader(),o instanceof HL){if(o.isTainted())continue;console.log(`snapshot timeout expired after ${o.getAccumulatedTimeout()} msec`),i.timeoutDeltaMsecPerKb>.5&&(yield i.alertService.snapshotTimeout(),yield i.showLoader()),i.timeoutDeltaMsecPerKb*=2,i.timeoutDeltaMsecPerKbStart=Math.min(2*i.timeoutDeltaMsecPerKbStart,4);continue}if(console.error("snapshot error",o),o===gE)throw i.errorService.fatalPageLockLost(),o;if(++i.consecutiveErrorCount>3)throw i.errorService.fatalIDBDead(),o;yield r.refresh()}})()}attemptToStoreSnapshot(r){var i=this;return(0,T.A)(function*(){const o=i.db.transaction([xu,Tu,qc,cc,Qa,Mu,Mm],"readwrite",{durability:"relaxed"});yield i.storageService.acquireLock(o);const s=yield yr(o.objectStore(Qa).getAll());return!!r.materialize()&&new Promise((a,l)=>{let u=!1,f=0;i.clonePoolMemory.reset(),i.clonePoolNand.reset(),i.clonePoolStorage.reset();const m=r.getSnapshotMemory(),g=r.getSnapshotNand(),w=r.getSnapshotStorage(),F=r.getSavestate(),H=r.getStorageKey(),ie=r.getMemoryCrc(),me=NE(m)+NE(g)+NE(w)+(F?.length??0),pt=new HL(500+(i.timeoutDeltaMsecPerKb*me>>>10),()=>{u=!0,l(pt);try{o.abort()}catch{}});o.oncomplete=()=>{pt.cancel(),i.timeBackground+=performance.now()-f,a(!0)},o.onerror=()=>{pt.cancel(),i.timeBackground+=performance.now()-f,l(new Error(o.error?.message))};try{const xt=performance.now();if(m&&i.saveSnapshotMemory(o,m,ie),g&&i.saveSnapshotOther(o,g,i.sessionId,Mu,i.clonePoolNand),w&&void 0!==H){const Dt=s.find(Pn=>Pn.storageId===H);if(!Dt)throw new Error(`no storage card with key ${H}`);i.saveSnapshotOther(o,w,Dt.id,cc,i.clonePoolStorage)}i.saveSavestate(o,F),pt.start(),i.timeBlocking+=performance.now()-xt,f=performance.now()}catch(xt){throw u||(pt.cancel(),o.abort()),xt}})})()}saveSnapshotMemory(r,i,o){const{pageCount:s,pageSize:a,offsets:l,pageData:u,pageCountTotal:f,pages:m}=i,g=r.objectStore(xu);r.objectStore(Tu).put({sessionId:this.sessionId,totalSize:f*a<<2,crc32:o});for(let H=0;H<s;H++){const ie=u.subarray(l[H],l[H]+a),me=this.clonePoolMemory.duplicate(bL(ie));g.put(me,[this.sessionId,m[H]])}}saveSnapshotOther(r,i,o,s,a){const{pageCount:l,pageSize:u,offsets:f,pageData:m,pages:g}=i,w=r.objectStore(s);for(let F=0;F<l;F++){const H=m.subarray(f[F],f[F]+u),ie=a.duplicate(_E(H));w.put(ie,[o,g[F]])}}saveSavestate(r,i){const o=r.objectStore(qc);i?(this.savestateClone?this.savestateClone.set(i):this.savestateClone=i.slice(),o.put(this.savestateClone,this.sessionId)):o.delete(this.sessionId)}showLoader(){var r=this;return(0,T.A)(function*(){void 0===r.loaderHandle&&(r.loaderHandle=yield r.loaderService.add("Saving..."))})()}hideLoader(){void 0!==this.loaderHandle&&(this.loaderService.resolve(this.loaderHandle),this.loaderHandle=void 0)}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(lr),de(Id),de(Zr),de(Rs),de(qe))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const Ny=new Error("permission denied");let PE=(()=>{var e;class t{constructor(r,i,o){this.alertController=r,this.alertService=i,this.nativeAppService=o,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText||Ea.supportsNativeClipboard()}handleSuspend(r){switch(r.getSuspendKind()){case 1:this.handleCopy(r);break;case 2:this.handlePaste(r)}}handleCopy(r){var i=this;return(0,T.A)(function*(){const o=r.getSuspendContextClipboardCopy(),s=o.GetClipboardContent();if(Ea.supportsNativeClipboard())try{yield i.nativeAppService.clipboardWrite(s),o.Resume()}catch(a){console.error(a),o.Cancel()}else{try{return yield i.tryCopyDirect(s),void o.Resume()}catch(a){if(a===Ny)return o.Cancel(),i.msgPermissionDenied()}try{yield i.tryCopyWithInteraction(s),o.Resume()}catch{yield i.msgCopyFailed(),o.Cancel()}}})()}tryCopyDirect(r){var i=this;return(0,T.A)(function*(){try{yield navigator.clipboard.writeText(r)}catch(o){throw(yield i.isPermissionDenied("clipboard-write"))?Ny:o}})()}tryCopyWithInteraction(r){var i=this;return new Promise(function(){var o=(0,T.A)(function*(s,a){try{const l=yield i.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{l.dismiss(),s(!1)}},{text:"Copy",handler:(u=(0,T.A)(function*(){l.dismiss();try{yield navigator.clipboard.writeText(r),s(!0)}catch(f){a(f)}}),function(){return u.apply(this,arguments)})}]});l.present()}catch(l){a(l)}var u});return function(s,a){return o.apply(this,arguments)}}())}handlePaste(r){var i=this;return(0,T.A)(function*(){const o=r.getSuspendContextClipboardPaste();if(Ea.supportsNativeClipboard()){try{o.Resume(yield i.nativeAppService.clipboardRead())}catch(a){console.error(a),o.Resume("")}return}const s=yield i.tryPaste();o.Resume(s??""),void 0!==s&&(i.clipboardContent=s,i.lastClipboardReadAt=performance.now())})()}tryPaste(){var r=this;return(0,T.A)(function*(){if(performance.now()-r.lastClipboardReadAt<3e3)return r.clipboardContent;try{return yield r.tryPasteDirect()}catch(i){if(i===Ny)return void(yield r.msgPermissionDenied())}try{return yield r.tryPasteWithInteraction()}catch{return void(yield r.msgPasteFailed())}})()}tryPasteDirect(){var r=this;return(0,T.A)(function*(){try{return yield navigator.clipboard.readText()}catch(i){throw(yield r.isPermissionDenied("clipboard-read"))?Ny:i}})()}tryPasteWithInteraction(){var r=this;return new Promise(function(){var i=(0,T.A)(function*(o,s){try{const a=yield r.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{a.dismiss(),o(void 0)}},{text:"Paste",handler:(l=(0,T.A)(function*(){a.dismiss();try{o(yield navigator.clipboard.readText())}catch(u){s(u)}}),function(){return l.apply(this,arguments)})}]});a.present()}catch(a){s(a)}var l});return function(o,s){return i.apply(this,arguments)}}())}isPermissionDenied(r){return(0,T.A)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:r}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(Ow),de(Zr),de(Ea))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class eie{constructor(t){this.nativeAppService=t,this.onNetRpcResult=({sessionId:n,rpcData:r})=>n===this.sessionId&&this.rpcResultEvent.dispatch(r),this.rpcResultEvent=new gn.J,this.unexpectedCloseEvent=new gn.J}connect(){var t=this;return(0,T.A)(function*(){if(void 0!==t.sessionId)throw new Error("session already open");return t.sessionId=yield t.nativeAppService.netOpenSession(),t.nativeAppService.netRpcResult.addHandler(t.onNetRpcResult),!0})()}disconnect(){var t=this;return(0,T.A)(function*(){void 0!==t.sessionId&&(t.nativeAppService.netRpcResult.removeHandler(t.onNetRpcResult),yield t.nativeAppService.netCloseSession(t.sessionId),t.sessionId=void 0)})()}handleRpc(t){var n=this;return(0,T.A)(function*(){if(void 0===n.sessionId)throw new Error("no open session");return n.nativeAppService.netDispatchRpc(n.sessionId,t)})()}}const tie="https:"===window.location.protocol?8667:8666,nie=/^[\da-z\-.]+$/i,rie=/^[\da-z\-.]+:\d+$/i;function OE(e){if(!e)return;const t=window.location.protocol;if(e.match(nie))return`${t}//${e}:${tie}`;if(e.match(rie))return`${t}//${e}`;try{const n=new URL(e);if("https:"===n.protocol||"http:"===n.protocol)return n.toString().replace(/\/+$/,"")}catch{}}function iie(e){return void 0!==OE(e.value)?null:{proxyAddress:"invalid"}}class aie{constructor(t,n,r){this.proxyServer=t,this.alertService=n,this.fetchService=r,this.onSocketMessage=i=>{if(!(i.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(),void this.unexpectedCloseEvent.dispatch(void 0);this.rpcResultEvent.dispatch(new Uint8Array(i.data))},this.onSocketError=i=>{this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(),this.unexpectedCloseEvent.dispatch(),console.error("ERROR: socket error",i)},this.onSocketClose=()=>{this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.disconnect(),this.unexpectedCloseEvent.dispatch()},this.rpcResultEvent=new gn.J,this.unexpectedCloseEvent=new gn.J}connect(){var t=this;return(0,T.A)(function*(){const n=OE(t.proxyServer);if(!n)return yield t.alertService.errorMessage(`Invalid proxy address: ${t.proxyServer}`),!1;const r=yield t.handshake(500);switch(r.status){case"failed":return t.alertService.errorMessage("Failed to connect to proxy."),!1;case"version_mismatch":return yield t.alertService.proxyVersionMismatchError(),!1;case"success":break;default:throw new Error("unreachable")}const i=new WebSocket(`${n.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(r.token)}`);i.binaryType="arraybuffer";const o=setTimeout(()=>i.close(),5e3);let s,a,l;try{return yield new Promise((u,f)=>{s=()=>u(),l=m=>f(m),a=()=>f(new Error("connection timeout")),i.addEventListener("open",s),i.addEventListener("error",l),i.addEventListener("close",a)}),clearTimeout(o),i.addEventListener("error",t.onSocketError),i.addEventListener("message",t.onSocketMessage),i.addEventListener("close",t.onSocketClose),t.socket=i,!0}catch(u){return console.error("socket failed to connect",u),!1}finally{i.removeEventListener("open",s),i.removeEventListener("error",l),i.removeEventListener("close",a)}})()}disconnect(){var t=this;return(0,T.A)(function*(){t.socket&&(t.socket.removeEventListener("error",t.onSocketError),t.socket.removeEventListener("message",t.onSocketMessage),t.socket.removeEventListener("close",t.onSocketClose),t.socket.close(),t.socket=void 0)})()}handleRpc(t){var n=this;return(0,T.A)(function*(){return!!n.socket&&(n.socket.send(t),!0)})()}handshake(){var t=this;return(0,T.A)(function*(n=-1){const r=OE(t.proxyServer);if(!r)return{status:"failed"};try{const i=yield t.fetchService.fetch(`${r}/network-proxy/handshake`,{method:"POST",loaderDelay:n});if(!i.ok)return{status:"failed"};const o=yield i.json();return o.version<3||o.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:o.token}}catch{return{status:"failed"}}}).apply(this,arguments)}}let qL=(()=>{var e;class t{constructor(r,i,o,s){this.kvsService=r,this.alertService=i,this.fetchService=o,this.nativeAppService=s}createBackendProxy(r=this.kvsService.kvs.proxyServer){return new aie(r,this.alertService,this.fetchService)}createBackend(){if(this.kvsService.kvs.networkRedirection)return"native"===this.kvsService.kvs.networkRedirectionMode&&Ea.supportsNativeNetworkIntegration()?new eie(this.nativeAppService):this.createBackendProxy()}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(rs),de(Zr),de(OL),de(Ea))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),ZL=(()=>{var e;class t{constructor(r,i){this.ngZone=r,this.backendFactory=i,this.onProxyDisconnect=()=>{this.reset()},this.onUnexpectedBackendClose=()=>{switch(this.cloudpilot?.getSuspendKind()){case 4:this.cloudpilot.getSuspendContextNetworkConnect().Cancel();break;case 3:this.cloudpilot.getSuspendContextNetworkRpc().Cancel()}this.reset()},this.onSessionResume=()=>this.resumeEvent.dispatch(),this.resumeEvent=new gn.J}initialize(r){this.cloudpilot=r,r.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}isConnected(){return void 0!==this.session}reset(){this.session&&(this.session.backend.unexpectedCloseEvent.removeHandler(this.onUnexpectedBackendClose),this.session.resumeEvent.removeHandler(this.onSessionResume),this.session.terminate(),this.ngZone.run(()=>this.session=void 0))}handleSuspend(){if(this.cloudpilot)switch(this.cloudpilot.getSuspendKind()){case 4:this.createNewSession(),this.session?this.session.handleConnect().then(r=>r||this.reset()):4===this.cloudpilot.getSuspendKind()&&this.cloudpilot.getSuspendContextNetworkConnect().Cancel();break;case 3:this.session?this.session.handleRpc():3===this.cloudpilot.getSuspendKind()&&this.cloudpilot.getSuspendContextNetworkRpc().Cancel()}}createNewSession(){this.reset(),this.ngZone.run(()=>this.session=LE.create(this.backendFactory.createBackend(),this.cloudpilot)),this.session&&(this.session.backend.unexpectedCloseEvent.addHandler(this.onUnexpectedBackendClose),this.session.resumeEvent.addHandler(this.onSessionResume))}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(qe),de(qL))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class LE{static create(t,n){if(n&&t)return new LE(t,n)}constructor(t,n){var r=this;this.backend=t,this.handleConnect=()=>this.mutex.runExclusive((0,T.A)(function*(){try{const i=yield r.backend.connect();return 4===r.cloudpilot?.getSuspendKind()&&(i?r.cloudpilot.getSuspendContextNetworkConnect().Resume():r.cloudpilot.getSuspendContextNetworkConnect().Cancel()),i}catch(i){return console.error("failed to connect to backend",i),4===r.cloudpilot?.getSuspendKind()&&r.cloudpilot.getSuspendContextNetworkConnect().Cancel(),!1}})),this.handleRpc=()=>this.mutex.runExclusive((0,T.A)(function*(){if(3!==r.cloudpilot?.getSuspendKind())return;const i=r.cloudpilot.getSuspendContextNetworkRpc(),o=r.cloudpilot.resolveBuffer(i.GetRequestData(),i.GetRequestSize());try{!(yield r.backend.handleRpc(o))&&3===r.cloudpilot?.getSuspendKind()&&r.cloudpilot.getSuspendContextNetworkRpc().Cancel()}catch(s){console.error("failed to process rpc request",s),3===r.cloudpilot?.getSuspendKind()&&r.cloudpilot.getSuspendContextNetworkRpc().Cancel()}})),this.disconnect=()=>{this.mutex.runExclusive((0,T.A)(function*(){r.backend&&(yield r.backend.disconnect())}))},this.onRpcResult=i=>{if(!this.cloudpilot)return;if(3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");const o=this.cloudpilot.copyBuffer(i);this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(o,i.length),this.cloudpilot.freeBuffer(o),this.resumeEvent.dispatch()},this.resumeEvent=new gn.J,this.mutex=new na,this.cloudpilot=n,t.rpcResultEvent.addHandler(this.onRpcResult)}terminate(){this.cloudpilot=void 0,this.backend.rpcResultEvent.removeHandler(this.onRpcResult),this.disconnect()}}let YL=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(r){this.engine=r,this.buttons.clear(),[6,7].forEach(i=>r.buttonUp(i))}engage(r){this.buttons.has(r)?this.buttons.get(r).timer=0:(this.buttons.set(r,{button:r,timer:0}),this.engine?.buttonDown(r))}tick(r){for(const[i,o]of this.buttons)o.timer+=1e3*r,o.timer>250&&(this.engine?.buttonUp(i),this.buttons.delete(i))}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),KL=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(r=>this.hasRenderedResolve=r)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var cie=b(2922),uie=b.n(cie);function die(e){return{readonly:!!(1&e),hidden:!!(2&e),system:!!(4&e)}}function XL(e,t){const n=e.GetName(),r=e.GetModifiedTS();return{path:t,name:n,size:e.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:die(e.GetAttributes())}}class $E{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,T.A)(function*(){return new $E(yield uie()({print:n=>console.log(n),printErr:n=>console.warn(n),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),n=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==n)return this.module.HEAPU32.subarray(t>>>2,t+n>>>2)}getImageInSlot(t){const n=this.module.getPointer(this.vfsNative.GetImage(t)),r=this.vfsNative.GetSize(t);if(0!==n&&0!==r)return this.module.HEAPU32.subarray(n>>>2,n+r>>>2)}getDirtyPagesForSlot(t){const n=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===n)return;const r=X0(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(n,n+r)}readdir(t){const n=new this.module.ReaddirContext(t);try{const r=[];for(;0===n.GetStatus();){const i=n.GetEntry();r.push(XL(i,`${t.replace(/\/*$/,"")}/${i.GetName()}`)),n.Next()}if(2===n.GetStatus()){console.warn(`readdir failed: ${n.GetErrorDescription()}`);const i=n.GetError();return{error:0===i?2:i,reason:n.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(n)}}rename(t,n){return this.vfsNative.RenameFile(t,n)}chmod(t,n){let r=0,i=0;const o=(s,a)=>{void 0!==s&&(i|=a,s&&(r|=a))};return o(n.hidden,2),o(n.readonly,1),o(n.system,4),this.vfsNative.ChmodFile(t,r,i)}stat(t){const n=this.vfsNative.StatFile(t);return 0!==n?{result:n,entry:void 0}:{entry:XL(this.vfsNative.GetEntry(),t),result:n}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const n=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),r=this.vfsNative.GetCurrentFileSize(),i=this.module.HEAPU8.subarray(n,n+r).slice();return this.vfsNative.ReleaseCurrentFile(),i}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive(t){var n=this;return(0,T.A)(function*({files:r,directories:i,prefix:o}){const s=new n.module.ExportZipContext(o,25),a=[];try{for(r&&r.forEach(m=>s.AddFile(m)),i&&i.forEach(m=>s.AddDirectory(m));2!==s.GetState();){switch(s.Continue()){case-2:case-1:a.push(s.GetErrorItem())}2!==s.GetState()&&(yield new Promise(m=>setTimeout(m,0)))}let l;const u=n.module.getPointer(s.GetZipContent()),f=s.GetZipSize();return 0!==u&&0!==f&&(l=n.module.HEAPU8.subarray(u,u+f).slice()),{archive:l,failedItems:a}}finally{n.module.destroy(s)}}).apply(this,arguments)}deleteRecursive(t){var n=this;return(0,T.A)(function*(){const r=new n.module.DeleteRecursiveContext(25);try{for(t.forEach(i=>r.AddFile(i));1===r.Continue();)yield new Promise(i=>setTimeout(i,0));return 2===r.GetState()?{success:!0}:{success:!1,failingItem:r.GetFailingPath()}}finally{n.module.destroy(r)}})()}writeFile(t,n){const r=this.copyIn(n);try{return this.vfsNative.WriteFile(t,n.length,r)}finally{this.vfsNative.Free(r)}}unzipArchive(t,n,r){var i=this;return(0,T.A)(function*(){const o=i.copyIn(n),s=new i.module.UnzipContext(25,t,o,n.length),a=l=>({result:l,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(u=>setTimeout(u,0)),s.GetState()){case 1:return a(0);case-3:return a(3);case-1:return a(2);case-2:return a(1);case 2:(yield r.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield r.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{i.module.destroy(s),i.vfsNative.Free(o)}})()}paste(t,n,r,i,o){var s=this;return(0,T.A)(function*(){const a=new s.module.PasteContext(25,t,n);r.forEach(l=>a.AddFile(l)),a.SetDeleteAfterCopy("cut"===i);try{for(;;)switch(yield new Promise(u=>setTimeout(u,0)),a.GetState()){case 1:return 0;case-2:return 2;case-1:return 1;case 2:(yield o.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield o.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const n=this.vfsNative.Malloc(t.length),r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+t.length).set(t),n}}const fie=b.p+"wasm/vfs_web-28cf210ba7c8b8e9.wasm";var pie=b(9250),hie=b.n(pie);function QL(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}let kd=(()=>{var e;class t{constructor(r,i,o,s,a){var l=this;this.storageService=r,this.storageCardContext=i,this.fileService=o,this.loaderService=s,this.alertService=a,this.saveFile=function(){var u=(0,T.A)(function*(f){return l.loaderService.showWhile((0,T.A)(function*(){const g=(yield l.vfs).readFile(f.path);g?(l.fileService.saveFile(f.name,g),l._change.emit()):yield l.alertService.errorMessage(`Could not read file '${f.name}'.`)}),"Preparing file...")});return function(f){return u.apply(this,arguments)}}(),this.onReleaseCard=new gn.J,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=$E.create(fie),this.directoryCache=new Map,this._bytesFree=ao(0),this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this._change=new En,this.vfs.then(u=>this.vfsInstance=u)}setStorageCardService(r){this.storageCardService=r,r.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),r.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(r){return("/"+r).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(r){return this.normalizePath(r).replace(/^\/+/,"").split("/")}dirname(r){return this.normalizePath(r).replace(/\/[^/]*$/,"")}isFilenameValid(r){return void 0===r||!/[/\\]/.test(r)}isEntryInClipboard(r){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(r.path)?this.clipboard.operation:void 0}activateCard(r){var i=this;return(0,T.A)(function*(){if(i.primaryCard?.id!==r){if(i.secondaryCard?.id===r)return i.primarySlot=i.secondarySlot,void(yield i.activatePrimaryCard());throw new Error(`card ${r} not mounted in VFS`)}})()}mountCardUnchecked(r,i,o){var s=this;return(0,T.A)(function*(){const a=yield s.storageService.getCard(r);if(!a)throw new Error(`no card with id ${r}`);if(s.primaryCard?.id===r||s.secondaryCard?.id===r)throw new Error(`card ${r} already mounted in VFS`);s.storageCardContext.claim(r,"vfs"),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const l=yield s.vfs;l.allocateImage(a.size);const u=l.getPendingImage();if(!u)throw new Error("failed to allocate image");return o?u.set(o):yield s.storageService.loadCardData(r,u,"vfs"),l.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(r,"vfs"),!1)})()}releaseCard(r){var i=this;return(0,T.A)(function*(){let o;if(i.primaryCard?.id===r)o=i.primarySlot;else{if(i.secondaryCard?.id!==r)return;o=i.secondarySlot}(yield i.vfs).unmountImage(o),i.mountedCards[o]=void 0,i.storageCardContext.release(r,"vfs"),i.onReleaseCard.dispatch(r)})()}readdir(r){if(!this.vfsInstance)return[];const i=this.normalizePath(r);if(!this.directoryCache.has(i)){const o=this.vfsInstance.readdir(r);this.directoryCache.set(i,0===o.error?o.entries:[])}return this.directoryCache.get(i)||[]}updateFileEntry(r,i){var o=this;return(0,T.A)(function*(){const s=yield o.vfs;if(r=o.normalizePath(r),!o.isFilenameValid(i.name))return void(yield o.error("The provided file name is invalid."));const{result:a,entry:l}=s.stat(r);if(0===a)try{if(void 0!==i.attributes&&!hie()(i.attributes,l.attributes)&&0!==(o.directoryCache.delete(o.dirname(r)),s.chmod(r,i.attributes)))return void(yield o.fatalError("Unable to write the updated file attributes."));if(void 0!==i.name&&i.name!==l.name)switch(o.directoryCache.delete(o.dirname(r)),s.rename(r,`${o.dirname(r)}/${i.name}`)){case 0:break;case 6:return void(yield o.error("The provided file name is invalid."));default:return void(yield o.fatalError("Unable to rename file."))}yield o.sync()}finally{o._change.emit()}else yield o.error(`The path ${r} is invalid. This is a bug in CloudpilotEmu.`)})()}archiveFiles(r,i){var o=this;return(0,T.A)(function*(){if(0===r.length||!o.primaryCard)return;const{archive:s,failedItems:a}=yield o.loaderService.showWhile((0,T.A)(function*(){const u=yield o.vfs,f=r.filter(g=>g.isDirectory).map(g=>o.normalizePath(g.path)),m=r.filter(g=>!g.isDirectory).map(g=>o.normalizePath(g.path));return yield u.createZipArchive({directories:f,files:m,prefix:i})}),"Creating archive..."),l=1===r.length?`${r[0].name}.zip`:function ore(e){return`files_${Td(e.name)}.zip`}(o.primaryCard);a.length>0&&(a.length<=3?yield o.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${a.join("<br>")}`):yield o.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${a.slice(0,3).join("<br>")}<br><br> and ${a.length-3} other file`)),s&&o.fileService.saveFile(l,s)})()}unlinkEntry(r){var i=this;return(0,T.A)(function*(){if(r.isDirectory)return;const s=(yield i.vfs).unlinkFile(r.path);if(0!==s)return console.error(`failed to unlink ${r.path}: ${s}`),void(yield i.error(`Failed to delete: ${r.path}`));yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.dirname(r.path)),i._change.emit()})()}deleteRecursive(r){var i=this;return(0,T.A)(function*(){const o=r.map(a=>i.normalizePath(a.path)),s=yield i.loaderService.add("Deleting...");try{const l=yield(yield i.vfs).deleteRecursive(o);if(!l.success)return i.loaderService.resolve(s),void(yield i.fatalError(`Failed to delete ${l.failingItem}`));yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()}finally{i.loaderService.resolve(s),i._change.emit()}})()}mkdir(r){var i=this;return(0,T.A)(function*(){switch((yield i.vfs).mkdir(r)){case 6:return void(yield i.alertService.errorMessage("Invalid name."));case 7:return void(yield i.alertService.errorMessage("No space left on card."));case 8:return void(yield i.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield i.error(`Failed to create ${r}.`))}yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.dirname(r)),i._change.emit()})()}get bytesFree(){return this._bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const r=this.storageCardService.cards().find(i=>i.storageId===this.clipboard?.storageId);return!!r&&("clean"===r.status||"dirty"===r.status&&!!r.dontFsckAutomatically)}invalidateClipboardForCard(r){this.clipboard?.storageId===r.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(r,i,o){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:o,prefix:this.normalizePath(r),storageId:this.primaryCard.storageId,items:i.map(s=>({name:s,path:this.normalizePath(`${r}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this._change.emit())}unpackArchive(r,i){var o=this;return(0,T.A)(function*(){const{entriesTotal:s,entriesSuccess:a,result:l}=yield o.loaderService.showWhile(()=>o.unpackArchiveUnchecked(r,i),"Extracting...");let u,f;switch(l){case 0:u="The archive was extracted successfully, but some entries were skipped.",f="Skipped entries";break;case 2:return void(yield o.fatalError("There was an error writing to the card."));case 3:u="No space left on card.",f="No space left";break;case 1:u="There was an error reading from the archive.",f="Error reading archive";break;default:throw new Error("unreachable")}const m=s-a,g=w=>w>1?`${w} entries`:"one entry";s>0&&m===s&&(yield o.alertService.message(f,`\n                ${u}\n                <br><br>\n                The archive contains ${g(s)}, but none could be unpacked.\n            `)),m>0&&a>0&&(yield o.alertService.message(f,`\n                ${u}\n                <br><br>\n                ${QL(g(a))} unpacked succesfully, but ${g(m)} could not be unpacked.\n            `)),o._change.emit()})()}paste(r){var i=this;return(0,T.A)(function*(){if(i.isClipboardPopulated())try{switch(yield i.loaderService.showWhile(()=>i.pasteUnchecked(r),"Pasting files...")){case 2:yield i.alertService.message("No space left","No space left on card.");break;case 1:return void(yield i.fatalError("There was an error copying files to the card."))}}catch(o){yield i.alertService.errorMessage(o instanceof Error?o.message:"Unknown error.")}finally{i._change.emit()}})()}addFiles(r,i){var o=this;return(0,T.A)(function*(){if(0===r.length)return;const s=yield o.loaderService.showWhile(()=>o.addFilesUnchecked(r,i),"Adding files"),a=l=>l>1?`${l} entries`:"one file";s.length===r.length?yield o.alertService.message("Skipped files","No files were added to the card."):0!==s.length&&(yield o.alertService.message("Skipped files",`Successfully added ${a(r.length-s.length)} to card. ${QL(a(s.length))} could not be added.\n            `)),o._change.emit()})()}get change(){return this._change}addFilesUnchecked(r,i){var o=this;return(0,T.A)(function*(){const s=o.readdir(i),a=[],l=yield o.vfs;let u=!1,f=!1,m=!1,g=!1;e:for(let w=0;w<r.length;w++){const F=r[w],H=s.find(me=>me.name===F.name);if(H&&H.isDirectory){if(!m){const{overwrite:he,rememberChoice:pt}=yield o.overwriteFileDialog(F.name,"directory");g=he,m=pt}let me=!0;if(g&&(me=!(yield l.deleteRecursive([o.normalizePath(`${i}/${F.name}`)])).success),me){a.push(F.name);continue}}if(H&&!H.isDirectory){if(!u){const{overwrite:me,rememberChoice:he}=yield o.overwriteFileDialog(F.name,"file");f=me,u=he}if(!f){a.push(F.name);continue}}let ie;try{ie=yield F.getContent()}catch(me){console.warn(me),a.push(F.name),yield o.alertService.errorMessage(`Unable to open ${F.name}`);continue}switch(l.writeFile(o.normalizePath(`${i}/${F.name}`),ie)){case 3:yield o.alertService.errorMessage("Card full."),a.push(...r.slice(w).map(me=>me.name));break e;case 4:throw yield o.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(F.name)}}return yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.normalizePath(i)),a})()}collisionHandlers(){var r=this;let i=!1,o=!1,s=!1,a=!1;return{onFileCollision:(l=(0,T.A)(function*(u){if(o)return i;const{overwrite:f,rememberChoice:m}=yield r.overwriteFileDialog(u.replace(/^\d:/,""),"file");return i=f,o=m,i}),function(f){return l.apply(this,arguments)}),onDirectoryCollision:function(){var l=(0,T.A)(function*(u){if(a)return s;const{overwrite:f,rememberChoice:m}=yield r.overwriteFileDialog(u.replace(/^\d:/,""),"directory");return s=f,a=m,s});return function(f){return l.apply(this,arguments)}}()};var l}unpackArchiveUnchecked(r,i){var o=this;return(0,T.A)(function*(){const a=yield(yield o.vfs).unzipArchive(o.normalizePath(i),r,{...o.collisionHandlers(),onInvalidEntry:(l=(0,T.A)(function*(u){yield o.alertService.message("Invalid entry",`Could not extract ${u}`,{},"Continue")}),function(f){return l.apply(this,arguments)})});var l;return 2!==a.result&&(yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()),a})()}pasteUnchecked(r){var i=this;return(0,T.A)(function*(){if(!i.clipboard||!i.primaryCard)throw new Error("invalid state for paste");const o=yield i.mountClipboard(),a=yield(yield i.vfs).paste(`${i.primarySlot}:${i.normalizePath(r)}`,`${o}:${i.normalizePath(i.clipboard.prefix)}`,i.clipboard.items.map(l=>l.name),i.clipboard.operation,i.collisionHandlers());return 1===a||(yield i.updateBytesFree(),yield i.sync(i.primarySlot),o!==i.primarySlot&&(yield i.sync(o)),i.directoryCache.clear(),"cut"===i.clipboard.operation&&(i.clipboard=void 0,i.clipboardSet.clear())),a})()}mountClipboard(){var r=this;return(0,T.A)(function*(){if(!r.clipboard||!r.primaryCard||!r.storageCardService)throw new Error("invalid state for paste");if(r.clipboard.storageId===r.primaryCard.storageId)return r.primarySlot;if(r.secondaryCard&&r.clipboard.storageId===r.secondaryCard.storageId)return r.secondarySlot;r.secondaryCard&&(yield r.releaseCard(r.secondaryCard.id));const i=r.storageCardService.cards().find(a=>a.storageId===r.clipboard?.storageId);if(!i)throw new Error("invalid storage card in clipboard");const o=yield r.vfs;o.allocateImage(i.size);const s=o.getPendingImage();if(!s)throw new Error("failed to allocate image");if(r.storageCardContext.claim(i.id,"vfs"),yield r.storageService.loadCardData(i.id,s,"vfs"),!o.mountImage(r.secondarySlot))throw r.storageCardContext.release(i.id,"vfs"),new Error("unable to mount card");return r.secondaryCard=i,r.secondarySlot})()}overwriteFileDialog(r,i){var o=this;return(0,T.A)(function*(){let s=!1;const a=yield o.alertService.messageWithChoice("File collision","file"===i?`Do you want to overwrite the existing file ${r}?`:`\n                     Do you want to overwrite the existing directory ${r}?\n                     <br><br>\n                     WARNING: All files in this directory will be lost.\n                `,"Remember choice",!1,{Yes:()=>s=!0},"No");return{overwrite:s,rememberChoice:a}})()}error(r){var i=this;return(0,T.A)(function*(){yield i.alertService.errorMessage(r)})()}fatalError(r){var i=this;return(0,T.A)(function*(){i.primaryCard&&(yield i.storageService.updateStorageCardPartial(i.primaryCard.id,{status:"dirty"}),yield i.releaseCard(i.primaryCard.id),i.alertService.errorMessage(`${r}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(){var r=this;return(0,T.A)(function*(i=r.primarySlot){const o=r.mountedCards[i];if(!o)return;const s=yield r.vfs,a=s.getImageInSlot(i),l=s.getDirtyPagesForSlot(i);!a||!l||(yield r.storageService.updateCardData(o.id,a,l,"vfs"),l.fill(0))}).apply(this,arguments)}activatePrimaryCard(){var r=this;return(0,T.A)(function*(){const i=yield r.vfs;i.switchSlot(r.primarySlot),r._bytesFree.set(i.bytesFree(r.primarySlot)),r.bytesTotal=i.bytesTotal(r.primarySlot),r.directoryCache.clear()})()}updateBytesFree(){var r=this;return(0,T.A)(function*(){r._bytesFree.set((yield r.vfs).bytesFree(r.primarySlot))})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(r){this.mountedCards[this.primarySlot]=r}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(r){this.mountedCards[this.secondarySlot]=r}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(lr),de(Ey),de(uc),de(Rs),de(Zr))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class mie{constructor(){this.lockEvent=new gn.J,this.unlockEvent=new gn.J,this.lockCount=0}lock(){this.lockCount++,1===this.lockCount&&this.lockEvent.dispatch()}unlock(){0!==this.lockCount&&0===--this.lockCount&&this.unlockEvent.dispatch()}isLocked(){return this.lockCount>0}runGuarded(t){var n=this;return(0,T.A)(function*(){n.lock();try{return yield t()}finally{n.unlock()}})()}}class Py extends Error{constructor(t){super(t)}}function JL(){return mL().replace(/-/g,"")}let lp=(()=>{var e;class t{constructor(r,i,o,s,a,l,u,f,m,g,w,F,H){var ie=this;this.sessionService=r,this.storageService=i,this.emulationContext=o,this.nativeSupportService=s,this.loaderService=a,this.snapshotService=l,this.alertService=u,this.errorService=f,this.fileService=m,this.vfsService=g,this.storageCardContext=w,this.fstools=F,this.emulatorLock=H,this.createEmptyCard=function(){var me=(0,T.A)(function*(he,pt,xt){return ie.loaderService.showWhile((0,T.A)(function*(){const Dt=yield ie.fstools.mkfs(function _ie(e){switch(e){case 0:return 4;case 1:return 8;case 2:return 16;case 3:return 32;case 4:return 64;case 5:return 128;default:throw new Error(`bad card size ${e}`)}}(pt));if(!Dt)throw new Error("failed to create image");const Pn={storageId:JL(),name:he,size:4*Dt.length,status:"clean",dontFsckAutomatically:xt};return yield ie.storageService.importStorageCard(Pn,Dt)}),"Formatting...")});return function(he,pt,xt){return me.apply(this,arguments)}}(),this.createCardFromImage=function(){var me=(0,T.A)(function*(he,pt,xt){return ie.loaderService.showWhile(()=>ie.doCreateCardFromImage(he,pt,xt),"Importing...")});return function(he,pt,xt){return me.apply(this,arguments)}}(),this.deleteCard=function(){var me=(0,T.A)(function*(he){return ie.loaderService.showWhile((0,T.A)(function*(){const pt=ie._cards().find(xt=>xt.id===he);yield ie.vfsService.releaseCard(he),yield ie.ejectCard(he),yield ie.storageService.deleteStorageCard(he),pt&&ie.deleteCardEvent.dispatch(pt)}),"Deleting...")});return function(he){return me.apply(this,arguments)}}(),this.executeFsckAndUpdateCard=function(){var me=(0,T.A)(function*(he){return ie.loaderService.showWhile((0,T.A)(function*(){if(yield ie.cardIsMounted(he))throw new Error("attempt to fsck a mounted card");const pt=yield ie.storageService.getCard(he);if(!pt)throw new Error(`no card with id ${he}`);yield ie.vfsService.releaseCard(he),ie.storageCardContext.claim(he,"fstools");const xt=yield ie.fstools.createFsckContext(pt.size);switch(yield ie.storageService.loadCardData(pt.id,xt.getImageData(),"fstools"),xt.fsck()){case 1:yield ie.storageService.updateStorageCardPartial(he,{status:"clean"}),ie.storageCardContext.release(he,"fstools");break;case 3:yield ie.storageService.updateStorageCardPartial(he,{status:"unformatted"}),ie.storageCardContext.release(he,"fstools");break;case 2:yield ie.storageService.updateStorageCardPartial(he,{status:"dirty"});break;case 4:yield ie.storageService.updateStorageCardPartial(he,{status:"unfixable"}),ie.storageCardContext.release(he,"fstools");break;default:throw new Error("unrachable: invalid fsck result")}return xt}),"Checking card...")});return function(he){return me.apply(this,arguments)}}(),this.mountCardForBrowsing=function(){var me=(0,T.A)(function*(he,pt,xt){return ie.loaderService.showWhile((0,T.A)(function*(){return yield ie.vfsService.mountCardUnchecked(he,pt,xt)}),"Mounting...")});return function(he,pt,xt){return me.apply(this,arguments)}}(),this.mountCardEvent=new gn.J,this.deleteCardEvent=new gn.J,this.loading=!0,this._cards=ao([]),this.updateMutex=new na,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),i.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}get cards(){return this._cards}onEmulatorStop(){const r=this.emulationContext.session()?.mountedCard;void 0!==r&&this.storageCardContext.release(r,"cloudpilot")}loadCardInEmulator(r,i,o){var s=this;return(0,T.A)(function*(){const a=yield s.storageService.getCard(r);if(!a)throw new Error(`no card with id ${r}`);if(yield s.vfsService.releaseCard(r),void 0!==(yield i.getMountedKey()))throw new Error("attempt to mount a card while another card is mounted");const l=i.allocateCard(a.storageId,a.size);if(!l)throw new Error("unable to allocate card data");return s.storageCardContext.claim(r,"cloudpilot"),o?l.set(o):yield s.storageService.loadCardData(a.id,l,"cloudpilot"),a})()}ejectCurrentCard(){var r=this;return(0,T.A)(function*(){const i=r.emulationContext.context();if(!i)throw new Error("no running session");const o=i.session.mountedCard;if(void 0===o)throw new Error("no mounted card");const s=yield r.storageService.getCard(o);if(!s)return console.warn(`no card with id ${o}`),void(yield r.storageService.updateSessionPartial(i.session.id,{mountedCard:void 0}));yield r.emulatorLock.runGuarded((0,T.A)(function*(){yield r.storageService.updateStorageCardPartial(o,{status:"dirty"}),yield r.snapshotService.triggerSnapshot(),yield r.storageService.updateSessionPartial(i.session.id,{mountedCard:void 0}),yield i.engine.releaseCard(s.storageId),r.storageCardContext.release(o,"cloudpilot")}))})()}checkCard(r){var i=this;return(0,T.A)(function*(){const o=i.mountedInSession(r.id);if(o){let a=!1;if(yield i.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield i.ejectCard(r.id)}const s=yield i.executeFsckAndUpdateCard(r.id);switch(s.getResult()){case 1:return void i.alertService.cardIsClean();case 3:return void i.alertService.cardHasNoValidFileSystem();case 4:i.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors${r.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield i.applyFsckResult(r.id,s):i.storageCardContext.release(r.id,"fstools"))}}})()}insertCard(r){return this.checkAndClaimCard(r,"insert")}browseCard(r){var i=this;return(0,T.A)(function*(){if("vfs"===i.storageCardContext.getOwner(r.id))return yield i.vfsService.activateCard(r.id),!0;const o=i.mountedInSession(r.id);if(o){let s=!1;if(yield i.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield i.ejectCard(r.id)}return i.checkAndClaimCard(r.id,"vfs")})()}updateCard(r,i){var o=this;return(0,T.A)(function*(){const s=yield o.storageService.getCard(r);if(!s)throw new Error(`no card with id ${r}`);return!i.dontFsckAutomatically&&s.dontFsckAutomatically&&(i.status="dirty"),o.storageService.updateStorageCardPartial(r,i)})()}saveCard(r,i,o){var s=this;return(0,T.A)(function*(){const a=yield s.getCard(r);if(!a)throw new Error(`no card with id ${r}`);const l=yield s.loaderService.showWhile((0,T.A)(function*(){return yield s.getCardData(a,o?i:void 0)}),"Exporting...");l&&s.fileService.saveFile(o?`${i}.gz`:i,l)})()}saveCards(r){var i=this;return(0,T.A)(function*(){const o=yield i.fstools.createZipContext(0);try{yield i.loaderService.showWhile(function(){var s=(0,T.A)(function*(a){const l=new Set,u=yield i.fstools.createGzipContext();let f=0;for(const m of r){f++;const g=yield i.getCard(m);if(!g)continue;i.loaderService.updateMessage(a,`Exporting ${f}/${r.length}...`);const w=sp(g.name,H=>l.has(H));l.add(w);const F=yield i.getCardData(g,w,u);F&&(yield o.addEntry(`${w}.img.gz`,F))}});return function(a){return s.apply(this,arguments)}}())}catch(s){return void(yield i.alertService.errorMessage(`Failed to export card images: ${s?.message??"unknown error"}`))}i.fileService.saveFile(function ire(){return`${Td("cards")}.zip`}(),o.getContent())})()}getCard(r){var i=this;return(0,T.A)(function*(){return i.storageService.getCard(r)})()}mountedInSession(r){return this.sessionService.sessions().find(i=>i.mountedCard===r)}isLoading(){return this.loading}addAllCardsFromArchive(r){var i=this;return(0,T.A)(function*(){const o=/\.(bin|img)(|\.gz)$/i,s=Bi?"\n                This can be caused by either a corrupted image or zip file,\n                or by a Safari browser bug triggered by a low memory condition.\n                <br><br>\n                Please force close and reopen the app after a few seconds and try again. If the import\n                keeps failing, please unpack the archive and import the cards manually.\n            ":"";try{yield i.loaderService.showWhile(function(){var a=(0,T.A)(function*(l){const u=yield i.fstools.createZipfileWalker(r);if(-1===u.GetState())return void(yield i.alertService.errorMessage("Import failed: unable to read zip file."));const f=u.GetTotalEntries(),m=new Set(i.cards().map(ie=>ie.name)),g=yield i.fstools.createGunzipContext();let w=1,F=!1;const H=[];for(;0===u.GetState();){i.loaderService.updateMessage(l,`Importing ${w++}/${f}...`);let ie=u.GetCurrentEntryName();try{if(!o.test(ie))throw new Py(`${ie} has the wrong suffix to be considered as a card image.`);let me=u.GetCurrentEntryContent();if(ie.endsWith(".gz")&&me&&(g.initialize(me),me=(yield g.gunzip())?g.getDecompressedData():void 0,ie=ie.substring(0,ie.length-3)),void 0===me)throw new Py(`Failed to extract ${ie}. ${s}`);if(0===(yield i.nativeSupportService.getCardSupportLevel(me.length)))throw new Py(`${ie} is not a valid card image.`);const he=sp(ie.replace(o,""),pt=>m.has(pt));yield i.doCreateCardFromImage(he,me,!1,!0)}catch(me){if(!(me instanceof Py))throw me;H.push(ie),F||(F=yield i.alertService.messageWithChoice("Error",me.message,"Skip further errors",F,{},"Continue"))}finally{u.Next()}}H.length<=3&&H.length>0?yield i.alertService.errorMessage(`The following files could not be imported: <br><br>${H.join("<br>")}`):H.length>3&&(yield i.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${H.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${H.length-3} more files.\n                    `))});return function(l){return a.apply(this,arguments)}}(),"Importing...")}catch(a){yield i.alertService.errorMessage(`Failed to import card images: ${a?.message??"unknown error"}<br><br>${s}`)}})()}doCreateCardFromImage(r,i,o){var s=this;return(0,T.A)(function*(a,l,u,f=!1){const m={storageId:JL(),name:a,size:l.length,status:f?"dirty":"clean",dontFsckAutomatically:u},g=new Uint32Array(l.buffer,l.byteOffset,l.byteLength>>>2);if(f||u)yield s.storageService.importStorageCard(m,g);else{const[w,F]=yield s.fsckNewCard(g,m);yield s.storageService.importStorageCard(F,w)}}).apply(this,arguments)}getCardData(r,i,o){var s=this;return(0,T.A)(function*(){let a;if(void 0!==i&&(o=o??(yield s.fstools.createGzipContext())).initialize(r.size),o){const f=o.getBuffer();a=new Uint32Array(f.buffer,f.byteOffset,f.byteLength>>2)}const l=s.mountedInSession(r.id);let u;if(l&&l.id===s.emulationContext.session()?.id){const f=s.emulationContext.engine();if(!f)throw new Error("unreachable");u=yield f.getCardData(r.storageId),u&&(a?a.set(u):a=u)}return u||(a||(a=new Uint32Array(r.size>>>2)),yield s.storageService.loadCardData(r.id,a,s.storageCardContext.getOwner(r.id))),o&&i?(o.setFilename(i).setMtime(Math.floor(Date.now()/1e3)),(yield o.gzip())?o.getGzipData():void(yield s.alertService.errorMessage("Failed to compress card image."))):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)})()}updateCardsFromDB(){var r=this;return(0,T.A)(function*(){r._cards.set(yield r.updateMutex.runExclusive((0,T.A)(function*(){return(yield r.storageService.getAllStorageCards()).sort((i,o)=>i.name.localeCompare(o.name))})))})()}cardIsMounted(r){var i=this;return(0,T.A)(function*(){return(yield i.storageService.getAllSessions()).some(s=>s.mountedCard===r)})()}checkAndClaimCard(r,i){var o=this;return(0,T.A)(function*(){if(yield o.cardIsMounted(r))throw new Error("card already mounted");let s=yield o.getCard(r);if(!s)throw new Error(`no card with id ${r}`);let a,l=!0,u=!1;if(!s.dontFsckAutomatically){if("dirty"===s.status){if(a=yield o.executeFsckAndUpdateCard(r),2===a.getResult()){if(l=!1,yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===i?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>l=!0},"Cancel"),!l)return o.storageCardContext.release(r,"fstools"),!1;yield o.applyFsckResult(s.id,a)}if(s=yield o.getCard(r),!s)throw new Error(`no card with id ${r}`)}switch(s.status){case"clean":break;case"unformatted":if("vfs"===i)return yield o.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;break;case"dirty":return yield o.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===i?"inserted":"browsed"}.`),!1;case"unfixable":if(l=!1,u=!0,yield o.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>l=!0},"Cancel"),!l)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===i?(yield o.vfsService.releaseCard(r),yield o.mountCardInEmulator(r,a?.getImageData())):(yield o.mountCardForBrowsing(r,u,a?.getImageData()))||(yield o.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(f){return o.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}applyFsckResult(r,i){var o=this;return(0,T.A)(function*(){2===i.getResult()&&(yield o.loaderService.showWhile((0,T.A)(function*(){yield o.storageService.updateCardData(r,i.getImageData(),i.getDirtyPages(),"fstools"),yield o.storageService.updateStorageCardPartial(r,{status:"clean"}),o.storageCardContext.release(r,"fstools")}),"Fixing errors..."))})()}fsckNewCard(r,i){var o=this;return(0,T.A)(function*(){const[s,a]=yield o.loaderService.showWhile((0,T.A)(function*(){const l=yield o.fstools.createFsckContext(i.size);l.getImageData().set(r);const u=l.fsck();return[l,u]}),"Checking card...");switch(a){case 1:return[r,{...i,status:"clean"}];case 2:{let l=!1;return yield o.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>l=!0},"Skip"),l?[s.getImageData(),{...i,status:"clean"}]:[r,{...i,status:"dirty"}]}case 3:return yield o.alertService.cardHasNoValidFileSystem(),[r,{...i,status:"unformatted"}];case 4:return yield o.alertService.cardHasUncorrectableErrors(),[r,{...i,status:"unfixable"}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(r){var i=this;return(0,T.A)(function*(){const o=i.mountedInSession(r),s=yield i.storageService.getCard(r);!o||!s||(o.id===i.emulationContext.session()?.id?yield i.ejectCurrentCard():(yield i.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),yield i.storageService.updateStorageCardPartial(r,{status:"dirty"})))})()}mountCardInEmulator(r,i){var o=this;return(0,T.A)(function*(){if(yield o.cardIsMounted(r))throw new Error("card already mounted");const s=o.emulationContext.engine();if(!s)throw new Error("emulation engine not initialized");return yield o.loaderService.showWhile(()=>o.emulatorLock.runGuarded((0,T.A)(function*(){yield o.vfsService.releaseCard(r);const a=o.emulationContext.session();if(!a)throw new Error("no current session");if(void 0!==a.mountedCard)throw new Error("session already has a mounted card");const l=yield o.loadCardInEmulator(r,s,i);if(yield o.storageService.updateStorageCardPartial(r,{status:"dirty"}),yield o.storageService.updateSessionPartial(a.id,{mountedCard:r}),!(yield s.mountCard(l.storageId)))throw yield s.releaseCard(l.storageId),new Error("failed to mount card");return o.mountCardEvent.dispatch(l),l})),"Inserting...")})()}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(Au),de(lr),de(Wc),de(Fm),de(Rs),de(FE),de(Zr),de(Id),de(uc),de(kd),de(Ey),de(Ay),de(Nm))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),BE=(()=>{var e;class t{constructor(r,i){this.pwaService=r,this.clipboardService=i,this.injectStyles()}get runHidden(){return"pwa"!==this.pwaService.getInstallationMode()}get nativeNetworkIntegration(){return Ea.supportsNativeNetworkIntegration()}get nativeClipboard(){return Ea.supportsNativeClipboard()}featureStyle(r,i){return(i?"":`.feature-${r} { display: none }\n`)+(i?`.no-feature-${r} { display: none }`:"")}injectStyles(){const r=document.createElement("style");r.textContent=`\n            ${this.featureStyle("run-hidden",this.runHidden)}\n            ${this.featureStyle("indicator-fix",l0())}\n            ${this.featureStyle("clipboard-integration",this.clipboardService.isSupported())}\n            ${this.featureStyle("native-app",rc)}\n            ${this.featureStyle("ios-not-native",Bi&&!rc)}\n            ${this.featureStyle("ios-or-safari",Bi&&!rc||Of)}\n            ${this.featureStyle("ios",Bi)}\n            ${this.featureStyle("native-network",this.nativeNetworkIntegration)}\n            ${this.featureStyle("dynamic-font-size",Lf())}\n        `,document.head.appendChild(r)}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(Iy),de(PE))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),e$=(()=>{var e;class t{constructor(r){this.zone=r,this.modalVisibilityChangeEvent=new gn.J,this.modalActive=!1,this.enabled=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}enable(){this.enabled||(this.enabled=!0,this.modalActive&&this.modalVisibilityChangeEvent.dispatch(!0))}update(){const r=document.querySelectorAll("ion-alert, ion-modal").length>0;r!==this.modalActive&&this.zone.run(()=>{this.modalActive=r,this.enabled&&this.modalVisibilityChangeEvent.dispatch(r)})}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(qe))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Rl=(()=>{var e;class t extends Yre{constructor(r,i,o,s,a,l,u,f,m,g,w,F,H,ie,me,he,pt,xt,Dt,Pn){var Bn;super(xt),Bn=this,this.storageService=r,this.ngZone=i,this.loaderService=o,this.emulationContext=s,this.snapshotService=a,this.errorService=l,this.alertService=u,this.clipboardService=f,this.kvsService=m,this.networkService=g,this.buttonService=w,this.bootstrapService=F,this.storageCardService=H,this.storageCardContext=ie,this.sessionsService=me,this.featureService=he,this.uarmModulePromise=Dt,this.switchSession=(Di,ra={})=>this.mutex.runExclusive((0,T.A)(function*(){if(Di===Bn.emulationContext.session()?.id)return!0;let Zc;yield Bn.stopUnchecked(),yield Bn.bootstrapService.hasRendered(),(ra.showLoader??1)&&(Zc=yield Bn.loaderService.add("Loading..."));try{const $y=yield Bn.storageService.getSession(Di);if(!$y)throw new Error(`invalid session ${Di}`);if(Bn.emulationContext.clearContext(),!(yield Bn.restoreSession($y)))return!1;if(!Bn.engine)throw new Error("engine failed to initialize");Bn.emulationContext.setContext($y,Bn.engine),yield Bn.sessionsService.updateSession({...$y,lastLaunch:Date.now()}),function v7(e){a0(hv,e+"")}(Di)}finally{void 0!==Zc&&Bn.loaderService.resolve(Zc)}return!0})),this.resume=()=>this.mutex.runExclusive((0,T.A)(function*(){yield Bn.kvsService.mutex.runExclusive(()=>Bn.updateSettings()),yield Bn.doResume()})),this.pause=()=>this.mutex.runExclusive(()=>this.doStop()),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.block=()=>this.mutex.runExclusive(()=>this.doBlock()),this.unblock=()=>this.mutex.runExclusive(()=>this.doUnblock()),this.onSessionChange=([Di,ra])=>{const Zc=this.emulationContext.context();Di===Zc?.session?.id&&(void 0!==Zc?.session?.mountedCard&&void 0===ra&&this.storageCardContext.release(Zc.session.mountedCard,"cloudpilot"),void 0===ra?(oF(),this.stop()):(Zc&&this.emulationContext.setContext(ra,Zc.engine),this.updateSettings()))},this.onEmergencySave=()=>this.mutex.runExclusive((0,T.A)(function*(){const Di=Bn.emulationContext.session();if(!Di||!Bn.engine)return;const ra=yield Bn.engine.getFullState();ra&&Bn.sessionsService.emergencySaveSession(Di,ra.rom,ra.memory,ra.nand,ra.savestate)})),this.clandestineExecute=Di=>this.ngZone.runOutsideAngular(Di),this.mutex=new na,this.isDirty=!1,r.sessionChangeEvent.addHandler(this.onSessionChange),l.fatalErrorEvent.addHandler(this.stop),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),xt.then(Di=>{this.cloudpilotInstance=Di,this.networkService.initialize(Di),this.networkService.resumeEvent.addHandler(()=>this.processTimesliceNow())}),this.snapshotService.snapshotRequestEvent.addHandler(Di=>this.mutex.runExclusive(()=>this.snapshotNow()).then(()=>Di()).catch(Di)),Pn.lockEvent.addHandler(()=>{this.block()}),Pn.unlockEvent.addHandler(()=>{this.unblock()}),pt.modalVisibilityChangeEvent.addHandler(Di=>Di?void Pn.lock():void Pn.unlock()),this.newFrameEvent.addHandler(()=>pt.enable());const Ns=function g7(){const e=s0(hv);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==Ns&&!aF()&&(this.bootstrapCompletePromise=this.recoverStoredSession(Ns))}bootstrapComplete(){return this.bootstrapCompletePromise}waitForPendingSnapshot(){var r=this;return(0,T.A)(function*(){return r.engine?.waitForPendingSnapshot()})()}flush(){return this.mutex.waitForUnlock()}updateConfiguredHotsyncName(r){const i=this.emulationContext.session();i&&this.storageService.updateSessionPartial(i.id,{hotsyncName:r})}handleFatalInNativeCode(r){this.errorService.fatalInNativeCode(r)}handlePalmosStateChange(){this.isDirty=!0}onAfterAdvanceEmulation(r){const i=this.emulationContext.session(),o=this.getOSVersion();this.isUiInitialized()&&i&&i.osVersion!==o&&this.storageService.updateSessionPartial(i.id,{osVersion:o}),this.buttonService.tick(r),this.isDirty&&(this.ngZone.run(()=>{}),this.isDirty=!1)}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.networkService.handleSuspend())}handleSnapshot(r){const i=this.emulationContext.session();if(!i)throw new Error("unreachable: handleSnapshot without session");this.snapshotService.storeSnapshot(r,i.id)}getUarmModule(){return this.uarmModulePromise}snapshotNow(){var r=this;return(0,T.A)(function*(){if(!r.engine)return;if(r.isRunning()){const s=new Error("Immediate snapshot request while emulator is running");throw r.errorService.fatalBug(s.message),s}const i=r.emulationContext.session();if(!i)throw new Error("unreachable: emulator running w/o session");yield r.engine.waitForPendingSnapshot();const o=yield r.requestSnapshot();o?(yield r.snapshotService.storeSnapshot(o,i.id),yield r.engine.waitForPendingSnapshot()):console.warn("failed to take snapshot")})()}stopUnchecked(){var r=this;return(0,T.A)(function*(){r.emulationContext.session()&&(yield r.doStop(),yield r.snapshotNow(),r.storageCardService.onEmulatorStop(),r.emulationContext.clearContext())})()}updateSettings(){const r=this.emulationContext.session();if(!r)return;const i=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported(),s="cloudpilot"===r.engine?{speed:r.speed,manageHotsyncName:!r.dontManageHotsyncName,hotsyncName:r.hotsyncName,schedulerKind:this.kvsService.kvs.runHidden&&this.featureService.runHidden?1:0,clipboardIntegration:i,networkIntegration:this.kvsService.kvs.networkRedirection}:{disableAudio:r.disableAudio,targetMips:r.targetMips,warnSlowdownThreshold:r.warnSlowdownThreshold,maxHostLoad:r.maxHostLoad,runInBackground:this.kvsService.kvs.runHidden};s.networkIntegration!==this.engineSettings.networkIntegration&&this.networkService.reset(),this.updateEngineSettings({...s,memoryCrc:this.kvsService.kvs.snapshotIntegrityCheck&&true})}recoverStoredSession(r){var i=this;return(0,T.A)(function*(){try{yield i.loaderService.showWhile(()=>i.switchSession(r,{showLoader:!1}),"Loading...",1)}catch(o){Bi&&i.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience."),console.error(o)}})()}restoreSession(r){var i=this;return(0,T.A)(function*(){const{rom:o,memory:s,savestate:a,nand:l}=yield i.storageService.loadSession(r,i.kvsService.kvs.snapshotIntegrityCheck);if(!o)throw new Error(`invalid ROM ${r.rom}`);const u=void 0!==r.mountedCard?yield i.storageService.getCard(r.mountedCard):void 0,f=void 0!==u?{storageKey:u?.storageId,load:m=>i.storageCardService.loadCardInEmulator(u.id,m).then(()=>{})}:void 0;if(!(yield i.openSession(o,r.device,l,s,a,f)))return!1;if(!i.engine)throw new Error("engine failed to initialize");return i.networkService.reset(),i.buttonService.reset(i.engine),i.updateEngineSettings({automaticSnapshotInterval:1e3}),yield i.snapshotService.initialize(r),!0})()}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(lr),de(qe),de(Rs),de(Wc),de(FE),de(Id),de(Zr),de(PE),de(rs),de(ZL),de(YL),de(KL),de(lp),de(Ey),de(Au),de(BE),de(e$),de(Ty),de(FL),de(Nm))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),yie=(()=>{var e;class t{constructor(r,i,o,s,a,l){this.loaderService=r,this.emulationService=i,this.fileService=o,this.emulationContext=s,this.emulatorLock=a,this.alertService=l}saveBackup(r){var i=this;return(0,T.A)(function*(){const o=i.emulationContext.session();if(!o)return;const{failedDatabases:s,archive:a}=yield i.emulatorLock.runGuarded((0,T.A)(function*(){return i.loaderService.showWhile((0,T.A)(function*(){yield i.emulationService.flush(),yield i.emulationService.waitForPendingSnapshot();const l=i.emulationContext.engine();if(!l)throw new Error("emulator not running");return(yield l.backup(r))??{failedDatabases:void 0,archive:void 0}}),"Backing up...")}));a?void 0!==s&&s.length>0?yield i.alertService.message("Backup complete",`\n                    ${SE(s)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>i.fileService.saveFile(RL(o,r),a)},"Cancel"):i.fileService.saveFile(RL(o,r),a):yield i.alertService.errorMessage("Backup failed.")})()}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(Rs),de(Rl),de(uc),de(Wc),de(Nm),de(Zr))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const GE=window.AudioContext||window.webkitAudioContext;function t$(e,t=500){return new Promise((n,r)=>{setTimeout(()=>r(new Error("timeout")),t),e.then(n,r)})}class bie{constructor(t){var n=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,T.A)(function*(){return n.initializeAudioUnguarded()})),this.updateState=()=>{this.mutex.runExclusive((0,T.A)(function*(){if(!n.audio||(n.audio.gainNode.gain.value=n.shouldMute()?0:n.gain(),n.shouldRun()?n.emulationService.enablePcmStreaming():n.emulationService.disablePcmStreaming(),n.isRunning()===n.shouldRun()))return;const r=n.audio.context.state;switch(r){case"interrupted":break;case"closed":return void console.warn("audio context closed unexpectedly, no more audio will be played")}if(n.shouldRun())try{yield t$(n.audio.context.resume()),console.log("resume audio context")}catch(i){console.error(`failed to resume audio from state ${r}`,i)}else try{yield t$(n.audio.context.suspend()),console.log("suspend audio context")}catch(i){console.error(`failed to suspend audio from state ${r}`,i)}}))},this.onPwmUpdate=function(){var r=(0,T.A)(function*(i){n.pendingPwmUpdate=i,n.applyPwmUpdate()});return function(i){return r.apply(this,arguments)}}(),this.onContextStateChange=()=>{if(this.audio)switch(console.log(`audio context state change ${this.oldAudioState} -> ${this.audio.context.state}`),this.oldAudioState=this.audio.context.state,this.audio.context.state){case"suspended":"interrupted"===this.oldAudioState&&this.shouldRun()&&this.updateState(),this.emulationService.disablePcmStreaming();break;case"running":this.emulationService.enablePcmStreaming(),this.audio.gainNode.gain.value=this.shouldMute()?0:this.gain()}},this.mutex=new na,this.muted=!1,this.workletBound=!1,this.oldAudioState="[new]",this.bind(),this.emulationService.openSessionEvent.addHandler(()=>this.bind()),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.palmosStateChangeEvent.addHandler(()=>this.updateState()),document.addEventListener("visibilitychange",()=>{Bi&&"visible"===document.visibilityState?setTimeout(()=>this.updateState(),500):this.updateState()}),window.__cpeAudioDriver=this}isInitialized(){return void 0!==this.audio}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}reactivateRequired(){return(this.audio??!1)&&("suspended"===this.audio?.context.state||"interrupted"===this.audio?.context.state)&&this.shouldRun()}reactivate(){this.mute(!1),this.updateState()}shouldRun(){return this.gain()>0&&("hidden"!==document.visibilityState||this.runHidden())}shouldMute(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||this.muted}bind(){this.unbind(),this.pwmUpdateEvent=this.emulationService.pwmUpdateEvent(),this.pwmUpdateEvent?.addHandler(this.onPwmUpdate),this.emulationService.pcmPort()&&this.bindWorkletNode()}unbind(){this.pwmUpdateEvent?.removeHandler(this.onPwmUpdate),this.disconnectPwmSource(),this.pwmUpdateEvent=void 0,this.unbindWorkletNode()}registerWorklet(t){return(0,T.A)(function*(){const n=window.Worker;window.Worker=class{constructor(i){this.ready=t.audioWorklet.addModule(i)}};const r=new Worker(b.tu(new URL(b.p+b.u(9193),b.b)));window.Worker=n,yield r.ready})()}initializeAudioUnguarded(){var t=this;return(0,T.A)(function*(){if(t.audio)return!0;let n,r;try{n=t.createAudioContext()}catch(o){return console.error("web audio not available",o),!1}try{n.destination.channelCount=2}catch(o){console.warn("audio driver: failed to set channel count",o)}try{yield t.registerWorklet(n),r=new AudioWorkletNode(n,"pcm-processor",{channelCount:2,numberOfOutputs:1,outputChannelCount:[2],processorOptions:{sampleRateTo:n.sampleRate}})}catch(o){console.error("failed to load audio worklet, PCM audio not available",o)}const i=n.createGain();return i.channelInterpretation="speakers",i.gain.value=t.gain(),i.connect(n.destination),t.audio={context:n,gainNode:i,workletNode:r},n.addEventListener("statechange",t.onContextStateChange),t.updateState(),t.applyPwmUpdate(),t.bindWorkletNode(),console.log(`audio initialised at ${n.sampleRate}Hz`),!0})()}createAudioContext(){try{return new GE({sampleRate:44100,latencyHint:"interactive"})}catch(t){console.warn("failed to request context at 44100Hz , latency interactive",t)}try{return new GE({latencyHint:"interactive"})}catch(t){console.warn("failed to request context at arbitrary rate, latency interactive",t)}try{return new GE}catch(t){throw console.error("failed to request context at arbitrary rate and latency",t),t}}isRunning(){return"running"===this.audio?.context.state}applyPwmUpdate(){if(!this.audio||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:n}=this.pendingPwmUpdate,r=this.audio.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||n<=0||t>=r)return void this.disconnectPwmSource();const i=this.audio.context.createBuffer(1,Math.round(r/t),r),o=i.getChannelData(0);for(let a=0;a<o.length;a++)o[a]=a/o.length<n?.5:0;const s=this.audio.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=i,this.disconnectPwmSource(),s.connect(this.audio.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectPwmSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}dispatchPcmControlMessage(t,n){this.audio?.workletNode?.port.postMessage(t,n)}bindWorkletNode(){if(this.workletBound||!this.audio?.workletNode)return;const t=this.emulationService.pcmPort();t&&(this.audio.workletNode.connect(this.audio.gainNode),this.dispatchPcmControlMessage({type:"setStreamMessagePort",port:t},[t]),this.shouldRun()?this.emulationService.enablePcmStreaming():this.emulationService.disablePcmStreaming(),this.workletBound=!0,console.log("bound worklet"))}unbindWorkletNode(){this.workletBound&&(this.audio?.workletNode?.disconnect(),this.dispatchPcmControlMessage({type:"reset"}),this.emulationService.disablePcmStreaming(),this.workletBound=!1,console.log("unbound worklet"))}}let Oy=(()=>{var e;class t extends bie{constructor(r,i,o){super(r),this.kvs=i,this.featureService=o,this.activated=!1}activate(){this.activated=!0,this.updateState()}suspend(){this.activated=!1,this.updateState()}shouldRun(){return super.shouldRun()&&this.activated}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden&&this.featureService.runHidden}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(Rl),de(rs),de(BE))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),r$=(()=>{var e;class t{constructor(r,i){this.emulationService=r,this.ngZone=i,this.onInterval=()=>{this.emulationService.isSlowdown()?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=o=>{o&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!o&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.onOpenSession=()=>{this.reset()},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged),this.emulationService.openSessionEvent.addHandler(this.onOpenSession)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(Rl),de(qe))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const UE=Q.m515,Cie=xE[2],wie=xE[0],Nl="rgba(0,0,0,0.2)";function i$(e,t){const n=Tm(e),r=(0===n.screenSize?3:2)*t,i={frameDevice:1,frameCanvas:r},o=u=>({frameDevice:u,frameCanvas:u*r}),s=u=>({frameDevice:u,frameCanvas:i.frameCanvas+u*r}),a=o(n.silkscreenHeight>0?1:0),l=o(function xie(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(n.screenSize));return{scale:r,borderWidth:i,height:o(2*i.frameDevice+n.height+a.frameDevice+n.silkscreenHeight+l.frameDevice),width:o(2*i.frameDevice+n.width),screenHeight:o(n.height),screenWidth:o(n.width),screenLeft:s(0),screenTop:s(0),screenBottom:s(n.height),separatorHeight:a,silkscreenHeight:o(n.silkscreenHeight),silkscreenTop:s(n.height+a.frameDevice),silkscreenBottom:s(n.height+a.frameDevice+n.silkscreenHeight),softSilkscreenHeight:o(n.silkscreenHeight>0?0:n.height-n.width),buttonHeight:l,buttonWidth:l,buttonTop:s(n.height+a.frameDevice+n.silkscreenHeight),buttonBottom:s(n.height+a.frameDevice+n.silkscreenHeight+l.frameDevice),radiusDpadSelect:{frameCanvas:l.frameCanvas/5,frameDevice:l.frameDevice/5},angleDpad:Math.PI/2-Math.atan((n.width-4*l.frameDevice)/l.frameDevice)}}class o${constructor(t){this.skinLoader=t,this.layout=i$(UE,this.pixelRatio()),this.dpad=!1,this.onResize=new gn.J}get width(){switch(this.getOrientation()){case ni.portrait:case ni.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case ni.portrait:case ni.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.setupTransformation(),this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,n=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let i,o,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,o=r.top,i=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,i=r.left,o=r.top+(r.height-a)/2);let l=(t.clientX-i)/s*this.width/this.layout.scale,u=(t.clientY-o)/a*this.height/this.layout.scale;switch(this.getOrientation()){case ni.landscape90:{const m=u;u=this.layout.height.frameDevice-l,l=m;break}case ni.landscape270:{const m=u;u=l,l=this.layout.width.frameDevice-m;break}case ni.portrait180:l=this.layout.width.frameDevice-l,u=this.layout.height.frameDevice-u}l-=this.layout.borderWidth.frameDevice,u-=this.layout.borderWidth.frameDevice,u>=this.layout.screenHeight.frameDevice&&(u<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?u=this.layout.screenHeight.frameDevice:u-=this.layout.separatorHeight.frameDevice);const f=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(n)l<0&&(l=0),l>=this.layout.screenWidth.frameDevice&&(l=this.layout.screenWidth.frameDevice-1),u<0&&(u=0),u>=f&&(u=f-1);else if(l<0||l>=this.layout.screenWidth.frameDevice||u<0||u>=f)return;return[l,u]}isSilkscreen(t){const[,n]=t;return!this.isButtons(t)&&n>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,n]){if(t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice)return 3;if(t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice)return 2;if(t>=2*this.layout.buttonWidth.frameDevice){if(this.dpad){const r={x:this.layout.screenWidth.frameDevice/2,y:this.layout.buttonTop.frameDevice+this.layout.buttonHeight.frameDevice/2},i={x:Math.abs(t-r.x),y:Math.abs(n-r.y)},o=Math.tan(this.layout.angleDpad);return i.x**2+i.y**2<=this.layout.radiusDpadSelect.frameDevice**2?16:n<r.y&&i.y/i.x>=o?4:n>r.y&&i.y/i.x>=o?5:t<r.x&&i.y/i.x<o?14:15}return n>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4}return t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(t){var n=this;return(0,T.A)(function*(r,i=n.ctx?.canvas){if(!i)return;n.dpad=r,n.layout=i$(n.getDeviceId(),n.pixelRatio()),n.onResize.dispatch(),i.width=n.width,i.height=n.height;const o=i.getContext("2d");if(!o)throw new Error("canvas not supported - get a new browser");n.ctx=o,n.setupTransformation(),n.fillCanvasRect(0,0,n.layout.width.frameCanvas,n.layout.height.frameCanvas,n.frameColor()),n.fillRect(0,0,n.layout.screenWidth.frameDevice,n.layout.screenHeight.frameDevice+n.layout.silkscreenHeight.frameDevice+n.layout.separatorHeight.frameDevice+n.layout.buttonHeight.frameDevice,n.backgroundColor()),n.drawEmulationCanvas(),yield Promise.all([n.drawSilkscreen(),n.drawButtons()])}).apply(this,arguments)}drawButtons(){var t=this;return(0,T.A)(function*(n=[]){if(t.ctx)if(t.setupTransformation(),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.buttonsImage()(t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),t.layout.screenLeft.frameCanvas,t.layout.buttonTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),n.includes(0)&&t.fillRect(0,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Nl),n.includes(1)&&t.fillRect(t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Nl),n.includes(2)&&t.fillRect(t.layout.screenWidth.frameDevice-2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Nl),n.includes(3)&&t.fillRect(t.layout.screenWidth.frameDevice-t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Nl),t.dpad){const r={x:t.layout.borderWidth.frameCanvas+t.layout.screenWidth.frameCanvas/2,y:t.layout.buttonTop.frameCanvas+t.layout.buttonHeight.frameCanvas/2},i={x:t.layout.borderWidth.frameCanvas+2*t.layout.buttonWidth.frameCanvas,y:t.layout.buttonTop.frameCanvas},o={x:t.layout.borderWidth.frameCanvas+t.layout.screenWidth.frameCanvas-2*t.layout.buttonWidth.frameCanvas,y:t.layout.buttonTop.frameCanvas},s={x:i.x,y:t.layout.buttonTop.frameCanvas+t.layout.buttonHeight.frameCanvas},a={x:o.x,y:t.layout.buttonTop.frameCanvas+t.layout.buttonHeight.frameCanvas},l=t.layout.radiusDpadSelect.frameCanvas,u=t.layout.angleDpad;n.includes(4)&&(t.ctx.beginPath(),t.ctx.moveTo(i.x,i.y),t.ctx.lineTo(o.x,o.y),t.ctx.lineTo(r.x+l*Math.cos(u),r.y-l*Math.sin(u)),t.ctx.arc(r.x,r.y,l,-u,u-Math.PI,!0),t.ctx.lineTo(i.x,i.y),t.ctx.fillStyle=Nl,t.ctx.fill()),n.includes(5)&&(t.ctx.beginPath(),t.ctx.moveTo(s.x,s.y),t.ctx.lineTo(a.x,a.y),t.ctx.lineTo(r.x+l*Math.cos(u),r.y+l*Math.sin(u)),t.ctx.arc(r.x,r.y,l,u,Math.PI-u,!1),t.ctx.lineTo(s.x,s.y),t.ctx.fillStyle=Nl,t.ctx.fill()),n.includes(14)&&(t.ctx.beginPath(),t.ctx.moveTo(i.x,i.y),t.ctx.lineTo(s.x,s.y),t.ctx.lineTo(r.x-l*Math.cos(u),r.y+l*Math.sin(u)),t.ctx.arc(r.x,r.y,l,Math.PI-u,Math.PI+u,!1),t.ctx.lineTo(i.x,i.y),t.ctx.fillStyle=Nl,t.ctx.fill()),n.includes(15)&&(t.ctx.beginPath(),t.ctx.moveTo(o.x,o.y),t.ctx.lineTo(a.x,a.y),t.ctx.lineTo(r.x+l*Math.cos(u),r.y+l*Math.sin(u)),t.ctx.arc(r.x,r.y,l,u,-u,!0),t.ctx.lineTo(o.x,o.y),t.ctx.fillStyle=Nl,t.ctx.fill()),n.includes(16)&&(t.ctx.beginPath(),t.ctx.arc(r.x,r.y,l,0,2*Math.PI),t.ctx.fillStyle=Nl,t.ctx.fill())}else n.includes(4)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,Nl),n.includes(5)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice+t.layout.buttonHeight.frameDevice/2,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,Nl)}).apply(this,arguments)}onAfterUpdateCanvas(){}pixelRatio(){return devicePixelRatio}setupTransformation(){if(this.ctx)switch(this.ctx.resetTransform(),this.getOrientation()){case ni.portrait:case void 0:break;case ni.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case ni.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case ni.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,T.A)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,Cie),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,n,r,i,o){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*n,this.layout.scale*r,this.layout.scale*i),this.ctx.fillStyle=o,this.ctx.fill())}fillCanvasRect(t,n,r,i,o){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,n,r,i),this.ctx.fillStyle=o,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case Q.pegT600c:case Q.pegT650c:return"silkscreen/clie-t600.svg";case Q.pegN700c:case Q.pegN600c:return"silkscreen/clie-n610.svg";case Q.pegS320:case Q.pegS300:return"silkscreen/clie-s300.svg";case Q.pegS500c:return"silkscreen/clie-s500.svg";case Q.pegT400:return"silkscreen/clie-t415.svg";case Q.acerS11:return"silkscreen/acer-s10.svg";case Q.palmPilot:case Q.pilot:case Q.iii:case Q.palmVII:return"silkscreen/pilot.svg";case Q.m500:return"silkscreen/m500.svg";case Q.m505:case Q.m515:case Q.m520:return"silkscreen/m515.svg";case Q.iiic:return"silkscreen/iiic.svg";case Q.m100:case Q.m105:case Q.m125:return"silkscreen/m100.svg";case Q.m130:return"silkscreen/m130.svg";case Q.i710:case Q.te2:return"silkscreen/tungstenw.svg";case Q.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case Q.acerS11:return"hard-buttons/acer-s10.svg";case Q.pegNR70:return"hard-buttons/clie-nr70.svg";case Q.pegN700c:return"hard-buttons/clie-n700.svg";case Q.pegN600c:return"hard-buttons/clie-n610.svg";case Q.pegS300:return"hard-buttons/clie-s300.svg";case Q.pegS500c:return"hard-buttons/clie-s500.svg";case Q.pegS320:return"hard-buttons/clie-s320.svg";case Q.pegT400:case Q.pegT600c:case Q.pegT650c:return"hard-buttons/clie-t415.svg";case Q.pilot:case Q.palmPilot:return"hard-buttons/pilot.svg";case Q.m500:return"hard-buttons/m500.svg";case Q.m505:case Q.m515:case Q.m520:return"hard-buttons/m515.svg";case Q.iiic:return"hard-buttons/iiic.svg";case Q.m100:case Q.m105:return"hard-buttons/m100.svg";case Q.m125:return"hard-buttons/m125.svg";case Q.m130:return"hard-buttons/m130.svg";case Q.i710:case Q.te2:case Q.frankene2:return"hard-buttons/tungstenw.svg";case Q.iii:case Q.iiix:case Q.iiixe:case Q.palmVII:case Q.palmVIIEZ:case Q.palmVIIx:return"hard-buttons/iiix.svg";case Q.iiie:return"hard-buttons/iiie.svg";case Q.i705:return"hard-buttons/i705.svg";case Q.handera330:return"hard-buttons/handera330.svg";case Q.handera330c:return"hard-buttons/handera330c.svg";case Q.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return rE(this.getDeviceId())?"white":wie}frameColor(){return rE(this.getDeviceId())?"white":"#ccc"}}function Mie(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=()=>n(),r.src=e})}class kie{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const n=this.cloudpilot.then(i=>i.loadSkin(t)).then(i=>{return i?Promise.all([i,Mie((e=i,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),r=function Tie(e,t){let n,r;const i=document.createElement("canvas");return function(){var o=(0,T.A)(function*(s,a){if(n===s&&r===a)return i;i.width=s,i.height=a;const l=i.getContext("2d");if(!l)throw new Error("get a new browser");return l.drawImage(yield e,0,0,i.width,i.height),(Of||Bi)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(u=>setTimeout(u,0)),l.drawImage(yield e,0,0,i.width,i.height)),n=s,r=a,i});return function(s,a){return o.apply(this,arguments)}}()}(n.then(([,i])=>i),n.then(([i])=>i));return this.images.set(t,r),r}}class Nie extends o${constructor(t,n,r,i){super(i),this.deviceId=t,this.orientation=n,this._pixelRatio=r}setCanvas(t){return this.initWithCanvas(!1,t)}getDeviceId(){return this.deviceId}getOrientation(){return this.orientation}pixelRatio(){return this._pixelRatio}}let Ly=(()=>{var e;class t extends o${constructor(r,i){var o;super(new kie(r)),o=this,this.kvsService=i,this.initialize=(s,a=this.session)=>this.mutex.runExclusive((0,T.A)(function*(){o.initializedSession.set(void 0),o.session=a,a?.device!==o.session?.device&&(o.lastEmulationCanvas=void 0),yield o.initWithCanvas(void 0!==o.session&&fL(o.session.device)&&!o.kvsService.kvs.dontEmulateDPad,s),o.initializedSession.set(o.session)})),this.initializedSession=ao(void 0),this.statisticsVisible=!1,this.initialized=!1,this.mutex=new na}clearStatistics(){var r=this;return(0,T.A)(function*(){r.statisticsVisible=!1,r.layout.silkscreenHeight.frameCanvas>0?yield r.drawSilkscreen():yield r.drawEmulationCanvas()})()}updateStatistics(r,i){var o=this;return(0,T.A)(function*(){yield o.clearStatistics(),o.drawStatistics(r,i),o.lastEmulationStatistics=i,o.lastSnapshotStatistics=r,o.statisticsVisible=!0})()}screenshot(r){var i=this;return(0,T.A)(function*(){if(!i.ctx)return;const o=new Nie(i.getDeviceId(),i.getOrientation(),r,i.skinLoader),s=document.createElement("canvas");return s.width=o.width,s.height=o.height,yield o.setCanvas(s),o.updateEmulationCanvas(i.lastEmulationCanvas),new Promise((a,l)=>{s.toBlob(u=>u?a(u):l(new Error("unable to create screenshot")))})})()}getDeviceId(){return this.session?.device??UE}getOrientation(){return this.session?.deviceOrientation??ni.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(r,i){if(!this.ctx)return;this.setupTransformation();const o=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-o.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-o.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,o.frameDevice,"rgba(255,255,255,0.6)");const l=function Rie(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Tm(this.session?.device??UE).screenSize);this.ctx.font=6*this.layout.scale*l+"px monospace",this.ctx.fillStyle="black",[...r||i?[]:["collecting statistics..."],...r?[`last snapshot          : ${new Date(r.timestamp).toLocaleTimeString()}`,`snapshot size          : ${r.size>>>10} kB`,`snapshot time total    : ${r.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${r.timeBlocking.toFixed(2)} msec`]:[],..."cloudpilot"===i?.type?[`host speed             : ${i.hostSpeed.toFixed(2)}x`,`emulation speed        : ${i.emulationSpeed.toFixed(2)}x`,`average FPS            : ${i.averageFps.toFixed(2)}`]:[],..."uarm"===i?.type?[`current MIPS           : ${i.currentSpeedMips.toFixed(2)}`,`current MIPS limit     : ${i.currentMaxSpeedMips.toFixed(2)}`,`current load           : ${(i.currentSpeedMips/i.currentMaxSpeedMips*100).toFixed(2)}%`]:[]].forEach((u,f)=>this.ctx.fillText(u,this.layout.screenLeft.frameCanvas+l*this.layout.scale,s.frameCanvas+l*this.layout.scale*(8+6*f)))}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(Ty),de(rs))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function Fie(e,t){if(1&e){const n=Fn();V(0,"ion-item",4),je("click",function(){return vt(n),yt(ft().power())}),V(1,"ion-label"),Pe(2,"Power"),Y(),st(3,"ion-icon",5),Y()}if(2&e){const n=ft();_e("detail",!1)("disabled",!n.emulationService.isRunning())}}function Pie(e,t){if(1&e){const n=Fn();V(0,"ion-item",4),je("click",function(){return vt(n),yt(ft().hotsync())}),V(1,"ion-label"),Pe(2,"Hotsync"),Y(),st(3,"ion-icon",6),Y()}if(2&e){const n=ft();_e("detail",!1)("disabled",!n.emulationService.isRunning())}}function Oie(e,t){if(1&e){const n=Fn();V(0,"ion-item",4),je("click",function(){return vt(n),yt(ft().reset())}),V(1,"ion-label"),Pe(2,"Reset"),Y(),st(3,"ion-icon",7),Y()}if(2&e){const n=ft();_e("detail",!1)("disabled",!n.emulationService.isRunning())}}function Lie(e,t){if(1&e){const n=Fn();V(0,"ion-item",8),je("click",function(){return vt(n),yt(ft().insertCard())}),V(1,"ion-label"),Pe(2),Y(),st(3,"ion-icon",9),Y()}if(2&e){const n=ft();_e("detail",!1),fe(2),Po("Insert ",n.hasMemorystick?"stick":"SD card")}}function $ie(e,t){if(1&e){const n=Fn();V(0,"ion-item",8),je("click",function(){return vt(n),yt(ft().ejectCard())}),V(1,"ion-label"),Pe(2),Y(),st(3,"ion-icon",10),Y()}if(2&e){const n=ft();_e("detail",!1),fe(2),Po('Eject "',n.mountedCardName(),'"')}}function Bie(e,t){if(1&e){const n=Fn();V(0,"ion-item",8),je("click",function(){return vt(n),yt(ft().mute(!1))}),V(1,"ion-label"),Pe(2),Y(),st(3,"ion-icon",11),Y()}if(2&e){const n=ft();_e("detail",!1),fe(2),Po("",n.audioRequiresReactivate?"Reactivate":n.isInitialized?"Unmute":"Enable"," audio")}}function Gie(e,t){if(1&e){const n=Fn();V(0,"ion-item",8),je("click",function(){return vt(n),yt(ft().mute(!0))}),V(1,"ion-label"),Pe(2,"Mute audio"),Y(),st(3,"ion-icon",12),Y()}2&e&&_e("detail",!1)}function Uie(e,t){if(1&e){const n=Fn();V(0,"ion-item",4),je("click",function(){return vt(n),yt(ft().backup())}),V(1,"ion-label"),Pe(2,"Save backup"),Y(),st(3,"ion-icon",13),Y()}if(2&e){const n=ft();_e("detail",!1)("disabled",n.backupDisabled)}}function jie(e,t){if(1&e){const n=Fn();V(0,"ion-item",8),je("click",function(){return vt(n),yt(ft().rotate())}),V(1,"ion-label"),Pe(2,"Rotate"),Y(),st(3,"ion-icon",14),Y()}2&e&&_e("detail",!1)}function zie(e,t){if(1&e){const n=Fn();V(0,"ion-item",8),je("click",function(){return vt(n),yt(ft().editSettings())}),V(1,"ion-label"),Pe(2,"Settings"),Y(),st(3,"ion-icon",15),Y()}2&e&&_e("detail",!1)}function Vie(e,t){if(1&e){const n=Fn();V(0,"ion-item",8),je("click",function(){return vt(n),yt(ft().saveScreenshot())}),V(1,"ion-label"),Pe(2,"Save screenshot"),Y(),st(3,"ion-icon",16),Y()}2&e&&_e("detail",!1)}function Hie(e){switch(e){case ni.portrait:case void 0:return ni.landscape90;case ni.landscape90:return ni.portrait180;case ni.portrait180:return ni.landscape270;case ni.landscape270:return ni.portrait;default:throw new Error("cannot happen")}}let qie=(()=>{var e;class t{constructor(r,i,o,s,a,l,u,f,m,g,w,F,H,ie,me,he,pt,xt,Dt,Pn){this.emulationService=r,this.emulationContext=i,this.backupService=o,this.buttonService=s,this.actionSheetController=a,this.popoverController=l,this.audioService=u,this.kvsService=f,this.modalController=m,this.sessionService=g,this.performanceWatchdogService=w,this.canvasDisplayService=F,this.nativeSupportService=H,this.storageCardService=ie,this.alertService=me,this.alertController=he,this.storageService=pt,this.errorService=xt,this.loaderService=Dt,this.fileService=Pn,this.showHelp=()=>{},this.mountedCardName=Oo(()=>{const Bn=this.emulationContext.session()?.mountedCard,Ns=void 0!==Bn?this.storageCardService.cards().find(Di=>Di.id===Bn)?.name:void 0;return console.log(Bn,this.storageCardService.cards()),Ns??(this.hasMemorystick?"stick":"SD card")})}reset(){var r=this;return(0,T.A)(function*(){r.popoverController.dismiss(),(yield r.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>r.emulationService.reset()},{text:"No extensions",handler:()=>r.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>r.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var r=this;return(0,T.A)(function*(){r.popoverController.dismiss(),(yield r.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>r.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>r.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isInitialized(){return this.audioService.isInitialized()}get isAudioOff(){return this.kvsService.kvs.volume<=0}get audioRequiresReactivate(){return this.audioService.reactivateRequired()}mute(r){r?this.audioService.mute(!0):this.audioService.reactivateRequired()?this.audioService.reactivate():this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const r=this.emulationContext.session();return!!r&&function yne(e){switch(e){case Q.i705:case Q.i710:case Q.pegNR70:case Q.pegT650c:case Q.lp168:case Q.frankene2:case Q.te2:return!0;default:return!1}}(r.device)}get hotsyncDisabled(){const r=this.emulationContext.session();return!!r&&function bne(e){switch(e){case Q.frankene2:case Q.te2:return!0;default:return!1}}(r.device)}get hasActiveSession(){return!!this.emulationContext.session()}get supportsStorageCard(){const r=this.emulationContext.session();return!!r&&"none"!==iE(r.device)}get hasMemorystick(){const r=this.emulationContext.session();return!!r&&"memorystick"===iE(r.device)}get hasMountedCard(){return void 0!==this.emulationContext.session()?.mountedCard}editSettings(){var r=this;return(0,T.A)(function*(){const i=r.emulationContext.session();if(!i)return;const o=TL(i),s={...o},a=yield r.modalController.create({component:BL,backdropDismiss:!1,componentProps:{settings:o,availableDevices:[i.device],device:i.device,onSave:(l=(0,T.A)(function*(){const u=ML(i,o);(function Wie(e,t){if("cloudpilot"===e.engine&&"cloudpilot"===t.engine)return e.speed!==t.speed;if("uarm"===e.engine&&"uarm"===t.engine)return e.targetMips!==t.targetMips||e.maxHostLoad!==t.maxHostLoad||e.warnSlowdownThreshold!==t.warnSlowdownThreshold;throw new Error("unreachable")})(s,o)&&r.performanceWatchdogService.reset(),s.deviceOrientation!==o.deviceOrientation&&(r.canvasDisplayService.initialize(void 0,u),r.canvasDisplayService.updateEmulationCanvas()),yield r.sessionService.updateSession(u),a.dismiss()}),function(){return l.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var l;yield r.popoverController.dismiss(),yield a.present()})()}rotate(){var r=this;return(0,T.A)(function*(){const i=r.emulationContext.session();if(!i)return;yield r.storageService.updateSessionPartial(i.id,{deviceOrientation:Hie(i.deviceOrientation)});const o=r.emulationContext.session();yield r.canvasDisplayService.initialize(void 0,o),r.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var r=this;return(0,T.A)(function*(){r.popoverController.dismiss();const i=r.emulationContext.session()?.device;if(void 0===i)return;const o=(yield Promise.all(r.storageCardService.cards().map(a=>r.nativeSupportService.deviceSupportsCard(i,a.size).then(l=>[a,l])))).filter(([a,l])=>l&&!r.storageCardService.mountedInSession(a.id)).map(([a])=>a);0!==o.length?yield(yield r.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:a=>r.storageCardService.insertCard(a)}],inputs:o.map((a,l)=>({label:a.name,type:"radio",value:a.id,checked:0===l})),backdropDismiss:!1})).present():r.alertService.message("No image available",`There is no ${r.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var r=this;return(0,T.A)(function*(){try{yield r.storageCardService.ejectCurrentCard()}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"eject failed")}r.popoverController.dismiss()})()}saveScreenshot(){var r=this;return(0,T.A)(function*(){r.popoverController.dismiss();try{yield r.loaderService.showWhile((0,T.A)(function*(){const i=r.emulationContext.session();if(!i)return;const o=yield r.canvasDisplayService.screenshot(2);if(!o)throw new Error("screenshot is undefined");r.fileService.saveBlob(function sre(e){return`${Td(e.name)}.png`}(i),o)}))}catch(i){console.error(i),r.alertService.errorMessage("Failed to create screenshot.")}})()}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(y(Rl),y(Wc),y(yie),y(YL),y(Sm),y(zc),y(Oy),y(rs),y(ta),y(Au),y(r$),y(Ly),y(Fm),y(lp),y(Zr),y(Ow),y(lr),y(Id),y(Rs),y(uc))},this.\u0275cmp=Je({type:t,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},standalone:!1,decls:16,vars:12,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"],["lines","full","button","",3,"click","detail","disabled"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"click","detail"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"],["name","camera-outline","slot","end"]],template:function(i,o){1&i&&(V(0,"ion-list"),pn(1,Fie,4,2,"ion-item",0)(2,Pie,4,2,"ion-item",0)(3,Oie,4,2,"ion-item",0)(4,Lie,4,2,"ion-item",1)(5,$ie,4,2,"ion-item",1)(6,Bie,4,2,"ion-item",1)(7,Gie,4,1,"ion-item",1)(8,Uie,4,2,"ion-item",0)(9,jie,4,1,"ion-item",1)(10,zie,4,1,"ion-item",1)(11,Vie,4,1,"ion-item",1),V(12,"ion-item",2),je("click",function(){return o.help()}),V(13,"ion-label"),Pe(14,"Help"),Y(),st(15,"ion-icon",3),Y()()),2&i&&(fe(),_e("ngIf",o.hasActiveSession&&!o.powerDisabled),fe(),_e("ngIf",o.hasActiveSession&&!o.hotsyncDisabled),fe(),_e("ngIf",o.hasActiveSession),fe(),_e("ngIf",o.supportsStorageCard&&!o.hasMountedCard),fe(),_e("ngIf",o.supportsStorageCard&&o.hasMountedCard),fe(),_e("ngIf",(o.isMuted||o.audioRequiresReactivate)&&!o.isAudioOff),fe(),_e("ngIf",!o.isMuted&&!o.isAudioOff&&!o.audioRequiresReactivate),fe(),_e("ngIf",o.hasActiveSession),fe(),_e("ngIf",o.hasActiveSession),fe(),_e("ngIf",o.hasActiveSession),fe(),_e("ngIf",o.hasActiveSession),fe(),_e("detail",!1))},dependencies:[Zi,fo,Yi,Sd,wa],encapsulation:2}))}return e(),t})();class Zie{constructor(t,n){this.emulationService=t,this.canvasDisplayService=n,this.handleMouseDown=r=>{if(0!==r.button)return;const i=this.canvasDisplayService.eventToPalmCoordinates(r);if(!i)return;const o=this.determineArea(i);if(2===o){const s=this.canvasDisplayService.determineButton(i);this.interactionMouse={area:o,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:o},this.emulationService.handlePointerMove(...i,1===o)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const i=this.canvasDisplayService.eventToPalmCoordinates(r,!0);i&&this.emulationService.handlePointerMove(...i,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const i=this.interactionMouse;switch(this.interactionMouse=void 0,i?.area){case 2:this.handleButtonUp(i.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let i=!1;for(let o=0;o<r.changedTouches.length;o++){const s=r.changedTouches.item(o);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;i=!0;const l=this.determineArea(a);if(2===l){const u=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:l,buttonPrimary:u}),this.handleButtonDown(u)}else this.interactionsTouch.set(s.identifier,{area:l}),this.emulationService.handlePointerMove(...a,1===l)}i&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let i=!1;for(let o=0;o<r.changedTouches.length;o++){const s=r.changedTouches.item(o);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;i=!0;const l=a.area;switch(l){case 2:{const u=this.canvasDisplayService.eventToPalmCoordinates(s);if(!u||2!==this.determineArea(u)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const f=this.canvasDisplayService.determineButton(u);f===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):f!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=f,this.handleButtonDown(f));break}case 0:case 1:{const u=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!u)continue;this.emulationService.handlePointerMove(...u,1===l);break}default:continue}}i&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let i=!1;for(let o=0;o<r.changedTouches.length;o++){const s=r.changedTouches.item(o);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(i=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}i&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const i=this.buttonFromEvent(r);if(void 0!==i)return this.handleButtonDown(i),void r.preventDefault();const o=this.keyCodeFromEvent(r);void 0!==o&&!r.ctrlKey&&!r.metaKey&&(this.emulationService.handleKeyDown(o),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const i=this.buttonFromEvent(r);if(void 0!==i)return this.handleButtonUp(i),void r.preventDefault();if("Control"===r.key){for(const o of this.activeButtons)this.emulationService.handleButtonUp(o);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0,this.dpad=!1}bind(t,n,r=window){this.dpad=n,this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=r||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,n,r,i){t.addEventListener(n,r,i)}removeEventListener(t,n,r,i){t.removeEventListener(n,r,i)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey||!this.emulationService.supportsKeyboardIO()}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t)){switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":return 0;case"ArrowLeft":return this.dpad?14:0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":return 3;case"ArrowRight":return this.dpad?15:3}if(this.dpad)switch(t.key){case"Enter":case" ":return 16}}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let Yie=(()=>{var e;class t extends Zie{constructor(r,i,o,s){super(r,i),this.modalWatcher=o,this.ngZone=s}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.ngZone.run(()=>{})}addEventListener(r,i,o,s){this.ngZone.runOutsideAngular(()=>r.addEventListener(i,o,s))}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(Rl),de(Ly),de(e$),de(qe))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function s$(e){return/\.(prc|pdb|pqa)$/i.test(e)}class a$ extends Error{}class eoe{constructor(t,n,r,i,o){this.fstools=t,this.alertService=n,this.snapshotService=r,this.files=i,this.emulationContext=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,T.A)(function*(){for(const n of t.files){let r;try{r=yield n.getContent()}catch(i){console.warn(i),t.filesFail.push(n.name);continue}if(/\.zip/i.test(n.name)&&r.length<33554432)try{yield t.installZip(n)}catch{t.filesFail.push(n.name)}else s$(n.name)?yield t.installOne(n.name,r):t.filesFail.push(n.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,n){var r=this;return(0,T.A)(function*(){const i=yield r.emulationContext.engine();if(!i)throw new Error("emulator not running");const o=yield i.installDb(n);switch(o){case 2:r.filesRequireReset.push(t),r.filesSuccess.push(t),r.sizeInstalledSinceLastsnapshot+=n.length;break;case 1:r.filesSuccess.push(t),r.sizeInstalledSinceLastsnapshot+=n.length;break;case-7:throw new a$("DB installation not currently possible");default:r.filesFail.push(t),yield r.reportError(t,o)}if(2===o||1===o)try{const s=function Jie(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(n);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${t} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,t)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var n=this;return(0,T.A)(function*(){const r=yield n.fstools.createZipfileWalker(yield t.getContent());let i=0;for(;0===r.GetState();){const o=r.GetCurrentEntryName().replace(/^.*\//,"");if(!s$(r.GetCurrentEntryName())){r.Next();continue}const s=r.GetCurrentEntryContent();s?(yield n.installOne(o,s),i++):n.filesFail.push(o),r.Next()}if(0===i)throw new Error("no installable files in archive")})()}reportError(t,n){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function Qie(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(n)}.`)}errorDialog(t,n){return this.skipErrors?Promise.resolve():this.alertService.messageWithChoice(t,n,"Skip any remaining errors",!1,{},"Continue").then(r=>{this.skipErrors=r})}}let toe=(()=>{var e;class t{constructor(r,i,o,s,a,l,u){this.emulationService=r,this.loaderService=i,this.snapshotService=o,this.alertService=s,this.fstools=a,this.emulationContext=l,this.emulatorLock=u}installFiles(r){var i=this;return(0,T.A)(function*(){try{yield i.installFilesUnguarded(r)}catch(o){if(o instanceof a$)return void i.alertService.errorMessage("Installation is not currently possible. Navigate to the PalmOS launcher and try again.");throw o}})()}installFilesUnguarded(r){var i=this;return(0,T.A)(function*(){const[o,s,a]=yield i.emulatorLock.runGuarded((0,T.A)(function*(){return i.loaderService.showWhile((0,T.A)(function*(){return yield i.emulationService.flush(),yield i.emulationService.waitForPendingSnapshot(),yield new eoe(i.fstools,i.alertService,i.snapshotService,r,i.emulationContext).run()}),"Installing...")})),l=[i.messageSuccess(o),i.messageFailed(a),i.messageRequireReset(s)].filter(f=>!!f).join("<br/><br/>");let u;u=0===a.length?"Installation successful":0===o.length?"Installation failed":"Installation errors",i.alertService.message(u,l,s.length>0?{"Reset now":()=>i.emulationService.reset()}:void 0)})()}messageSuccess(r){switch(r.length){case 0:return;case 1:return`Installation of ${r[0]} successful.`;default:return`Installation of ${r.length} items successful.`}}messageFailed(r){return r.length>0?`Installation of  ${SE(r)} failed.`:void 0}messageRequireReset(r){return r.length>0?`${SE(r)} require a device reset.`:void 0}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(Rl),de(Rs),de(FE),de(Zr),de(Ay),de(Wc),de(Nm))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),jE=(()=>{var e;class t{constructor(r,i,o){this.router=r,this.canvasDisplayService=i,this.emulationContext=o,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=function noe(e){const t=document.querySelectorAll(e);for(let n=0;n<t.length;n++){const r=t[n].getBoundingClientRect();if(r.height>0)return r.height}return 0}("ion-header");this.useSmallUI=void 0!==a&&this.canvasArea(window.innerHeight-a-(s?56:50)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),i.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationContext.session()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(r,i){let o,s;return r=Math.min(r,this.canvasDisplayService.height/devicePixelRatio),(i=Math.min(i,this.canvasDisplayService.width/devicePixelRatio))/r>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=r,o=r/this.canvasDisplayService.height*this.canvasDisplayService.width):(o=i,s=i/this.canvasDisplayService.width*this.canvasDisplayService.height),o*s}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(y(Zo),y(Ly),y(Wc))},this.\u0275cmp=Je({type:t,selectors:[["app-tabs"]],standalone:!1,decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(i,o){1&i&&(V(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),st(4,"ion-icon",3),V(5,"ion-label"),Pe(6,"Emulator"),Y()(),V(7,"ion-tab-button",4),st(8,"ion-icon",5),V(9,"ion-label"),Pe(10,"Sessions"),Y()(),V(11,"ion-tab-button",6),st(12,"ion-icon",7),V(13,"ion-label"),Pe(14,"Cards"),Y()(),V(15,"ion-tab-button",8),st(16,"ion-icon",9),V(17,"ion-label"),Pe(18,"Settings"),Y()(),V(19,"ion-tab-button",10),st(20,"ion-icon",11),V(21,"ion-label"),Pe(22,"About"),Y()()()()()),2&i&&(fe(2),Sa("small-ui",o.smallUI)("disabled",o.isLocked()))},dependencies:[fo,Sd,py,T2,M2],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px;position:absolute;bottom:1px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}))}return e(),t})(),zE=(()=>{var e;class t{constructor(){this.onDragOver=r=>{r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=r=>{r.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(r)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(r){this.currentClient=r}unregisterClient(r){r===this.currentClient&&(this.currentClient=void 0)}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const roe=["*"];function ioe(e,t){1&e&&st(0,"div",2)}let ooe=0,l$=(()=>{var e;class t{constructor(){this.disabled=!1,this.trigger=new En,this.triggerId="breadcrumb-trigger-"+ooe++}handleClick(r){this.disabled||(r.preventDefault(),this.trigger.emit(this.triggerId))}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275cmp=Je({type:t,selectors:[["app-breadcrumb"]],hostVars:3,hostBindings:function(i,o){1&i&&je("click",function(a){return o.handleClick(a)}),2&i&&(ya("id",o.triggerId),Sa("disabled",o.disabled))},inputs:{disabled:"disabled"},outputs:{trigger:"trigger"},standalone:!1,ngContentSelectors:roe,decls:3,vars:1,consts:[[1,"breadcrumb-current"],["class","select-arrow",4,"ngIf"],[1,"select-arrow"]],template:function(i,o){1&i&&(Et(),V(0,"div",0),wt(1),Y(),pn(2,ioe,1,0,"div",1)),2&i&&(fe(2),_e("ngIf",!o.disabled))},dependencies:[Zi],styles:["[_nghost-%COMP%]{cursor:pointer;display:inline-flex;flex-direction:row;align-items:center;overflow:hidden;max-width:100%}.ios   [_nghost-%COMP%]{justify-content:center}.disabled[_nghost-%COMP%]{cursor:auto}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}"]}))}return e(),t})();var c$;const soe=["canvas"];function aoe(e,t){1&e&&st(0,"div",11),2&e&&sd("width",ft().iosPlaceholderWidth)}function loe(e,t){if(1&e){const n=Fn();V(0,"ion-button",12),je("click",function(){return vt(n),yt(ft().navigation.lock())}),st(1,"ion-icon",13),Y()}}function coe(e,t){if(1&e){const n=Fn();V(0,"ion-button",12),je("click",function(){return vt(n),yt(ft().navigation.unlock())}),st(1,"ion-icon",14),Y()}}function uoe(e,t){if(1&e){const n=Fn();V(0,"ion-button",12),je("click",function(i){return vt(n),yt(ft().openContextMenu(i))}),st(1,"ion-icon",15),Y()}}function doe(e,t){if(1&e){const n=Fn();V(0,"ion-button",12),je("click",function(){return vt(n),yt(ft().showGameModeHint())}),st(1,"ion-icon",16),Y()}}function foe(e,t){if(1&e){const n=Fn();V(0,"ion-button",12),je("click",function(){return vt(n),yt(ft().showProxyConnectedHint())}),st(1,"ion-icon",17),Y()}}function poe(e,t){if(1&e){const n=Fn();V(0,"ion-button",12),je("click",function(){return vt(n),yt(ft().showSlowdowndHint())}),st(1,"ion-icon",18),Y()}}function hoe(e,t){if(1&e){const n=Fn();V(0,"ion-button",12),je("click",function(i){return vt(n),yt(ft().openContextMenu(i))}),st(1,"ion-icon",15),Y()}}function moe(e,t){if(1&e){const n=Fn();V(0,"div",19),Pe(1," The device was reset forcefully. How do you want to boot? "),V(2,"ion-button",20),je("click",function(){return vt(n),yt(ft().bootAfterForcefulReset())}),Pe(3,"Normal boot"),Y(),V(4,"ion-button",20),je("click",function(){return vt(n),yt(ft().bootAfterForcefulResetNoExtensions())}),Pe(5,"No extensions"),Y(),V(6,"ion-button",20),je("click",function(){return vt(n),yt(ft().bootAfterForcefulResetHardReset())}),Pe(7,"Hard reset"),Y()()}}function _oe(e,t){1&e&&(V(0,"div",19)(1,"div"),Pe(2,"No session selected"),Y()())}class Da{constructor(t,n,r,i,o,s,a,l,u,f,m,g,w,F,H,ie,me,he,pt,xt){var Dt=this;this.emulationService=t,this.emulationContext=n,this.storageService=r,this.eventHandlingService=i,this.canvasDisplayService=o,this.kvsService=s,this.popoverController=a,this.modalController=l,this.alertService=u,this.fileService=f,this.installlationService=m,this.networkService=g,this.navigation=w,this.linkApi=F,this.performanceWatchdogService=H,this.dragDropService=ie,this.sessionService=me,this.loaderService=he,this.audioService=pt,this.config=xt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,T.A)(function*(){yield Dt.emulationService.bootstrapComplete(),Dt.bootstrapComplete=!0,Dt.audioService.activate();const Pn=Dt.emulationContext.session();Pn&&!Pn.wasResetForcefully&&(yield Dt.launchEmulator()),Dt.linkApi.installation.requestEvent.addHandler(Dt.handleLinkApiInstallationRequest),Dt.handleLinkApiInstallationRequest(),Dt.dragDropService.registerClient(Dt)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.audioService.suspend(),this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.emulationService.snapshotSuccessEvent.removeHandler(this.onSnapshotSuccess),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onNewFrame=Pn=>{this.canvasDisplayService.updateEmulationCanvas(Pn)},this.onSnapshotSuccess=Pn=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Pn,this.emulationService.getStatistics())},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Pn=this.linkApi.installation.receivePendingUrl();Pn&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationContext.session()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Pn} ?`,{OK:()=>this.fileService.openUrl(Pn,Ns=>this.installlationService.installFiles([Ns]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Pn} .`,{},"Cancel"))},this.switchSession=Pn=>this.loaderService.showWhile((0,T.A)(function*(){Dt.lastTitle=Dt.title,Dt.switching=!0;try{if(yield Dt.emulationService.pause(),!(yield Dt.emulationService.switchSession(Pn.id,{showLoader:!1})))return void(yield Dt.alertService.errorMessage("Failed to launch session"));Pn.wasResetForcefully||(yield Dt.launchEmulator())}finally{Dt.switching=!1}}),"Loading..."),this.bootstrapComplete=!1,this.switching=!1,this.lastTitle="",this.autoLockUI=!0,this.mutex=new na,this.showCanvas=Oo(()=>void 0!==this.emulationContext.session()&&this.emulationContext.session()?.id===this.canvasDisplayService.initializedSession()?.id)}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}ionViewWillEnter(){this.switching=!1}openContextMenu(t){var n=this;return(0,T.A)(function*(r,i="trigger"){(yield n.popoverController.create({component:qie,event:r,componentProps:{showHelp:()=>n.showHelp()},arrow:!1,translucent:!0,reference:i})).present()}).apply(this,arguments)}onContextMenu(t){t.preventDefault(),this.openContextMenu(t,"event")}handleDragDropEvent(t){this.installFileDisabled||this.fileService.openFromDrop(t,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var t=this;return(0,T.A)(function*(){yield(yield t.modalController.create({component:Ed,componentProps:{url:Qne}})).present()})()}showGameModeHint(){var t=this;return(0,T.A)(function*(){yield t.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>t.showHelp()})})()}showProxyConnectedHint(){var t=this;return(0,T.A)(function*(){"native"===t.kvsService.kvs.networkRedirectionMode?yield t.alertService.message("Network session","PalmOS has opened a network session."):yield t.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var t=this;return(0,T.A)(function*(){"cloudpilot"===t.emulationContext.engine()?.type&&(yield t.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")),"uarm"===t.emulationContext.engine()?.type&&(yield t.alertService.message("Slow emulation","\n                Your host is too slow to run your virtual device at the configured minimum\n                speed.\n        "))})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}bootAfterForcefulReset(){var t=this;return(0,T.A)(function*(){yield t.clearForcefulReset(),yield t.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var t=this;return(0,T.A)(function*(){yield t.clearForcefulReset(),yield t.emulationContext.engine()?.resetNoExtensions(),yield t.launchEmulator()})()}bootAfterForcefulResetHardReset(){var t=this;return(0,T.A)(function*(){yield t.clearForcefulReset(),yield t.emulationContext.engine()?.resetHard(),yield t.launchEmulator()})()}get iosPlaceholderWidth(){let t=0;return this.eventHandlingService.isGameMode()&&t++,this.networkService.isConnected()&&t++,this.performanceWatchdogService.isSlowdownDetected()&&t++,t>1?35*(t-1)+"px":"0"}cancelIfEmulationActive(t){this.emulationContext.session()&&!this.emulationContext.session()?.wasResetForcefully&&t.cancelable&&t.preventDefault()}onBreadcrumbTrigger(t){var n=this;return(0,T.A)(function*(){(yield n.popoverController.create({component:tre,componentProps:{sessions:n.sessionService.sessions().filter(i=>i.id!==n.emulationContext.session()?.id),onSelect:i=>n.switchSession(i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===n.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}get sessions(){return this.sessionService.sessions()}clearForcefulReset(){var t=this;return(0,T.A)(function*(){const n=t.emulationContext.session();n&&(yield t.storageService.updateSessionPartial(n.id,{wasResetForcefully:!1}))})()}get title(){return this.bootstrapComplete?this.switching?this.lastTitle:this.emulationContext.session()?.name??"No session":""}launchEmulator(){var t=this;return(0,T.A)(function*(){const n=t.emulationContext.session();n&&(yield t.kvsService.mutex.runExclusive(()=>t.kvsService.kvs.autoLockUI&&t.autoLockUI&&t.navigation.lock()),t.canvasDisplayService.initialize(t.canvasRef.nativeElement,n).then(()=>{t.onKvsUpdate(),t.kvsService.updateEvent.addHandler(t.onKvsUpdate)}),t.onNewFrame(t.emulationService.getCanvas()),t.emulationService.newFrameEvent.addHandler(t.onNewFrame),t.emulationService.snapshotSuccessEvent.addHandler(t.onSnapshotSuccess),yield t.emulationService.resume(),t.eventHandlingService.bind(t.canvasRef.nativeElement,fL(n.device)&&!t.kvsService.kvs.dontEmulateDPad))})()}static#e=c$=()=>(this.\u0275fac=function(n){return new(n||Da)(y(Rl),y(Wc),y(lr),y(Yie),y(Ly),y(rs),y(zc),y(ta),y(Zr),y(uc),y(toe),y(ZL),y(jE),y(c0),y(r$),y(zE),y(Au),y(Rs),y(Oy),y(dm))},this.\u0275cmp=Je({type:Da,selectors:[["app-emulation"]],viewQuery:function(n,r){if(1&n&&Tc(soe,5),2&n){let i;Ss(i=Cs())&&(r.canvasRef=i.first)}},standalone:!1,decls:23,vars:23,consts:[["canvas",""],[3,"trigger","disabled"],["class","ios-title-placeholder",3,"width",4,"ngIf"],["slot","primary"],[3,"click","disabled"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","secondary"],[3,"contextmenu"],[1,"container","running-session",3,"touchstart","touchmove"],["class","container no-session",4,"ngIf"],[1,"ios-title-placeholder"],[3,"click"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","ellipsis-vertical-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(n,r){if(1&n){const i=Fn();V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"app-breadcrumb",1),je("trigger",function(s){return vt(i),yt(r.onBreadcrumbTrigger(s))}),pn(4,aoe,1,2,"div",2),Pe(5),Y()(),V(6,"ion-buttons",3)(7,"ion-button",4),je("click",function(){return vt(i),yt(r.installFiles())}),st(8,"ion-icon",5),Y(),pn(9,loe,2,0,"ion-button",6)(10,coe,2,0,"ion-button",6),Y(),V(11,"ion-buttons",7),pn(12,uoe,2,0,"ion-button",6)(13,doe,2,0,"ion-button",6)(14,foe,2,0,"ion-button",6)(15,poe,2,0,"ion-button",6)(16,hoe,2,0,"ion-button",6),Y()()(),V(17,"ion-content",8),je("contextmenu",function(s){return vt(i),yt(r.onContextMenu(s))}),V(18,"div",9),je("touchstart",function(s){return vt(i),yt(r.cancelIfEmulationActive(s))})("touchmove",function(s){return vt(i),yt(r.cancelIfEmulationActive(s))}),st(19,"canvas",null,0),Y(),pn(21,moe,8,0,"div",10)(22,_oe,3,0,"div",10),Y()}if(2&n){let i,o;fe(3),_e("disabled",!r.bootstrapComplete||1===r.sessions.length&&!!r.emulationContext.session()||0===r.sessions.length),fe(),_e("ngIf","ios"===r.config.get("mode")),fe(),Po(" ",r.title),fe(2),_e("disabled",r.installFileDisabled),fe(2),_e("ngIf",!r.navigation.isLocked()),fe(),_e("ngIf",r.navigation.isLocked()),fe(2),_e("ngIf","ios"===r.config.get("mode")),fe(),_e("ngIf",r.eventHandlingService.isGameMode()),fe(),_e("ngIf",r.networkService.isConnected()),fe(),_e("ngIf",r.performanceWatchdogService.isSlowdownDetected()),fe(),_e("ngIf","ios"!==r.config.get("mode")),fe(),Sa("locked",r.navigation.isLocked()),fe(),sd("display",!r.emulationContext.session()||null!=(i=r.emulationContext.session())&&i.wasResetForcefully?"none":void 0),fe(),sd("width",r.cssWidth)("height",r.cssHeight)("display",r.showCanvas()?"block":"none"),fe(2),_e("ngIf",null!=(o=r.emulationContext.session())&&o.wasResetForcefully?"none":void 0),fe(),_e("ngIf",!r.emulationContext.session()&&r.bootstrapComplete&&!r.switching)}},dependencies:[Zi,Ds,Is,xs,Ts,fo,Ms,As,l$],styles:[".ios-title-placeholder[_ngcontent-%COMP%]{display:inline-block}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{cursor:default;text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc,#eee)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}))}c$(),se([ar()],Da.prototype,"openContextMenu",null),se([ar()],Da.prototype,"showHelp",null),se([ar()],Da.prototype,"showGameModeHint",null),se([ar()],Da.prototype,"showProxyConnectedHint",null),se([ar()],Da.prototype,"showSlowdowndHint",null),se([ar()],Da.prototype,"bootAfterForcefulReset",null),se([ar()],Da.prototype,"bootAfterForcefulResetNoExtensions",null),se([ar()],Da.prototype,"bootAfterForcefulResetHardReset",null),se([ar()],Da.prototype,"onBreadcrumbTrigger",null);const goe=b.p+"assets/doc/sessions-cd17c9bd6449d60b.md";let voe=(()=>{var e;class t{constructor(){this.sessionCount=0}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275cmp=Je({type:t,selectors:[["app-sessions-action-menu"]],inputs:{sessionCount:"sessionCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},standalone:!1,decls:10,vars:5,consts:[["lines","full","button","",3,"click","detail","disabled"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"]],template:function(i,o){1&i&&(V(0,"ion-list")(1,"ion-item",0),je("click",function(){return null==o.onExport?null:o.onExport()}),st(2,"ion-icon",1),Pe(3," Export "),Y(),V(4,"ion-item",0),je("click",function(){return null==o.onDelete?null:o.onDelete()}),st(5,"ion-icon",2),Pe(6," Delete "),Y(),V(7,"ion-item",3),je("click",function(){return null==o.onHelp?null:o.onHelp()}),st(8,"ion-icon",4),Pe(9," Help "),Y()()),2&i&&(fe(),_e("detail",!1)("disabled",0===o.sessionCount),fe(3),_e("detail",!1)("disabled",0===o.sessionCount),fe(3),_e("detail",!1))},dependencies:[fo,Yi,wa],encapsulation:2}))}return e(),t})(),boe=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275cmp=Je({type:t,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},standalone:!1,decls:13,vars:4,consts:[["lines","full","button","",3,"click","detail"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","trash-outline","slot","end"]],template:function(i,o){1&i&&(V(0,"ion-list")(1,"ion-item",0),je("click",function(){return o.onEdit()}),st(2,"ion-icon",1),Pe(3," Edit "),Y(),V(4,"ion-item",0),je("click",function(){return o.onSave()}),st(5,"ion-icon",2),Pe(6," Export "),Y(),V(7,"ion-item",0),je("click",function(){return o.onReset()}),st(8,"ion-icon",3),Pe(9," Reset "),Y(),V(10,"ion-item",4),je("click",function(){return o.onDelete()}),st(11,"ion-icon",5),Pe(12," Delete "),Y()()),2&i&&(fe(),_e("detail",!1),fe(3),_e("detail",!1),fe(3),_e("detail",!1),fe(3),_e("detail",!1))},dependencies:[fo,Yi,wa],encapsulation:2}))}return e(),t})();const Soe=["slidingItem"];function Coe(e,t){if(1&e&&(V(0,"span"),Pe(1),Y()),2&e){const n=ft();fe(),Po(", OS ",n.decodeVersion(null==n.session?null:n.session.osVersion))}}function woe(e,t){1&e&&st(0,"ion-icon",16)}function Eoe(e,t){1&e&&st(0,"ion-icon",17)}let Doe=(()=>{var e;class t{constructor(r){this.popoverController=r,this.selected=!1,this.touched=!1,this.selecting=!1,this.selectedForExport=!1,this.delete=new En,this.resetSession=new En,this.edit=new En,this.save=new En,this.selectItem=new En,this.interaction=new En}get device(){return this.session?dL(this.session.device):""}onContextmenu(r){var i=this;return(0,T.A)(function*(){r.stopPropagation(),r.preventDefault(),i.interaction.emit(),(yield i.popoverController.create({component:boe,event:r,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>i.edit.emit(),onSave:()=>i.save.emit(),onDelete:()=>i.delete.emit(),onReset:()=>i.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(r){if(void 0===r)return"";const i=function yoe(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(r);return`${i.major}.${i.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(y(zc))},this.\u0275cmp=Je({type:t,selectors:[["app-session-item"]],viewQuery:function(i,o){if(1&i&&Tc(Soe,5),2&i){let s;Ss(s=Cs())&&(o.slidingItem=s.first)}},inputs:{session:"session",selected:"selected",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},standalone:!1,decls:21,vars:12,consts:[["slidingItem",""],[3,"contextmenu","ionDrag","disabled"],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"click","color"],[4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(i,o){if(1&i){const s=Fn();V(0,"ion-item-sliding",1,0),je("contextmenu",function(l){return vt(s),yt(o.onContextmenu(l))})("ionDrag",function(){return vt(s),yt(o.interaction.emit())}),V(2,"ion-item-options",2)(3,"ion-item-option",3),je("click",function(){return vt(s),ba(1).close(),yt(o.edit.emit(o.session))}),st(4,"ion-icon",4),Y(),V(5,"ion-item-option",5),je("click",function(){return vt(s),ba(1).close(),yt(o.save.emit(o.session))}),st(6,"ion-icon",6),Y()(),V(7,"ion-item-options",7)(8,"ion-item-option",8),je("click",function(){return vt(s),ba(1).close(),yt(o.resetSession.emit(o.session))}),st(9,"ion-icon",9),Y(),V(10,"ion-item-option",10),je("click",function(){return vt(s),ba(1).close(),yt(o.delete.emit(o.session))}),st(11,"ion-icon",11),Y()(),V(12,"ion-item",12),je("click",function(){return vt(s),yt(o.selectItem.emit())}),V(13,"ion-label")(14,"h2"),Pe(15),Y(),V(16,"p"),Pe(17),pn(18,Coe,2,1,"span",13),Y()(),pn(19,woe,1,0,"ion-icon",14)(20,Eoe,1,0,"ion-icon",15),Y()()}2&i&&(_e("disabled",o.selecting),fe(12),_e("color",o.color),fe(),Sa("in-item-color",o.selected)("selecting",o.selecting),fe(2),Ks(null==o.session?null:o.session.name),fe(2),Ih(" ",o.device,", ",null==o.session?null:o.session.ram,"MB RAM"),fe(),_e("ngIf",null==o.session?null:o.session.osVersion),fe(),_e("ngIf",o.selecting&&!o.selectedForExport),fe(),_e("ngIf",o.selecting&&o.selectedForExport))},dependencies:[Zi,fo,Yi,uy,dy,fy,Sd],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}))}return e(),t})();var u$;function Ioe(e,t){if(1&e){const n=Fn();V(0,"ion-toolbar")(1,"ion-title"),Pe(2,"Sessions"),Y(),V(3,"ion-buttons",7)(4,"ion-button",8),je("click",function(){return vt(n),yt(ft().importSession())}),st(5,"ion-icon",9),Y()(),V(6,"ion-buttons",10)(7,"ion-button",8),je("click",function(i){return vt(n),yt(ft().openActionMenu(i))}),st(8,"ion-icon",11),Y(),st(9,"app-pwa-prompt"),Y()()}}function xoe(e,t){1&e&&(V(0,"ion-title"),Pe(1,"Export"),Y())}function Toe(e,t){1&e&&(V(0,"ion-title"),Pe(1,"Delete"),Y())}function Moe(e,t){if(1&e){const n=Fn();V(0,"ion-buttons",10)(1,"ion-button",8),je("click",function(){return vt(n),yt(ft(2).onSelectAll())}),Pe(2,"Select all"),Y()()}}function Aoe(e,t){if(1&e){const n=Fn();V(0,"ion-buttons",10)(1,"ion-button",8),je("click",function(){return vt(n),yt(ft(2).selection.clear())}),Pe(2,"Clear"),Y()()}}function koe(e,t){if(1&e){const n=Fn();V(0,"ion-toolbar"),pn(1,xoe,2,0,"ion-title",1)(2,Toe,2,0,"ion-title",1),V(3,"ion-buttons",7)(4,"ion-button",8),je("click",function(){return vt(n),yt(ft().onSelectionDone())}),Pe(5),Y()(),pn(6,Moe,3,0,"ion-buttons",12)(7,Aoe,3,0,"ion-buttons",12),Y()}if(2&e){const n=ft();fe(),_e("ngIf","select-for-export"===n.mode),fe(),_e("ngIf","select-for-delete"===n.mode),fe(3),Ks(0===n.selection.size?"Cancel":"select-for-export"===n.mode?"Export":"Delete"),fe(),_e("ngIf",n.selection.size!==n.sessionCount),fe(),_e("ngIf",n.selection.size===n.sessionCount)}}function Roe(e,t){1&e&&(V(0,"ion-title",13),Pe(1,"Sessions"),Y())}function Noe(e,t){1&e&&(V(0,"ion-title",13),Pe(1,"Select for export"),Y())}function Foe(e,t){1&e&&(V(0,"ion-title",13),Pe(1,"Select for delete"),Y())}function Poe(e,t){1&e&&(V(0,"div",14),st(1,"ion-spinner"),Y())}function Ooe(e,t){1&e&&(du(0),st(1,"br")(2,"br"),Pe(3," You can find a collection of compatible ROMs on "),V(4,"a",17),Pe(5,"PalmDB"),Y(),Pe(6,". "),xc())}function Loe(e,t){if(1&e&&(V(0,"div",15)(1,"div",16),Pe(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),pn(3,Ooe,7,0,"ng-container",1),Y()()),2&e){const n=ft();fe(3),_e("ngIf",n.showPalmdbLink)}}function $oe(e,t){if(1&e){const n=Fn();V(0,"app-session-item",19),je("delete",function(){const i=vt(n).$implicit;return yt(ft(2).deleteSession(i))})("selectItem",function(){const i=vt(n).$implicit,o=ft(2);return yt("manage"===o.mode?o.launchSession(i):o.toggleSelection(i))})("edit",function(){const i=vt(n).$implicit;return yt(ft(2).editSession(i))})("save",function(){const i=vt(n).$implicit;return yt(ft(2).saveSession(i))})("resetSession",function(){const i=vt(n).$implicit;return yt(ft(2).resetSession(i))})("interaction",function(){const i=vt(n).$implicit;return yt(ft(2).lastSessionTouched=i.id)}),Y()}if(2&e){const n=t.$implicit,r=ft(2);_e("session",n)("selected",r.currentSessionId()===n.id)("touched",n.id===r.lastSessionTouched)("selecting","manage"!==r.mode)("selectedForExport",r.selection.has(n.id))}}function Boe(e,t){if(1&e&&(V(0,"ion-list"),pn(1,$oe,1,5,"app-session-item",18),Y()),2&e){const n=ft();fe(),_e("ngForOf",n.sessions)("ngForTrackBy",n.trackSessionBy)}}class Fl{constructor(t,n,r,i,o,s,a,l,u,f,m,g,w,F){this.sessionService=t,this.fileService=n,this.alertService=r,this.emulationService=i,this.emulationContext=o,this.storageService=s,this.modalController=a,this.linkApi=l,this.router=u,this.nativeSupportService=f,this.dragDropService=m,this.popoverController=g,this.loaderService=w,this.cd=F,this.memoizedSessions=Rm(H=>[...H].sort((ie,me)=>ie.name.localeCompare(me.name))),this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const H=this.linkApi.import.receivePendingUrl();H&&this.alertService.message("Import request",`Do you want to import<br>${H} ?`,{OK:()=>this.fileService.openUrl(H,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.mode="manage",this.selection=new Set,this.currentSessionOverride=ao(void 0),this.currentSessionId=Oo(()=>this.currentSessionOverride()??this.emulationContext.session()?.id)}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ionViewDidEnter_(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}ionViewDidLeave(){this.mode="manage",this.cd.detectChanges()}get sessions(){return this.memoizedSessions(this.sessionService.sessions())}get sessionCount(){return this.sessionService.sessions().length}deleteSession(t){var n=this;return(0,T.A)(function*(){let r=!0;yield n.alertService.message("Warning",`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),!r&&(yield n.loaderService.showWhile(()=>n.sessionService.deleteSession(t),"Deleting..."))})()}editSession(t){var n=this;return(0,T.A)(function*(){const r=TL(t);void 0!==(yield n.editSettings(r,t.device))&&(yield n.sessionService.updateSession(ML(t,r)))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.sessionService.saveSession(t)}trackSessionBy(t,n){return n.id}launchSession(t){var n=this;return(0,T.A)(function*(){n.lastSessionTouched=t.id,n.currentSessionOverride.set(t.id);const r=yield n.emulationService.switchSession(t.id);n.currentSessionOverride.set(void 0),r?n.router.navigateByUrl("/tab/emulation"):yield n.alertService.errorMessage("Failed to launch session.")})()}resetSession(t){var n=this;return(0,T.A)(function*(){const r=t.id===n.emulationContext.session()?.id;r&&(yield n.emulationService.stop()),yield n.storageService.deleteStateForSession(t),yield n.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),r&&!(yield n.emulationService.switchSession(t.id))&&(yield n.alertService.errorMessage("Failed to relaunch session.")),yield n.alertService.message("Done",`Session ${t.name} has been reset.`)})()}showHelp(){var t=this;return(0,T.A)(function*(){yield(yield t.modalController.create({component:Ed,componentProps:{url:goe}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,T.A)(function*(){const n=new Map(t.sessionService.sessions().map(o=>[o.id,o])),r=Array.from(t.selection).map(o=>n.get(o)).filter(o=>void 0!==o),i=t.mode;switch(t.mode="manage",i){case"select-for-delete":yield t.executeMassDelete(r);break;case"select-for-export":yield t.executeMassExport(r)}})()}onSelectAll(){this.sessionService.sessions().forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t){var n=this;return(0,T.A)(function*(r,i="trigger"){const o=yield n.popoverController.create({component:voe,event:r,componentProps:{sessionCount:n.sessionCount,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:i});o.present()}).apply(this,arguments)}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}get showPalmdbLink(){return!(Bi&&rc)}executeMassExport(t){var n=this;return(0,T.A)(function*(){1===t.length&&(yield n.sessionService.saveSession(t[0])),t.length>1&&(yield n.sessionService.saveSessions(t))})()}executeMassDelete(t){var n=this;return(0,T.A)(function*(){if(1===t.length&&(yield n.deleteSession(t[0])),t.length>1){let r=!0;if(yield n.alertService.message("Warning",`\n                    You are about to delete ${t.length} sessions, which will destroy all data associated with these sessions.\n                    This cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;yield n.loaderService.showWhile((0,T.A)(function*(){for(const i of t)yield n.sessionService.deleteSession(i)}),"Deleting...")}})()}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session, or drop a zip archive with sessions to import.");this.processFile(t[0])}}processFile(t){var n=this;return(0,T.A)(function*(){if(!/\.(img|rom|bin|zip)$/i.test(t.name))return void n.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img, .rom. and .zip");let r;try{r=yield t.getContent()}catch(o){return console.warn(o),void(yield n.alertService.errorMessage(`Unable to open ${t.name}.`))}if(t.name.endsWith(".zip")){let o=!1;return yield n.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all sessions in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>o=!0},"Cancel"),void(o&&(yield n.sessionService.addSessionsFromArchive(r)))}const i=yield n.nativeSupportService.deserializeSessionImage(r);if(i){const o={...AL(i.engine,i.metadata),name:n.disambiguateSessionName(i.metadata?.name??t.name)};if(void 0!==(yield n.editSettings(o,i.deviceId))){const s=yield n.sessionService.addSessionFromImage(i,o);n.lastSessionTouched=s.id}}else{const o=yield n.nativeSupportService.getRomInfo(r);if(!o)return void n.alertService.errorMessage("Not a valid session file or ROM image.");if(0===o.supportedDevices.length)return void n.alertService.errorMessage("No supported device for this ROM.");const s={...nre({engine:o.engine,name:n.disambiguateSessionName(t.name)}),name:n.disambiguateSessionName(t.name)},[a,l]=(yield n.editSettings(s,o.supportedDevices[0],o.supportedDevices,wy(o.supportedDevices[0])))??[];if(void 0!==a){const u=yield n.sessionService.addSessionFromRom(r,a,s,l);n.lastSessionTouched=u.id}}})()}editSettings(t,n,r=[n],i){return new Promise(o=>{let s;this.modalController.create({component:BL,backdropDismiss:!1,componentProps:{settings:t,availableDevices:r,device:n,selectNandSize:i,onSave:(a,l)=>{s.dismiss(),o([a,l])},onCancel:()=>{s.dismiss(),o(void 0)}}}).then(a=>{s=a,s.present()})})}disambiguateSessionName(t){const n=this.sessionService.sessions();return sp(t,r=>n.some(i=>i.name===r))}static#e=u$=()=>(this.\u0275fac=function(n){return new(n||Fl)(y(Au),y(uc),y(Zr),y(Rl),y(Wc),y(lr),y(ta),y(c0),y(Zo),y(Fm),y(zE),y(zc),y(Rs),y(St))},this.\u0275cmp=Je({type:Fl,selectors:[["app-sessions"]],inputs:{selfReference:"selfReference"},standalone:!1,decls:12,vars:10,consts:[[3,"translucent"],[4,"ngIf"],[3,"contextmenu","fullscreen"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"delete","selectItem","edit","save","resetSession","interaction","session","selected","touched","selecting","selectedForExport"]],template:function(n,r){1&n&&(V(0,"ion-header",0),pn(1,Ioe,10,0,"ion-toolbar",1)(2,koe,8,5,"ion-toolbar",1),Y(),V(3,"ion-content",2),je("contextmenu",function(o){return r.onContextMenu(o)}),V(4,"ion-header",3)(5,"ion-toolbar"),pn(6,Roe,2,0,"ion-title",4)(7,Noe,2,0,"ion-title",4)(8,Foe,2,0,"ion-title",4),Y()(),pn(9,Poe,2,0,"div",5)(10,Loe,4,1,"div",6)(11,Boe,2,2,"ion-list",1),Y()),2&n&&(_e("translucent",!0),fe(),_e("ngIf","manage"===r.mode),fe(),_e("ngIf","manage"!==r.mode),fe(),_e("fullscreen",!0),fe(3),_e("ngIf","manage"===r.mode),fe(),_e("ngIf","select-for-export"===r.mode),fe(),_e("ngIf","select-for-delete"===r.mode),fe(),_e("ngIf",r.sessionService.loading()),fe(),_e("ngIf",!r.sessionService.loading()&&0===r.sessionCount),fe(),_e("ngIf",!r.sessionService.loading()&&r.sessionCount>0))},dependencies:[kc,Zi,Ds,Is,xs,Ts,fo,wa,vm,Ms,As,xy,Doe],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{cursor:default;text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}))}u$(),se([ar()],Fl.prototype,"deleteSession",null),se([ar()],Fl.prototype,"editSession",null),se([ar()],Fl.prototype,"saveSession",null),se([ar()],Fl.prototype,"launchSession",null),se([ar()],Fl.prototype,"resetSession",null),se([ar()],Fl.prototype,"onSelectionDone",null),se([ar()],Fl.prototype,"openActionMenu",null);const Goe=["nav"],Uoe=()=>({}),joe=e=>({selfReference:e});let zoe=(()=>{var e;class t{constructor(){this.navRoot=Fl}ionViewDidLeave(){var r=this;return(0,T.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave()})()}ionViewWillLeave(){var r=this;return(0,T.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewWillLeave()})()}ionViewDidEnter(){var r=this;return(0,T.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidEnter_()})()}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275cmp=Je({type:t,selectors:[["app-sessions-wrapper"]],viewQuery:function(i,o){if(1&i&&Tc(Goe,5),2&i){let s;Ss(s=Cs())&&(o.nav=s.first)}},standalone:!1,decls:2,vars:6,consts:[["nav",""],[3,"animated","root","rootParams"]],template:function(i,o){1&i&&st(0,"ion-nav",1,0),2&i&&_e("animated",!1)("root",o.navRoot)("rootParams",function Bk(e,t,n,r){return Gk(it(),No(),e,t,n,r)}(4,joe,function $k(e,t,n){const r=No()+e,i=it();return i[r]===ti?nc(i,r,n?t.call(n):t()):function ch(e,t){return e[t]}(i,r)}(3,Uoe)))},dependencies:[Pw],encapsulation:2}))}return e(),t})();const Voe=b.p+"assets/doc/settings-8e8b5a15934b2481.md";function Hoe(e,t){1&e&&(V(0,"ion-item",9)(1,"ion-toggle",19),Pe(2,"Run when hidden"),Y()())}function Woe(e,t){1&e&&(V(0,"ion-item",9)(1,"ion-toggle",20),Pe(2,"Clipboard integration"),Y()())}function qoe(e,t){if(1&e&&(V(0,"ion-select-option",23),Pe(1),Y()),2&e){const n=t.$implicit;_e("value",n[0]),fe(),Po("",n[1]," ")}}function Zoe(e,t){if(1&e&&(V(0,"ion-item",9)(1,"ion-select",21),pn(2,qoe,2,2,"ion-select-option",22),Y()()),2&e){const n=ft();fe(2),_e("ngForOf",n.networkRedirectionModes)}}function Yoe(e,t){if(1&e){const n=Fn();V(0,"ion-item",9)(1,"div",24),st(2,"ion-input",25),V(3,"ion-button",26),je("click",function(i){vt(n);const o=ft();return i.preventDefault(),i.stopPropagation(),yt(o.testProxyConnection())})("touchstart",function(i){vt(n);const o=ft();return i.preventDefault(),i.stopPropagation(),yt(o.testProxyConnection())}),Pe(4," Test "),Y()()()}if(2&e){const n=ft();fe(3),_e("disabled",!n.proxyServerValid)}}function Koe(e,t){1&e&&(V(0,"ion-item",9)(1,"ion-toggle",27),Pe(2,"Fixed font size"),Y()())}function Xoe(e,t){if(1&e&&(V(0,"ion-item",9)(1,"ion-select",28)(2,"ion-select-option",23),Pe(3,"Off"),Y(),V(4,"ion-select-option",23),Pe(5,"Portrait"),Y(),V(6,"ion-select-option",23),Pe(7,"Landscape"),Y(),V(8,"ion-select-option",23),Pe(9,"Always"),Y()()()),2&e){const n=ft();fe(2),_e("value",n.indicatorFixNone),fe(2),_e("value",n.indicatorFixPortrait),fe(2),_e("value",n.indicatorFixLandscape),fe(2),_e("value",n.indicatorFixAll)}}function Qoe(e,t){1&e&&(du(0),V(1,"h1"),Pe(2,"Debug"),Y(),V(3,"ion-item",9)(4,"ion-toggle",29),Pe(5,"Snapshot validation (slow)"),Y()(),xc())}let Joe=(()=>{var e;class t{constructor(r,i,o,s,a,l){this.modalController=r,this.kvsService=i,this.clipboardService=o,this.alertService=s,this.networkBackendFactory=a,this.featureService=l,this.onAudioOnStartChange=u=>{this.kvsService.kvs.enableAudioOnFirstInteraction=u,Bi&&rc?this.alertService.message("Enable audio on start","\n                    This option will take effect the next time the app restarts.\n                "):u&&this.alertService.message("Enable audio on start","\n                Audio will automatically turn on after the first interaction with the application\n                (i.e. touch, click or keyboard event).\n                <br><br>\n                This option will take effect the next time CloudpilotEmu reloads.\n            ")},this.networkRedirectionModes=[["native","Native"],["proxy","Proxy"]],this.onIndicatorFixModeChange=u=>iF(u),this.onFixedFontSizeChange=u=>function m7(e){Lf()&&(a0(XN,e?"1":"0"),JN())}(!u),this.indicatorFixNone="none",this.indicatorFixPortrait="portrait",this.indicatorFixLandscape="landscape",this.indicatorFixAll="all",this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var r=this;return(0,T.A)(function*(){yield(yield r.modalController.create({component:Ed,componentProps:{url:Voe}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var r=this;return(0,T.A)(function*(){r.formGroup.get("networkRedirection")?.value&&"proxy"===r.formGroup.get("networkRedirectionMode")?.value&&!r.formGroup.get("proxyServer")?.valid&&(r.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),r.formGroup.get("networkRedirection").setValue(!1)),r.formGroup.get("networkRedirection")?.value||r.formGroup.get("proxyServer")?.setValue(r.kvsService.kvs.proxyServer),yield r.kvsService.set({volume:r.formGroup.get("volume").value,showStatistics:r.formGroup.get("showStatistics").value,clipboardIntegration:r.formGroup.get("clipboardIntegration")?.value,networkRedirection:r.formGroup.get("networkRedirection")?.value,networkRedirectionMode:r.featureService.nativeNetworkIntegration?r.formGroup.get("networkRedirectionMode")?.value??"proxy":"proxy",proxyServer:r.formGroup.get("proxyServer")?.value,runHidden:r.formGroup.get("runHidden")?.value,autoLockUI:r.formGroup.get("autoLockUI")?.value,enableRemoteInstall:r.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:r.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:r.formGroup.get("snapshotIntegrityCheck")?.value,dontEmulateDPad:!r.formGroup.get("emulateDPad")?.value}),r.mutexReleasePromise&&(yield r.mutexReleasePromise)()})()}testProxyConnection(){var r=this;return(0,T.A)(function*(){if(!r.connectionTestInProgress){r.connectionTestInProgress=!0;try{switch((yield r.networkBackendFactory.createBackendProxy(r.formGroup.get("proxyServer")?.value).handshake(0)).status){case"failed":r.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":r.alertService.proxyVersionMismatchError();break;default:r.alertService.message("Success","Connection to proxy successful.")}}finally{r.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value&&"native"!==this.formGroup.get("networkRedirectionMode")?.value}get showRedirectionMode(){return this.formGroup.get("networkRedirection")?.value&&this.featureService.nativeNetworkIntegration}get proxyServerValid(){const r=this.formGroup.get("proxyServer");return!(!r?.value||!r?.valid)}get showDebugOptions(){return true}get isIndicatorFixApplicable(){return l0()}get dynmicFontsSupprted(){return Lf()}get featureRunHidden(){return this.featureService.runHidden}createFormGroup(){this.formGroup=new Qv({volume:new pi(this.kvsService.kvs.volume),showStatistics:new pi(this.kvsService.kvs.showStatistics),runHidden:new pi(this.kvsService.kvs.runHidden),clipboardIntegration:new pi(this.kvsService.kvs.clipboardIntegration),networkRedirection:new pi(this.kvsService.kvs.networkRedirection),networkRedirectionMode:new pi(this.kvsService.kvs.networkRedirectionMode),proxyServer:new pi(this.kvsService.kvs.proxyServer,{validators:[iie]}),autoLockUI:new pi(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new pi(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new pi(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new pi(this.kvsService.kvs.snapshotIntegrityCheck),indicatorFixMode:new pi(rF()),fixedFontSize:new pi(!QN()),emulateDPad:new pi(!this.kvsService.kvs.dontEmulateDPad)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("indicatorFixMode")?.valueChanges.subscribe(this.onIndicatorFixModeChange),this.formGroup.get("fixedFontSize")?.valueChanges.subscribe(this.onFixedFontSizeChange)}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(y(ta),y(rs),y(PE),y(Zr),y(qL),y(BE))},this.\u0275cmp=Je({type:t,selectors:[["app-settings"]],standalone:!1,decls:48,vars:10,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["label","Volume","labelPlacement","fixed","min","0","max","1","step","0.1","formControlName","volume"],["labelPlacement","fixed","formControlName","audioOnStart"],["lines","none",4,"ngIf"],["labelPlacement","fixed","formControlName","emulateDPad"],["labelPlacement","fixed","formControlName","networkRedirection"],["labelPlacement","fixed","formControlName","autoLockUI"],["labelPlacement","fixed","formControlName","showStatistics"],["labelPlacement","fixed","formControlName","enableRemoteInstall"],[4,"ngIf"],["labelPlacement","fixed","formControlName","runHidden"],["labelPlacement","fixed","formControlName","clipboardIntegration"],["formControlName","networkRedirectionMode","label","Redirection method",1,"redirection-mode-select"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"server-container"],["label","Proxy server","labelPlacement","stacked","placeholder","Proxy server host or URL","formControlName","proxyServer"],[1,"test-proxy-button",3,"click","touchstart","disabled"],["labelPlacement","fixed","formControlName","fixedFontSize"],["label","Fix iOS home indicator","formControlName","indicatorFixMode"],["labelPlacement","fixed","formControlName","snapshotIntegrityCheck"]],template:function(i,o){1&i&&(V(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Pe(3,"Settings"),Y(),V(4,"ion-buttons",1)(5,"ion-button",2),je("click",function(){return o.showHelp()}),st(6,"ion-icon",3),Y(),st(7,"app-pwa-prompt"),Y()()(),V(8,"ion-content",4)(9,"ion-header",5)(10,"ion-toolbar")(11,"ion-title",6),Pe(12,"Settings"),Y()()(),V(13,"div",7)(14,"form",8)(15,"h1"),Pe(16,"Emulation"),Y(),V(17,"ion-item",9),st(18,"ion-range",10),Y(),V(19,"ion-item",9)(20,"ion-toggle",11),Pe(21,"Enable audio on start"),Y()(),pn(22,Hoe,3,0,"ion-item",12),V(23,"ion-item",9)(24,"ion-toggle",13),Pe(25,"Emulate D-Pad"),Y()(),V(26,"h1"),Pe(27,"Host integration"),Y(),pn(28,Woe,3,0,"ion-item",12),V(29,"ion-item",9)(30,"ion-toggle",14),Pe(31,"Network redirection"),Y()(),pn(32,Zoe,3,1,"ion-item",12)(33,Yoe,5,1,"ion-item",12),V(34,"h1"),Pe(35,"User interface"),Y(),V(36,"ion-item",9)(37,"ion-toggle",15),Pe(38,"Auto-lock UI"),Y()(),pn(39,Koe,3,0,"ion-item",12),V(40,"ion-item",9)(41,"ion-toggle",16),Pe(42,"Show statistics"),Y()(),V(43,"ion-item",9)(44,"ion-toggle",17),Pe(45,"Open from remote sources"),Y()(),pn(46,Xoe,10,4,"ion-item",12)(47,Qoe,6,0,"ng-container",18),Y()()()),2&i&&(_e("translucent",!0),fe(8),_e("fullscreen",!0),fe(6),_e("formGroup",o.formGroup),fe(8),_e("ngIf",o.featureRunHidden),fe(6),_e("ngIf",o.clipboardService.isSupported()),fe(4),_e("ngIf",o.showRedirectionMode),fe(),_e("ngIf",o.showProxyServer),fe(6),_e("ngIf",o.dynmicFontsSupprted),fe(7),_e("ngIf",o.isIndicatorFixApplicable),fe(),_e("ngIf",o.showDebugOptions))},dependencies:[kc,Zi,Gc,$c,Bc,Ds,Is,xs,Ts,fo,jc,Yi,Fw,_m,gm,Ms,ym,As,rp,Nw,mm,Uc,xy,Xa,ac],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-bottom:2em}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}ion-select[_ngcontent-%COMP%]{margin-right:.5em}.test-proxy-button[_ngcontent-%COMP%]{max-height:1.5em;align-self:end;margin-right:12px}"]}))}return e(),t})();const ese=b.p+"assets/doc/cards-75195154c07dfe52.md";let VE=(()=>{var e;class t{transform(r){return void 0!==r?`${Math.round(r/1024/1024)} MB`:""}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275pipe=Fo({name:"cardSize",type:t,pure:!0,standalone:!1}))}return e(),t})();function tse(e,t){1&e&&(V(0,"div",12)(1,"b"),Pe(2,"WARNING:"),Y(),Pe(3," This image cannot be used as a memory stick image. "),Y())}let d$=(()=>{var e;class t{constructor(r){this.storageCardService=r,this.validateNameUnique=i=>this.storageCardService.cards().some(o=>o.name===i.value&&o.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new wu({name:new ea("",{nonNullable:!0,validators:[im.required,this.validateNameUnique]}),size:new ea({value:"dummy",disabled:!0}),checkAutomatically:new ea(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(y(lp))},this.\u0275cmp=Je({type:t,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},standalone:!1,decls:23,vars:7,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Card name","labelPlacement","stacked","placeholder","Enter card name","formControlName","name"],["label","Card size","labelPlacement","stacked","formControlName","size"],["value","dummy"],["labelPlacement","fixed","formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(i,o){1&i&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Pe(3),Y(),V(4,"ion-buttons",0)(5,"ion-button",1),je("click",function(){return o.save()}),Pe(6,"Save"),Y()(),V(7,"ion-buttons",2)(8,"ion-button",3),je("click",function(){return o.onCancel()}),Pe(9,"Cancel"),Y()()()(),V(10,"ion-content",4)(11,"form",5),je("keydown.enter",function(){return o.onEnter()}),V(12,"ion-item",6),st(13,"ion-input",7),Y(),V(14,"ion-item",6)(15,"ion-select",8)(16,"ion-select-option",9),Pe(17),fu(18,"cardSize"),Y()()(),V(19,"ion-item",6)(20,"ion-toggle",10),Pe(21,"Check for errors automatically"),Y()()(),pn(22,tse,4,0,"div",11),Y()),2&i&&(fe(3),Ks(o.newCard?"New memory card":"Edit memory card"),fe(2),_e("disabled",o.formGroup.invalid),fe(6),_e("formGroup",o.formGroup),fe(6),Po("",pu(18,5,null==o.card?null:o.card.size)," "),fe(5),_e("ngIf",!o.memoryStickSupported))},dependencies:[Zi,Ds,Is,xs,Ts,jc,Yi,_m,gm,Ms,ym,As,rp,mm,Uc,Gc,$c,Bc,Xa,ac,VE],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}))}return e(),t})(),nse=(()=>{var e;class t{constructor(){this.cardCount=0}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275cmp=Je({type:t,selectors:[["app-storage-action-menu-cards"]],inputs:{cardCount:"cardCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},standalone:!1,decls:10,vars:5,consts:[["lines","full","button","",3,"click","detail","disabled"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"]],template:function(i,o){1&i&&(V(0,"ion-list")(1,"ion-item",0),je("click",function(){return null==o.onExport?null:o.onExport()}),st(2,"ion-icon",1),Pe(3," Export "),Y(),V(4,"ion-item",0),je("click",function(){return null==o.onDelete?null:o.onDelete()}),st(5,"ion-icon",2),Pe(6," Delete "),Y(),V(7,"ion-item",3),je("click",function(){return null==o.onHelp?null:o.onHelp()}),st(8,"ion-icon",4),Pe(9," Help "),Y()()),2&i&&(fe(),_e("detail",!1)("disabled",0===o.cardCount),fe(3),_e("detail",!1)("disabled",0===o.cardCount),fe(3),_e("detail",!1))},dependencies:[fo,Yi,wa],encapsulation:2}))}return e(),t})();function rse(e,t){if(1&e&&(V(0,"ion-select-option",11),Pe(1),fu(2,"cardSize"),Y()),2&e){const n=t.$implicit,r=ft();_e("value",n),fe(),Po("",pu(2,2,r.sizeBytes(n))," ")}}const ise=[0,1,2,3,4,5];let ose=(()=>{var e;class t{constructor(r){this.storageCardService=r,this.validateNameUnique=i=>this.storageCardService.cards().some(o=>o.name===i.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new wu({name:new ea("",{nonNullable:!0,validators:[im.required,this.validateNameUnique]}),size:new ea(3,{nonNullable:!0}),checkAutomatically:new ea(!0,{nonNullable:!0})})}get sizes(){return ise}sizeBytes(r){return function gie(e){switch(e){case 0:return 4046848;case 1:return 8110080;case 2:return 16220160;case 3:return 32473088;case 4:return 64978944;case 5:return 129990656;default:throw new Error(`bad card size ${e}`)}}(r)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(y(lp))},this.\u0275cmp=Je({type:t,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},standalone:!1,decls:20,vars:3,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Card name","labelPlacement","stacked","placeholder","Enter card name","formControlName","name"],["label","Card size","labelPlacement","stacked","formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["labelPlacement","fixed","formControlName","checkAutomatically"],[3,"value"]],template:function(i,o){1&i&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Pe(3,"New memory card"),Y(),V(4,"ion-buttons",0)(5,"ion-button",1),je("click",function(){return o.create()}),Pe(6,"Create"),Y()(),V(7,"ion-buttons",2)(8,"ion-button",3),je("click",function(){return o.onCancel()}),Pe(9,"Cancel"),Y()()()(),V(10,"ion-content",4)(11,"form",5),je("keydown.enter",function(){return o.onEnter()}),V(12,"ion-item",6),st(13,"ion-input",7),Y(),V(14,"ion-item",6)(15,"ion-select",8),pn(16,rse,3,4,"ion-select-option",9),Y()(),V(17,"ion-item",6)(18,"ion-toggle",10),Pe(19,"Check for errors automatically"),Y()()()()),2&i&&(fe(5),_e("disabled",o.formGroup.invalid),fe(6),_e("formGroup",o.formGroup),fe(5),_e("ngForOf",o.sizes))},dependencies:[kc,Ds,Is,xs,Ts,jc,Yi,_m,gm,Ms,ym,As,rp,mm,Uc,Gc,$c,Bc,Xa,ac,VE],encapsulation:2}))}return e(),t})(),sse=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275cmp=Je({type:t,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},standalone:!1,decls:13,vars:4,consts:[["lines","full","button","",3,"click","detail"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","trash-outline","slot","end"]],template:function(i,o){1&i&&(V(0,"ion-list")(1,"ion-item",0),je("click",function(){return o.onEdit()}),st(2,"ion-icon",1),Pe(3," Edit "),Y(),V(4,"ion-item",0),je("click",function(){return o.onSave()}),st(5,"ion-icon",2),Pe(6," Export "),Y(),V(7,"ion-item",0),je("click",function(){return o.onCheck()}),st(8,"ion-icon",3),Pe(9," Check "),Y(),V(10,"ion-item",4),je("click",function(){return o.onDelete()}),st(11,"ion-icon",5),Pe(12," Delete "),Y()()),2&i&&(fe(),_e("detail",!1),fe(3),_e("detail",!1),fe(3),_e("detail",!1),fe(3),_e("detail",!1))},dependencies:[fo,Yi,wa],encapsulation:2}))}return e(),t})();function ase(e,t){1&e&&st(0,"ion-icon",15)}function lse(e,t){1&e&&st(0,"ion-icon",16)}let cse=(()=>{var e;class t{constructor(r,i,o){this.storageCardService=r,this.popoverController=i,this.sessionService=o,this.touched=!1,this.interaction=new En,this.selecting=!1,this.selectedForExport=!1,this.selectCard=new En,this.edit=new En,this.check=new En,this.delete=new En,this.save=new En}onContextmenu(r){var i=this;return(0,T.A)(function*(){r.stopPropagation(),r.preventDefault(),i.interaction.emit(),(yield i.popoverController.create({component:sse,event:r,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>i.edit.emit(i.card),onSave:()=>i.save.emit(i.card),onCheck:()=>i.check.emit(),onDelete:()=>i.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";this.sessionService.sessions();const r=this.storageCardService.mountedInSession(this.card?.id);if(r)return`attached to '${r.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case"dirty":return"needs check";case"clean":return"no errors";case"unformatted":return"no filesystem";case"unfixable":return"uncorrectable errors";default:throw new Error("unreachable")}}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(y(lp),y(zc),y(Au))},this.\u0275cmp=Je({type:t,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},standalone:!1,decls:21,vars:10,consts:[["slidingItem",""],[3,"contextmenu","ionDrag"],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"click","color"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(i,o){if(1&i){const s=Fn();V(0,"ion-item-sliding",1,0),je("contextmenu",function(l){return vt(s),yt(o.onContextmenu(l))})("ionDrag",function(){return vt(s),yt(o.interaction.emit(o.card))}),V(2,"ion-item-options",2)(3,"ion-item-option",3),je("click",function(){return vt(s),ba(1).close(),yt(o.edit.emit(o.card))}),st(4,"ion-icon",4),Y(),V(5,"ion-item-option",5),je("click",function(){return vt(s),ba(1).close(),yt(o.save.emit(o.card))}),st(6,"ion-icon",6),Y()(),V(7,"ion-item-options",7)(8,"ion-item-option",8),je("click",function(){return vt(s),ba(1).close(),yt(o.check.emit(o.card))}),st(9,"ion-icon",9),Y(),V(10,"ion-item-option",10),je("click",function(){return vt(s),ba(1).close(),yt(o.delete.emit(o.card))}),st(11,"ion-icon",11),Y()(),V(12,"ion-item",12),je("click",function(){return vt(s),o.selectCard.emit(),yt(o.interaction.emit())}),V(13,"ion-label")(14,"h2"),Pe(15),Y(),V(16,"p"),Pe(17),fu(18,"cardSize"),Y()(),pn(19,ase,1,0,"ion-icon",13)(20,lse,1,0,"ion-icon",14),Y()()}2&i&&(fe(12),_e("color",o.color),fe(),Sa("selecting",o.selecting),fe(2),Ks(null==o.card?null:o.card.name),fe(2),Ih("",pu(18,8,null==o.card?null:o.card.size),", ",o.status),fe(2),_e("ngIf",o.selecting&&!o.selectedForExport),fe(),_e("ngIf",o.selecting&&o.selectedForExport))},dependencies:[Zi,fo,Yi,uy,dy,fy,Sd,VE],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}))}return e(),t})();var f$;function use(e,t){if(1&e){const n=Fn();V(0,"ion-toolbar")(1,"ion-title"),Pe(2,"Memory cards"),Y(),V(3,"ion-buttons",7)(4,"ion-button",8),je("click",function(){return vt(n),yt(ft().addCardImage())}),st(5,"ion-icon",9),Y()(),V(6,"ion-buttons",10)(7,"ion-button",8),je("click",function(i){return vt(n),yt(ft().openActionMenu(i))}),st(8,"ion-icon",11),Y(),st(9,"app-pwa-prompt"),Y()()}}function dse(e,t){1&e&&(V(0,"ion-title"),Pe(1,"Export"),Y())}function fse(e,t){1&e&&(V(0,"ion-title"),Pe(1,"Delete"),Y())}function pse(e,t){if(1&e){const n=Fn();V(0,"ion-buttons",10)(1,"ion-button",8),je("click",function(){return vt(n),yt(ft(2).onSelectAll())}),Pe(2,"Select all"),Y()()}}function hse(e,t){if(1&e){const n=Fn();V(0,"ion-buttons",10)(1,"ion-button",8),je("click",function(){return vt(n),yt(ft(2).selection.clear())}),Pe(2,"Clear"),Y()()}}function mse(e,t){if(1&e){const n=Fn();V(0,"ion-toolbar"),pn(1,dse,2,0,"ion-title",1)(2,fse,2,0,"ion-title",1),V(3,"ion-buttons",7)(4,"ion-button",8),je("click",function(){return vt(n),yt(ft().onSelectionDone())}),Pe(5),Y()(),pn(6,pse,3,0,"ion-buttons",12)(7,hse,3,0,"ion-buttons",12),Y()}if(2&e){const n=ft();fe(),_e("ngIf","select-for-export"===n.mode),fe(),_e("ngIf","select-for-delete"===n.mode),fe(3),Ks(0===n.selection.size?"Cancel":"select-for-export"===n.mode?"Export":"Delete"),fe(),_e("ngIf",n.selection.size!==n.cards.length),fe(),_e("ngIf",n.selection.size===n.cards.length)}}function _se(e,t){1&e&&(V(0,"ion-title",13),Pe(1,"Memory cards"),Y())}function gse(e,t){1&e&&(V(0,"ion-title",13),Pe(1,"Select for export"),Y())}function vse(e,t){1&e&&(V(0,"ion-title",13),Pe(1,"Select for delete"),Y())}function yse(e,t){1&e&&(V(0,"div",14),st(1,"ion-spinner"),Y())}function bse(e,t){1&e&&(V(0,"div",15)(1,"div",16),Pe(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),Y()())}function Sse(e,t){if(1&e){const n=Fn();V(0,"app-storage-card",18),je("delete",function(){const i=vt(n).$implicit;return yt(ft(2).deleteCard(i))})("selectCard",function(){const i=vt(n).$implicit,o=ft(2);return yt("manage"===o.mode?o.browseCard(i):o.toggleSelection(i))})("edit",function(){const i=vt(n).$implicit;return yt(ft(2).editCard(i))})("check",function(){const i=vt(n).$implicit;return yt(ft(2).checkCard(i))})("interaction",function(){const i=vt(n).$implicit;return yt(ft(2).lastCardTouched=i.id)})("save",function(){const i=vt(n).$implicit;return yt(ft(2).saveCard(i))}),Y()}if(2&e){const n=t.$implicit,r=ft(2);_e("card",n)("touched",n.id===r.lastCardTouched)("selecting","manage"!==r.mode)("selectedForExport",r.selection.has(n.id))}}function Cse(e,t){if(1&e&&(V(0,"ion-list"),pn(1,Sse,1,4,"app-storage-card",17),Y()),2&e){const n=ft();fe(),_e("ngForOf",n.cards)("ngForTrackBy",n.trackCardBy)}}class Ja{constructor(t,n,r,i,o,s,a,l,u,f,m){var g=this;this.actionSheetController=t,this.storageCardService=n,this.modalController=r,this.nativeSupportService=i,this.alertService=o,this.errorService=s,this.fileService=a,this.loaderService=l,this.fstools=u,this.popoverController=f,this.cd=m,this.handleCardImport=function(){var w=(0,T.A)(function*(F){if(!/\.((bin|img)(|\.gz)|zip)$/i.test(F.name))return void g.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .bin.gz, .img, .img.gz and .zip");let H;try{H=yield F.getContent()}catch(he){return console.warn(he),void(yield g.alertService.errorMessage(`Unable to open ${F.name}".`))}if(F.name.endsWith(".zip")){let he=!1;return yield g.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all card images in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser\n                    or cause spurious errors if memory is exhausted.\n                    Are you sure you want to continue?\n                ",{Continue:()=>he=!0},"Cancel"),void(he&&(yield g.storageCardService.addAllCardsFromArchive(H)))}/\.gz$/.test(F.name)&&(H=yield g.loaderService.showWhile(()=>g.fstools.gunzip(H),"Unpacking..."));const ie=H?yield g.nativeSupportService.getCardSupportLevel(H.length):0;if(void 0===H||0===ie)return void g.alertService.errorMessage("This is not a supported card image.");const me=yield new Promise(function(){var he=(0,T.A)(function*(pt){const xt=yield g.modalController.create({component:d$,backdropDismiss:!1,componentProps:{card:{name:g.disambiguateName(F.name.replace(/\.gz$/,"")),size:H.length},cardSupportLevel:ie,newCard:!0,onCancel:()=>{xt.dismiss(),pt(void 0)},onSave:Dt=>{pt(Dt),xt.dismiss()}}});yield xt.present()});return function(pt){return he.apply(this,arguments)}}());me&&(yield g.storageCardService.createCardFromImage(me.name,H,!!me.dontFsckAutomatically))});return function(F){return w.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.mode="manage",this.selection=new Set}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ionViewDidLeave(){this.mode="manage",this.cd.markForCheck()}get cards(){return this.storageCardService.cards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,T.A)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,T.A)(function*(){yield(yield t.modalController.create({component:Ed,componentProps:{url:ese}})).present()})()}browseCard(t){var n=this;return(0,T.A)(function*(){(yield n.storageCardService.browseCard(t))&&n.onMountForBrowse(t)})()}editCard(t){var n=this;return(0,T.A)(function*(){const r=yield n.modalController.create({component:d$,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:yield n.nativeSupportService.getCardSupportLevel(t.size),onCancel:()=>r.dismiss(),onSave:(i=(0,T.A)(function*(o){yield n.storageCardService.updateCard(t.id,o),yield r.dismiss()}),function(s){return i.apply(this,arguments)})}});var i;yield r.present()})()}saveCard(t){var n=this;return(0,T.A)(function*(){const r=`${Td(t.name.replace(/\.img$/,""))}.img`;yield(yield n.actionSheetController.create({header:"How do you want to export the image?",buttons:[{text:"Export gzip compressed image",handler:()=>n.storageCardService.saveCard(t.id,r,!0)},{text:"Export uncompressed image",handler:()=>n.storageCardService.saveCard(t.id,r,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var n=this;return(0,T.A)(function*(){let r=!0;yield n.alertService.message("Warning",`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),!r&&(yield n.loaderService.showWhile((0,T.A)(function*(){try{yield n.storageCardService.deleteCard(t.id)}catch(i){n.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),"Deleting..."))})()}trackCardBy(t,n){return n.id}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,T.A)(function*(){const n=t.mode;switch(t.mode="manage",n){case"select-for-export":yield t.executeMassExport(Array.from(t.selection));break;case"select-for-delete":yield t.executeMassDelete(Array.from(t.selection))}})()}onSelectAll(){this.cards.forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t){var n=this;return(0,T.A)(function*(r,i="trigger"){const o=yield n.popoverController.create({component:nse,event:r,componentProps:{cardCount:n.cards.length,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:i});o.present()}).apply(this,arguments)}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var n=this;return(0,T.A)(function*(){switch(t.length){case 0:break;case 1:{const r=yield n.storageCardService.getCard(t[0]);r&&(yield n.saveCard(r));break}default:yield n.exportSelection(t)}})()}executeMassDelete(t){var n=this;return(0,T.A)(function*(){switch(t.length){case 0:break;case 1:{const r=yield n.storageCardService.getCard(t[0]);r&&(yield n.deleteCard(r));break}default:{let r=!0;if(yield n.alertService.message("Warning",`You are about to delete ${t.length} cards. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;yield n.loaderService.showWhile((0,T.A)(function*(){try{for(const i of t)yield n.storageCardService.deleteCard(i)}catch(i){n.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),"Deleting...")}}})()}exportSelection(t){var n=this;return(0,T.A)(function*(){const r=new Map(yield n.storageCardService.cards().map(o=>[o.id,o]));if(t.map(o=>r.get(o)?.size).reduce((o,s)=>o+(s??0),0)>268435456){let o=!0;if(yield n.alertService.message("Warning","\n                    You are about to export a large amount of data. This may consume a lot of memory and can crash the browser.\n                    Are you sure you want to continue?\n                ",{Continue:()=>o=!1},"Cancel"),o)return}yield n.storageCardService.saveCards(t)})()}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,T.A)(function*(){const n=yield t.modalController.create({component:ose,backdropDismiss:!1,componentProps:{onCancel:()=>n.dismiss(),onCreate:(r=(0,T.A)(function*(i,o,s){yield t.storageCardService.createEmptyCard(i,o,s),yield n.dismiss()}),function(o,s,a){return r.apply(this,arguments)})}});var r;yield n.present()})()}disambiguateName(t){const n=this.storageCardService.cards();return sp(t,r=>n.some(i=>i.name===r))}static#e=f$=()=>(this.\u0275fac=function(n){return new(n||Ja)(y(Sm),y(lp),y(ta),y(Fm),y(Zr),y(Id),y(uc),y(Rs),y(Ay),y(zc),y(St))},this.\u0275cmp=Je({type:Ja,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},standalone:!1,decls:12,vars:10,consts:[[3,"translucent"],[4,"ngIf"],[3,"contextmenu","fullscreen"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"delete","selectCard","edit","check","interaction","save","card","touched","selecting","selectedForExport"]],template:function(n,r){1&n&&(V(0,"ion-header",0),pn(1,use,10,0,"ion-toolbar",1)(2,mse,8,5,"ion-toolbar",1),Y(),V(3,"ion-content",2),je("contextmenu",function(o){return r.onContextMenu(o)}),V(4,"ion-header",3)(5,"ion-toolbar"),pn(6,_se,2,0,"ion-title",4)(7,gse,2,0,"ion-title",4)(8,vse,2,0,"ion-title",4),Y()(),pn(9,yse,2,0,"div",5)(10,bse,3,0,"div",6)(11,Cse,2,2,"ion-list",1),Y()),2&n&&(_e("translucent",!0),fe(),_e("ngIf","manage"===r.mode),fe(),_e("ngIf","manage"!==r.mode),fe(),_e("fullscreen",!0),fe(3),_e("ngIf","manage"===r.mode),fe(),_e("ngIf","select-for-export"===r.mode),fe(),_e("ngIf","select-for-delete"===r.mode),fe(),_e("ngIf",r.storageCardService.isLoading()),fe(),_e("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),fe(),_e("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[kc,Zi,Ds,Is,xs,Ts,fo,wa,vm,Ms,As,xy,cse],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{cursor:default;text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}))}f$(),se([ar()],Ja.prototype,"addCardImage",null),se([ar()],Ja.prototype,"browseCard",null),se([ar()],Ja.prototype,"editCard",null),se([ar()],Ja.prototype,"saveCard",null),se([ar()],Ja.prototype,"checkCard",null),se([ar()],Ja.prototype,"deleteCard",null),se([ar()],Ja.prototype,"onSelectionDone",null),se([ar()],Ja.prototype,"openActionMenu",null);const wse=b.p+"assets/doc/card-browser-5a0261814255810d.md";function Dse(e,t){1&e&&st(0,"ion-icon",8)}function Ise(e,t){1&e&&st(0,"ion-icon",9)}function xse(e,t){1&e&&st(0,"ion-icon",10)}function Tse(e,t){if(1&e){const n=Fn();V(0,"ion-item",2),je("click",function(){const i=vt(n).index;return yt(ft(2).onSelect(i))}),du(1,3),pn(2,Dse,1,0,"ion-icon",4)(3,Ise,1,0,"ion-icon",5)(4,xse,1,0,"ion-icon",6),xc(),V(5,"div",7),Pe(6),Y()()}if(2&e){const n=t.$implicit,r=t.index,i=ft(2);_e("detail",!1)("lines",r===i.entries.length-1?"none":"full"),fe(),_e("ngSwitch",i.entries.length),fe(),_e("ngSwitchCase",r+1),fe(),_e("ngSwitchCase",r+2),fe(3),Ks(n)}}function Mse(e,t){if(1&e&&(V(0,"ion-list"),pn(1,Tse,7,6,"ion-item",1),Y()),2&e){const n=ft();fe(),_e("ngForOf",n.entries)}}let Ase=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275cmp=Je({type:t,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"click","detail","lines"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(i,o){1&i&&pn(0,Mse,2,1,"ion-list",0),2&i&&_e("ngIf",o.entries)},dependencies:[kc,Zi,dv,MN,AN,fo,Yi,wa],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrumb-menu-width) - 30px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 70px)}"]}))}return e(),t})(),kse=(()=>{var e;class t{constructor(r){this.vfsService=r,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(y(kd))},this.\u0275cmp=Je({type:t,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},standalone:!1,decls:19,vars:8,consts:[["lines","full","button","",3,"click","detail","disabled"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"click","detail"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"]],template:function(i,o){1&i&&(V(0,"ion-list")(1,"ion-item",0),je("click",function(){return o.onStartSelection()}),st(2,"ion-icon",1),Pe(3," Start selection "),Y(),V(4,"ion-item",2),je("click",function(){return o.onAddFiles()}),st(5,"ion-icon",3),Pe(6," Add files "),Y(),V(7,"ion-item",2),je("click",function(){return o.onCreateDirectry()}),st(8,"ion-icon",4),Pe(9," Add directory "),Y(),V(10,"ion-item",2),je("click",function(){return o.onExtractZipfile()}),st(11,"ion-icon",5),Pe(12," Extract zip "),Y(),V(13,"ion-item",0),je("click",function(){return o.onPaste()}),st(14,"ion-icon",6),Pe(15," Paste "),Y(),V(16,"ion-item",7),je("click",function(){return o.onHelp()}),st(17,"ion-icon",8),Pe(18," Help "),Y()()),2&i&&(fe(),_e("detail",!1)("disabled",o.emptyDirectory),fe(3),_e("detail",!1),fe(3),_e("detail",!1),fe(3),_e("detail",!1),fe(3),_e("detail",!1)("disabled",!o.vfsService.isClipboardPopulated()),fe(3),_e("detail",!1))},dependencies:[fo,Yi,wa],encapsulation:2}))}return e(),t})();var p$;class cp{constructor(t,n){this.modalController=t,this.vfsService=n,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(i=>i.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&i.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new wu({name:new ea("",{nonNullable:!0,validators:[im.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new ea(!1,{nonNullable:!0}),attrHidden:new ea(!1,{nonNullable:!0}),attrSystem:new ea(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,T.A)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,T.A)(function*(){yield t.save()})()}save(){var t=this;return(0,T.A)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}static#e=p$=()=>(this.\u0275fac=function(n){return new(n||cp)(y(ta),y(kd))},this.\u0275cmp=Je({type:cp,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},standalone:!1,decls:29,vars:7,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["labelPlacement","stacked","formControlName","name",3,"label","placeholder"],["labelPlacement","fixed","formControlName","attrReadonly"],["name","lock-closed-outline","size","small"],["labelPlacement","fixed","formControlName","attrHidden"],["name","eye-off-outline","size","small"],["labelPlacement","fixed","formControlName","attrSystem"],["name","cog-outline","size","small"]],template:function(n,r){1&n&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Pe(3),Y(),V(4,"ion-buttons",0)(5,"ion-button",1),je("click",function(){return r.onSaveClick()}),Pe(6,"Save"),Y()(),V(7,"ion-buttons",2)(8,"ion-button",3),je("click",function(){return r.onCancelClick()}),Pe(9,"Cancel"),Y()()()(),V(10,"ion-content",4)(11,"form",5),je("keydown.enter",function(){return r.onEnter()}),V(12,"ion-item",6),st(13,"ion-input",7),Y(),V(14,"ion-item",6)(15,"h2"),Pe(16,"Attributes"),Y()(),V(17,"ion-item",6)(18,"ion-checkbox",8),st(19,"ion-icon",9),Pe(20,"Readonly"),Y()(),V(21,"ion-item",6)(22,"ion-checkbox",10),st(23,"ion-icon",11),Pe(24,"Hidden"),Y()(),V(25,"ion-item",6)(26,"ion-checkbox",12),st(27,"ion-icon",13),Pe(28,"System"),Y()()()()),2&n&&(fe(3),Po("Edit ",r.subjectName.toLowerCase()),fe(2),_e("disabled",r.formGroup.invalid),fe(6),_e("formGroup",r.formGroup),fe(2),_e("label",hC("",r.subjectName," name"))("placeholder",hC("Enter ",r.subjectName.toLowerCase()," name")))},dependencies:[Ds,Is,I2,xs,Ts,fo,jc,Yi,Ms,As,rp,Uc,Gc,$c,Bc,Xa,ac],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}))}p$(),se([ar()],cp.prototype,"onSaveClick",null),se([ar()],cp.prototype,"onEnter",null);let Rse=(()=>{var e;class t{constructor(r,i){this.el=r,this.zone=i;const o=r.nativeElement.querySelector("input");o?o.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const r=this.el.nativeElement.querySelector("input");r&&(setTimeout(()=>r.focus(),100),this.observer?.disconnect())}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(y(ct),y(qe))},this.\u0275dir=Yt({type:t,selectors:[["","appAutofocus",""]],standalone:!1}))}return e(),t})(),Nse=(()=>{var e;class t{constructor(r,i){this.vfsService=r,this.modalController=i,this.validateNameUnique=o=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===o.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=o=>this.vfsService.isFilenameValid(o.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new wu({name:new ea("",{nonNullable:!0,validators:[im.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(y(kd),y(ta))},this.\u0275cmp=Je({type:t,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},standalone:!1,decls:14,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"click","disabled"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Directory name","labelPlacement","stacked","placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(i,o){1&i&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Pe(3,"Create directory"),Y(),V(4,"ion-buttons",0)(5,"ion-button",1),je("click",function(){return o.onCreateClick()}),Pe(6,"Create"),Y()(),V(7,"ion-buttons",2)(8,"ion-button",3),je("click",function(){return o.onCancelClick()}),Pe(9,"Cancel"),Y()()()(),V(10,"ion-content",4)(11,"form",5),je("keydown.enter",function(){return o.onEnter()}),V(12,"ion-item",6),st(13,"ion-input",7),Y()()()),2&i&&(fe(5),_e("disabled",o.formGroup.invalid),fe(6),_e("formGroup",o.formGroup))},dependencies:[Ds,Is,xs,Ts,jc,Yi,Ms,As,Uc,Gc,$c,Bc,Xa,ac,Rse],encapsulation:2}))}return e(),t})(),Fse=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275cmp=Je({type:t,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},standalone:!1,decls:16,vars:5,consts:[["lines","full","button","",3,"click","detail"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","trash-outline","slot","end"]],template:function(i,o){1&i&&(V(0,"ion-list")(1,"ion-item",0),je("click",function(){return o.onEdit()}),st(2,"ion-icon",1),Pe(3," Edit "),Y(),V(4,"ion-item",0),je("click",function(){return o.onSave()}),st(5,"ion-icon",2),Pe(6," Save "),Y(),V(7,"ion-item",0),je("click",function(){return o.onCopy()}),st(8,"ion-icon",3),Pe(9," Copy "),Y(),V(10,"ion-item",0),je("click",function(){return o.onCut()}),st(11,"ion-icon",4),Pe(12," Cut "),Y(),V(13,"ion-item",5),je("click",function(){return o.onDelete()}),st(14,"ion-icon",6),Pe(15," Delete "),Y()()),2&i&&(fe(),_e("detail",!1),fe(3),_e("detail",!1),fe(3),_e("detail",!1),fe(3),_e("detail",!1),fe(3),_e("detail",!1))},dependencies:[fo,Yi,wa],encapsulation:2}))}return e(),t})(),h$=(()=>{var e;class t{transform(r){return void 0===r?"":r<1024?`${r} bytes`:r<1048576?`${(r/1024).toFixed(1)} kB`:`${(r/1024/1024).toFixed(1)} MB`}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275pipe=Fo({name:"fileSize",type:t,pure:!0,standalone:!1}))}return e(),t})();const Pse=["slidingItem"];function Ose(e,t){1&e&&st(0,"ion-icon",24)}function Lse(e,t){1&e&&st(0,"ion-icon",25)}function $se(e,t){1&e&&st(0,"ion-icon",26)}function Bse(e,t){1&e&&st(0,"ion-icon",27)}function Gse(e,t){1&e&&st(0,"ion-icon",28)}function Use(e,t){1&e&&st(0,"ion-icon",29)}function jse(e,t){1&e&&st(0,"ion-icon",30)}function zse(e,t){1&e&&st(0,"ion-icon",31)}function Vse(e,t){1&e&&st(0,"ion-icon",32)}function Hse(e,t){if(1&e&&(du(0),Pe(1),fu(2,"fileSize"),xc()),2&e){const n=ft();fe(),Po(" - ",pu(2,1,null==n.entry?null:n.entry.size)," ")}}let Wse=(()=>{var e;class t{constructor(r,i,o){this.actionSheetController=r,this.popoverController=i,this.vfsService=o,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new En,this.selectEntry=new En,this.editEntry=new En,this.copyEntry=new En,this.cutEntry=new En,this.deleteEntry=new En,this.saveEntry=new En,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(r){r.selecting&&r.selecting.currentValue&&!r.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(r){var i=this;return(0,T.A)(function*(){i.selecting||(r.stopPropagation(),r.preventDefault(),i.interaction.emit(),(yield i.popoverController.create({component:Fse,event:r,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>i.editEntry.emit(i.entry),onSave:()=>i.saveEntry.emit(i.entry),onCopy:()=>i.copyEntry.emit(i.entry),onCut:()=>i.cutEntry.emit(i.entry),onDelete:()=>i.deleteEntry.emit(i.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var r=this;return(0,T.A)(function*(){const i=r.entry?.isDirectory?"directory":"file";(yield r.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${i}`,handler:()=>r.copyEntry.emit(r.entry)},{text:`Cut ${i}`,handler:()=>r.cutEntry.emit(r.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let r=0;return this.entry?.attributes.readonly&&(r+=1.7),this.entry?.attributes.hidden&&(r+=1.7),this.entry?.attributes.system&&(r+=1.7),(this.markedForCopy||this.markedForCut)&&(r+=1.7),0===r?"0":(r+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,r+"em")}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(y(Sm),y(zc),y(kd))},this.\u0275cmp=Je({type:t,selectors:[["app-file-entry"]],viewQuery:function(i,o){if(1&i&&Tc(Pse,5),2&i){let s;Ss(s=Cs())&&(o.slidingItem=s.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},standalone:!1,features:[vs],decls:29,vars:23,consts:[["slidingItem",""],[3,"contextmenu","ionDrag","disabled"],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"click","color","detail"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(i,o){if(1&i){const s=Fn();V(0,"ion-item-sliding",1,0),je("contextmenu",function(l){return vt(s),yt(o.onContextmenu(l))})("ionDrag",function(){return vt(s),yt(o.interaction.emit(o.entry))}),V(2,"ion-item-options",2)(3,"ion-item-option",3),je("click",function(){return vt(s),ba(1).close(),yt(o.editEntry.emit(o.entry))}),st(4,"ion-icon",4),Y(),V(5,"ion-item-option",5),je("click",function(){return vt(s),ba(1).close(),yt(o.saveEntry.emit(o.entry))}),st(6,"ion-icon",6),Y()(),V(7,"ion-item-options",7)(8,"ion-item-option",8),je("click",function(){return vt(s),ba(1).close(),yt(o.cutOrCopyEntry())}),st(9,"ion-icon",9),Y(),V(10,"ion-item-option",10),je("click",function(){return vt(s),ba(1).close(),yt(o.deleteEntry.emit(o.entry))}),st(11,"ion-icon",11),Y()(),V(12,"ion-item",12),je("click",function(){return vt(s),o.selectEntry.emit(),yt(o.interaction.emit())}),pn(13,Ose,1,0,"ion-icon",13)(14,Lse,1,0,"ion-icon",14),V(15,"div",15),pn(16,$se,1,0,"ion-icon",16)(17,Bse,1,0,"ion-icon",17)(18,Gse,1,0,"ion-icon",18)(19,Use,1,0,"ion-icon",19)(20,jse,1,0,"ion-icon",20),Y(),pn(21,zse,1,0,"ion-icon",21)(22,Vse,1,0,"ion-icon",22),V(23,"ion-label")(24,"h2"),Pe(25),Y(),V(26,"p"),Pe(27),pn(28,Hse,3,3,"ng-container",23),Y()()()()}2&i&&(_e("disabled",o.selecting),fe(12),sd("opacity",o.touched?1:.99999),Sa("is-directory",null==o.entry?null:o.entry.isDirectory),_e("color",o.color)("detail",(null==o.entry?null:o.entry.isDirectory)&&!o.selecting),fe(),_e("ngIf",null==o.entry?null:o.entry.isDirectory),fe(),_e("ngIf",!(null!=o.entry&&o.entry.isDirectory)),fe(2),_e("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.readonly),fe(),_e("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.hidden),fe(),_e("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.system),fe(),_e("ngIf",o.markedForCopy),fe(),_e("ngIf",o.markedForCut),fe(),_e("ngIf",o.selecting&&!o.selected),fe(),_e("ngIf",o.selecting&&o.selected),fe(),sd("padding-right",o.safetyMargin),Sa("selecting",o.selecting),fe(2),Ks(null==o.entry?null:o.entry.name),fe(2),Po(" ",null==o.entry?null:o.entry.lastModifiedLocalDate," "),fe(),_e("ngIf",!(null!=o.entry&&o.entry.isDirectory)))},dependencies:[Zi,fo,Yi,uy,dy,fy,Sd,h$],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7em)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 8em)}.ios[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 6.5em)}.ios[_ngcontent-%COMP%]   ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7.5em)}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}))}return e(),t})();var m$;function qse(e,t){if(1&e){const n=Fn();V(0,"ion-toolbar")(1,"ion-title")(2,"app-breadcrumb",7),je("trigger",function(i){return vt(n),yt(ft().openBreadcrumbMenu(i))}),Pe(3),Y()(),V(4,"ion-buttons",8),st(5,"ion-back-button"),Y(),V(6,"ion-buttons",9)(7,"ion-button",10),je("click",function(i){return vt(n),yt(ft().openContextMenu(i,"trigger"))}),st(8,"ion-icon",11),Y()()()}if(2&e){const n=ft();fe(3),Ks(n.title)}}function Zse(e,t){if(1&e){const n=Fn();V(0,"ion-buttons",13)(1,"ion-button",10),je("click",function(){return vt(n),yt(ft(2).onSelectAll())}),Pe(2,"Select all"),Y()()}}function Yse(e,t){if(1&e){const n=Fn();V(0,"ion-buttons",13)(1,"ion-button",10),je("click",function(){return vt(n),yt(ft(2).selection.clear())}),Pe(2,"Clear"),Y()()}}function Kse(e,t){if(1&e){const n=Fn();V(0,"ion-toolbar")(1,"ion-title"),Pe(2,"Selection"),Y(),V(3,"ion-buttons",9)(4,"ion-button",10),je("click",function(){return vt(n),yt(ft().onSelectionDone())}),Pe(5),Y()(),pn(6,Zse,3,0,"ion-buttons",12)(7,Yse,3,0,"ion-buttons",12),Y()}if(2&e){const n=ft();fe(5),Ks(0===n.selection.size?"Cancel":"Done"),fe(),_e("ngIf",n.selection.size!==(null==n.entries?null:n.entries.length)),fe(),_e("ngIf",n.selection.size===(null==n.entries?null:n.entries.length))}}function Xse(e,t){if(1&e&&(V(0,"div",14)(1,"div",15),Pe(2),Y()()),2&e){const n=ft();fe(2),Po("empty ",n.isRoot?"card":"directory")}}function Qse(e,t){if(1&e){const n=Fn();V(0,"app-file-entry",16),je("selectEntry",function(){const i=vt(n).$implicit;return yt(ft().onSelect(i))})("editEntry",function(){const i=vt(n).$implicit;return yt(ft().onEditEntry(i))})("saveEntry",function(){const i=vt(n).$implicit;return yt(ft().onSaveEntry(i))})("copyEntry",function(){const i=vt(n).$implicit;return yt(ft().onCopyEntry(i))})("cutEntry",function(){const i=vt(n).$implicit;return yt(ft().onCutEntry(i))})("deleteEntry",function(){const i=vt(n).$implicit;return yt(ft().onDeleteEntry(i))})("interaction",function(){const i=vt(n).$implicit;return yt(ft().lastEntryTouched=i.name)}),Y()}if(2&e){const n=t.$implicit,r=ft();_e("entry",n)("selecting","select"===r.mode)("selected",r.selection.has(n.name))("touched",n.name===r.lastEntryTouched)}}function Jse(e,t){if(1&e&&(V(0,"p"),Pe(1),fu(2,"fileSize"),fu(3,"fileSize"),Y()),2&e){const n=ft(2);fe(),Ih("",pu(2,2,n.bytesFree())," free, ",pu(3,4,n.bytesTotal)," total")}}function eae(e,t){if(1&e&&(V(0,"p"),Pe(1),fu(2,"fileSize"),Y()),2&e){const n=ft(2);fe(),pC(" ",pu(2,3,n.bytesInFiles)," in ",n.fileCount," ",1===n.fileCount?"file":"files"," ")}}function tae(e,t){if(1&e&&(V(0,"ion-item",17)(1,"ion-label",18),pn(2,Jse,4,6,"p",1)(3,eae,3,5,"p",1),Y()()),2&e){const n=ft();fe(2),_e("ngIf",n.isRoot),fe(),_e("ngIf",n.fileCount>0)}}const nae=[];function rae(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}class Ia{constructor(t,n,r,i,o,s,a,l,u){this.vfsService=t,this.popoverController=n,this.config=r,this.alertService=i,this.actionSheetController=o,this.modalController=s,this.fileService=a,this.loaderService=l,this.cd=u,this.memoizedEntries=Rm(f=>[...f].sort(rae)),this.bytesInFilesMemoized=Rm(f=>f?.reduce((m,g)=>m+(g.isDirectory?0:g.size),0)??0),this.fileCountMemoized=Rm(f=>f?.filter(m=>!m.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.subscriptions=[],t.change.subscribe(function Ese(e,t,n){return()=>{const r=n();r!==t&&(e.markForCheck(),t=r)}}(u,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0))}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}handleDragDropEvent(t){this.fileService.openFromDrop(t,n=>this.vfsService.addFiles(n,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.bytesFree}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?this.memoizedEntries(this.vfsService.readdir(this.path)):nae}trackEntryBy(t,n){return n.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var n=this;return(0,T.A)(function*(){yield(yield n.modalController.create({component:cp,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var n=this;return(0,T.A)(function*(){n.path&&(t.isDirectory?yield n.vfsService.archiveFiles([t],n.path):yield n.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var n=this;return(0,T.A)(function*(){t.isDirectory?yield n.vfsService.deleteRecursive([t]):yield n.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,T.A)(function*(){yield(yield t.modalController.create({component:Nse,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:r=>t.vfsService.mkdir(`${t.path}/${r}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,T.A)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,T.A)(function*(){yield(yield t.modalController.create({component:Ed,componentProps:{url:wse}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,T.A)(function*(){if(!t.entries)return;const n=Array.from(t.selection),r=new Map(t.entries.map(a=>[a.name,a])),i=n.every(a=>!r.get(a)?.isDirectory),o=n.every(a=>r.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(i&&(s=1===t.selection.size?"file":`${t.selection.size} files`),o&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,T.A)(function*(){const n=t.materializeSelection();!n||!t.path||(yield t.vfsService.archiveFiles(n,t.path))})()}onDeleteSelection(){var t=this;return(0,T.A)(function*(){const n=t.materializeSelection();!n||!t.path||(yield t.vfsService.deleteRecursive(n))})()}openBreadcrumbMenu(t){var n=this;return(0,T.A)(function*(){if(!n.card||!n.path)return;const r=[..."/"===n.path?[]:[...n.vfsService.splitPath(n.path).reverse().slice(1),n.card.name],"Memory cards"];(yield n.popoverController.create({component:Ase,componentProps:{entries:r,onSelect:o=>n.onNavigateBreadcrumb(r.length-1-o)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===n.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}openContextMenu(t,n){var r=this;return(0,T.A)(function*(){(yield r.popoverController.create({component:kse,componentProps:{emptyDirectory:0===r.entries?.length,onStartSelection:r.onStartSelection.bind(r),onAddFiles:r.onAddFiles.bind(r),onCreateDirectry:r.onCreateDirectory.bind(r),onExtractZipfile:r.onExtractZipfile.bind(r),onPaste:r.onPaste.bind(r),onHelp:r.onHelp.bind(r)},event:t,dismissOnSelect:!0,arrow:!1,reference:n})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}ionViewDidLeave(){this.mode="browse",this.cd.markForCheck()}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(n=>[n.name,n]));return Array.from(this.selection).map(n=>t.get(n)).filter(n=>!!n)}extractZipArchive(t){var n=this;return(0,T.A)(function*(){if(!/\.zip$/.test(t.name))return void(yield n.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported"));let r;try{r=yield t.getContent()}catch(i){throw console.warn(i),new Error(`Unable to open ${t.name}.`)}n.vfsService.unpackArchive(r,n.path||"/")})()}static#e=m$=()=>(this.\u0275fac=function(n){return new(n||Ia)(y(kd),y(zc),y(dm),y(Zr),y(Sm),y(ta),y(uc),y(Rs),y(St))},this.\u0275cmp=Je({type:Ia,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},standalone:!1,decls:9,vars:8,consts:[[3,"translucent"],[4,"ngIf"],[3,"contextmenu","fullscreen"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[3,"trigger"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction","entry","selecting","selected","touched"],["lines","none",1,"metadata"],[1,"directory-stats"]],template:function(n,r){1&n&&(V(0,"ion-header",0),pn(1,qse,9,1,"ion-toolbar",1)(2,Kse,8,3,"ion-toolbar",1),Y(),V(3,"ion-content",2),je("contextmenu",function(o){return r.onContextMenu(o)}),V(4,"div",3),pn(5,Xse,3,1,"div",4),V(6,"ion-list"),pn(7,Qse,1,4,"app-file-entry",5)(8,tae,4,2,"ion-item",6),Y()()()),2&n&&(_e("translucent",!0),fe(),_e("ngIf","browse"===r.mode),fe(),_e("ngIf","select"===r.mode),fe(),_e("fullscreen",!0),fe(2),_e("ngIf",0===(null==r.entries?null:r.entries.length)),fe(2),_e("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),fe(),_e("ngIf",r.isRoot||r.fileCount>0))},dependencies:[kc,Zi,Ds,Is,xs,Ts,fo,Yi,Sd,wa,Ms,As,A2,l$,Wse,h$],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{cursor:default;text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}.directory-stats[_ngcontent-%COMP%]{cursor:default}"],changeDetection:0}))}m$(),se([ar()],Ia.prototype,"onSaveEntry",null),se([ar()],Ia.prototype,"onDeleteEntry",null),se([ar()],Ia.prototype,"onCreateDirectory",null),se([ar()],Ia.prototype,"onPaste",null),se([ar()],Ia.prototype,"onHelp",null),se([ar()],Ia.prototype,"onSelectionDone",null),se([ar()],Ia.prototype,"onSaveZip",null),se([ar()],Ia.prototype,"onDeleteSelection",null);const iae=["nav"],oae=[{path:"tab",component:jE,children:[{path:"emulation",component:Da},{path:"sessions",component:zoe},{path:"storage",component:(()=>{var e;class t{constructor(r,i){this.vfsService=r,this.dragDropService=i,this.navRootProps={onMountForBrowse:o=>this.browseCard(o),selfReference:{}},this.onNavigate=o=>{this.currentlyBrowsingCard&&this.nav?.push(Ia,{card:this.currentlyBrowsingCard,path:o,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=o=>{this.currentlyBrowsingCard&&this.nav?.popTo(o,{animated:this.animateNav})},this.navRoot=Ja,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidLeave(){var r=this;return(0,T.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave()})()}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(r){var i=this;return(0,T.A)(function*(){yield(yield i.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent(r)})()}get animateNav(){return!d7}browseCard(r){this.currentlyBrowsingCard=r,this.nav?.push(Ia,{card:r,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(r){r!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(y(kd),y(zE))},this.\u0275cmp=Je({type:t,selectors:[["app-storage"]],viewQuery:function(i,o){if(1&i&&Tc(iae,5),2&i){let s;Ss(s=Cs())&&(o.nav=s.first)}},standalone:!1,decls:2,vars:3,consts:[["nav",""],[3,"animated","root","rootParams"]],template:function(i,o){1&i&&st(0,"ion-nav",1,0),2&i&&_e("animated",o.animateNav)("root",o.navRoot)("rootParams",o.navRootProps)},dependencies:[Pw],encapsulation:2}))}return e(),t})()},{path:"settings",component:Joe},{path:"about",component:km},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let sae=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275mod=lo({type:t}),this.\u0275inj=jr({imports:[zv.forChild(oae),zv]}))}return e(),t})(),aae=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275mod=lo({type:t}),this.\u0275inj=jr({imports:[Eu,Rc,bd,sae,Xte,Qte,Jte,ene,Kte]}))}return e(),t})(),lae=(()=>{var e;class t extends _N{pushState(r,i,o,s){this.replaceState(r,i,o,s)}static#e=e=()=>(this.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ci(t)))(o||t)}})(),this.\u0275prov=et({token:t,factory:t.\u0275fac}))}return e(),t})();const cae=[{path:"install",component:nL,canActivate:[rL]},{path:"import",component:nL,canActivate:[rL]},{path:"",component:jE}];let uae=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)},this.\u0275mod=lo({type:t}),this.\u0275inj=jr({providers:[{provide:xr,useClass:lae}],imports:[zv.forRoot(cae,{preloadingStrategy:dK,useHash:!0}),aae,zv]}))}return e(),t})(),_$=(()=>{var e;class t{constructor(r,i,o,s,a){var l=this;this.kvsService=r,this.emulationService=i,this.alertService=o,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,T.A)(function*(){const u=l.kvsService.kvs.version;void 0!==u?u!==Dd&&(yield l.emulationService.bootstrapComplete(),yield l.alertService.message("Update complete",`CloudpilotEmu was updated to version ${Dd}.`,{Changes:()=>l.showChangelog()}),yield l.kvsService.set({version:Dd,previousVersion:u,latestVersion:Dd})):l.kvsService.kvs.version=Dd})),this.mutex=new na,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var r=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,T.A)(function*(){yield r.emulationService.bootstrapComplete(),r.alertService.updateAvailable(()=>r.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var r=this;return(0,T.A)(function*(){if(yield r.kvsService.initialize(),r.kvsService.kvs.previousVersion===Dd){const i=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),i&&(yield i.unregister())&&(yield r.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var r=this;return(0,T.A)(function*(){yield(yield r.modalController.create({component:Ed,componentProps:{url:iL,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var r=this;setTimeout((0,T.A)(function*(){yield r.serviceWorkerService.update(),r.scheduleUpdateCheck()}),9e5)}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(rs),de(Rl),de(Zr),de(ta),de(Cy))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),fae=(()=>{var e;class t{constructor(r,i,o,s,a,l){this.kvsService=r,this.alertService=i,this.emulationService=o,this.pwaService=s,this.nativeAppService=a,this.serviceWorkerService=l}start(){var r=this;return(0,T.A)(function*(){yield r.handleiOSNativeAppServiceWorkerBug();const i=r.kvsService.kvs.infoId??0;r.kvsService.kvs.infoId=yield r.showInfo(i),"pwa"===r.pwaService.getInstallationMode()&&Bi&&!rc&&(r.kvsService.kvs.ios174UpdateWarningId=yield r.showIOS174UpdateWarning(r.kvsService.kvs.ios174UpdateWarningId))})()}handleiOSNativeAppServiceWorkerBug(){var r=this;return(0,T.A)(function*(){if(!r.serviceWorkerService.isEnabled()||!(yield r.nativeAppService.getWorkerFailed()))return;let o=!1;yield r.alertService.message("App failed to load offline",'\n            It seems the app failed to load without internet. This is caused by an iOS bug.\n            <br><br>\n            You can fix by resetting the service worker now or by tapping\n            "reset worker" at the bottom of the "About" tab later.\n            ',{"Fix now":()=>o=!0},"Close"),o?yield r.serviceWorkerService.reset():r.nativeAppService.clearWorkerFailed()})()}showInfo(r){var i=this;return(0,T.A)(function*(){return 2===r&&Bi&&(yield i.emulationService.bootstrapComplete(),yield i.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}showIOS174UpdateWarning(r){var i=this;return(0,T.A)(function*(){return(r??0)>0&&(yield i.emulationService.bootstrapComplete(),yield i.alertService.message("Update to iOS 17.4","\n                    Apple has backpedaled and will not disable homescreen apps in the European\n                    Union. The update to 17.4 is expected to be safe, and CloudpilotEmu will\n                    continue to work as before.\n                ")),0})()}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(rs),de(Zr),de(Rl),de(Iy),de(Ea),de(Cy))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),pae=(()=>{var e;class t{constructor(r,i,o,s){this.pwaService=r,this.updateService=i,this.bootstrapService=o,this.infoService=s}ngAfterViewInit(){var r=this;return(0,T.A)(function*(){r.bootstrapService.notifyHasRendered(),yield r.infoService.start(),r.pwaService.invite(),r.updateService.start()})()}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(y(Iy),y(_$),y(KL),y(fae))},this.\u0275cmp=Je({type:t,selectors:[["app-root"]],standalone:!1,decls:2,vars:0,template:function(i,o){1&i&&(V(0,"ion-app"),st(1,"ion-router-outlet"),Y())},dependencies:[D2,bm],encapsulation:2}))}return e(),t})();const g$=["touchstart","click","keydown"];let hae=(()=>{var e;class t{constructor(r,i){this.kvsService=r,this.audioService=i,this.initialize()}initialize(){var r=this;return(0,T.A)(function*(){if(yield r.kvsService.initialize(),!r.kvsService.kvs.enableAudioOnFirstInteraction)return;Bi&&rc&&r.audioService.initialize();const i=()=>{g$.forEach(o=>window.removeEventListener(o,i,!0)),r.audioService.initialize()};g$.forEach(o=>window.addEventListener(o,i,!0))})()}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(rs),de(Oy))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const mae=()=>{const e=new Du;return e.link=function({href:t,tokens:n}){return`<a href="${t}" target="_blank" rel="external">${this.parser.parseInline(n)||t}</a>`},{renderer:e,gfm:!0,breaks:!1,pedantic:!1}};let _ae=(()=>{var e;class t{constructor(r,i,o,s,a,l,u,f){}static#e=e=()=>(this.\u0275fac=function(i){return new(i||t)(de(lr),de(Rl),de(Oy),de(Au),de(rs),de(_$),de(hae),de(Cy))},this.\u0275mod=lo({type:t,bootstrap:[pae]}),this.\u0275inj=jr({providers:[{provide:HP,useClass:FQ},{provide:Nm,useClass:mie},{provide:Ty,useFactory:()=>{const r=Bt.create(fee);return window.__cp_enableLogging=i=>r.then(o=>o.enableLogging(i)),r}},{provide:FL,useFactory:()=>XP(dee)},US(()=>{return(i=Ge(rs)).initialize.bind(i)();var i}),Pq(cd(bu.LegacyInterceptors,[{provide:HF,useFactory:Eq},{provide:Vh,useExisting:HF,multi:!0}]))],imports:[i7,Eu.forRoot({innerHTMLTemplatesEnabled:!0}),uae,tE.forRoot({loader:b0,markedOptions:{provide:eL,useFactory:mae},markedExtensions:[{provide:J2,useFactory:Pee,multi:!0}]})]}))}return e(),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function h7(){Lf()&&JN()}(),function b7(){mv=sF("#/install?"),_v=sF("#/import?")}(),function _7(){return!!s0(hv)}()&&!aF()||function S7(){return void 0!==mv}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),Bi&&(CSS.supports("height","100dvh")?document.body.style.height="100dvh":window.addEventListener("orientationchange",()=>[100,300,500].forEach(e=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},e))),iF()),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),r7().bootstrapModule(_ae).then(e=>true).catch(e=>console.log(e))},814:J=>{"use strict";J.exports=Function.prototype.apply},840:(J,De,b)=>{"use strict";var E=b(2521),P=b(2282),z=P([E("%String.prototype.indexOf%")]);J.exports=function($,c){var G=E($,!!c);return"function"==typeof G&&z($,".prototype.")>-1?P([G]):G}},863:(J,De,b)=>{"use strict";var E=b(3687),P=b(8519),z=function(I,U,B){for(var j,K=I;null!=(j=K.next);K=j)if(j.key===U)return K.next=j.next,B||(j.next=I.next,I.next=j),j};J.exports=function(){var U,B={assert:function(K){if(!B.has(K))throw new P("Side channel does not contain "+E(K))},delete:function(K){var j=U&&U.next,M=function(I,U){if(I)return z(I,U,!0)}(U,K);return M&&j&&j===M&&(U=void 0),!!M},get:function(K){return function(I,U){if(I){var B=z(I,U);return B&&B.value}}(U,K)},has:function(K){return function(I,U){return!!I&&!!z(I,U)}(U,K)},set:function(K,j){U||(U={next:void 0}),function(I,U,B){var K=z(I,U);K?K.value=B:I.next={key:U,next:I.next,value:B}}(U,K,j)}};return B}},1051:function(J,De){var b,P;void 0!==(P="function"==typeof(b=function(){"use strict";var z=Object.prototype.hasOwnProperty,q=Object.prototype.toString,$="boolean"==typeof(new RegExp).sticky;function c(W){return W&&"[object RegExp]"===q.call(W)}function G(W){return W&&"object"==typeof W&&!c(W)&&!Array.isArray(W)}function U(W){return new RegExp("|"+W).exec("").length-1}function B(W){return"("+W+")"}function K(W){return W.length?"(?:"+W.map(function(O){return"(?:"+O+")"}).join("|")+")":"(?!)"}function j(W){if("string"==typeof W)return"(?:"+function I(W){return W.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(W)+")";if(c(W)){if(W.ignoreCase)throw new Error("RegExp /i flag not allowed");if(W.global)throw new Error("RegExp /g flag is implied");if(W.sticky)throw new Error("RegExp /y flag is implied");if(W.multiline)throw new Error("RegExp /m flag is implied");return W.source}throw new Error("Not a pattern: "+W)}function M(W,ee){return W.length>ee?W:Array(ee-W.length+1).join(" ")+W}function ve(W,ee){if(G(ee)||(ee={match:ee}),ee.include)throw new Error("Matching rules cannot also include states");var O={defaultType:W,lineBreaks:!!ee.error||!!ee.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var Te in ee)z.call(ee,Te)&&(O[Te]=ee[Te]);if("string"==typeof O.type&&W!==O.type)throw new Error("Type transform cannot be a string (type '"+O.type+"' for token '"+W+"')");var be=O.match;return O.match=Array.isArray(be)?be:be?[be]:[],O.match.sort(function(ce,ye){return c(ce)&&c(ye)?0:c(ye)?-1:c(ce)?1:ye.length-ce.length}),O}function re(W){return Array.isArray(W)?function pe(W){for(var ee=[],O=0;O<W.length;O++){var Te=W[O];if(Te.include)for(var be=[].concat(Te.include),ce=0;ce<be.length;ce++)ee.push({include:be[ce]});else{if(!Te.type)throw new Error("Rule has no type: "+JSON.stringify(Te));ee.push(ve(Te.type,Te))}}return ee}(W):function ue(W){for(var ee=Object.getOwnPropertyNames(W),O=[],Te=0;Te<ee.length;Te++){var be=ee[Te],ye=[].concat(W[be]);if("include"!==be){var Be=[];ye.forEach(function(Ce){G(Ce)?(Be.length&&O.push(ve(be,Be)),O.push(ve(be,Ce)),Be=[]):Be.push(Ce)}),Be.length&&O.push(ve(be,Be))}else for(var Ne=0;Ne<ye.length;Ne++)O.push({include:ye[Ne]})}return O}(W)}var L=ve("error",{lineBreaks:!0,shouldThrow:!0});function oe(W,ee){for(var O=null,Te=Object.create(null),be=!0,ce=null,ye=[],Ne=[],Be=0;Be<W.length;Be++)W[Be].fallback&&(be=!1);for(Be=0;Be<W.length;Be++){var Ce=W[Be];if(Ce.include)throw new Error("Inheritance is not allowed in stateless lexers");if(Ce.error||Ce.fallback){if(O)throw!Ce.fallback==!O.fallback?new Error("Multiple "+(Ce.fallback?"fallback":"error")+" rules not allowed (for token '"+Ce.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+Ce.defaultType+"')");O=Ce}var Ye=Ce.match.slice();if(be)for(;Ye.length&&"string"==typeof Ye[0]&&1===Ye[0].length;)Te[Ye.shift().charCodeAt(0)]=Ce;if(Ce.pop||Ce.push||Ce.next){if(!ee)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+Ce.defaultType+"')");if(Ce.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+Ce.defaultType+"')")}if(0!==Ye.length){be=!1,ye.push(Ce);for(var ke=0;ke<Ye.length;ke++){var He=Ye[ke];if(c(He))if(null===ce)ce=He.unicode;else if(ce!==He.unicode&&!1===Ce.fallback)throw new Error("If one rule is /u then all must be")}var Ct=K(Ye.map(j)),Tt=new RegExp(Ct);if(Tt.test(""))throw new Error("RegExp matches empty string: "+Tt);if(U(Ct)>0)throw new Error("RegExp has capture groups: "+Tt+"\nUse (?: \u2026 ) instead");if(!Ce.lineBreaks&&Tt.test("\n"))throw new Error("Rule should declare lineBreaks: "+Tt);Ne.push(B(Ct))}}var ut=O&&O.fallback,At=$&&!ut?"ym":"gm",lt=$||ut?"":"|";return!0===ce&&(At+="u"),{regexp:new RegExp(K(Ne)+lt,At),groups:ye,fast:Te,error:O||L}}function Oe(W,ee,O){var Te=W&&(W.push||W.next);if(Te&&!O[Te])throw new Error("Missing state '"+Te+"' (in token '"+W.defaultType+"' of state '"+ee+"')");if(W&&W.pop&&1!=+W.pop)throw new Error("pop must be 1 (in token '"+W.defaultType+"' of state '"+ee+"')")}var Ae=function(W,ee){this.startState=ee,this.states=W,this.buffer="",this.stack=[],this.reset()};Ae.prototype.reset=function(W,ee){return this.buffer=W||"",this.index=0,this.line=ee?ee.line:1,this.col=ee?ee.col:1,this.queuedToken=ee?ee.queuedToken:null,this.queuedText=ee?ee.queuedText:"",this.queuedThrow=ee?ee.queuedThrow:null,this.setState(ee?ee.state:this.startState),this.stack=ee&&ee.stack?ee.stack.slice():[],this},Ae.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},Ae.prototype.setState=function(W){if(W&&this.state!==W){this.state=W;var ee=this.states[W];this.groups=ee.groups,this.error=ee.error,this.re=ee.regexp,this.fast=ee.fast}},Ae.prototype.popState=function(){this.setState(this.stack.pop())},Ae.prototype.pushState=function(W){this.stack.push(this.state),this.setState(W)};var Se=$?function(W,ee){return W.exec(ee)}:function(W,ee){var O=W.exec(ee);return 0===O[0].length?null:O};function ge(){return this.value}if(Ae.prototype._getGroup=function(W){for(var ee=this.groups.length,O=0;O<ee;O++)if(void 0!==W[O+1])return this.groups[O];throw new Error("Cannot find token type for matched text")},Ae.prototype.next=function(){var W=this.index;if(this.queuedGroup){var ee=this._token(this.queuedGroup,this.queuedText,W);return this.queuedGroup=null,this.queuedText="",ee}var O=this.buffer;if(W!==O.length){if(ye=this.fast[O.charCodeAt(W)])return this._token(ye,O.charAt(W),W);var Te=this.re;Te.lastIndex=W;var be=Se(Te,O),ce=this.error;if(null==be)return this._token(ce,O.slice(W,O.length),W);var ye=this._getGroup(be),Ne=be[0];return ce.fallback&&be.index!==W?(this.queuedGroup=ye,this.queuedText=Ne,this._token(ce,O.slice(W,be.index),W)):this._token(ye,Ne,W)}},Ae.prototype._token=function(W,ee,O){var Te=0;if(W.lineBreaks){var be=/\n/g,ce=1;if("\n"===ee)Te=1;else for(;be.exec(ee);)Te++,ce=be.lastIndex}var ye={type:"function"==typeof W.type&&W.type(ee)||W.defaultType,value:"function"==typeof W.value?W.value(ee):ee,text:ee,toString:ge,offset:O,lineBreaks:Te,line:this.line,col:this.col},Ne=ee.length;if(this.index+=Ne,this.line+=Te,0!==Te?this.col=Ne-ce+1:this.col+=Ne,W.shouldThrow)throw new Error(this.formatError(ye,"invalid syntax"));return W.pop?this.popState():W.push?this.pushState(W.push):W.next&&this.setState(W.next),ye},typeof Symbol<"u"&&Symbol.iterator){var we=function(W){this.lexer=W};we.prototype.next=function(){var W=this.lexer.next();return{value:W,done:!W}},we.prototype[Symbol.iterator]=function(){return this},Ae.prototype[Symbol.iterator]=function(){return new we(this)}}return Ae.prototype.formatError=function(W,ee){if(null==W){var O=this.buffer.slice(this.index);W={text:O,offset:this.index,lineBreaks:-1===O.indexOf("\n")?0:1,line:this.line,col:this.col}}var be=Math.max(W.line-2,1),ye=String(W.line+2).length,Ne=function A(W,ee){for(var O=W.length,Te=0;;){var be=W.lastIndexOf("\n",O-1);if(-1===be||(O=be,++Te===ee)||0===O)break}return W.substring(Te<ee?0:O+1).split("\n")}(this.buffer,this.line-W.line+2+1).slice(0,5),Be=[];Be.push(ee+" at line "+W.line+" col "+W.col+":"),Be.push("");for(var Ce=0;Ce<Ne.length;Ce++){var Ye=Ne[Ce],C=be+Ce;Be.push(M(String(C),ye)+"  "+Ye),C===W.line&&Be.push(M("",ye+W.col+1)+"^")}return Be.join("\n")},Ae.prototype.clone=function(){return new Ae(this.states,this.state)},Ae.prototype.has=function(W){return!0},{compile:function xe(W){var ee=oe(re(W));return new Ae({start:ee},"start")},states:function tt(W,ee){var O=W.$all?re(W.$all):[];delete W.$all;var Te=Object.getOwnPropertyNames(W);ee||(ee=Te[0]);for(var be=Object.create(null),ce=0;ce<Te.length;ce++)be[ye=Te[ce]]=re(W[ye]).concat(O);for(ce=0;ce<Te.length;ce++)for(var Ne=be[ye=Te[ce]],Be=Object.create(null),Ce=0;Ce<Ne.length;Ce++){var Ye=Ne[Ce];if(Ye.include){var C=[Ce,1];if(Ye.include!==ye&&!Be[Ye.include]){Be[Ye.include]=!0;var ke=be[Ye.include];if(!ke)throw new Error("Cannot include nonexistent state '"+Ye.include+"' (in state '"+ye+"')");for(var He=0;He<ke.length;He++){var Ct=ke[He];-1===Ne.indexOf(Ct)&&C.push(Ct)}}Ne.splice.apply(Ne,C),Ce--}}var Tt=Object.create(null);for(ce=0;ce<Te.length;ce++){var ye;Tt[ye=Te[ce]]=oe(be[ye],!0)}for(ce=0;ce<Te.length;ce++){var Nt=Te[ce],ut=Tt[Nt],At=ut.groups;for(Ce=0;Ce<At.length;Ce++)Oe(At[Ce],Nt,Tt);var lt=Object.getOwnPropertyNames(ut.fast);for(Ce=0;Ce<lt.length;Ce++)Oe(ut.fast[lt[Ce]],Nt,Tt)}return new Ae(Tt,ee)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function le(W){for(var ee=typeof Map<"u",O=ee?new Map:Object.create(null),Te=Object.getOwnPropertyNames(W),be=0;be<Te.length;be++){var ce=Te[be],ye=W[ce];(Array.isArray(ye)?ye:[ye]).forEach(function(Be){if("string"!=typeof Be)throw new Error("keyword must be string (in keyword '"+ce+"')");ee?O.set(Be,ce):O[Be]=ce})}return function(Be){return ee?O.get(Be):O[Be]}}}})?b.apply(De,[]):b)&&(J.exports=P)},1123:J=>{"use strict";J.exports=Error},1143:(J,De,b)=>{"use strict";var E=b(6330),P=b(8519),z=Object;J.exports=E(function(){if(null==this||this!==z(this))throw new P("RegExp.prototype.flags getter called on non-object");var $="";return this.hasIndices&&($+="d"),this.global&&($+="g"),this.ignoreCase&&($+="i"),this.multiline&&($+="m"),this.dotAll&&($+="s"),this.unicode&&($+="u"),this.unicodeSets&&($+="v"),this.sticky&&($+="y"),$},"get flags",!0)},1197:(J,De,b)=>{"use strict";var E=b(1963),P=b(4880),z=b(8519),q=b(9263);J.exports=function(c,G,I){if(!c||"object"!=typeof c&&"function"!=typeof c)throw new z("`obj` must be an object or a function`");if("string"!=typeof G&&"symbol"!=typeof G)throw new z("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new z("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new z("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new z("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new z("`loose`, if provided, must be a boolean");var U=arguments.length>3?arguments[3]:null,B=arguments.length>4?arguments[4]:null,K=arguments.length>5?arguments[5]:null,j=arguments.length>6&&arguments[6],M=!!q&&q(c,G);if(E)E(c,G,{configurable:null===K&&M?M.configurable:!K,enumerable:null===U&&M?M.enumerable:!U,value:I,writable:null===B&&M?M.writable:!B});else{if(!j&&(U||B||K))throw new P("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");c[G]=I}}},1393:(J,De,b)=>{"use strict";b.r(De),b.d(De,{mdTransitionAnimation:()=>c});var E=b(7133),P=b(6780);b(9335),b(575),b(6721);const c=(G,I)=>{var U,B,K;const j="40px",A="back"===I.direction,pe=I.leavingEl,ve=(0,P.g)(I.enteringEl),re=ve.querySelector("ion-toolbar"),L=(0,E.c)();if(L.addElement(ve).fill("both").beforeRemoveClass("ion-page-invisible"),A?L.duration((null!==(U=I.duration)&&void 0!==U?U:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):L.duration((null!==(B=I.duration)&&void 0!==B?B:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${j})`,"translateY(0px)").fromTo("opacity",.01,1),re){const oe=(0,E.c)();oe.addElement(re),L.addAnimation(oe)}if(pe&&A){L.duration((null!==(K=I.duration)&&void 0!==K?K:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const oe=(0,E.c)();oe.addElement((0,P.g)(pe)).onFinish(xe=>{1===xe&&oe.elements.length>0&&oe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${j})`).fromTo("opacity",1,0),L.addAnimation(oe)}return L}},1459:(J,De,b)=>{"use strict";var E=typeof Symbol<"u"&&Symbol,P=b(6497);J.exports=function(){return"function"==typeof E&&"function"==typeof Symbol&&"symbol"==typeof E("foo")&&"symbol"==typeof Symbol("bar")&&P()}},1516:J=>{"use strict";J.exports=Math.pow},1568:(J,De,b)=>{"use strict";var E=b(3996),P=b(9364),z=b(8580);J.exports=E?function($){return E($)}:P?function($){if(!$||"object"!=typeof $&&"function"!=typeof $)throw new TypeError("getProto: not an object");return P($)}:z?function($){return z($)}:null},1890:(J,De,b)=>{"use strict";function E(z,q,$,c,G,I,U){try{var B=z[I](U),K=B.value}catch(j){return void $(j)}B.done?q(K):Promise.resolve(K).then(c,G)}function P(z){return function(){var q=this,$=arguments;return new Promise(function(c,G){var I=z.apply(q,$);function U(K){E(I,c,G,U,B,"next",K)}function B(K){E(I,c,G,U,B,"throw",K)}U(void 0)})}}b.d(De,{A:()=>P})},1963:J=>{"use strict";var De=Object.defineProperty||!1;if(De)try{De({},"a",{value:1})}catch{De=!1}J.exports=De},2090:(J,De,b)=>{"use strict";var P=b(840)("SharedArrayBuffer.prototype.byteLength",!0);J.exports=P?function(q){if(!q||"object"!=typeof q)return!1;try{return P(q),!0}catch{return!1}}:function(q){return!1}},2136:J=>{"use strict";J.exports=Math.max},2179:(J,De,b)=>{"use strict";var E=b(3889),P=b(5492)(),z=b(8519),q={assert:function($,c){if(!$||"object"!=typeof $&&"function"!=typeof $)throw new z("`O` is not an object");if("string"!=typeof c)throw new z("`slot` must be a string");if(P.assert($),!q.has($,c))throw new z("`"+c+"` is not present on `O`")},get:function($,c){if(!$||"object"!=typeof $&&"function"!=typeof $)throw new z("`O` is not an object");if("string"!=typeof c)throw new z("`slot` must be a string");var G=P.get($);return G&&G["$"+c]},has:function($,c){if(!$||"object"!=typeof $&&"function"!=typeof $)throw new z("`O` is not an object");if("string"!=typeof c)throw new z("`slot` must be a string");var G=P.get($);return!!G&&E(G,"$"+c)},set:function($,c,G){if(!$||"object"!=typeof $&&"function"!=typeof $)throw new z("`O` is not an object");if("string"!=typeof c)throw new z("`slot` must be a string");var I=P.get($);I||P.set($,I={}),I["$"+c]=G}};Object.freeze&&Object.freeze(q),J.exports=q},2219:(J,De,b)=>{"use strict";var P=b(840)("ArrayBuffer.prototype.byteLength",!0),z=b(3066);J.exports=function($){return z($)?P?P($):$.byteLength:NaN}},2282:(J,De,b)=>{"use strict";var E=b(7707),P=b(8519),z=b(7648),q=b(5124);J.exports=function(c){if(c.length<1||"function"!=typeof c[0])throw new P("a function is required");return q(E,z,c)}},2375:(J,De,b)=>{"use strict";var E=b(2521),P=b(840),z=b(3687),q=b(8519),$=E("%Map%",!0),c=P("Map.prototype.get",!0),G=P("Map.prototype.set",!0),I=P("Map.prototype.has",!0),U=P("Map.prototype.delete",!0),B=P("Map.prototype.size",!0);J.exports=!!$&&function(){var j,M={assert:function(A){if(!M.has(A))throw new q("Side channel does not contain "+z(A))},delete:function(A){if(j){var ue=U(j,A);return 0===B(j)&&(j=void 0),ue}return!1},get:function(A){if(j)return c(j,A)},has:function(A){return!!j&&I(j,A)},set:function(A,ue){j||(j=new $),G(j,A,ue)}};return M}},2490:J=>{function De(E){return!!E.constructor&&"function"==typeof E.constructor.isBuffer&&E.constructor.isBuffer(E)}J.exports=function(E){return null!=E&&(De(E)||function b(E){return"function"==typeof E.readFloatLE&&"function"==typeof E.slice&&De(E.slice(0,0))}(E)||!!E._isBuffer)}},2521:(J,De,b)=>{"use strict";var E,P=b(7888),z=b(1123),q=b(2905),$=b(7718),c=b(3286),G=b(4880),I=b(8519),U=b(2781),B=b(7598),K=b(3116),j=b(2136),M=b(3462),A=b(1516),ue=b(5714),pe=b(497),ve=Function,re=function(ut){try{return ve('"use strict"; return ('+ut+").constructor;")()}catch{}},L=b(9263),oe=b(1963),xe=function(){throw new I},Oe=L?function(){try{return xe}catch{try{return L(arguments,"callee").get}catch{return xe}}}():xe,tt=b(1459)(),le=b(1568),Ae=b(9364),Se=b(3996),ge=b(814),we=b(7648),W={},ee=typeof Uint8Array>"u"||!le?E:le(Uint8Array),O={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?E:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?E:ArrayBuffer,"%ArrayIteratorPrototype%":tt&&le?le([][Symbol.iterator]()):E,"%AsyncFromSyncIteratorPrototype%":E,"%AsyncFunction%":W,"%AsyncGenerator%":W,"%AsyncGeneratorFunction%":W,"%AsyncIteratorPrototype%":W,"%Atomics%":typeof Atomics>"u"?E:Atomics,"%BigInt%":typeof BigInt>"u"?E:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?E:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?E:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?E:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":z,"%eval%":eval,"%EvalError%":q,"%Float16Array%":typeof Float16Array>"u"?E:Float16Array,"%Float32Array%":typeof Float32Array>"u"?E:Float32Array,"%Float64Array%":typeof Float64Array>"u"?E:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?E:FinalizationRegistry,"%Function%":ve,"%GeneratorFunction%":W,"%Int8Array%":typeof Int8Array>"u"?E:Int8Array,"%Int16Array%":typeof Int16Array>"u"?E:Int16Array,"%Int32Array%":typeof Int32Array>"u"?E:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":tt&&le?le(le([][Symbol.iterator]())):E,"%JSON%":"object"==typeof JSON?JSON:E,"%Map%":typeof Map>"u"?E:Map,"%MapIteratorPrototype%":typeof Map>"u"||!tt||!le?E:le((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":P,"%Object.getOwnPropertyDescriptor%":L,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?E:Promise,"%Proxy%":typeof Proxy>"u"?E:Proxy,"%RangeError%":$,"%ReferenceError%":c,"%Reflect%":typeof Reflect>"u"?E:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?E:Set,"%SetIteratorPrototype%":typeof Set>"u"||!tt||!le?E:le((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?E:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":tt&&le?le(""[Symbol.iterator]()):E,"%Symbol%":tt?Symbol:E,"%SyntaxError%":G,"%ThrowTypeError%":Oe,"%TypedArray%":ee,"%TypeError%":I,"%Uint8Array%":typeof Uint8Array>"u"?E:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?E:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?E:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?E:Uint32Array,"%URIError%":U,"%WeakMap%":typeof WeakMap>"u"?E:WeakMap,"%WeakRef%":typeof WeakRef>"u"?E:WeakRef,"%WeakSet%":typeof WeakSet>"u"?E:WeakSet,"%Function.prototype.call%":we,"%Function.prototype.apply%":ge,"%Object.defineProperty%":oe,"%Object.getPrototypeOf%":Ae,"%Math.abs%":B,"%Math.floor%":K,"%Math.max%":j,"%Math.min%":M,"%Math.pow%":A,"%Math.round%":ue,"%Math.sign%":pe,"%Reflect.getPrototypeOf%":Se};if(le)try{null.error}catch(ut){var Te=le(le(ut));O["%Error.prototype%"]=Te}var be=function ut(At){var lt;if("%AsyncFunction%"===At)lt=re("async function () {}");else if("%GeneratorFunction%"===At)lt=re("function* () {}");else if("%AsyncGeneratorFunction%"===At)lt=re("async function* () {}");else if("%AsyncGenerator%"===At){var Mt=ut("%AsyncGeneratorFunction%");Mt&&(lt=Mt.prototype)}else if("%AsyncIteratorPrototype%"===At){var Gt=ut("%AsyncGenerator%");Gt&&le&&(lt=le(Gt.prototype))}return O[At]=lt,lt},ce={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ye=b(7707),Ne=b(3889),Be=ye.call(we,Array.prototype.concat),Ce=ye.call(ge,Array.prototype.splice),Ye=ye.call(we,String.prototype.replace),C=ye.call(we,String.prototype.slice),ke=ye.call(we,RegExp.prototype.exec),He=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ct=/\\(\\)?/g,Nt=function(At,lt){var Gt,Mt=At;if(Ne(ce,Mt)&&(Mt="%"+(Gt=ce[Mt])[0]+"%"),Ne(O,Mt)){var On=O[Mt];if(On===W&&(On=be(Mt)),typeof On>"u"&&!lt)throw new I("intrinsic "+At+" exists, but is not available. Please file an issue!");return{alias:Gt,name:Mt,value:On}}throw new G("intrinsic "+At+" does not exist!")};J.exports=function(At,lt){if("string"!=typeof At||0===At.length)throw new I("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof lt)throw new I('"allowMissing" argument must be a boolean');if(null===ke(/^%?[^%]*%?$/,At))throw new G("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Mt=function(At){var lt=C(At,0,1),Mt=C(At,-1);if("%"===lt&&"%"!==Mt)throw new G("invalid intrinsic syntax, expected closing `%`");if("%"===Mt&&"%"!==lt)throw new G("invalid intrinsic syntax, expected opening `%`");var Gt=[];return Ye(At,He,function(On,Ln,hn,Lt){Gt[Gt.length]=hn?Ye(Lt,Ct,"$1"):Ln||On}),Gt}(At),Gt=Mt.length>0?Mt[0]:"",On=Nt("%"+Gt+"%",lt),Ln=On.name,hn=On.value,Lt=!1,Ke=On.alias;Ke&&(Gt=Ke[0],Ce(Mt,Be([0,1],Ke)));for(var $e=1,ze=!0;$e<Mt.length;$e+=1){var gt=Mt[$e],tn=C(gt,0,1),Un=C(gt,-1);if(('"'===tn||"'"===tn||"`"===tn||'"'===Un||"'"===Un||"`"===Un)&&tn!==Un)throw new G("property names with quotes must have matching quotes");if(("constructor"===gt||!ze)&&(Lt=!0),Ne(O,Ln="%"+(Gt+="."+gt)+"%"))hn=O[Ln];else if(null!=hn){if(!(gt in hn)){if(!lt)throw new I("base intrinsic for "+At+" exists, but the property is not available.");return}if(L&&$e+1>=Mt.length){var Qe=L(hn,gt);hn=(ze=!!Qe)&&"get"in Qe&&!("originalValue"in Qe.get)?Qe.get:hn[gt]}else ze=Ne(hn,gt),hn=hn[gt];ze&&!Lt&&(O[Ln]=hn)}}return hn}},2634:()=>{},2781:J=>{"use strict";J.exports=URIError},2905:J=>{"use strict";J.exports=EvalError},2922:(J,De,b)=>{var z,E=b(5e3).default,P=(z=typeof document<"u"?document.currentScript?.src:void 0,E(function*(q={}){var $,c=q,G="object"==typeof window,I=typeof WorkerGlobalScope<"u",U="object"==typeof process&&process.versions?.node&&"renderer"!=process.type,B=!G&&!U&&!I,j="./this.program",M=(h,N)=>{throw N};I&&(z=self.location.href);var pe,ve,A="";if(B){if("object"==typeof process&&process.versions?.node&&"renderer"!=process.type||"object"==typeof window||typeof WorkerGlobalScope<"u")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)")}else{if(!G&&!I)throw new Error("environment detection error");try{A=new URL(".",z).href}catch{}if(!("object"==typeof window||typeof WorkerGlobalScope<"u"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");I&&(ve=h=>{var N=new XMLHttpRequest;return N.open("GET",h,!1),N.responseType="arraybuffer",N.send(null),new Uint8Array(N.response)}),pe=function(){var h=E(function*(N){O(!ce(N),"readAsync does not work with file:// URLs");var ae=yield fetch(N,{credentials:"same-origin"});if(ae.ok)return ae.arrayBuffer();throw new Error(ae.status+" : "+ae.url)});return function(ae){return h.apply(this,arguments)}}()}var we,re=console.log.bind(console),L=console.error.bind(console);O(!U,"node environment detected but not enabled at build time.  Add `node` to `-sENVIRONMENT` to enable."),O(!B,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable."),"object"!=typeof WebAssembly&&L("no native wasm support detected");var ee,W=!1;function O(h,N){h||jt("Assertion failed"+(N?": "+N:""))}var ce=h=>h.startsWith("file://");function Ne(){if(!W){var h=_r();0==h&&(h+=4);var N=Zt[h>>2],ae=Zt[h+4>>2];(34821223!=N||2310721022!=ae)&&jt(`Stack overflow! Stack cookie has been overwritten at ${Rt(h)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Rt(ae)} ${Rt(N)}`),1668509029!=Zt[0]&&jt("Runtime error: The application has corrupted its heap memory area (address zero)!")}}function Ce(...h){console.warn(...h)}function Ye(h){Object.getOwnPropertyDescriptor(c,h)||Object.defineProperty(c,h,{configurable:!0,set(){jt(`Attempt to set \`Module.${h}\` after it has already been processed.  This can happen, for example, when code is injected via '--post-js' rather than '--pre-js'`)}})}function C(h){return()=>O(!1,`call to '${h}' via reference taken before Wasm module initialization`)}function ut(h){Object.getOwnPropertyDescriptor(c,h)||Object.defineProperty(c,h,{configurable:!0,get(){var N=`'${h}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;(function He(h){return"FS_createPath"===h||"FS_createDataFile"===h||"FS_createPreloadedFile"===h||"FS_unlink"===h||"addRunDependency"===h||"FS_createLazyFile"===h||"FS_createDevice"===h||"removeRunDependency"===h})(h)&&(N+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),jt(N)}})}(()=>{var h=new Int16Array(1),N=new Int8Array(h.buffer);if(h[0]=25459,115!==N[0]||99!==N[1])throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var On=2**64-1,$e=-(2**63);function ze(h,N,ae,ot){O(Number.isInteger(Number(h)),`attempt to write non-integer (${h}) into integer heap`),O(h<=ot,`value (${h}) too large to write as ${N}-bit value`),O(h>=ae,`value (${h}) too small to write as ${N}-bit value`)}var cr,br,ur,rr,Sr,rt,Zt,nn,Qe=h=>ze(h,32,-2147483648,4294967295),un=!1;function an(){var h=ur.buffer;rr=new Int8Array(h),new Int16Array(h),c.HEAPU8=Sr=new Uint8Array(h),new Uint16Array(h),rt=new Int32Array(h),c.HEAPU32=Zt=new Uint32Array(h),new Float32Array(h),new Float64Array(h),nn=new BigInt64Array(h),new BigUint64Array(h)}O(typeof Int32Array<"u"&&typeof Float64Array<"u"&&null!=Int32Array.prototype.subarray&&null!=Int32Array.prototype.set,"JS engine does not provide full typed array support");var qn=0,Er=null,tr={},dn=null;function jt(h){c.onAbort?.(h),L(h="Aborted("+h+")"),W=!0;var N=new WebAssembly.RuntimeError(h);throw br?.(N),N}var Or,jn={error(){jt("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){jn.error()},createDataFile(){jn.error()},createPreloadedFile(){jn.error()},createLazyFile(){jn.error()},open(){jn.error()},mkdev(){jn.error()},registerDevice(){jn.error()},analyzePath(){jn.error()},ErrnoError(){jn.error()}};function x(h,N){return(...ae)=>{O(un,`native function \`${h}\` called before runtime initialization`);var ot=io[h];return O(ot,`exported native function \`${h}\` not found`),O(ae.length<=N,`native function \`${h}\` called with ${ae.length} args but expects ${N}`),ot(...ae)}}function Le(){return(Le=E(function*(h){if(!we)try{var N=yield pe(h);return new Uint8Array(N)}catch{}return function Fs(h){if(h==Or&&we)return new Uint8Array(we);if(ve)return ve(h);throw"both async and sync fetching of the wasm failed"}(h)})).apply(this,arguments)}function Tr(){return Tr=E(function*(h,N){try{var ae=yield function po(h){return Le.apply(this,arguments)}(h);return yield WebAssembly.instantiate(ae,N)}catch(qt){L(`failed to asynchronously prepare wasm: ${qt}`),ce(Or)&&L(`warning: Loading from a file URI (${Or}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),jt(qt)}}),Tr.apply(this,arguments)}function Eo(){return Eo=E(function*(h,N,ae){if(!h&&"function"==typeof WebAssembly.instantiateStreaming)try{var ot=fetch(N,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(ot,ae)}catch(Hn){L(`wasm streaming compile failed: ${Hn}`),L("falling back to ArrayBuffer instantiation")}return function xi(h,N){return Tr.apply(this,arguments)}(N,ae)}),Eo.apply(this,arguments)}function Ui(){return Ui=E(function*(){function h(An,kn){return O(ur=(io=An.exports).memory,"memory not found in wasm exports"),an(),O(go=io.__indirect_function_table,"table not found in wasm exports"),function wl(h){c._main=Gl=x("main",2),fl=x("fflush",1),c._webidl_free=x("webidl_free",1),c._webidl_malloc=x("webidl_malloc",1),c._emscripten_bind_VoidPtr___destroy___0=Ge=x("emscripten_bind_VoidPtr___destroy___0",1),c._emscripten_bind_FileEntry_GetName_0=cs=x("emscripten_bind_FileEntry_GetName_0",1),c._emscripten_bind_FileEntry_IsDirectory_0=hl=x("emscripten_bind_FileEntry_IsDirectory_0",1),c._emscripten_bind_FileEntry_GetSize_0=Bs=x("emscripten_bind_FileEntry_GetSize_0",1),c._emscripten_bind_FileEntry_GetModifiedTS_0=us=x("emscripten_bind_FileEntry_GetModifiedTS_0",1),c._emscripten_bind_FileEntry_GetAttributes_0=Ul=x("emscripten_bind_FileEntry_GetAttributes_0",1),c._emscripten_bind_FileEntry___destroy___0=p=x("emscripten_bind_FileEntry___destroy___0",1),c._emscripten_bind_Vfs_Vfs_0=v=x("emscripten_bind_Vfs_Vfs_0",0),c._emscripten_bind_Vfs_Malloc_1=D=x("emscripten_bind_Vfs_Malloc_1",2),c._emscripten_bind_Vfs_Free_1=k=x("emscripten_bind_Vfs_Free_1",2),c._emscripten_bind_Vfs_Nullptr_0=te=x("emscripten_bind_Vfs_Nullptr_0",1),c._emscripten_bind_Vfs_AllocateImage_1=ne=x("emscripten_bind_Vfs_AllocateImage_1",2),c._emscripten_bind_Vfs_MountImage_1=We=x("emscripten_bind_Vfs_MountImage_1",2),c._emscripten_bind_Vfs_UnmountImage_1=Ie=x("emscripten_bind_Vfs_UnmountImage_1",2),c._emscripten_bind_Vfs_SwitchSlot_1=Xe=x("emscripten_bind_Vfs_SwitchSlot_1",2),c._emscripten_bind_Vfs_GetPendingImageSize_0=Me=x("emscripten_bind_Vfs_GetPendingImageSize_0",1),c._emscripten_bind_Vfs_GetSize_1=Ve=x("emscripten_bind_Vfs_GetSize_1",2),c._emscripten_bind_Vfs_GetPendingImage_0=_t=x("emscripten_bind_Vfs_GetPendingImage_0",1),c._emscripten_bind_Vfs_GetImage_1=mt=x("emscripten_bind_Vfs_GetImage_1",2),c._emscripten_bind_Vfs_GetDirtyPages_1=Ft=x("emscripten_bind_Vfs_GetDirtyPages_1",2),c._emscripten_bind_Vfs_RenameFile_2=bt=x("emscripten_bind_Vfs_RenameFile_2",3),c._emscripten_bind_Vfs_ChmodFile_3=Cn=x("emscripten_bind_Vfs_ChmodFile_3",4),c._emscripten_bind_Vfs_StatFile_1=Mr=x("emscripten_bind_Vfs_StatFile_1",2),c._emscripten_bind_Vfs_UnlinkFile_1=nr=x("emscripten_bind_Vfs_UnlinkFile_1",2),c._emscripten_bind_Vfs_Mkdir_1=zn=x("emscripten_bind_Vfs_Mkdir_1",2),c._emscripten_bind_Vfs_GetEntry_0=Qr=x("emscripten_bind_Vfs_GetEntry_0",1),c._emscripten_bind_Vfs_BytesFree_1=mr=x("emscripten_bind_Vfs_BytesFree_1",2),c._emscripten_bind_Vfs_BytesTotal_1=Ht=x("emscripten_bind_Vfs_BytesTotal_1",2),c._emscripten_bind_Vfs_ReadFile_1=Ao=x("emscripten_bind_Vfs_ReadFile_1",2),c._emscripten_bind_Vfs_GetCurrentFileSize_0=Ar=x("emscripten_bind_Vfs_GetCurrentFileSize_0",1),c._emscripten_bind_Vfs_GetCurrentFileContent_0=Li=x("emscripten_bind_Vfs_GetCurrentFileContent_0",1),c._emscripten_bind_Vfs_ReleaseCurrentFile_0=fr=x("emscripten_bind_Vfs_ReleaseCurrentFile_0",1),c._emscripten_bind_Vfs_WriteFile_3=or=x("emscripten_bind_Vfs_WriteFile_3",4),c._emscripten_bind_Vfs___destroy___0=_i=x("emscripten_bind_Vfs___destroy___0",1),c._emscripten_bind_ReaddirContext_ReaddirContext_1=Ir=x("emscripten_bind_ReaddirContext_ReaddirContext_1",1),c._emscripten_bind_ReaddirContext_Next_0=ro=x("emscripten_bind_ReaddirContext_Next_0",1),c._emscripten_bind_ReaddirContext_GetEntry_0=ds=x("emscripten_bind_ReaddirContext_GetEntry_0",1),c._emscripten_bind_ReaddirContext_GetStatus_0=vo=x("emscripten_bind_ReaddirContext_GetStatus_0",1),c._emscripten_bind_ReaddirContext_GetError_0=ml=x("emscripten_bind_ReaddirContext_GetError_0",1),c._emscripten_bind_ReaddirContext_GetErrorDescription_0=Na=x("emscripten_bind_ReaddirContext_GetErrorDescription_0",1),c._emscripten_bind_ReaddirContext___destroy___0=jl=x("emscripten_bind_ReaddirContext___destroy___0",1),c._emscripten_bind_ExportZipContext_ExportZipContext_2=Fa=x("emscripten_bind_ExportZipContext_ExportZipContext_2",2),c._emscripten_bind_ExportZipContext_AddFile_1=_l=x("emscripten_bind_ExportZipContext_AddFile_1",2),c._emscripten_bind_ExportZipContext_AddDirectory_1=gl=x("emscripten_bind_ExportZipContext_AddDirectory_1",2),c._emscripten_bind_ExportZipContext_Continue_0=ko=x("emscripten_bind_ExportZipContext_Continue_0",1),c._emscripten_bind_ExportZipContext_GetState_0=vl=x("emscripten_bind_ExportZipContext_GetState_0",1),c._emscripten_bind_ExportZipContext_GetZipContent_0=Pa=x("emscripten_bind_ExportZipContext_GetZipContent_0",1),c._emscripten_bind_ExportZipContext_GetZipSize_0=da=x("emscripten_bind_ExportZipContext_GetZipSize_0",1),c._emscripten_bind_ExportZipContext_GetErrorItem_0=yl=x("emscripten_bind_ExportZipContext_GetErrorItem_0",1),c._emscripten_bind_ExportZipContext___destroy___0=Oa=x("emscripten_bind_ExportZipContext___destroy___0",1),c._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=fa=x("emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1",1),c._emscripten_bind_DeleteRecursiveContext_AddFile_1=Lr=x("emscripten_bind_DeleteRecursiveContext_AddFile_1",2),c._emscripten_bind_DeleteRecursiveContext_Continue_0=Qo=x("emscripten_bind_DeleteRecursiveContext_Continue_0",1),c._emscripten_bind_DeleteRecursiveContext_GetState_0=La=x("emscripten_bind_DeleteRecursiveContext_GetState_0",1),c._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=zl=x("emscripten_bind_DeleteRecursiveContext_GetFailingPath_0",1),c._emscripten_bind_DeleteRecursiveContext___destroy___0=bl=x("emscripten_bind_DeleteRecursiveContext___destroy___0",1),c._emscripten_bind_UnzipContext_UnzipContext_4=Vl=x("emscripten_bind_UnzipContext_UnzipContext_4",4),c._emscripten_bind_UnzipContext_GetState_0=Gs=x("emscripten_bind_UnzipContext_GetState_0",1),c._emscripten_bind_UnzipContext_Continue_0=fs=x("emscripten_bind_UnzipContext_Continue_0",1),c._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=hc=x("emscripten_bind_UnzipContext_ContinueWithOverwrite_0",1),c._emscripten_bind_UnzipContext_GetCurrentEntry_0=Hl=x("emscripten_bind_UnzipContext_GetCurrentEntry_0",1),c._emscripten_bind_UnzipContext_GetCollisionPath_0=mc=x("emscripten_bind_UnzipContext_GetCollisionPath_0",1),c._emscripten_bind_UnzipContext_GetEntriesTotal_0=pa=x("emscripten_bind_UnzipContext_GetEntriesTotal_0",1),c._emscripten_bind_UnzipContext_GetEntriesSuccess_0=Vi=x("emscripten_bind_UnzipContext_GetEntriesSuccess_0",1),c._emscripten_bind_UnzipContext___destroy___0=Sl=x("emscripten_bind_UnzipContext___destroy___0",1),c._emscripten_bind_PasteContext_PasteContext_3=Xc=x("emscripten_bind_PasteContext_PasteContext_3",3),c._emscripten_bind_PasteContext_AddFile_1=Jr=x("emscripten_bind_PasteContext_AddFile_1",2),c._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=dt=x("emscripten_bind_PasteContext_SetDeleteAfterCopy_1",2),c._emscripten_bind_PasteContext_GetState_0=on=x("emscripten_bind_PasteContext_GetState_0",1),c._emscripten_bind_PasteContext_Continue_0=zr=x("emscripten_bind_PasteContext_Continue_0",1),c._emscripten_bind_PasteContext_ContinueWithOverwrite_0=Fi=x("emscripten_bind_PasteContext_ContinueWithOverwrite_0",1),c._emscripten_bind_PasteContext_GetCurrentEntry_0=oi=x("emscripten_bind_PasteContext_GetCurrentEntry_0",1),c._emscripten_bind_PasteContext_GetCollisionPath_0=ps=x("emscripten_bind_PasteContext_GetCollisionPath_0",1),c._emscripten_bind_PasteContext_GetEntriesSuccess_0=ha=x("emscripten_bind_PasteContext_GetEntriesSuccess_0",1),c._emscripten_bind_PasteContext___destroy___0=ln=x("emscripten_bind_PasteContext___destroy___0",1),Yn=x("_emscripten_timeout",2),_r=h.emscripten_stack_get_end,hs=h.emscripten_stack_init,mn=h.emscripten_stack_get_current,x("__cxa_increment_exception_refcount",1),c.___original_main=x("__original_main",0)}(io),function Ko(h){if(qn--,c.monitorRunDependencies?.(qn),h?(O(tr[h]),delete tr[h]):L("warning: run dependency removed without ID"),0==qn&&(null!==dn&&(clearInterval(dn),dn=null),Er)){var N=Er;Er=null,N()}}("wasm-instantiate"),io}!function wo(h){qn++,c.monitorRunDependencies?.(qn),h?(O(!tr[h]),tr[h]=1,null===dn&&typeof setInterval<"u"&&(dn=setInterval(()=>{if(W)return clearInterval(dn),void(dn=null);var N=!1;for(var ae in tr)N||(N=!0,L("still waiting on run dependencies:")),L(`dependency: ${ae}`);N&&L("(end of list)")},1e4))):L("warning: run dependency added without ID")}("wasm-instantiate");var N=c,ot=function is(){return{env:_c,wasi_snapshot_preview1:_c}}();if(c.instantiateWasm)return new Promise((An,kn)=>{try{c.instantiateWasm(ot,(Hr,$a)=>{An(h(Hr))})}catch(Hr){L(`Module.instantiateWasm callback failed with error: ${Hr}`),kn(Hr)}});Or??=function ri(){return function ue(h){return c.locateFile?c.locateFile(h,A):A+h}("vfs_web.wasm")}();var qt=yield function dr(h,N,ae){return Eo.apply(this,arguments)}(we,Or,ot);return function ae(An){return O(c===N,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),N=null,h(An.instance)}(qt)}),Ui.apply(this,arguments)}class Xr{name="ExitStatus";constructor(N){this.message=`Program terminated with exit(${N})`,this.status=N}}var go,bi,ji=h=>{for(;h.length>0;)h.shift()(c)},os=[],el=h=>os.push(h),Tn=[],Qt=h=>Tn.push(h),Fe=!0,Rt=h=>(O("number"==typeof h),"0x"+(h>>>=0).toString(16).padStart(8,"0")),Zn=h=>{Zn.shown||={},Zn.shown[h]||(Zn.shown[h]=1,L(h))},zi=typeof TextDecoder<"u"?new TextDecoder:void 0,tl=(h,N=0,ae=NaN)=>{for(var ot=N+ae,qt=N;h[qt]&&!(qt>=ot);)++qt;if(qt-N>16&&h.buffer&&zi)return zi.decode(h.subarray(N,qt));for(var Hn="";N<qt;){var An=h[N++];if(128&An){var kn=63&h[N++];if(192!=(224&An)){var Hr=63&h[N++];if(224==(240&An)?An=(15&An)<<12|kn<<6|Hr:(240!=(248&An)&&Zn("Invalid UTF-8 leading byte "+Rt(An)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),An=(7&An)<<18|kn<<12|Hr<<6|63&h[N++]),An<65536)Hn+=String.fromCharCode(An);else{var $a=An-65536;Hn+=String.fromCharCode(55296|$a>>10,56320|1023&$a)}}else Hn+=String.fromCharCode((31&An)<<6|kn)}else Hn+=String.fromCharCode(An)}return Hn},Gn=(h,N)=>(O("number"==typeof h,`UTF8ToString expects a number (got ${typeof h})`),h?tl(Sr,h,N):""),Dr=h=>h<-9007199254740992||h>9007199254740992?NaN:Number(h),xa=0,dc=[0,31,60,91,121,152,182,213,244,274,305,335],et=[0,31,59,90,120,151,181,212,243,273,304,334],il=h=>((h=>h%4==0&&(h%100!=0||h%400==0))(h.getFullYear())?dc:et)[h.getMonth()]+h.getDate()-1,ho={},oa=h=>{if(h instanceof Xr||"unwind"==h)return ee;Ne(),h instanceof WebAssembly.RuntimeError&&mn()<=0&&L("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),M(0,h)},Do=()=>Fe||xa>0,mo=h=>{ee=h,Do()||(c.onExit?.(h),W=!0),M(0,new Xr(h))},Bo=(h,N)=>{if(ee=h,function Pt(){var h=re,N=L,ae=!1;re=L=ot=>{ae=!0};try{Ll()}catch{}re=h,L=N,ae&&(Zn("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc."),Zn("(this may also be due to not including full filesystem support - try building with -sFORCE_FILESYSTEM)"))}(),Do()&&!N){var ae=`program exited (with status: ${h}), but keepRuntimeAlive() is set (counter=${xa}) due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)`;br?.(ae),L(ae)}mo(h)},Ta=Bo,_o=()=>performance.now(),to=(h,N,ae,ot)=>{if(O("string"==typeof h,`stringToUTF8Array expects a string (got ${typeof h})`),!(ot>0))return 0;for(var qt=ae,Hn=ae+ot-1,An=0;An<h.length;++An){var kn=h.codePointAt(An);if(kn<=127){if(ae>=Hn)break;N[ae++]=kn}else if(kn<=2047){if(ae+1>=Hn)break;N[ae++]=192|kn>>6,N[ae++]=128|63&kn}else if(kn<=65535){if(ae+2>=Hn)break;N[ae++]=224|kn>>12,N[ae++]=128|kn>>6&63,N[ae++]=128|63&kn}else{if(ae+3>=Hn)break;kn>1114111&&Zn("Invalid Unicode code point "+Rt(kn)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),N[ae++]=240|kn>>18,N[ae++]=128|kn>>12&63,N[ae++]=128|kn>>6&63,N[ae++]=128|63&kn,An++}}return N[ae]=0,ae-qt},Go=(h,N,ae)=>(O("number"==typeof ae,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),to(h,Sr,N,ae)),Io=h=>{for(var N=0,ae=0;ae<h.length;++ae){var ot=h.charCodeAt(ae);ot<=127?N++:ot<=2047?N+=2:ot>=55296&&ot<=57343?(N+=4,++ae):N+=3}return N},Ki=()=>Date.now(),la=(h,N)=>(O(N,"alignment argument is required"),Math.ceil(h/N)*N),Xi=h=>{var N=ur.buffer,ae=(h-N.byteLength+65535)/65536|0;try{return ur.grow(ae),an(),1}catch(ot){L(`growMemory: Attempted to grow heap from ${N.byteLength} bytes to ${h} bytes, but got error: ${ot}`)}},as={},$s=()=>{if(!$s.strings){var N={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:j||"./this.program"};for(var ae in as)void 0===as[ae]?delete N[ae]:N[ae]=as[ae];var ot=[];for(var ae in N)ot.push(`${ae}=${N[ae]}`);$s.strings=ot}return $s.strings},vn=[null,[],[]],al=(h,N)=>{var ae=vn[h];O(ae),0===N||10===N?((1===h?re:L)(tl(ae)),ae.length=0):ae.push(N)},Ll=()=>{fl(0),vn[1].length&&al(1,10),vn[2].length&&al(2,10)},Xo=[],Ma=(h,N)=>{O(h<16384),h<128?N.push(h):N.push(h%128|128,h>>7)},Aa=[],ul=h=>{var N=Aa[h];return N||(Aa[h]=N=go.get(h)),O(go.get(h)==N,"JavaScript-side Wasm function table mirror is out of date!"),N},ka=[],To=(h,N)=>{go.set(h,N),Aa[h]=go.get(h)};c.noExitRuntime&&(Fe=c.noExitRuntime),c.print&&(re=c.print),c.printErr&&(L=c.printErr),c.wasmBinary&&(we=c.wasmBinary),c.FS_createDataFile=jn.createDataFile,c.FS_createPreloadedFile=jn.createPreloadedFile,function Ra(){!function ke(h){Object.getOwnPropertyDescriptor(c,h)&&jt(`\`Module.${h}\` was supplied but \`${h}\` not included in INCOMING_MODULE_JS_API`)}("fetchSettings")}(),c.thisProgram&&(j=c.thisProgram),O(typeof c.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),O(typeof c.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),O(typeof c.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),O(typeof c.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),O(typeof c.read>"u","Module.read option was removed"),O(typeof c.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),O(typeof c.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),O(typeof c.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),O(typeof c.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),O(typeof c.ENVIRONMENT>"u","Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)"),O(typeof c.STACK_SIZE>"u","STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),O(typeof c.wasmMemory>"u","Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),O(typeof c.INITIAL_MEMORY>"u","Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically"),c.addFunction=(h,N)=>{O(typeof h<"u");var ae=(h=>(bi||(bi=new WeakMap,((h,N)=>{if(bi)for(var ae=0;ae<0+N;ae++){var ot=ul(ae);ot&&bi.set(ot,ae)}})(0,go.length)),bi.get(h)||0))(h);if(ae)return ae;for(var ot=0;ot<go.length;ot++)O(ul(ot)!=h,"function in Table but not functionsInTableMap");var qt=(()=>{if(ka.length)return ka.pop();try{go.grow(1)}catch(h){throw h instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":h}return go.length-1})();try{To(qt,h)}catch(An){if(!(An instanceof TypeError))throw An;O(typeof N<"u","Missing signature argument to addFunction: "+h);var Hn=((h,N)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((h=>{for(var N={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},ae={parameters:[],results:"v"==h[0]?[]:[N[h[0]]]},ot=1;ot<h.length;++ot)O(h[ot]in N,"invalid signature char: "+h[ot]),ae.parameters.push(N[h[ot]]);return ae})(N),h);var ae=[1];((h,N)=>{var ae=h.slice(0,1),ot=h.slice(1),qt={i:127,p:127,j:126,f:125,d:124,e:111};for(var Hn of(N.push(96),Ma(ot.length,N),ot))O(Hn in qt,`invalid signature char: ${Hn}`),N.push(qt[Hn]);"v"==ae?N.push(0):N.push(1,qt[ae])})(N,ae);var ot=[0,97,115,109,1,0,0,0,1];Ma(ae.length,ot),ot.push(...ae),ot.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var qt=new WebAssembly.Module(new Uint8Array(ot));return new WebAssembly.Instance(qt,{e:{f:h}}).exports.f})(h,N);To(qt,Hn)}return bi.set(h,qt),qt},c.UTF8ToString=Gn,["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertI32PairToI53Checked","convertU32PairToI53","stackAlloc","getTempRet0","setTempRet0","zeroMemory","withStackSave","strError","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","emscriptenLog","readEmAsmArgs","jstoi_q","autoResumeAudioContext","getDynCaller","dynCall","runtimeKeepalivePush","runtimeKeepalivePop","asmjsMangle","asyncLoad","mmapAlloc","HandleAllocator","getNativeTypeSize","getUniqueRunDependency","addOnPostCtor","addOnPreMain","addOnExit","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","ccall","cwrap","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToNewUTF8","stringToUTF8OnStack","writeArrayToMemory","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","initRandomFill","randomFill","safeSetTimeout","setImmediateWrapped","safeRequestAnimationFrame","clearImmediateWrapped","registerPostMainLoop","registerPreMainLoop","getPromise","makePromise","idsToPromises","makePromiseCallback","ExceptionInfo","findMatchingCatch","Browser_asyncPrepareDataCounter","arraySum","addDays","getSocketFromFD","getSocketAddress","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","webgl_enable_EXT_polygon_offset_clamp","webgl_enable_EXT_clip_control","webgl_enable_WEBGL_polygon_mode","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","demangle","stackTrace"].forEach(function Nt(h){ut(h)}),["run","addRunDependency","removeRunDependency","out","err","callMain","abort","wasmMemory","wasmExports","HEAPF32","HEAPF64","HEAP8","HEAP16","HEAPU16","HEAP32","HEAP64","HEAPU64","writeStackCookie","checkStackCookie","INT53_MAX","INT53_MIN","bigintToI53Checked","stackSave","stackRestore","ptrToString","exitJS","getHeapMax","growMemory","ENV","ERRNO_CODES","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","getExecutableName","handleException","keepRuntimeAlive","callUserCallback","maybeExit","alignMemory","wasmTable","noExitRuntime","addOnPreRun","addOnInit","addOnPostRun","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","freeTableIndexes","functionsInTableMap","getEmptyTableSlot","updateTableMap","getFunctionAddress","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","intArrayFromString","UTF16Decoder","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","getEnvStrings","checkWasiClock","flush_NO_FILESYSTEM","emSetImmediate","emClearImmediate_deps","emClearImmediate","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","Browser","requestFullscreen","requestFullScreen","setCanvasSize","getUserMedia","createContext","getPreloadedImageData__data","wget","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","isLeapYear","ydayFromDate","SYSCALLS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","print","printErr","jstoi_s"].forEach(ut);var Gl=c._main=C("_main"),fl=C("_fflush"),Ge=(c._webidl_free=C("_webidl_free"),c._webidl_malloc=C("_webidl_malloc"),c._emscripten_bind_VoidPtr___destroy___0=C("_emscripten_bind_VoidPtr___destroy___0")),cs=c._emscripten_bind_FileEntry_GetName_0=C("_emscripten_bind_FileEntry_GetName_0"),hl=c._emscripten_bind_FileEntry_IsDirectory_0=C("_emscripten_bind_FileEntry_IsDirectory_0"),Bs=c._emscripten_bind_FileEntry_GetSize_0=C("_emscripten_bind_FileEntry_GetSize_0"),us=c._emscripten_bind_FileEntry_GetModifiedTS_0=C("_emscripten_bind_FileEntry_GetModifiedTS_0"),Ul=c._emscripten_bind_FileEntry_GetAttributes_0=C("_emscripten_bind_FileEntry_GetAttributes_0"),p=c._emscripten_bind_FileEntry___destroy___0=C("_emscripten_bind_FileEntry___destroy___0"),v=c._emscripten_bind_Vfs_Vfs_0=C("_emscripten_bind_Vfs_Vfs_0"),D=c._emscripten_bind_Vfs_Malloc_1=C("_emscripten_bind_Vfs_Malloc_1"),k=c._emscripten_bind_Vfs_Free_1=C("_emscripten_bind_Vfs_Free_1"),te=c._emscripten_bind_Vfs_Nullptr_0=C("_emscripten_bind_Vfs_Nullptr_0"),ne=c._emscripten_bind_Vfs_AllocateImage_1=C("_emscripten_bind_Vfs_AllocateImage_1"),We=c._emscripten_bind_Vfs_MountImage_1=C("_emscripten_bind_Vfs_MountImage_1"),Ie=c._emscripten_bind_Vfs_UnmountImage_1=C("_emscripten_bind_Vfs_UnmountImage_1"),Xe=c._emscripten_bind_Vfs_SwitchSlot_1=C("_emscripten_bind_Vfs_SwitchSlot_1"),Me=c._emscripten_bind_Vfs_GetPendingImageSize_0=C("_emscripten_bind_Vfs_GetPendingImageSize_0"),Ve=c._emscripten_bind_Vfs_GetSize_1=C("_emscripten_bind_Vfs_GetSize_1"),_t=c._emscripten_bind_Vfs_GetPendingImage_0=C("_emscripten_bind_Vfs_GetPendingImage_0"),mt=c._emscripten_bind_Vfs_GetImage_1=C("_emscripten_bind_Vfs_GetImage_1"),Ft=c._emscripten_bind_Vfs_GetDirtyPages_1=C("_emscripten_bind_Vfs_GetDirtyPages_1"),bt=c._emscripten_bind_Vfs_RenameFile_2=C("_emscripten_bind_Vfs_RenameFile_2"),Cn=c._emscripten_bind_Vfs_ChmodFile_3=C("_emscripten_bind_Vfs_ChmodFile_3"),Mr=c._emscripten_bind_Vfs_StatFile_1=C("_emscripten_bind_Vfs_StatFile_1"),nr=c._emscripten_bind_Vfs_UnlinkFile_1=C("_emscripten_bind_Vfs_UnlinkFile_1"),zn=c._emscripten_bind_Vfs_Mkdir_1=C("_emscripten_bind_Vfs_Mkdir_1"),Qr=c._emscripten_bind_Vfs_GetEntry_0=C("_emscripten_bind_Vfs_GetEntry_0"),mr=c._emscripten_bind_Vfs_BytesFree_1=C("_emscripten_bind_Vfs_BytesFree_1"),Ht=c._emscripten_bind_Vfs_BytesTotal_1=C("_emscripten_bind_Vfs_BytesTotal_1"),Ao=c._emscripten_bind_Vfs_ReadFile_1=C("_emscripten_bind_Vfs_ReadFile_1"),Ar=c._emscripten_bind_Vfs_GetCurrentFileSize_0=C("_emscripten_bind_Vfs_GetCurrentFileSize_0"),Li=c._emscripten_bind_Vfs_GetCurrentFileContent_0=C("_emscripten_bind_Vfs_GetCurrentFileContent_0"),fr=c._emscripten_bind_Vfs_ReleaseCurrentFile_0=C("_emscripten_bind_Vfs_ReleaseCurrentFile_0"),or=c._emscripten_bind_Vfs_WriteFile_3=C("_emscripten_bind_Vfs_WriteFile_3"),_i=c._emscripten_bind_Vfs___destroy___0=C("_emscripten_bind_Vfs___destroy___0"),Ir=c._emscripten_bind_ReaddirContext_ReaddirContext_1=C("_emscripten_bind_ReaddirContext_ReaddirContext_1"),ro=c._emscripten_bind_ReaddirContext_Next_0=C("_emscripten_bind_ReaddirContext_Next_0"),ds=c._emscripten_bind_ReaddirContext_GetEntry_0=C("_emscripten_bind_ReaddirContext_GetEntry_0"),vo=c._emscripten_bind_ReaddirContext_GetStatus_0=C("_emscripten_bind_ReaddirContext_GetStatus_0"),ml=c._emscripten_bind_ReaddirContext_GetError_0=C("_emscripten_bind_ReaddirContext_GetError_0"),Na=c._emscripten_bind_ReaddirContext_GetErrorDescription_0=C("_emscripten_bind_ReaddirContext_GetErrorDescription_0"),jl=c._emscripten_bind_ReaddirContext___destroy___0=C("_emscripten_bind_ReaddirContext___destroy___0"),Fa=c._emscripten_bind_ExportZipContext_ExportZipContext_2=C("_emscripten_bind_ExportZipContext_ExportZipContext_2"),_l=c._emscripten_bind_ExportZipContext_AddFile_1=C("_emscripten_bind_ExportZipContext_AddFile_1"),gl=c._emscripten_bind_ExportZipContext_AddDirectory_1=C("_emscripten_bind_ExportZipContext_AddDirectory_1"),ko=c._emscripten_bind_ExportZipContext_Continue_0=C("_emscripten_bind_ExportZipContext_Continue_0"),vl=c._emscripten_bind_ExportZipContext_GetState_0=C("_emscripten_bind_ExportZipContext_GetState_0"),Pa=c._emscripten_bind_ExportZipContext_GetZipContent_0=C("_emscripten_bind_ExportZipContext_GetZipContent_0"),da=c._emscripten_bind_ExportZipContext_GetZipSize_0=C("_emscripten_bind_ExportZipContext_GetZipSize_0"),yl=c._emscripten_bind_ExportZipContext_GetErrorItem_0=C("_emscripten_bind_ExportZipContext_GetErrorItem_0"),Oa=c._emscripten_bind_ExportZipContext___destroy___0=C("_emscripten_bind_ExportZipContext___destroy___0"),fa=c._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=C("_emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1"),Lr=c._emscripten_bind_DeleteRecursiveContext_AddFile_1=C("_emscripten_bind_DeleteRecursiveContext_AddFile_1"),Qo=c._emscripten_bind_DeleteRecursiveContext_Continue_0=C("_emscripten_bind_DeleteRecursiveContext_Continue_0"),La=c._emscripten_bind_DeleteRecursiveContext_GetState_0=C("_emscripten_bind_DeleteRecursiveContext_GetState_0"),zl=c._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=C("_emscripten_bind_DeleteRecursiveContext_GetFailingPath_0"),bl=c._emscripten_bind_DeleteRecursiveContext___destroy___0=C("_emscripten_bind_DeleteRecursiveContext___destroy___0"),Vl=c._emscripten_bind_UnzipContext_UnzipContext_4=C("_emscripten_bind_UnzipContext_UnzipContext_4"),Gs=c._emscripten_bind_UnzipContext_GetState_0=C("_emscripten_bind_UnzipContext_GetState_0"),fs=c._emscripten_bind_UnzipContext_Continue_0=C("_emscripten_bind_UnzipContext_Continue_0"),hc=c._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=C("_emscripten_bind_UnzipContext_ContinueWithOverwrite_0"),Hl=c._emscripten_bind_UnzipContext_GetCurrentEntry_0=C("_emscripten_bind_UnzipContext_GetCurrentEntry_0"),mc=c._emscripten_bind_UnzipContext_GetCollisionPath_0=C("_emscripten_bind_UnzipContext_GetCollisionPath_0"),pa=c._emscripten_bind_UnzipContext_GetEntriesTotal_0=C("_emscripten_bind_UnzipContext_GetEntriesTotal_0"),Vi=c._emscripten_bind_UnzipContext_GetEntriesSuccess_0=C("_emscripten_bind_UnzipContext_GetEntriesSuccess_0"),Sl=c._emscripten_bind_UnzipContext___destroy___0=C("_emscripten_bind_UnzipContext___destroy___0"),Xc=c._emscripten_bind_PasteContext_PasteContext_3=C("_emscripten_bind_PasteContext_PasteContext_3"),Jr=c._emscripten_bind_PasteContext_AddFile_1=C("_emscripten_bind_PasteContext_AddFile_1"),dt=c._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=C("_emscripten_bind_PasteContext_SetDeleteAfterCopy_1"),on=c._emscripten_bind_PasteContext_GetState_0=C("_emscripten_bind_PasteContext_GetState_0"),zr=c._emscripten_bind_PasteContext_Continue_0=C("_emscripten_bind_PasteContext_Continue_0"),Fi=c._emscripten_bind_PasteContext_ContinueWithOverwrite_0=C("_emscripten_bind_PasteContext_ContinueWithOverwrite_0"),oi=c._emscripten_bind_PasteContext_GetCurrentEntry_0=C("_emscripten_bind_PasteContext_GetCurrentEntry_0"),ps=c._emscripten_bind_PasteContext_GetCollisionPath_0=C("_emscripten_bind_PasteContext_GetCollisionPath_0"),ha=c._emscripten_bind_PasteContext_GetEntriesSuccess_0=C("_emscripten_bind_PasteContext_GetEntriesSuccess_0"),ln=c._emscripten_bind_PasteContext___destroy___0=C("_emscripten_bind_PasteContext___destroy___0"),Yn=C("__emscripten_timeout"),_r=C("_emscripten_stack_get_end"),hs=(C("_emscripten_stack_get_base"),C("_emscripten_stack_init")),mn=(C("_emscripten_stack_get_free"),C("__emscripten_stack_restore"),C("__emscripten_stack_alloc"),C("_emscripten_stack_get_current"));C("___cxa_increment_exception_refcount"),c.___original_main=C("___original_main");var Wl,_c={__assert_fail:(h,N,ae,ot)=>jt(`Assertion failed: ${Gn(h)}, at: `+[N?Gn(N):"unknown filename",ae,ot?Gn(ot):"unknown function"]),__syscall_ftruncate64:function Kt(h,N){N=Dr(N),jt("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")},_abort_js:()=>jt("native code called abort()"),_emscripten_runtime_keepalive_clear:()=>{Fe=!1,xa=0},_localtime_js:function jr(h,N){h=Dr(h);var ae=new Date(1e3*h);rt[N>>2]=ae.getSeconds(),Qe(ae.getSeconds()),rt[N+4>>2]=ae.getMinutes(),Qe(ae.getMinutes()),rt[N+8>>2]=ae.getHours(),Qe(ae.getHours()),rt[N+12>>2]=ae.getDate(),Qe(ae.getDate()),rt[N+16>>2]=ae.getMonth(),Qe(ae.getMonth()),rt[N+20>>2]=ae.getFullYear()-1900,Qe(ae.getFullYear()-1900),rt[N+24>>2]=ae.getDay(),Qe(ae.getDay());var ot=0|il(ae);rt[N+28>>2]=ot,Qe(ot),rt[N+36>>2]=-60*ae.getTimezoneOffset(),Qe(-60*ae.getTimezoneOffset());var qt=new Date(ae.getFullYear(),0,1),Hn=new Date(ae.getFullYear(),6,1).getTimezoneOffset(),An=qt.getTimezoneOffset(),kn=0|(Hn!=An&&ae.getTimezoneOffset()==Math.min(An,Hn));rt[N+32>>2]=kn,Qe(kn)},_mktime_js:function(h){var N=(()=>{var ae=new Date(rt[h+20>>2]+1900,rt[h+16>>2],rt[h+12>>2],rt[h+8>>2],rt[h+4>>2],rt[h>>2],0),ot=rt[h+32>>2],qt=ae.getTimezoneOffset(),Hn=new Date(ae.getFullYear(),0,1),An=new Date(ae.getFullYear(),6,1).getTimezoneOffset(),kn=Hn.getTimezoneOffset(),Hr=Math.min(kn,An);if(ot<0)rt[h+32>>2]=+(An!=kn&&Hr==qt),Qe(+(An!=kn&&Hr==qt));else if(ot>0!=(Hr==qt)){var $a=Math.max(kn,An),Qc=ot>0?Hr:$a;ae.setTime(ae.getTime()+6e4*(Qc-qt))}rt[h+24>>2]=ae.getDay(),Qe(ae.getDay());var Ba=0|il(ae);rt[h+28>>2]=Ba,Qe(Ba),rt[h>>2]=ae.getSeconds(),Qe(ae.getSeconds()),rt[h+4>>2]=ae.getMinutes(),Qe(ae.getMinutes()),rt[h+8>>2]=ae.getHours(),Qe(ae.getHours()),rt[h+12>>2]=ae.getDate(),Qe(ae.getDate()),rt[h+16>>2]=ae.getMonth(),Qe(ae.getMonth()),rt[h+20>>2]=ae.getYear(),Qe(ae.getYear());var js=ae.getTime();return isNaN(js)?-1:js/1e3})();return BigInt(N)},_setitimer_js:(h,N)=>{if(ho[h]&&(clearTimeout(ho[h].id),delete ho[h]),!N)return 0;var ae=setTimeout(()=>{O(h in ho),delete ho[h],(h=>{if(W)L("user callback triggered after runtime exited or application aborted.  Ignoring.");else try{h(),(()=>{if(!Do())try{Ta(ee)}catch(h){oa(h)}})()}catch(N){oa(N)}})(()=>Yn(h,_o()))},N);return ho[h]={id:ae,timeout_ms:N},0},_tzset_js:(h,N,ae,ot)=>{var qt=(new Date).getFullYear(),Hn=new Date(qt,0,1),An=new Date(qt,6,1),kn=Hn.getTimezoneOffset(),Hr=An.getTimezoneOffset(),$a=Math.max(kn,Hr);Zt[h>>2]=60*$a,rt[N>>2]=+(kn!=Hr),Qe(+(kn!=Hr));var Qc=Jc=>{var $i=Jc>=0?"-":"+",Ru=Math.abs(Jc);return`UTC${$i}${String(Math.floor(Ru/60)).padStart(2,"0")}${String(Ru%60).padStart(2,"0")}`},Ba=Qc(kn),js=Qc(Hr);O(Ba),O(js),O(Io(Ba)<=16,`timezone name truncated to fit in TZNAME_MAX (${Ba})`),O(Io(js)<=16,`timezone name truncated to fit in TZNAME_MAX (${js})`),Hr<kn?(Go(Ba,ae,17),Go(js,ot,17)):(Go(Ba,ot,17),Go(js,ae,17))},clock_time_get:function sl(h,N,ae){if(N=Dr(N),!(h=>h>=0&&h<=3)(h))return 28;var ot;ot=0===h?Ki():_o();var qt=Math.round(1e3*ot*1e3);return nn[ae>>3]=BigInt(qt),(h=>{ze(h,64,$e,On)})(qt),0},emscripten_date_now:Ki,emscripten_resize_heap:h=>{var N=Sr.length;O((h>>>=0)>N);var ae=2147483648;if(h>ae)return L(`Cannot enlarge memory, requested ${h} bytes, but the limit is ${ae} bytes!`),!1;for(var ot=1;ot<=4;ot*=2){var qt=N*(1+.2/ot);qt=Math.min(qt,h+100663296);var Hn=Math.min(ae,la(Math.max(h,qt),65536)),An=_o(),kn=Xi(Hn);if(Ce(`Heap resize call from ${N} to ${Hn} took ${_o()-An} msecs. Success: ${!!kn}`),kn)return!0}return L(`Failed to grow the heap from ${N} bytes to ${Hn} bytes, not enough memory!`),!1},environ_get:(h,N)=>{var ae=0,ot=0;for(var qt of $s()){var Hn=N+ae;Zt[h+ot>>2]=Hn,ae+=Go(qt,Hn,1/0)+1,ot+=4}return 0},environ_sizes_get:(h,N)=>{var ae=$s();Zt[h>>2]=ae.length,Qe(ae.length);var ot=0;for(var qt of ae)ot+=Io(qt)+1;return Zt[N>>2]=ot,Qe(ot),0},fd_close:h=>{jt("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},fd_read:(h,N,ae,ot)=>{jt("fd_read called without SYSCALLS_REQUIRE_FILESYSTEM")},fd_seek:function sn(h,N,ae,ot){return N=Dr(N),70},fd_write:(h,N,ae,ot)=>{for(var qt=0,Hn=0;Hn<ae;Hn++){var An=Zt[N>>2],kn=Zt[N+4>>2];N+=8;for(var Hr=0;Hr<kn;Hr++)al(h,Sr[An+Hr]);qt+=kn}return Zt[ot>>2]=qt,Qe(qt),0},proc_exit:mo},io=yield function xn(){return Ui.apply(this,arguments)}();function cn(){}function Vn(h){return(h||cn).__cache__}function Mn(h,N){var ae=Vn(N),ot=ae[h];return ot||((ot=Object.create((N||cn).prototype)).ptr=h,ae[h]=ot)}(function $r(){if(c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.shift()();Ye("preInit")})(),function Vr(){function h(){O(!Wl),Wl=!0,c.calledRun=!0,W||(function Ii(){O(!un),un=!0,Ne(),ji(Xo),io.__wasm_call_ctors()}(),function Kr(){Ne()}(),cr?.(c),c.onRuntimeInitialized?.(),Ye("onRuntimeInitialized"),c.noInitialRun||function kr(){O(0==qn,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])'),O(typeof Tn>"u"||0==Tn.length,"cannot call main when preRun functions remain to be called");var h=Gl;try{var ot=h(0,0);return Bo(ot,!0),ot}catch(qt){return oa(qt)}}(),function Ni(){if(Ne(),c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)el(c.postRun.shift());Ye("postRun"),ji(os)}())}qn>0?Er=Vr:(function gr(){hs(),function ye(){var h=_r();O(!(3&h)),0==h&&(h+=4),Zt[h>>2]=34821223,Qe(34821223),Zt[h+4>>2]=2310721022,Qe(2310721022),Zt[0]=1668509029,Qe(1668509029)}()}(),function Oi(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)Qt(c.preRun.shift());Ye("preRun"),ji(Tn)}(),qn>0?Er=Vr:(c.setStatus?(c.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>c.setStatus(""),1),h()},1)):h(),Ne()))}(),(cn.prototype=Object.create(cn.prototype)).constructor=cn,cn.prototype.__class__=cn,cn.__cache__={},c.WrapperObject=cn,c.getCache=Vn,c.wrapPointer=Mn,c.castObject=function _(h,N){return Mn(h.ptr,N)},c.NULL=Mn(0),c.destroy=function R(h){if(!h.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";h.__destroy__(),delete Vn(h.__class__)[h.ptr]},c.compare=function X(h,N){return h.ptr===N.ptr},c.getPointer=function Ze(h){return h.ptr},c.getClass=function Ot(h){return h.__class__};var ht={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(ht.needed){for(var h=0;h<ht.temps.length;h++)c._webidl_free(ht.temps[h]);ht.temps.length=0,c._webidl_free(ht.buffer),ht.buffer=0,ht.size+=ht.needed,ht.needed=0}ht.buffer||(ht.size+=128,ht.buffer=c._webidl_malloc(ht.size),O(ht.buffer)),ht.pos=0},alloc(h,N){O(ht.buffer);var qt,ot=h.length*N.BYTES_PER_ELEMENT;return ot=la(ot,8),ht.pos+ot>=ht.size?(O(ot>0),ht.needed+=ot,qt=c._webidl_malloc(ot),ht.temps.push(qt)):(qt=ht.buffer+ht.pos,ht.pos+=ot),qt},copy(h,N,ae){ae/=N.BYTES_PER_ELEMENT;for(var ot=0;ot<h.length;ot++)N[ae+ot]=h[ot]}};function $t(h){if("string"==typeof h){var N=(h=>{var ot=Io(h)+1,qt=new Array(ot);to(h,qt,0,qt.length);return qt})(h),ae=ht.alloc(N,rr);return ht.copy(N,rr,ae),ae}return h}function Br(){throw"cannot construct a VoidPtr, no constructor in IDL"}function ai(){throw"cannot construct a FileEntry, no constructor in IDL"}function Wt(){this.ptr=v(),Vn(Wt)[this.ptr]=this}function Gr(h){ht.prepare(),h=h&&"object"==typeof h?h.ptr:$t(h),this.ptr=Ir(h),Vn(Gr)[this.ptr]=this}function Rr(h,N){ht.prepare(),h=h&&"object"==typeof h?h.ptr:$t(h),N&&"object"==typeof N&&(N=N.ptr),this.ptr=Fa(h,N),Vn(Rr)[this.ptr]=this}function Ti(h){h&&"object"==typeof h&&(h=h.ptr),this.ptr=fa(h),Vn(Ti)[this.ptr]=this}function li(h,N,ae,ot){ht.prepare(),h&&"object"==typeof h&&(h=h.ptr),N=N&&"object"==typeof N?N.ptr:$t(N),ae&&"object"==typeof ae&&(ae=ae.ptr),ot&&"object"==typeof ot&&(ot=ot.ptr),this.ptr=Vl(h,N,ae,ot),Vn(li)[this.ptr]=this}function Nr(h,N,ae){ht.prepare(),h&&"object"==typeof h&&(h=h.ptr),N=N&&"object"==typeof N?N.ptr:$t(N),ae=ae&&"object"==typeof ae?ae.ptr:$t(ae),this.ptr=Xc(h,N,ae),Vn(Nr)[this.ptr]=this}(Br.prototype=Object.create(cn.prototype)).constructor=Br,Br.prototype.__class__=Br,Br.__cache__={},c.VoidPtr=Br,Br.prototype.__destroy__=Br.prototype.__destroy__=function(){Ge(this.ptr)},(ai.prototype=Object.create(cn.prototype)).constructor=ai,ai.prototype.__class__=ai,ai.__cache__={},c.FileEntry=ai,ai.prototype.GetName=ai.prototype.GetName=function(){return Gn(cs(this.ptr))},ai.prototype.IsDirectory=ai.prototype.IsDirectory=function(){return!!hl(this.ptr)},ai.prototype.GetSize=ai.prototype.GetSize=function(){return Bs(this.ptr)},ai.prototype.GetModifiedTS=ai.prototype.GetModifiedTS=function(){return us(this.ptr)},ai.prototype.GetAttributes=ai.prototype.GetAttributes=function(){return Ul(this.ptr)},ai.prototype.__destroy__=ai.prototype.__destroy__=function(){p(this.ptr)},(Wt.prototype=Object.create(cn.prototype)).constructor=Wt,Wt.prototype.__class__=Wt,Wt.__cache__={},c.Vfs=Wt,Wt.prototype.Malloc=Wt.prototype.Malloc=function(h){return h&&"object"==typeof h&&(h=h.ptr),Mn(D(this.ptr,h),Br)},Wt.prototype.Free=Wt.prototype.Free=function(h){h&&"object"==typeof h&&(h=h.ptr),k(this.ptr,h)},Wt.prototype.Nullptr=Wt.prototype.Nullptr=function(){return Mn(te(this.ptr),Br)},Wt.prototype.AllocateImage=Wt.prototype.AllocateImage=function(h){h&&"object"==typeof h&&(h=h.ptr),ne(this.ptr,h)},Wt.prototype.MountImage=Wt.prototype.MountImage=function(h){return h&&"object"==typeof h&&(h=h.ptr),!!We(this.ptr,h)},Wt.prototype.UnmountImage=Wt.prototype.UnmountImage=function(h){h&&"object"==typeof h&&(h=h.ptr),Ie(this.ptr,h)},Wt.prototype.SwitchSlot=Wt.prototype.SwitchSlot=function(h){h&&"object"==typeof h&&(h=h.ptr),Xe(this.ptr,h)},Wt.prototype.GetPendingImageSize=Wt.prototype.GetPendingImageSize=function(){return Me(this.ptr)},Wt.prototype.GetSize=Wt.prototype.GetSize=function(h){return h&&"object"==typeof h&&(h=h.ptr),Ve(this.ptr,h)},Wt.prototype.GetPendingImage=Wt.prototype.GetPendingImage=function(){return Mn(_t(this.ptr),Br)},Wt.prototype.GetImage=Wt.prototype.GetImage=function(h){return h&&"object"==typeof h&&(h=h.ptr),Mn(mt(this.ptr,h),Br)},Wt.prototype.GetDirtyPages=Wt.prototype.GetDirtyPages=function(h){return h&&"object"==typeof h&&(h=h.ptr),Mn(Ft(this.ptr,h),Br)},Wt.prototype.RenameFile=Wt.prototype.RenameFile=function(h,N){var ae=this.ptr;return ht.prepare(),h=h&&"object"==typeof h?h.ptr:$t(h),N=N&&"object"==typeof N?N.ptr:$t(N),bt(ae,h,N)},Wt.prototype.ChmodFile=Wt.prototype.ChmodFile=function(h,N,ae){var ot=this.ptr;return ht.prepare(),h=h&&"object"==typeof h?h.ptr:$t(h),N&&"object"==typeof N&&(N=N.ptr),ae&&"object"==typeof ae&&(ae=ae.ptr),Cn(ot,h,N,ae)},Wt.prototype.StatFile=Wt.prototype.StatFile=function(h){var N=this.ptr;return ht.prepare(),h=h&&"object"==typeof h?h.ptr:$t(h),Mr(N,h)},Wt.prototype.UnlinkFile=Wt.prototype.UnlinkFile=function(h){var N=this.ptr;return ht.prepare(),h=h&&"object"==typeof h?h.ptr:$t(h),nr(N,h)},Wt.prototype.Mkdir=Wt.prototype.Mkdir=function(h){var N=this.ptr;return ht.prepare(),h=h&&"object"==typeof h?h.ptr:$t(h),zn(N,h)},Wt.prototype.GetEntry=Wt.prototype.GetEntry=function(){return Mn(Qr(this.ptr),ai)},Wt.prototype.BytesFree=Wt.prototype.BytesFree=function(h){return h&&"object"==typeof h&&(h=h.ptr),mr(this.ptr,h)},Wt.prototype.BytesTotal=Wt.prototype.BytesTotal=function(h){return h&&"object"==typeof h&&(h=h.ptr),Ht(this.ptr,h)},Wt.prototype.ReadFile=Wt.prototype.ReadFile=function(h){var N=this.ptr;return ht.prepare(),h=h&&"object"==typeof h?h.ptr:$t(h),!!Ao(N,h)},Wt.prototype.GetCurrentFileSize=Wt.prototype.GetCurrentFileSize=function(){return Ar(this.ptr)},Wt.prototype.GetCurrentFileContent=Wt.prototype.GetCurrentFileContent=function(){return Mn(Li(this.ptr),Br)},Wt.prototype.ReleaseCurrentFile=Wt.prototype.ReleaseCurrentFile=function(){fr(this.ptr)},Wt.prototype.WriteFile=Wt.prototype.WriteFile=function(h,N,ae){var ot=this.ptr;return ht.prepare(),h=h&&"object"==typeof h?h.ptr:$t(h),N&&"object"==typeof N&&(N=N.ptr),ae&&"object"==typeof ae&&(ae=ae.ptr),or(ot,h,N,ae)},Wt.prototype.__destroy__=Wt.prototype.__destroy__=function(){_i(this.ptr)},(Gr.prototype=Object.create(cn.prototype)).constructor=Gr,Gr.prototype.__class__=Gr,Gr.__cache__={},c.ReaddirContext=Gr,Gr.prototype.Next=Gr.prototype.Next=function(){return ro(this.ptr)},Gr.prototype.GetEntry=Gr.prototype.GetEntry=function(){return Mn(ds(this.ptr),ai)},Gr.prototype.GetStatus=Gr.prototype.GetStatus=function(){return vo(this.ptr)},Gr.prototype.GetError=Gr.prototype.GetError=function(){return ml(this.ptr)},Gr.prototype.GetErrorDescription=Gr.prototype.GetErrorDescription=function(){return Gn(Na(this.ptr))},Gr.prototype.__destroy__=Gr.prototype.__destroy__=function(){jl(this.ptr)},(Rr.prototype=Object.create(cn.prototype)).constructor=Rr,Rr.prototype.__class__=Rr,Rr.__cache__={},c.ExportZipContext=Rr,Rr.prototype.AddFile=Rr.prototype.AddFile=function(h){var N=this.ptr;return ht.prepare(),h=h&&"object"==typeof h?h.ptr:$t(h),Mn(_l(N,h),Rr)},Rr.prototype.AddDirectory=Rr.prototype.AddDirectory=function(h){var N=this.ptr;return ht.prepare(),h=h&&"object"==typeof h?h.ptr:$t(h),Mn(gl(N,h),Rr)},Rr.prototype.Continue=Rr.prototype.Continue=function(){return ko(this.ptr)},Rr.prototype.GetState=Rr.prototype.GetState=function(){return vl(this.ptr)},Rr.prototype.GetZipContent=Rr.prototype.GetZipContent=function(){return Mn(Pa(this.ptr),Br)},Rr.prototype.GetZipSize=Rr.prototype.GetZipSize=function(){return da(this.ptr)},Rr.prototype.GetErrorItem=Rr.prototype.GetErrorItem=function(){return Gn(yl(this.ptr))},Rr.prototype.__destroy__=Rr.prototype.__destroy__=function(){Oa(this.ptr)},(Ti.prototype=Object.create(cn.prototype)).constructor=Ti,Ti.prototype.__class__=Ti,Ti.__cache__={},c.DeleteRecursiveContext=Ti,Ti.prototype.AddFile=Ti.prototype.AddFile=function(h){var N=this.ptr;return ht.prepare(),h=h&&"object"==typeof h?h.ptr:$t(h),Mn(Lr(N,h),Ti)},Ti.prototype.Continue=Ti.prototype.Continue=function(){return Qo(this.ptr)},Ti.prototype.GetState=Ti.prototype.GetState=function(){return La(this.ptr)},Ti.prototype.GetFailingPath=Ti.prototype.GetFailingPath=function(){return Gn(zl(this.ptr))},Ti.prototype.__destroy__=Ti.prototype.__destroy__=function(){bl(this.ptr)},(li.prototype=Object.create(cn.prototype)).constructor=li,li.prototype.__class__=li,li.__cache__={},c.UnzipContext=li,li.prototype.GetState=li.prototype.GetState=function(){return Gs(this.ptr)},li.prototype.Continue=li.prototype.Continue=function(){return fs(this.ptr)},li.prototype.ContinueWithOverwrite=li.prototype.ContinueWithOverwrite=function(){return hc(this.ptr)},li.prototype.GetCurrentEntry=li.prototype.GetCurrentEntry=function(){return Gn(Hl(this.ptr))},li.prototype.GetCollisionPath=li.prototype.GetCollisionPath=function(){return Gn(mc(this.ptr))},li.prototype.GetEntriesTotal=li.prototype.GetEntriesTotal=function(){return pa(this.ptr)},li.prototype.GetEntriesSuccess=li.prototype.GetEntriesSuccess=function(){return Vi(this.ptr)},li.prototype.__destroy__=li.prototype.__destroy__=function(){Sl(this.ptr)},(Nr.prototype=Object.create(cn.prototype)).constructor=Nr,Nr.prototype.__class__=Nr,Nr.__cache__={},c.PasteContext=Nr,Nr.prototype.AddFile=Nr.prototype.AddFile=function(h){var N=this.ptr;return ht.prepare(),h=h&&"object"==typeof h?h.ptr:$t(h),Mn(Jr(N,h),Nr)},Nr.prototype.SetDeleteAfterCopy=Nr.prototype.SetDeleteAfterCopy=function(h){return h&&"object"==typeof h&&(h=h.ptr),Mn(dt(this.ptr,h),Nr)},Nr.prototype.GetState=Nr.prototype.GetState=function(){return on(this.ptr)},Nr.prototype.Continue=Nr.prototype.Continue=function(){return zr(this.ptr)},Nr.prototype.ContinueWithOverwrite=Nr.prototype.ContinueWithOverwrite=function(){return Fi(this.ptr)},Nr.prototype.GetCurrentEntry=Nr.prototype.GetCurrentEntry=function(){return Gn(oi(this.ptr))},Nr.prototype.GetCollisionPath=Nr.prototype.GetCollisionPath=function(){return Gn(ps(this.ptr))},Nr.prototype.GetEntriesSuccess=Nr.prototype.GetEntriesSuccess=function(){return ha(this.ptr)},Nr.prototype.__destroy__=Nr.prototype.__destroy__=function(){ln(this.ptr)},$=un?c:new Promise((h,N)=>{cr=h,br=N});for(const h of Object.keys(c))h in q||Object.defineProperty(q,h,{configurable:!0,get(){jt(`Access to module property ('${h}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`)}});return $}));J.exports=P,J.exports.default=P},3016:(J,De,b)=>{"use strict";var E=b(840),P=E("Object.prototype.toString"),z=b(1459)(),q=b(7653);if(z){var $=E("Symbol.prototype.toString"),c=q(/^Symbol\(.*\)$/);J.exports=function(U){if("symbol"==typeof U)return!0;if(!U||"object"!=typeof U||"[object Symbol]"!==P(U))return!1;try{return function(U){return"symbol"==typeof U.valueOf()&&c($(U))}(U)}catch{return!1}}}else J.exports=function(U){return!1}},3028:(J,De,b)=>{"use strict";var E=b(5979),P=b(7308),z=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,q=/[\n\r\t]/g,$=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,G=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,I=/^[a-zA-Z]:/;function U(L){return(L||"").toString().replace(z,"")}var B=[["#","hash"],["?","query"],function(oe,xe){return M(xe.protocol)?oe.replace(/\\/g,"/"):oe},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],K={hash:1,query:1};function j(L){var oe;oe=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var le,Oe={},tt=typeof(L=L||oe.location||{});if("blob:"===L.protocol)Oe=new pe(unescape(L.pathname),{});else if("string"===tt)for(le in Oe=new pe(L,{}),K)delete Oe[le];else if("object"===tt){for(le in L)le in K||(Oe[le]=L[le]);void 0===Oe.slashes&&(Oe.slashes=$.test(L.href))}return Oe}function M(L){return"file:"===L||"ftp:"===L||"http:"===L||"https:"===L||"ws:"===L||"wss:"===L}function A(L,oe){L=(L=U(L)).replace(q,""),oe=oe||{};var Se,xe=G.exec(L),Oe=xe[1]?xe[1].toLowerCase():"",tt=!!xe[2],le=!!xe[3],Ae=0;return tt?le?(Se=xe[2]+xe[3]+xe[4],Ae=xe[2].length+xe[3].length):(Se=xe[2]+xe[4],Ae=xe[2].length):le?(Se=xe[3]+xe[4],Ae=xe[3].length):Se=xe[4],"file:"===Oe?Ae>=2&&(Se=Se.slice(2)):M(Oe)?Se=xe[4]:Oe?tt&&(Se=Se.slice(2)):Ae>=2&&M(oe.protocol)&&(Se=xe[4]),{protocol:Oe,slashes:tt||M(Oe),slashesCount:Ae,rest:Se}}function pe(L,oe,xe){if(L=(L=U(L)).replace(q,""),!(this instanceof pe))return new pe(L,oe,xe);var Oe,tt,le,Ae,Se,ge,we=B.slice(),W=typeof oe,ee=this,O=0;for("object"!==W&&"string"!==W&&(xe=oe,oe=null),xe&&"function"!=typeof xe&&(xe=P.parse),Oe=!(tt=A(L||"",oe=j(oe))).protocol&&!tt.slashes,ee.slashes=tt.slashes||Oe&&oe.slashes,ee.protocol=tt.protocol||oe.protocol||"",L=tt.rest,("file:"===tt.protocol&&(2!==tt.slashesCount||I.test(L))||!tt.slashes&&(tt.protocol||tt.slashesCount<2||!M(ee.protocol)))&&(we[3]=[/(.*)/,"pathname"]);O<we.length;O++)"function"!=typeof(Ae=we[O])?(ge=Ae[1],(le=Ae[0])!=le?ee[ge]=L:"string"==typeof le?~(Se="@"===le?L.lastIndexOf(le):L.indexOf(le))&&("number"==typeof Ae[2]?(ee[ge]=L.slice(0,Se),L=L.slice(Se+Ae[2])):(ee[ge]=L.slice(Se),L=L.slice(0,Se))):(Se=le.exec(L))&&(ee[ge]=Se[1],L=L.slice(0,Se.index)),ee[ge]=ee[ge]||Oe&&Ae[3]&&oe[ge]||"",Ae[4]&&(ee[ge]=ee[ge].toLowerCase())):L=Ae(L,ee);xe&&(ee.query=xe(ee.query)),Oe&&oe.slashes&&"/"!==ee.pathname.charAt(0)&&(""!==ee.pathname||""!==oe.pathname)&&(ee.pathname=function ue(L,oe){if(""===L)return oe;for(var xe=(oe||"/").split("/").slice(0,-1).concat(L.split("/")),Oe=xe.length,tt=xe[Oe-1],le=!1,Ae=0;Oe--;)"."===xe[Oe]?xe.splice(Oe,1):".."===xe[Oe]?(xe.splice(Oe,1),Ae++):Ae&&(0===Oe&&(le=!0),xe.splice(Oe,1),Ae--);return le&&xe.unshift(""),("."===tt||".."===tt)&&xe.push(""),xe.join("/")}(ee.pathname,oe.pathname)),"/"!==ee.pathname.charAt(0)&&M(ee.protocol)&&(ee.pathname="/"+ee.pathname),E(ee.port,ee.protocol)||(ee.host=ee.hostname,ee.port=""),ee.username=ee.password="",ee.auth&&(~(Se=ee.auth.indexOf(":"))?(ee.username=ee.auth.slice(0,Se),ee.username=encodeURIComponent(decodeURIComponent(ee.username)),ee.password=ee.auth.slice(Se+1),ee.password=encodeURIComponent(decodeURIComponent(ee.password))):ee.username=encodeURIComponent(decodeURIComponent(ee.auth)),ee.auth=ee.password?ee.username+":"+ee.password:ee.username),ee.origin="file:"!==ee.protocol&&M(ee.protocol)&&ee.host?ee.protocol+"//"+ee.host:"null",ee.href=ee.toString()}pe.prototype={set:function ve(L,oe,xe){var Oe=this;switch(L){case"query":"string"==typeof oe&&oe.length&&(oe=(xe||P.parse)(oe)),Oe[L]=oe;break;case"port":Oe[L]=oe,E(oe,Oe.protocol)?oe&&(Oe.host=Oe.hostname+":"+oe):(Oe.host=Oe.hostname,Oe[L]="");break;case"hostname":Oe[L]=oe,Oe.port&&(oe+=":"+Oe.port),Oe.host=oe;break;case"host":Oe[L]=oe,c.test(oe)?(oe=oe.split(":"),Oe.port=oe.pop(),Oe.hostname=oe.join(":")):(Oe.hostname=oe,Oe.port="");break;case"protocol":Oe.protocol=oe.toLowerCase(),Oe.slashes=!xe;break;case"pathname":case"hash":if(oe){var tt="pathname"===L?"/":"#";Oe[L]=oe.charAt(0)!==tt?tt+oe:oe}else Oe[L]=oe;break;case"username":case"password":Oe[L]=encodeURIComponent(oe);break;case"auth":var le=oe.indexOf(":");~le?(Oe.username=oe.slice(0,le),Oe.username=encodeURIComponent(decodeURIComponent(Oe.username)),Oe.password=oe.slice(le+1),Oe.password=encodeURIComponent(decodeURIComponent(Oe.password))):Oe.username=encodeURIComponent(decodeURIComponent(oe))}for(var Ae=0;Ae<B.length;Ae++){var Se=B[Ae];Se[4]&&(Oe[Se[1]]=Oe[Se[1]].toLowerCase())}return Oe.auth=Oe.password?Oe.username+":"+Oe.password:Oe.username,Oe.origin="file:"!==Oe.protocol&&M(Oe.protocol)&&Oe.host?Oe.protocol+"//"+Oe.host:"null",Oe.href=Oe.toString(),Oe},toString:function re(L){(!L||"function"!=typeof L)&&(L=P.stringify);var oe,xe=this,Oe=xe.host,tt=xe.protocol;tt&&":"!==tt.charAt(tt.length-1)&&(tt+=":");var le=tt+(xe.protocol&&xe.slashes||M(xe.protocol)?"//":"");return xe.username?(le+=xe.username,xe.password&&(le+=":"+xe.password),le+="@"):xe.password?(le+=":"+xe.password,le+="@"):"file:"!==xe.protocol&&M(xe.protocol)&&!Oe&&"/"!==xe.pathname&&(le+="@"),(":"===Oe[Oe.length-1]||c.test(xe.hostname)&&!xe.port)&&(Oe+=":"),le+=Oe+xe.pathname,(oe="object"==typeof xe.query?L(xe.query):xe.query)&&(le+="?"!==oe.charAt(0)?"?"+oe:oe),xe.hash&&(le+=xe.hash),le}},pe.extractProtocol=A,pe.location=j,pe.trimLeft=U,pe.qs=P,J.exports=pe},3066:(J,De,b)=>{"use strict";var E=b(6283),P=b(840),q=b(2521)("%ArrayBuffer%",!0),$=P("ArrayBuffer.prototype.byteLength",!0),c=P("Object.prototype.toString"),G=!!q&&!$&&new q(0).slice,I=!!G&&E(G);J.exports=$||I?function(B){if(!B||"object"!=typeof B)return!1;try{return $?$(B):I(B,0),!0}catch{return!1}}:q?function(B){return"[object ArrayBuffer]"===c(B)}:function(B){return!1}},3112:(J,De,b)=>{"use strict";b.d(De,{L:()=>P,a:()=>z,b:()=>q,c:()=>$,d:()=>c,g:()=>O}),b(5886);const P="ionViewWillEnter",z="ionViewDidEnter",q="ionViewWillLeave",$="ionViewDidLeave",c="ionViewWillUnload",O=Te=>Te.classList.contains("ion-page")?Te:Te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Te},3116:J=>{"use strict";J.exports=Math.floor},3286:J=>{"use strict";J.exports=ReferenceError},3460:(J,De,b)=>{"use strict";b.d(De,{E:()=>K,I:()=>I,a:()=>P,s:()=>U});var E=b(9335);const P=j=>{try{if(j instanceof I)return j.value;if(!$()||"string"!=typeof j||""===j)return j;if(j.includes("onload="))return"";const M=document.createDocumentFragment(),A=document.createElement("div");M.appendChild(A),A.innerHTML=j,G.forEach(re=>{const L=M.querySelectorAll(re);for(let oe=L.length-1;oe>=0;oe--){const xe=L[oe];xe.parentNode?xe.parentNode.removeChild(xe):M.removeChild(xe);const Oe=q(xe);for(let tt=0;tt<Oe.length;tt++)z(Oe[tt])}});const ue=q(M);for(let re=0;re<ue.length;re++)z(ue[re]);const pe=document.createElement("div");pe.appendChild(M);const ve=pe.querySelector("div");return null!==ve?ve.innerHTML:pe.innerHTML}catch(M){return(0,E.j)("sanitizeDOMString",M),""}},z=j=>{if(j.nodeType&&1!==j.nodeType)return;if(typeof NamedNodeMap<"u"&&!(j.attributes instanceof NamedNodeMap))return void j.remove();for(let A=j.attributes.length-1;A>=0;A--){const ue=j.attributes.item(A),pe=ue.name;if(!c.includes(pe.toLowerCase())){j.removeAttribute(pe);continue}const ve=ue.value,re=j[pe];(null!=ve&&ve.toLowerCase().includes("javascript:")||null!=re&&re.toLowerCase().includes("javascript:"))&&j.removeAttribute(pe)}const M=q(j);for(let A=0;A<M.length;A++)z(M[A])},q=j=>null!=j.children?j.children:j.childNodes,$=()=>{var j;const M=window,A=null===(j=M?.Ionic)||void 0===j?void 0:j.config;return!A||(A.get?A.get("sanitizerEnabled",!0):!0===A.sanitizerEnabled||void 0===A.sanitizerEnabled)},c=["class","id","href","src","name","slot"],G=["script","style","iframe","meta","link","object","embed"];class I{constructor(M){this.value=M}}const U=j=>{const M=window,A=M.Ionic;if(!A||!A.config||"Object"===A.config.constructor.name)return M.Ionic=M.Ionic||{},M.Ionic.config=Object.assign(Object.assign({},M.Ionic.config),j),M.Ionic.config},K=!1},3462:J=>{"use strict";J.exports=Math.min},3463:(J,De,b)=>{"use strict";var E=b(2521),P=b(6283),z=P(E("String.prototype.indexOf"));J.exports=function($,c){var G=E($,!!c);return"function"==typeof G&&z($,".prototype.")>-1?P(G):G}},3687:(J,De,b)=>{var E="function"==typeof Map&&Map.prototype,P=Object.getOwnPropertyDescriptor&&E?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,z=E&&P&&"function"==typeof P.get?P.get:null,q=E&&Map.prototype.forEach,$="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&$?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,G=$&&c&&"function"==typeof c.get?c.get:null,I=$&&Set.prototype.forEach,B="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,j="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,A="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,ue=Boolean.prototype.valueOf,pe=Object.prototype.toString,ve=Function.prototype.toString,re=String.prototype.match,L=String.prototype.slice,oe=String.prototype.replace,xe=String.prototype.toUpperCase,Oe=String.prototype.toLowerCase,tt=RegExp.prototype.test,le=Array.prototype.concat,Ae=Array.prototype.join,Se=Array.prototype.slice,ge=Math.floor,we="function"==typeof BigInt?BigInt.prototype.valueOf:null,W=Object.getOwnPropertySymbols,ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,O="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Te="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,be=Object.prototype.propertyIsEnumerable,ce=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ee){return Ee.__proto__}:null);function ye(Ee,Re){if(Ee===1/0||Ee===-1/0||Ee!=Ee||Ee&&Ee>-1e3&&Ee<1e3||tt.call(/e/,Re))return Re;var nn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Ee){var ir=Ee<0?-ge(-Ee):ge(Ee);if(ir!==Ee){var un=String(ir),an=L.call(Re,un.length+1);return oe.call(un,nn,"$&_")+"."+oe.call(oe.call(an,/([0-9]{3})/g,"$&_"),/_$/,"")}}return oe.call(Re,nn,"$&_")}var Ne=b(2634),Be=Ne.custom,Ce=On(Be)?Be:null,Ye={__proto__:null,double:'"',single:"'"},C={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function ke(Ee,Re,nn){var un=Ye[nn.quoteStyle||Re];return un+Ee+un}function He(Ee){return oe.call(String(Ee),/"/g,"&quot;")}function Ct(Ee){return!Te||!("object"==typeof Ee&&(Te in Ee||typeof Ee[Te]<"u"))}function Tt(Ee){return"[object Array]"===Ke(Ee)&&Ct(Ee)}function ut(Ee){return"[object RegExp]"===Ke(Ee)&&Ct(Ee)}function On(Ee){if(O)return Ee&&"object"==typeof Ee&&Ee instanceof Symbol;if("symbol"==typeof Ee)return!0;if(!Ee||"object"!=typeof Ee||!ee)return!1;try{return ee.call(Ee),!0}catch{}return!1}J.exports=function Ee(Re,nn,ir,un){var an=nn||{};if(Lt(an,"quoteStyle")&&!Lt(Ye,an.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Lt(an,"maxStringLength")&&("number"==typeof an.maxStringLength?an.maxStringLength<0&&an.maxStringLength!==1/0:null!==an.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Oi=!Lt(an,"customInspect")||an.customInspect;if("boolean"!=typeof Oi&&"symbol"!==Oi)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Lt(an,"indent")&&null!==an.indent&&"\t"!==an.indent&&!(parseInt(an.indent,10)===an.indent&&an.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Lt(an,"numericSeparator")&&"boolean"!=typeof an.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ii=an.numericSeparator;if(typeof Re>"u")return"undefined";if(null===Re)return"null";if("boolean"==typeof Re)return Re?"true":"false";if("string"==typeof Re)return cr(Re,an);if("number"==typeof Re){if(0===Re)return 1/0/Re>0?"0":"-0";var Kr=String(Re);return Ii?ye(Re,Kr):Kr}if("bigint"==typeof Re){var Ni=String(Re)+"n";return Ii?ye(Re,Ni):Ni}var qn=typeof an.depth>"u"?5:an.depth;if(typeof ir>"u"&&(ir=0),ir>=qn&&qn>0&&"object"==typeof Re)return Tt(Re)?"[Array]":"[Object]";var Er=function Gi(Ee,Re){var nn;if("\t"===Ee.indent)nn="\t";else{if(!("number"==typeof Ee.indent&&Ee.indent>0))return null;nn=Ae.call(Array(Ee.indent+1)," ")}return{base:nn,prev:Ae.call(Array(Re+1),nn)}}(an,ir);if(typeof un>"u")un=[];else if(ze(un,Re)>=0)return"[Circular]";function tr(xn,Ui,Xr){if(Ui&&(un=Se.call(un)).push(Ui),Xr){var ji={depth:an.depth};return Lt(an,"quoteStyle")&&(ji.quoteStyle=an.quoteStyle),Ee(xn,ji,ir+1,un)}return Ee(xn,an,ir+1,un)}if("function"==typeof Re&&!ut(Re)){var dn=function $e(Ee){if(Ee.name)return Ee.name;var Re=re.call(ve.call(Ee),/^function\s*([\w$]+)/);return Re?Re[1]:null}(Re),wo=Zt(Re,tr);return"[Function"+(dn?": "+dn:" (anonymous)")+"]"+(wo.length>0?" { "+Ae.call(wo,", ")+" }":"")}if(On(Re)){var Ko=O?oe.call(String(Re),/^(Symbol\(.*\))_[^)]*$/,"$1"):ee.call(Re);return"object"!=typeof Re||O?Ko:ur(Ko)}if(function $n(Ee){return!(!Ee||"object"!=typeof Ee)&&(typeof HTMLElement<"u"&&Ee instanceof HTMLElement||"string"==typeof Ee.nodeName&&"function"==typeof Ee.getAttribute)}(Re)){for(var jt="<"+Oe.call(String(Re.nodeName)),jn=Re.attributes||[],x=0;x<jn.length;x++)jt+=" "+jn[x].name+"="+ke(He(jn[x].value),"double",an);return jt+=">",Re.childNodes&&Re.childNodes.length&&(jt+="..."),jt+"</"+Oe.call(String(Re.nodeName))+">"}if(Tt(Re)){if(0===Re.length)return"[]";var Or=Zt(Re,tr);return Er&&!function Yr(Ee){for(var Re=0;Re<Ee.length;Re++)if(ze(Ee[Re],"\n")>=0)return!1;return!0}(Or)?"["+rt(Or,Er)+"]":"[ "+Ae.call(Or,", ")+" ]"}if(function At(Ee){return"[object Error]"===Ke(Ee)&&Ct(Ee)}(Re)){var ri=Zt(Re,tr);return"cause"in Error.prototype||!("cause"in Re)||be.call(Re,"cause")?0===ri.length?"["+String(Re)+"]":"{ ["+String(Re)+"] "+Ae.call(ri,", ")+" }":"{ ["+String(Re)+"] "+Ae.call(le.call("[cause]: "+tr(Re.cause),ri),", ")+" }"}if("object"==typeof Re&&Oi){if(Ce&&"function"==typeof Re[Ce]&&Ne)return Ne(Re,{depth:qn-ir});if("symbol"!==Oi&&"function"==typeof Re.inspect)return Re.inspect()}if(function gt(Ee){if(!z||!Ee||"object"!=typeof Ee)return!1;try{z.call(Ee);try{G.call(Ee)}catch{return!0}return Ee instanceof Map}catch{}return!1}(Re)){var Fs=[];return q&&q.call(Re,function(xn,Ui){Fs.push(tr(Ui,Re,!0)+" => "+tr(xn,Re))}),Sr("Map",z.call(Re),Fs,Er)}if(function Qe(Ee){if(!G||!Ee||"object"!=typeof Ee)return!1;try{G.call(Ee);try{z.call(Ee)}catch{return!0}return Ee instanceof Set}catch{}return!1}(Re)){var po=[];return I&&I.call(Re,function(xn){po.push(tr(xn,Re))}),Sr("Set",G.call(Re),po,Er)}if(function tn(Ee){if(!B||!Ee||"object"!=typeof Ee)return!1;try{B.call(Ee,B);try{j.call(Ee,j)}catch{return!0}return Ee instanceof WeakMap}catch{}return!1}(Re))return rr("WeakMap");if(function Wn(Ee){if(!j||!Ee||"object"!=typeof Ee)return!1;try{j.call(Ee,j);try{B.call(Ee,B)}catch{return!0}return Ee instanceof WeakSet}catch{}return!1}(Re))return rr("WeakSet");if(function Un(Ee){if(!A||!Ee||"object"!=typeof Ee)return!1;try{return A.call(Ee),!0}catch{}return!1}(Re))return rr("WeakRef");if(function Mt(Ee){return"[object Number]"===Ke(Ee)&&Ct(Ee)}(Re))return ur(tr(Number(Re)));if(function Ln(Ee){if(!Ee||"object"!=typeof Ee||!we)return!1;try{return we.call(Ee),!0}catch{}return!1}(Re))return ur(tr(we.call(Re)));if(function Gt(Ee){return"[object Boolean]"===Ke(Ee)&&Ct(Ee)}(Re))return ur(ue.call(Re));if(function lt(Ee){return"[object String]"===Ke(Ee)&&Ct(Ee)}(Re))return ur(tr(String(Re)));if(typeof window<"u"&&Re===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Re===globalThis||typeof global<"u"&&Re===global)return"{ [object globalThis] }";if(!function Nt(Ee){return"[object Date]"===Ke(Ee)&&Ct(Ee)}(Re)&&!ut(Re)){var Le=Zt(Re,tr),xi=ce?ce(Re)===Object.prototype:Re instanceof Object||Re.constructor===Object,Tr=Re instanceof Object?"":"null prototype",dr=!xi&&Te&&Object(Re)===Re&&Te in Re?L.call(Ke(Re),8,-1):Tr?"Object":"",is=(xi||"function"!=typeof Re.constructor?"":Re.constructor.name?Re.constructor.name+" ":"")+(dr||Tr?"["+Ae.call(le.call([],dr||[],Tr||[]),": ")+"] ":"");return 0===Le.length?is+"{}":Er?is+"{"+rt(Le,Er)+"}":is+"{ "+Ae.call(Le,", ")+" }"}return String(Re)};var hn=Object.prototype.hasOwnProperty||function(Ee){return Ee in this};function Lt(Ee,Re){return hn.call(Ee,Re)}function Ke(Ee){return pe.call(Ee)}function ze(Ee,Re){if(Ee.indexOf)return Ee.indexOf(Re);for(var nn=0,ir=Ee.length;nn<ir;nn++)if(Ee[nn]===Re)return nn;return-1}function cr(Ee,Re){if(Ee.length>Re.maxStringLength){var nn=Ee.length-Re.maxStringLength,ir="... "+nn+" more character"+(nn>1?"s":"");return cr(L.call(Ee,0,Re.maxStringLength),Re)+ir}var un=C[Re.quoteStyle||"single"];return un.lastIndex=0,ke(oe.call(oe.call(Ee,un,"\\$1"),/[\x00-\x1f]/g,br),"single",Re)}function br(Ee){var Re=Ee.charCodeAt(0),nn={8:"b",9:"t",10:"n",12:"f",13:"r"}[Re];return nn?"\\"+nn:"\\x"+(Re<16?"0":"")+xe.call(Re.toString(16))}function ur(Ee){return"Object("+Ee+")"}function rr(Ee){return Ee+" { ? }"}function Sr(Ee,Re,nn,ir){return Ee+" ("+Re+") {"+(ir?rt(nn,ir):Ae.call(nn,", "))+"}"}function rt(Ee,Re){if(0===Ee.length)return"";var nn="\n"+Re.prev+Re.base;return nn+Ae.call(Ee,","+nn)+"\n"+Re.prev}function Zt(Ee,Re){var nn=Tt(Ee),ir=[];if(nn){ir.length=Ee.length;for(var un=0;un<Ee.length;un++)ir[un]=Lt(Ee,un)?Re(Ee[un],Ee):""}var Oi,an="function"==typeof W?W(Ee):[];if(O){Oi={};for(var Ii=0;Ii<an.length;Ii++)Oi["$"+an[Ii]]=an[Ii]}for(var Kr in Ee)Lt(Ee,Kr)&&(nn&&String(Number(Kr))===Kr&&Kr<Ee.length||O&&Oi["$"+Kr]instanceof Symbol||(tt.call(/[^\w$]/,Kr)?ir.push(Re(Kr,Ee)+": "+Re(Ee[Kr],Ee)):ir.push(Kr+": "+Re(Ee[Kr],Ee))));if("function"==typeof W)for(var Ni=0;Ni<an.length;Ni++)be.call(Ee,an[Ni])&&ir.push("["+Re(an[Ni])+"]: "+Re(Ee[an[Ni]],Ee));return ir}},3889:(J,De,b)=>{"use strict";var E=Function.prototype.call,P=Object.prototype.hasOwnProperty,z=b(7707);J.exports=z.call(E,P)},3933:J=>{"use strict";var b=Object.prototype.toString,E=Math.max,z=function(G,I){for(var U=[],B=0;B<G.length;B+=1)U[B]=G[B];for(var K=0;K<I.length;K+=1)U[K+G.length]=I[K];return U};J.exports=function(G){var I=this;if("function"!=typeof I||"[object Function]"!==b.apply(I))throw new TypeError("Function.prototype.bind called on incompatible "+I);for(var B,U=function(G){for(var U=[],B=1,K=0;B<G.length;B+=1,K+=1)U[K]=G[B];return U}(arguments),j=E(0,I.length-U.length),M=[],A=0;A<j;A++)M[A]="$"+A;if(B=Function("binder","return function ("+function(c){for(var I="",U=0;U<c.length;U+=1)I+=c[U],U+1<c.length&&(I+=",");return I}(M)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof B){var pe=I.apply(this,z(U,arguments));return Object(pe)===pe?pe:this}return I.apply(G,z(U,arguments))}),I.prototype){var ue=function(){};ue.prototype=I.prototype,B.prototype=new ue,ue.prototype=null}return B}},3948:(J,De)=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});var b=[];b[0]=function(){return function(){}},b[1]=function(q,$){return typeof $>"u"?q:function(G){q(G,$)}};var z=function(){function q(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return q.prototype.addHandler=function($,c){return this.isHandlerAttached($,c)||(this._handlers.push($),this._contexts.push(c),this._createDispatcher(),this._updateHasHandlers()),this},q.prototype.removeHandler=function($,c){var G=this._getHandlerIndex($,c);return typeof G<"u"&&(this._handlers.splice(G,1),this._contexts.splice(G,1),this._createDispatcher(),this._updateHasHandlers()),this},q.prototype.isHandlerAttached=function($,c){return typeof this._getHandlerIndex($,c)<"u"},q.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},q.prototype._getHandlerIndex=function($,c){var I,G=this._handlers.length;for(I=0;I<G&&(this._handlers[I]!==$||this._contexts[I]!==c);I++);return I<G?I:void 0},q.prototype._createDispatcher=function(){this.dispatch=function E(q){return b[q]||(b[q]=function P(q){for(var $="return function dispatcher"+q+"(payload) {\n",c=[],G=[],I=0;I<q;I++)c.push("cb"+I),G.push("ctx"+I),$+="    cb"+I+"(payload, ctx"+I+");\n";return $+="};",new(Function.bind.apply(Function,[void 0].concat(c.concat(G),[$])))}(q)),b[q]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},q}();De.default=z},3996:J=>{"use strict";J.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null},4198:(J,De,b)=>{"use strict";var E=b(1143),P=b(592).supportsDescriptors,z=Object.getOwnPropertyDescriptor;J.exports=function(){if(P&&"gim"===/a/gim.flags){var $=z(RegExp.prototype,"flags");if($&&"function"==typeof $.get&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var c="",G={};if(Object.defineProperty(G,"hasIndices",{get:function(){c+="d"}}),Object.defineProperty(G,"sticky",{get:function(){c+="y"}}),$.get.call(G),"dy"===c)return $.get}}return E}},4880:J=>{"use strict";J.exports=SyntaxError},4896:(J,De,b)=>{"use strict";b.r(De),b.d(De,{MENU_BACK_BUTTON_PRIORITY:()=>I,OVERLAY_BACK_BUTTON_PRIORITY:()=>G,blockHardwareBackButton:()=>$,shouldUseCloseWatcher:()=>q,startHardwareBackButton:()=>c});var E=b(1890),P=b(575),z=b(9335);const q=()=>z.e.get("experimentalCloseWatcher",!1)&&void 0!==P.w&&"CloseWatcher"in P.w,$=()=>{document.addEventListener("backbutton",()=>{})},c=()=>{const U=document;let B=!1;const K=()=>{if(B)return;let j=0,M=[];const A=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ve,re){M.push({priority:ve,handler:re,id:j++})}}});U.dispatchEvent(A);const ue=function(){var ve=(0,E.A)(function*(re){try{if(re?.handler){const L=re.handler(pe);null!=L&&(yield L)}}catch(L){(0,z.j)("[ion-app] - Exception in startHardwareBackButton:",L)}});return function(L){return ve.apply(this,arguments)}}(),pe=()=>{if(M.length>0){let ve={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};M.forEach(re=>{re.priority>=ve.priority&&(ve=re)}),B=!0,M=M.filter(re=>re.id!==ve.id),ue(ve).then(()=>B=!1)}};pe()};if(q()){let j;const M=()=>{j?.destroy(),j=new P.w.CloseWatcher,j.onclose=()=>{K(),M()}};M()}else U.addEventListener("backbutton",K)},G=100,I=99},5e3:J=>{function De(E,P,z,q,$,c,G){try{var I=E[c](G),U=I.value}catch(B){return void z(B)}I.done?P(U):Promise.resolve(U).then(q,$)}J.exports=function b(E){return function(){var P=this,z=arguments;return new Promise(function(q,$){var c=E.apply(P,z);function G(U){De(c,q,$,G,I,"next",U)}function I(U){De(c,q,$,G,I,"throw",U)}G(void 0)})}},J.exports.__esModule=!0,J.exports.default=J.exports},5028:(J,De,b)=>{"use strict";var E=b(2521),P=b(840),z=E("%WeakSet%",!0),q=P("WeakSet.prototype.has",!0);if(q){var $=P("WeakMap.prototype.has",!0);J.exports=function(G){if(!G||"object"!=typeof G)return!1;try{if(q(G,q),$)try{$(G,$)}catch{return!0}return G instanceof z}catch{}return!1}}else J.exports=function(G){return!1}},5124:(J,De,b)=>{"use strict";var E=b(7707),P=b(814),z=b(7648),q=b(8963);J.exports=q||E.call(z,P)},5217:J=>{"use strict";var E,De="function"==typeof Map&&Map.prototype?Map:null,b="function"==typeof Set&&Set.prototype?Set:null;De||(E=function($){return!1});var P=De?Map.prototype.has:null,z=b?Set.prototype.has:null;!E&&!P&&(E=function($){return!1}),J.exports=E||function($){if(!$||"object"!=typeof $)return!1;try{if(P.call($),z)try{z.call($)}catch{return!0}return $ instanceof De}catch{}return!1}},5328:(J,De,b)=>{"use strict";var E=b(6497);J.exports=function(){return E()&&!!Symbol.toStringTag}},5370:J=>{"use strict";var De=function(){return"string"==typeof function(){}.name},b=Object.getOwnPropertyDescriptor;if(b)try{b([],"length")}catch{b=null}De.functionsHaveConfigurableNames=function(){if(!De()||!b)return!1;var z=b(function(){},"name");return!!z&&!!z.configurable};var E=Function.prototype.bind;De.boundFunctionsHaveNames=function(){return De()&&"function"==typeof E&&""!==function(){}.bind().name},J.exports=De},5492:(J,De,b)=>{"use strict";var E=b(8519),P=b(3687),z=b(863),q=b(2375),c=b(603)||q||z;J.exports=function(){var I,U={assert:function(B){if(!U.has(B))throw new E("Side channel does not contain "+P(B))},delete:function(B){return!!I&&I.delete(B)},get:function(B){return I&&I.get(B)},has:function(B){return!!I&&I.has(B)},set:function(B,K){I||(I=c()),I.set(B,K)}};return U}},5500:(J,De,b)=>{"use strict";var E=b(840),P=E("Date.prototype.getDay"),q=E("Object.prototype.toString"),c=b(5328)();J.exports=function(I){return"object"==typeof I&&null!==I&&(c?function(I){try{return P(I),!0}catch{return!1}}(I):"[object Date]"===q(I))}},5557:(J,De,b)=>{"use strict";var E=b(2521),P=b(1197),z=b(6652)(),q=b(9263),$=b(8519),c=E("%Math.floor%");J.exports=function(I,U){if("function"!=typeof I)throw new $("`fn` is not a function");if("number"!=typeof U||U<0||U>4294967295||c(U)!==U)throw new $("`length` must be a positive 32-bit integer");var B=arguments.length>2&&!!arguments[2],K=!0,j=!0;if("length"in I&&q){var M=q(I,"length");M&&!M.configurable&&(K=!1),M&&!M.writable&&(j=!1)}return(K||j||!B)&&(z?P(I,"length",U,!0,!0):P(I,"length",U)),I}},5712:(J,De,b)=>{"use strict";var E=b(2179),P=b(4880),z="object"==typeof StopIteration?StopIteration:null;J.exports=function($){if(!z)throw new P("this environment lacks StopIteration");E.set($,"[[Done]]",!1);var c={next:function(){var I=E.get(this,"[[Iterator]]"),U=!!E.get(I,"[[Done]]");try{return{done:U,value:U?void 0:I.next()}}catch(B){if(E.set(I,"[[Done]]",!0),B!==z)throw B;return{done:!0,value:void 0}}}};return E.set(c,"[[Iterator]]",$),c}},5714:J=>{"use strict";J.exports=Math.round},5757:(J,De,b)=>{"use strict";var E=b(5217),P=b(9116),z=b(9462),q=b(5028);J.exports=function(c){if(c&&"object"==typeof c){if(E(c))return"Map";if(P(c))return"Set";if(z(c))return"WeakMap";if(q(c))return"WeakSet"}return!1}},5796:(J,De,b)=>{"use strict";var E=b(9110),P=b(592);J.exports=function(){var q=E();return P(Object,{is:q},{is:function(){return Object.is!==q}}),q}},5827:(J,De,b)=>{"use strict";b.d(De,{C:()=>$,a:()=>z,d:()=>q});var E=b(1890),P=b(6721);const z=function(){var c=(0,E.A)(function*(G,I,U,B,K,j){var M;if(G)return G.attachViewToDom(I,U,K,B);if(!(j||"string"==typeof U||U instanceof HTMLElement))throw new Error("framework delegate is missing");const A="string"==typeof U?null===(M=I.ownerDocument)||void 0===M?void 0:M.createElement(U):U;return B&&B.forEach(ue=>A.classList.add(ue)),K&&Object.assign(A,K),I.appendChild(A),yield new Promise(ue=>(0,P.c)(A,ue)),A});return function(I,U,B,K,j,M){return c.apply(this,arguments)}}(),q=(c,G)=>{if(G){if(c)return c.removeViewFromDom(G.parentElement,G);G.remove()}return Promise.resolve()},$=()=>{let c,G;return{attachViewToDom:function(){var B=(0,E.A)(function*(K,j,M={},A=[]){var ue,pe;let ve;if(c=K,j){const L="string"==typeof j?null===(ue=c.ownerDocument)||void 0===ue?void 0:ue.createElement(j):j;A.forEach(oe=>L.classList.add(oe)),Object.assign(L,M),c.appendChild(L),ve=L,yield new Promise(oe=>(0,P.c)(L,oe))}else if(c.children.length>0&&("ION-MODAL"===c.tagName||"ION-POPOVER"===c.tagName)&&!(ve=c.children[0]).classList.contains("ion-delegate-host")){const oe=null===(pe=c.ownerDocument)||void 0===pe?void 0:pe.createElement("div");oe.classList.add("ion-delegate-host"),A.forEach(xe=>oe.classList.add(xe)),oe.append(...c.children),c.appendChild(oe),ve=oe}const re=document.querySelector("ion-app")||document.body;return G=document.createComment("ionic teleport"),c.parentNode.insertBefore(G,c),re.appendChild(c),ve??c});return function(j,M){return B.apply(this,arguments)}}(),removeViewFromDom:()=>(c&&G&&(G.parentNode.insertBefore(c,G),G.remove()),Promise.resolve())}}},5831:(J,De,b)=>{"use strict";var $,E=b(840),P=b(5328)(),z=b(3889),q=b(9263);if(P){var c=E("RegExp.prototype.exec"),G={},I=function(){throw G},U={toString:I,valueOf:I};"symbol"==typeof Symbol.toPrimitive&&(U[Symbol.toPrimitive]=I),$=function(M){if(!M||"object"!=typeof M)return!1;var A=q(M,"lastIndex");if(!A||!z(A,"value"))return!1;try{c(M,U)}catch(pe){return pe===G}}}else{var B=E("Object.prototype.toString");$=function(M){return!(!M||"object"!=typeof M&&"function"!=typeof M)&&"[object RegExp]"===B(M)}}J.exports=$},5860:(J,De,b)=>{"use strict";b.r(De),b.d(De,{GESTURE_CONTROLLER:()=>E.G,createGesture:()=>U});var E=b(566);const P=(M,A,ue,pe)=>{const ve=!!z(M)&&{capture:!1,passive:!!pe.passive};let re,L;return M.__zone_symbol__addEventListener?(re="__zone_symbol__addEventListener",L="__zone_symbol__removeEventListener"):(re="addEventListener",L="removeEventListener"),M[re](A,ue,ve),()=>{M[L](A,ue,ve)}},z=M=>{if(void 0===q)try{const A=Object.defineProperty({},"passive",{get:()=>{q=!0}});M.addEventListener("optsTest",()=>{},A)}catch{q=!1}return!!q};let q;const G=M=>M instanceof Document?M:M.ownerDocument,U=M=>{let A=!1,ue=!1,pe=!0,ve=!1;const re=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},M),L=re.canStart,oe=re.onWillStart,xe=re.onStart,Oe=re.onEnd,tt=re.notCaptured,le=re.onMove,Ae=re.threshold,Se=re.passive,ge=re.blurOnStart,we={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},W=((M,A,ue)=>{const pe=ue*(Math.PI/180),ve="x"===M,re=Math.cos(pe),L=A*A;let oe=0,xe=0,Oe=!1,tt=0;return{start(le,Ae){oe=le,xe=Ae,tt=0,Oe=!0},detect(le,Ae){if(!Oe)return!1;const Se=le-oe,ge=Ae-xe,we=Se*Se+ge*ge;if(we<L)return!1;const W=Math.sqrt(we),ee=(ve?Se:ge)/W;return tt=ee>re?1:ee<-re?-1:0,Oe=!1,!0},isGesture:()=>0!==tt,getDirection:()=>tt}})(re.direction,re.threshold,re.maxAngle),ee=E.G.createGesture({name:M.gestureName,priority:M.gesturePriority,disableScroll:M.disableScroll}),be=()=>{A&&(ve=!1,le&&le(we))},ce=()=>!!ee.capture()&&(A=!0,pe=!1,we.startX=we.currentX,we.startY=we.currentY,we.startTime=we.currentTime,oe?oe(we).then(Ne):Ne(),!0),Ne=()=>{ge&&(()=>{if(typeof document<"u"){const ke=document.activeElement;ke?.blur&&ke.blur()}})(),xe&&xe(we),pe=!0},Be=()=>{A=!1,ue=!1,ve=!1,pe=!0,ee.release()},Ce=ke=>{const He=A,Ct=pe;if(Be(),Ct){if(B(we,ke),He)return void(Oe&&Oe(we));tt&&tt(we)}},Ye=((M,A,ue,pe,ve)=>{let re,L,oe,xe,Oe,tt,le,Ae=0;const Se=ye=>{Ae=Date.now()+2e3,A(ye)&&(!L&&ue&&(L=P(M,"touchmove",ue,ve)),oe||(oe=P(ye.target,"touchend",we,ve)),xe||(xe=P(ye.target,"touchcancel",we,ve)))},ge=ye=>{Ae>Date.now()||A(ye)&&(!tt&&ue&&(tt=P(G(M),"mousemove",ue,ve)),le||(le=P(G(M),"mouseup",W,ve)))},we=ye=>{ee(),pe&&pe(ye)},W=ye=>{O(),pe&&pe(ye)},ee=()=>{L&&L(),oe&&oe(),xe&&xe(),L=oe=xe=void 0},O=()=>{tt&&tt(),le&&le(),tt=le=void 0},Te=()=>{ee(),O()},be=(ye=!0)=>{ye?(re||(re=P(M,"touchstart",Se,ve)),Oe||(Oe=P(M,"mousedown",ge,ve))):(re&&re(),Oe&&Oe(),re=Oe=void 0,Te())};return{enable:be,stop:Te,destroy:()=>{be(!1),pe=ue=A=void 0}}})(re.el,ke=>{const He=j(ke);return!(ue||!pe||(K(ke,we),we.startX=we.currentX,we.startY=we.currentY,we.startTime=we.currentTime=He,we.velocityX=we.velocityY=we.deltaX=we.deltaY=0,we.event=ke,L&&!1===L(we))||(ee.release(),!ee.start()))&&(ue=!0,0===Ae?ce():(W.start(we.startX,we.startY),!0))},ke=>{A?!ve&&pe&&(ve=!0,B(we,ke),requestAnimationFrame(be)):(B(we,ke),W.detect(we.currentX,we.currentY)&&(!W.isGesture()||!ce())&&C())},Ce,{passive:Se}),C=()=>{Be(),Ye.stop(),tt&&tt(we)};return{enable(ke=!0){ke||(A&&Ce(void 0),Be()),Ye.enable(ke)},destroy(){ee.destroy(),Ye.destroy()}}},B=(M,A)=>{if(!A)return;const ue=M.currentX,pe=M.currentY,ve=M.currentTime;K(A,M);const re=M.currentX,L=M.currentY,xe=(M.currentTime=j(A))-ve;if(xe>0&&xe<100){const tt=(L-pe)/xe;M.velocityX=(re-ue)/xe*.7+.3*M.velocityX,M.velocityY=.7*tt+.3*M.velocityY}M.deltaX=re-M.startX,M.deltaY=L-M.startY,M.event=A},K=(M,A)=>{let ue=0,pe=0;if(M){const ve=M.changedTouches;if(ve&&ve.length>0){const re=ve[0];ue=re.clientX,pe=re.clientY}else void 0!==M.pageX&&(ue=M.pageX,pe=M.pageY)}A.currentX=ue,A.currentY=pe},j=M=>M.timeStamp||Date.now()},5886:(J,De,b)=>{"use strict";b.d(De,{a:()=>K,c:()=>P,p:()=>B});class E{constructor(){this.m=new Map}reset(A){this.m=new Map(Object.entries(A))}get(A,ue){const pe=this.m.get(A);return void 0!==pe?pe:ue}getBoolean(A,ue=!1){const pe=this.m.get(A);return void 0===pe?ue:"string"==typeof pe?"true"===pe:!!pe}getNumber(A,ue){const pe=parseFloat(this.m.get(A));return isNaN(pe)?void 0!==ue?ue:NaN:pe}set(A,ue){this.m.set(A,ue)}}const P=new E;var U=function(M){return M.OFF="OFF",M.ERROR="ERROR",M.WARN="WARN",M}(U||{});const B=(M,...A)=>{const ue=P.get("logLevel",U.WARN);if([U.WARN].includes(ue))return console.warn(`[Ionic Warning]: ${M}`,...A)},K=(M,...A)=>{const ue=P.get("logLevel",U.ERROR);if([U.ERROR,U.WARN].includes(ue))return console.error(`[Ionic Error]: ${M}`,...A)}},5979:J=>{"use strict";J.exports=function(b,E){if(E=E.split(":")[0],!(b=+b))return!1;switch(E){case"http":case"ws":return 80!==b;case"https":case"wss":return 443!==b;case"ftp":return 21!==b;case"gopher":return 70!==b;case"file":return!1}return 0!==b}},5989:(J,De,b)=>{"use strict";b.d(De,{m:()=>M});var E=b(1890),P=b(575),z=b(4896),q=b(9335),$=b(6721),c=b(9919),G=b(7133);const I=A=>(0,G.c)().duration(A?400:300),U=A=>{let ue,pe;const ve=A.width+8,re=(0,G.c)(),L=(0,G.c)();A.isEndSide?(ue=ve+"px",pe="0px"):(ue=-ve+"px",pe="0px"),re.addElement(A.menuInnerEl).fromTo("transform",`translateX(${ue})`,`translateX(${pe})`);const xe="ios"===(0,c.b)(A),Oe=xe?.2:.25;return L.addElement(A.backdropEl).fromTo("opacity",.01,Oe),I(xe).addAnimation([re,L])},B=A=>{let ue,pe;const ve=(0,c.b)(A),re=A.width;A.isEndSide?(ue=-re+"px",pe=re+"px"):(ue=re+"px",pe=-re+"px");const L=(0,G.c)().addElement(A.menuInnerEl).fromTo("transform",`translateX(${pe})`,"translateX(0px)"),oe=(0,G.c)().addElement(A.contentEl).fromTo("transform","translateX(0px)",`translateX(${ue})`),xe=(0,G.c)().addElement(A.backdropEl).fromTo("opacity",.01,.32);return I("ios"===ve).addAnimation([L,oe,xe])},K=A=>{const ue=(0,c.b)(A),pe=A.width*(A.isEndSide?-1:1)+"px",ve=(0,G.c)().addElement(A.contentEl).fromTo("transform","translateX(0px)",`translateX(${pe})`);return I("ios"===ue).addAnimation(ve)},M=(()=>{const A=new Map,ue=[],pe=function(){var Be=(0,E.A)(function*(Ce){const Ye=yield tt(Ce,!0);return!!Ye&&Ye.open()});return function(Ye){return Be.apply(this,arguments)}}(),ve=function(){var Be=(0,E.A)(function*(Ce){const Ye=yield void 0!==Ce?tt(Ce,!0):le();return void 0!==Ye&&Ye.close()});return function(Ye){return Be.apply(this,arguments)}}(),re=function(){var Be=(0,E.A)(function*(Ce){const Ye=yield tt(Ce,!0);return!!Ye&&Ye.toggle()});return function(Ye){return Be.apply(this,arguments)}}(),L=function(){var Be=(0,E.A)(function*(Ce,Ye){const C=yield tt(Ye);return C&&(C.disabled=!Ce),C});return function(Ye,C){return Be.apply(this,arguments)}}(),oe=function(){var Be=(0,E.A)(function*(Ce,Ye){const C=yield tt(Ye);return C&&(C.swipeGesture=Ce),C});return function(Ye,C){return Be.apply(this,arguments)}}(),xe=function(){var Be=(0,E.A)(function*(Ce){if(null!=Ce){const Ye=yield tt(Ce);return void 0!==Ye&&Ye.isOpen()}return void 0!==(yield le())});return function(Ye){return Be.apply(this,arguments)}}(),Oe=function(){var Be=(0,E.A)(function*(Ce){const Ye=yield tt(Ce);return!!Ye&&!Ye.disabled});return function(Ye){return Be.apply(this,arguments)}}(),tt=function(){var Be=(0,E.A)(function*(Ce,Ye=!1){if(yield Ne(),"start"===Ce||"end"===Ce){const ke=ue.filter(Ct=>Ct.side===Ce&&!Ct.disabled);if(ke.length>=1)return ke.length>1&&Ye&&(0,q.f)(`menuController queried for a menu on the "${Ce}" side, but ${ke.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,ke.map(Ct=>Ct.el)),ke[0].el;const He=ue.filter(Ct=>Ct.side===Ce);if(He.length>=1)return He.length>1&&Ye&&(0,q.f)(`menuController queried for a menu on the "${Ce}" side, but ${He.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,He.map(Ct=>Ct.el)),He[0].el}else if(null!=Ce)return ye(ke=>ke.menuId===Ce);return ye(ke=>!ke.disabled)||(ue.length>0?ue[0].el:void 0)});return function(Ye){return Be.apply(this,arguments)}}(),le=function(){var Be=(0,E.A)(function*(){return yield Ne(),Te()});return function(){return Be.apply(this,arguments)}}(),Ae=function(){var Be=(0,E.A)(function*(){return yield Ne(),be()});return function(){return Be.apply(this,arguments)}}(),Se=function(){var Be=(0,E.A)(function*(){return yield Ne(),ce()});return function(){return Be.apply(this,arguments)}}(),ge=(Be,Ce)=>{A.set(Be,Ce)},ee=function(){var Be=(0,E.A)(function*(Ce,Ye,C,ke){if(ce())return!1;if(Ye){const He=yield le();He&&Ce.el!==He&&(yield He.setOpen(!1,!1))}return Ce._setOpen(Ye,C,ke)});return function(Ye,C,ke,He){return Be.apply(this,arguments)}}(),Te=()=>ye(Be=>Be._isOpen),be=()=>ue.map(Be=>Be.el),ce=()=>ue.some(Be=>Be.isAnimating),ye=Be=>{const Ce=ue.find(Be);if(void 0!==Ce)return Ce.el},Ne=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Be=>new Promise(Ce=>(0,$.c)(Be,Ce))));return ge("reveal",K),ge("push",B),ge("overlay",U),null==P.d||P.d.addEventListener("ionBackButton",Be=>{const Ce=Te();Ce&&Be.detail.register(z.MENU_BACK_BUTTON_PRIORITY,()=>Ce.close())}),{registerAnimation:ge,get:tt,getMenus:Ae,getOpen:le,isEnabled:Oe,swipeGesture:oe,isAnimating:Se,isOpen:xe,enable:L,toggle:re,close:ve,open:pe,_getOpenSync:Te,_createAnimation:(Be,Ce)=>{const Ye=A.get(Be);if(!Ye)throw new Error("animation not registered");return Ye(Ce)},_register:Be=>{ue.indexOf(Be)<0&&ue.push(Be)},_unregister:Be=>{const Ce=ue.indexOf(Be);Ce>-1&&ue.splice(Ce,1)},_setOpen:ee}})()},6062:(J,De,b)=>{"use strict";var E=b(7268),P=Object.prototype.toString,z=Object.prototype.hasOwnProperty;J.exports=function(U,B,K){if(!E(B))throw new TypeError("iterator must be a function");var j;arguments.length>=3&&(j=K),function G(I){return"[object Array]"===P.call(I)}(U)?function(U,B,K){for(var j=0,M=U.length;j<M;j++)z.call(U,j)&&(null==K?B(U[j],j,U):B.call(K,U[j],j,U))}(U,B,j):"string"==typeof U?function(U,B,K){for(var j=0,M=U.length;j<M;j++)null==K?B(U.charAt(j),j,U):B.call(K,U.charAt(j),j,U)}(U,B,j):function(U,B,K){for(var j in U)z.call(U,j)&&(null==K?B(U[j],j,U):B.call(K,U[j],j,U))}(U,B,j)}},6243:(J,De,b)=>{var E,P,z,q,$;E=b(7031),P=b(8251).utf8,z=b(2490),q=b(8251).bin,($=function(c,G){c.constructor==String?c=G&&"binary"===G.encoding?q.stringToBytes(c):P.stringToBytes(c):z(c)?c=Array.prototype.slice.call(c,0):!Array.isArray(c)&&c.constructor!==Uint8Array&&(c=c.toString());for(var I=E.bytesToWords(c),U=8*c.length,B=1732584193,K=-271733879,j=-1732584194,M=271733878,A=0;A<I.length;A++)I[A]=16711935&(I[A]<<8|I[A]>>>24)|4278255360&(I[A]<<24|I[A]>>>8);I[U>>>5]|=128<<U%32,I[14+(U+64>>>9<<4)]=U;var ue=$._ff,pe=$._gg,ve=$._hh,re=$._ii;for(A=0;A<I.length;A+=16){var L=B,oe=K,xe=j,Oe=M;B=ue(B,K,j,M,I[A+0],7,-680876936),M=ue(M,B,K,j,I[A+1],12,-389564586),j=ue(j,M,B,K,I[A+2],17,606105819),K=ue(K,j,M,B,I[A+3],22,-1044525330),B=ue(B,K,j,M,I[A+4],7,-176418897),M=ue(M,B,K,j,I[A+5],12,1200080426),j=ue(j,M,B,K,I[A+6],17,-1473231341),K=ue(K,j,M,B,I[A+7],22,-45705983),B=ue(B,K,j,M,I[A+8],7,1770035416),M=ue(M,B,K,j,I[A+9],12,-1958414417),j=ue(j,M,B,K,I[A+10],17,-42063),K=ue(K,j,M,B,I[A+11],22,-1990404162),B=ue(B,K,j,M,I[A+12],7,1804603682),M=ue(M,B,K,j,I[A+13],12,-40341101),j=ue(j,M,B,K,I[A+14],17,-1502002290),B=pe(B,K=ue(K,j,M,B,I[A+15],22,1236535329),j,M,I[A+1],5,-165796510),M=pe(M,B,K,j,I[A+6],9,-1069501632),j=pe(j,M,B,K,I[A+11],14,643717713),K=pe(K,j,M,B,I[A+0],20,-373897302),B=pe(B,K,j,M,I[A+5],5,-701558691),M=pe(M,B,K,j,I[A+10],9,38016083),j=pe(j,M,B,K,I[A+15],14,-660478335),K=pe(K,j,M,B,I[A+4],20,-405537848),B=pe(B,K,j,M,I[A+9],5,568446438),M=pe(M,B,K,j,I[A+14],9,-1019803690),j=pe(j,M,B,K,I[A+3],14,-187363961),K=pe(K,j,M,B,I[A+8],20,1163531501),B=pe(B,K,j,M,I[A+13],5,-1444681467),M=pe(M,B,K,j,I[A+2],9,-51403784),j=pe(j,M,B,K,I[A+7],14,1735328473),B=ve(B,K=pe(K,j,M,B,I[A+12],20,-1926607734),j,M,I[A+5],4,-378558),M=ve(M,B,K,j,I[A+8],11,-2022574463),j=ve(j,M,B,K,I[A+11],16,1839030562),K=ve(K,j,M,B,I[A+14],23,-35309556),B=ve(B,K,j,M,I[A+1],4,-1530992060),M=ve(M,B,K,j,I[A+4],11,1272893353),j=ve(j,M,B,K,I[A+7],16,-155497632),K=ve(K,j,M,B,I[A+10],23,-1094730640),B=ve(B,K,j,M,I[A+13],4,681279174),M=ve(M,B,K,j,I[A+0],11,-358537222),j=ve(j,M,B,K,I[A+3],16,-722521979),K=ve(K,j,M,B,I[A+6],23,76029189),B=ve(B,K,j,M,I[A+9],4,-640364487),M=ve(M,B,K,j,I[A+12],11,-421815835),j=ve(j,M,B,K,I[A+15],16,530742520),B=re(B,K=ve(K,j,M,B,I[A+2],23,-995338651),j,M,I[A+0],6,-198630844),M=re(M,B,K,j,I[A+7],10,1126891415),j=re(j,M,B,K,I[A+14],15,-1416354905),K=re(K,j,M,B,I[A+5],21,-57434055),B=re(B,K,j,M,I[A+12],6,1700485571),M=re(M,B,K,j,I[A+3],10,-1894986606),j=re(j,M,B,K,I[A+10],15,-1051523),K=re(K,j,M,B,I[A+1],21,-2054922799),B=re(B,K,j,M,I[A+8],6,1873313359),M=re(M,B,K,j,I[A+15],10,-30611744),j=re(j,M,B,K,I[A+6],15,-1560198380),K=re(K,j,M,B,I[A+13],21,1309151649),B=re(B,K,j,M,I[A+4],6,-145523070),M=re(M,B,K,j,I[A+11],10,-1120210379),j=re(j,M,B,K,I[A+2],15,718787259),K=re(K,j,M,B,I[A+9],21,-343485551),B=B+L>>>0,K=K+oe>>>0,j=j+xe>>>0,M=M+Oe>>>0}return E.endian([B,K,j,M])})._ff=function(c,G,I,U,B,K,j){var M=c+(G&I|~G&U)+(B>>>0)+j;return(M<<K|M>>>32-K)+G},$._gg=function(c,G,I,U,B,K,j){var M=c+(G&U|I&~U)+(B>>>0)+j;return(M<<K|M>>>32-K)+G},$._hh=function(c,G,I,U,B,K,j){var M=c+(G^I^U)+(B>>>0)+j;return(M<<K|M>>>32-K)+G},$._ii=function(c,G,I,U,B,K,j){var M=c+(I^(G|~U))+(B>>>0)+j;return(M<<K|M>>>32-K)+G},$._blocksize=16,$._digestsize=16,J.exports=function(c,G){if(null==c)throw new Error("Illegal argument "+c);var I=E.wordsToBytes($(c,G));return G&&G.asBytes?I:G&&G.asString?q.bytesToString(I):E.bytesToHex(I)}},6283:(J,De,b)=>{"use strict";var E=b(5557),P=b(1963),z=b(2282),q=b(9713);J.exports=function(c){var G=z(arguments),I=c.length-(arguments.length-1);return E(G,1+(I>0?I:0),!0)},P?P(J.exports,"apply",{value:q}):J.exports.apply=q},6321:J=>{"use strict";var De=Object.prototype.toString;J.exports=function(E){var P=De.call(E),z="[object Arguments]"===P;return z||(z="[object Array]"!==P&&null!==E&&"object"==typeof E&&"number"==typeof E.length&&E.length>=0&&"[object Function]"===De.call(E.callee)),z}},6330:(J,De,b)=>{"use strict";var E=b(1197),P=b(6652)(),z=b(5370).functionsHaveConfigurableNames(),q=b(8519);J.exports=function(c,G){if("function"!=typeof c)throw new q("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||z)&&(P?E(c,"name",G,!0,!0):E(c,"name",G)),c}},6484:(J,De,b)=>{"use strict";var E=b(840),P=E("Boolean.prototype.toString"),z=E("Object.prototype.toString"),c=b(5328)();J.exports=function(I){return"boolean"==typeof I||null!==I&&"object"==typeof I&&(c?function(I){try{return P(I),!0}catch{return!1}}(I):"[object Boolean]"===z(I))}},6497:J=>{"use strict";J.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var b={},E=Symbol("test"),P=Object(E);if("string"==typeof E||"[object Symbol]"!==Object.prototype.toString.call(E)||"[object Symbol]"!==Object.prototype.toString.call(P))return!1;for(var q in b[E]=42,b)return!1;if("function"==typeof Object.keys&&0!==Object.keys(b).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(b).length)return!1;var $=Object.getOwnPropertySymbols(b);if(1!==$.length||$[0]!==E||!Object.prototype.propertyIsEnumerable.call(b,E))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var c=Object.getOwnPropertyDescriptor(b,E);if(42!==c.value||!0!==c.enumerable)return!1}return!0}},6547:(J,De,b)=>{"use strict";var E=b(6062),P=b(9819),z=b(6283),q=b(840),$=b(9263),c=b(1568),G=q("Object.prototype.toString"),I=b(5328)(),U=typeof globalThis>"u"?global:globalThis,B=P(),K=q("String.prototype.slice"),j=q("Array.prototype.indexOf",!0)||function(ve,re){for(var L=0;L<ve.length;L+=1)if(ve[L]===re)return L;return-1},M={__proto__:null};E(B,I&&$&&c?function(pe){var ve=new U[pe];if(Symbol.toStringTag in ve&&c){var re=c(ve),L=$(re,Symbol.toStringTag);if(!L&&re){var oe=c(re);L=$(oe,Symbol.toStringTag)}M["$"+pe]=z(L.get)}}:function(pe){var ve=new U[pe],re=ve.slice||ve.set;re&&(M["$"+pe]=z(re))}),J.exports=function(ve){if(!ve||"object"!=typeof ve)return!1;if(!I){var re=K(G(ve),8,-1);return j(B,re)>-1?re:"Object"===re&&function(ve){var re=!1;return E(M,function(L,oe){if(!re)try{L(ve),re=K(oe,1)}catch{}}),re}(ve)}return $?function(ve){var re=!1;return E(M,function(L,oe){if(!re)try{"$"+L(ve)===oe&&(re=K(oe,1))}catch{}}),re}(ve):null}},6652:(J,De,b)=>{"use strict";var E=b(1963),P=function(){return!!E};P.hasArrayLengthDefineBug=function(){if(!E)return null;try{return 1!==E([],"length",{value:1}).length}catch{return!0}},J.exports=P},6721:(J,De,b)=>{"use strict";b.d(De,{a:()=>ue,b:()=>c,c:()=>q,d:()=>oe,e:()=>pe,f:()=>U,g:()=>K,h:()=>$,i:()=>I,j:()=>tt,k:()=>M,l:()=>ve,m:()=>B,n:()=>A,o:()=>L,p:()=>xe,q:()=>re,r:()=>j,s:()=>Oe,t:()=>P});var E=b(9335);const P=(le,Ae=0)=>new Promise(Se=>{z(le,Ae,Se)}),z=(le,Ae=0,Se)=>{let ge,we;const W={passive:!0},O=()=>{ge&&ge()},Te=be=>{(void 0===be||le===be.target)&&(O(),Se(be))};return le&&(le.addEventListener("webkitTransitionEnd",Te,W),le.addEventListener("transitionend",Te,W),we=setTimeout(Te,Ae+500),ge=()=>{void 0!==we&&(clearTimeout(we),we=void 0),le.removeEventListener("webkitTransitionEnd",Te,W),le.removeEventListener("transitionend",Te,W)}),O},q=(le,Ae)=>{le.componentOnReady?le.componentOnReady().then(Se=>Ae(Se)):j(()=>Ae(le))},$=le=>void 0!==le.componentOnReady,c=(le,Ae=[])=>{const Se={};return Ae.forEach(ge=>{le.hasAttribute(ge)&&(null!==le.getAttribute(ge)&&(Se[ge]=le.getAttribute(ge)),le.removeAttribute(ge))}),Se},G=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],I=(le,Ae)=>c(le,G),U=(le,Ae,Se,ge)=>le.addEventListener(Ae,Se,ge),B=(le,Ae,Se,ge)=>le.removeEventListener(Ae,Se,ge),K=(le,Ae=le)=>le.shadowRoot||Ae,j=le=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(le):"function"==typeof requestAnimationFrame?requestAnimationFrame(le):setTimeout(le),M=le=>!!le.shadowRoot&&!!le.attachShadow,A=le=>{if(le.focus(),le.classList.contains("ion-focusable")){const Ae=le.closest("ion-app");Ae&&Ae.setFocus([le])}},ue=(le,Ae,Se,ge,we)=>{{let W=Ae.querySelector("input.aux-input");W||(W=Ae.ownerDocument.createElement("input"),W.type="hidden",W.classList.add("aux-input"),Ae.appendChild(W)),W.disabled=we,W.name=Se,W.value=ge||""}},pe=(le,Ae,Se)=>Math.max(le,Math.min(Ae,Se)),ve=(le,Ae)=>{if(!le){const Se="ASSERT: "+Ae;throw(0,E.j)(Se),new Error(Se)}},re=le=>{if(le){const Ae=le.changedTouches;if(Ae&&Ae.length>0){const Se=Ae[0];return{x:Se.clientX,y:Se.clientY}}if(void 0!==le.pageX)return{x:le.pageX,y:le.pageY}}return{x:0,y:0}},L=le=>{const Ae="rtl"===document.dir;switch(le){case"start":return Ae;case"end":return!Ae;default:throw new Error(`"${le}" is not a valid value for [side]. Use "start" or "end" instead.`)}},oe=(le,Ae)=>{const Se=le._original||le;return{_original:le,emit:xe(Se.emit.bind(Se),Ae)}},xe=(le,Ae=0)=>{let Se;return(...ge)=>{clearTimeout(Se),Se=setTimeout(le,Ae,...ge)}},Oe=(le,Ae)=>{if(le??(le={}),Ae??(Ae={}),le===Ae)return!0;const Se=Object.keys(le);if(Se.length!==Object.keys(Ae).length)return!1;for(const ge of Se)if(!(ge in Ae)||le[ge]!==Ae[ge])return!1;return!0},tt=le=>"number"==typeof le&&!isNaN(le)&&isFinite(le)},6778:(J,De,b)=>{var z,E=b(5e3).default,P=(z=typeof document<"u"?document.currentScript?.src:void 0,E(function*(q={}){var $,c=q,G="object"==typeof window,I=typeof WorkerGlobalScope<"u",U="object"==typeof process&&process.versions?.node&&"renderer"!=process.type,B=!G&&!U&&!I,j="./this.program",M=(_,R)=>{throw R};I&&(z=self.location.href);var pe,ve,A="";if(B){if("object"==typeof process&&process.versions?.node&&"renderer"!=process.type||"object"==typeof window||typeof WorkerGlobalScope<"u")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)")}else{if(!G&&!I)throw new Error("environment detection error");try{A=new URL(".",z).href}catch{}if(!("object"==typeof window||typeof WorkerGlobalScope<"u"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");I&&(ve=_=>{var R=new XMLHttpRequest;return R.open("GET",_,!1),R.responseType="arraybuffer",R.send(null),new Uint8Array(R.response)}),pe=function(){var _=E(function*(R){O(!ce(R),"readAsync does not work with file:// URLs");var X=yield fetch(R,{credentials:"same-origin"});if(X.ok)return X.arrayBuffer();throw new Error(X.status+" : "+X.url)});return function(X){return _.apply(this,arguments)}}()}var we,re=console.log.bind(console),L=console.error.bind(console);O(!U,"node environment detected but not enabled at build time.  Add `node` to `-sENVIRONMENT` to enable."),O(!B,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable."),"object"!=typeof WebAssembly&&L("no native wasm support detected");var ee,W=!1;function O(_,R){_||jt("Assertion failed"+(R?": "+R:""))}var ce=_=>_.startsWith("file://");function Ne(){if(!W){var _=bl();0==_&&(_+=4);var R=Zt[_>>2],X=Zt[_+4>>2];(34821223!=R||2310721022!=X)&&jt(`Stack overflow! Stack cookie has been overwritten at ${Rt(_)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Rt(X)} ${Rt(R)}`),1668509029!=Zt[0]&&jt("Runtime error: The application has corrupted its heap memory area (address zero)!")}}function Ce(..._){console.warn(..._)}function Ye(_){Object.getOwnPropertyDescriptor(c,_)||Object.defineProperty(c,_,{configurable:!0,set(){jt(`Attempt to set \`Module.${_}\` after it has already been processed.  This can happen, for example, when code is injected via '--post-js' rather than '--pre-js'`)}})}function C(_){return()=>O(!1,`call to '${_}' via reference taken before Wasm module initialization`)}function ut(_){Object.getOwnPropertyDescriptor(c,_)||Object.defineProperty(c,_,{configurable:!0,get(){var R=`'${_}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;(function He(_){return"FS_createPath"===_||"FS_createDataFile"===_||"FS_createPreloadedFile"===_||"FS_unlink"===_||"addRunDependency"===_||"FS_createLazyFile"===_||"FS_createDevice"===_||"removeRunDependency"===_})(_)&&(R+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),jt(R)}})}(()=>{var _=new Int16Array(1),R=new Int8Array(_.buffer);if(_[0]=25459,115!==R[0]||99!==R[1])throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var cr,br,ur,rr,Sr,rt,Zt,Re,nn,Qe=_=>function ze(_,R,X,Ze){O(Number.isInteger(Number(_)),`attempt to write non-integer (${_}) into integer heap`),O(_<=Ze,`value (${_}) too large to write as ${R}-bit value`),O(_>=X,`value (${_}) too small to write as ${R}-bit value`)}(_,32,-2147483648,4294967295),un=!1;function an(){var _=ur.buffer;rr=new Int8Array(_),new Int16Array(_),c.HEAPU8=Sr=new Uint8Array(_),new Uint16Array(_),rt=new Int32Array(_),c.HEAPU32=Zt=new Uint32Array(_),new Float32Array(_),Re=new Float64Array(_),nn=new BigInt64Array(_),new BigUint64Array(_)}O(typeof Int32Array<"u"&&typeof Float64Array<"u"&&null!=Int32Array.prototype.subarray&&null!=Int32Array.prototype.set,"JS engine does not provide full typed array support");var qn=0,Er=null,tr={},dn=null;function jt(_){c.onAbort?.(_),L(_="Aborted("+_+")"),W=!0;var R=new WebAssembly.RuntimeError(_);throw br?.(R),R}var Or,jn={error(){jt("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){jn.error()},createDataFile(){jn.error()},createPreloadedFile(){jn.error()},createLazyFile(){jn.error()},open(){jn.error()},mkdev(){jn.error()},registerDevice(){jn.error()},analyzePath(){jn.error()},ErrnoError(){jn.error()}};function x(_,R){return(...X)=>{O(un,`native function \`${_}\` called before runtime initialization`);var Ze=dt[_];return O(Ze,`exported native function \`${_}\` not found`),O(X.length<=R,`native function \`${_}\` called with ${X.length} args but expects ${R}`),Ze(...X)}}function Le(){return(Le=E(function*(_){if(!we)try{var R=yield pe(_);return new Uint8Array(R)}catch{}return function Fs(_){if(_==Or&&we)return new Uint8Array(we);if(ve)return ve(_);throw"both async and sync fetching of the wasm failed"}(_)})).apply(this,arguments)}function Tr(){return Tr=E(function*(_,R){try{var X=yield function po(_){return Le.apply(this,arguments)}(_);return yield WebAssembly.instantiate(X,R)}catch(Ot){L(`failed to asynchronously prepare wasm: ${Ot}`),ce(Or)&&L(`warning: Loading from a file URI (${Or}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),jt(Ot)}}),Tr.apply(this,arguments)}function Eo(){return Eo=E(function*(_,R,X){if(!_&&"function"==typeof WebAssembly.instantiateStreaming)try{var Ze=fetch(R,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(Ze,X)}catch(ht){L(`wasm streaming compile failed: ${ht}`),L("falling back to ArrayBuffer instantiation")}return function xi(_,R){return Tr.apply(this,arguments)}(R,X)}),Eo.apply(this,arguments)}function Ui(){return Ui=E(function*(){function _($t,rn){return O(ur=(dt=$t.exports).memory,"memory not found in wasm exports"),an(),O(bi=dt.__indirect_function_table,"table not found in wasm exports"),function Xc(_){c._main=Ge=x("main",2),c._webidl_free=x("webidl_free",1),c._webidl_malloc=x("webidl_malloc",1),c._emscripten_bind_VoidPtr___destroy___0=Bs=x("emscripten_bind_VoidPtr___destroy___0",1),c._emscripten_bind_FSTools_FSTools_0=us=x("emscripten_bind_FSTools_FSTools_0",0),c._emscripten_bind_FSTools_Malloc_1=Ul=x("emscripten_bind_FSTools_Malloc_1",2),c._emscripten_bind_FSTools_Free_1=p=x("emscripten_bind_FSTools_Free_1",2),c._emscripten_bind_FSTools_Nullptr_0=v=x("emscripten_bind_FSTools_Nullptr_0",1),c._emscripten_bind_FSTools___destroy___0=D=x("emscripten_bind_FSTools___destroy___0",1),c._emscripten_bind_MkfsContext_MkfsContext_0=k=x("emscripten_bind_MkfsContext_MkfsContext_0",0),c._emscripten_bind_MkfsContext_Mkfs_2=te=x("emscripten_bind_MkfsContext_Mkfs_2",3),c._emscripten_bind_MkfsContext_GetImage_0=ne=x("emscripten_bind_MkfsContext_GetImage_0",1),c._emscripten_bind_MkfsContext_GetImageSize_0=We=x("emscripten_bind_MkfsContext_GetImageSize_0",1),c._emscripten_bind_MkfsContext___destroy___0=Ie=x("emscripten_bind_MkfsContext___destroy___0",1),c._emscripten_bind_FsckContext_FsckContext_1=Xe=x("emscripten_bind_FsckContext_FsckContext_1",1),c._emscripten_bind_FsckContext_GetImage_0=Me=x("emscripten_bind_FsckContext_GetImage_0",1),c._emscripten_bind_FsckContext_GetDirtyPages_0=Ve=x("emscripten_bind_FsckContext_GetDirtyPages_0",1),c._emscripten_bind_FsckContext_GetImageSize_0=_t=x("emscripten_bind_FsckContext_GetImageSize_0",1),c._emscripten_bind_FsckContext_Fsck_0=mt=x("emscripten_bind_FsckContext_Fsck_0",1),c._emscripten_bind_FsckContext_GetResult_0=Ft=x("emscripten_bind_FsckContext_GetResult_0",1),c._emscripten_bind_FsckContext___destroy___0=bt=x("emscripten_bind_FsckContext___destroy___0",1),c._emscripten_bind_GunzipContext_GunzipContext_3=Cn=x("emscripten_bind_GunzipContext_GunzipContext_3",3),Mr=x("fflush",1),c._emscripten_bind_GunzipContext_GetState_0=nr=x("emscripten_bind_GunzipContext_GetState_0",1),c._emscripten_bind_GunzipContext_Continue_0=zn=x("emscripten_bind_GunzipContext_Continue_0",1),c._emscripten_bind_GunzipContext_GetUncompressedData_0=Qr=x("emscripten_bind_GunzipContext_GetUncompressedData_0",1),c._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=mr=x("emscripten_bind_GunzipContext_ReleaseUncompressedData_0",1),c._emscripten_bind_GunzipContext_GetUncompressedSize_0=Ht=x("emscripten_bind_GunzipContext_GetUncompressedSize_0",1),c._emscripten_bind_GunzipContext_GetError_0=Ao=x("emscripten_bind_GunzipContext_GetError_0",1),c._emscripten_bind_GunzipContext___destroy___0=Ar=x("emscripten_bind_GunzipContext___destroy___0",1),c._emscripten_bind_GzipContext_GzipContext_3=Li=x("emscripten_bind_GzipContext_GzipContext_3",3),c._emscripten_bind_GzipContext_SetFilename_1=fr=x("emscripten_bind_GzipContext_SetFilename_1",2),c._emscripten_bind_GzipContext_SetMtime_1=or=x("emscripten_bind_GzipContext_SetMtime_1",2),c._emscripten_bind_GzipContext_Continue_0=_i=x("emscripten_bind_GzipContext_Continue_0",1),c._emscripten_bind_GzipContext_GetState_0=Ir=x("emscripten_bind_GzipContext_GetState_0",1),c._emscripten_bind_GzipContext_GetGzipData_0=ro=x("emscripten_bind_GzipContext_GetGzipData_0",1),c._emscripten_bind_GzipContext_GetGzipSize_0=ds=x("emscripten_bind_GzipContext_GetGzipSize_0",1),c._emscripten_bind_GzipContext_GetError_0=vo=x("emscripten_bind_GzipContext_GetError_0",1),c._emscripten_bind_GzipContext___destroy___0=ml=x("emscripten_bind_GzipContext___destroy___0",1),c._emscripten_bind_CreateZipContext_CreateZipContext_0=Na=x("emscripten_bind_CreateZipContext_CreateZipContext_0",0),c._emscripten_bind_CreateZipContext_Initialize_1=jl=x("emscripten_bind_CreateZipContext_Initialize_1",2),c._emscripten_bind_CreateZipContext_AddEntry_1=Fa=x("emscripten_bind_CreateZipContext_AddEntry_1",2),c._emscripten_bind_CreateZipContext_WriteData_2=_l=x("emscripten_bind_CreateZipContext_WriteData_2",3),c._emscripten_bind_CreateZipContext_GetZipData_0=gl=x("emscripten_bind_CreateZipContext_GetZipData_0",1),c._emscripten_bind_CreateZipContext_GetZipDataSize_0=ko=x("emscripten_bind_CreateZipContext_GetZipDataSize_0",1),c._emscripten_bind_CreateZipContext_GetLastError_0=vl=x("emscripten_bind_CreateZipContext_GetLastError_0",1),c._emscripten_bind_CreateZipContext___destroy___0=Pa=x("emscripten_bind_CreateZipContext___destroy___0",1),c._emscripten_bind_ZipfileWalker_ZipfileWalker_2=da=x("emscripten_bind_ZipfileWalker_ZipfileWalker_2",2),c._emscripten_bind_ZipfileWalker_GetState_0=yl=x("emscripten_bind_ZipfileWalker_GetState_0",1),c._emscripten_bind_ZipfileWalker_Next_0=Oa=x("emscripten_bind_ZipfileWalker_Next_0",1),c._emscripten_bind_ZipfileWalker_GetTotalEntries_0=fa=x("emscripten_bind_ZipfileWalker_GetTotalEntries_0",1),c._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=Lr=x("emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0",1),c._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=Qo=x("emscripten_bind_ZipfileWalker_GetCurrentEntryName_0",1),c._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=La=x("emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0",1),c._emscripten_bind_ZipfileWalker___destroy___0=zl=x("emscripten_bind_ZipfileWalker___destroy___0",1),bl=_.emscripten_stack_get_end,Gs=x("_emscripten_timeout",2),fs=_.emscripten_stack_init,pa=_.emscripten_stack_get_current,x("__cxa_increment_exception_refcount",1),c.___original_main=x("__original_main",0)}(dt),function Ko(_){if(qn--,c.monitorRunDependencies?.(qn),_?(O(tr[_]),delete tr[_]):L("warning: run dependency removed without ID"),0==qn&&(null!==dn&&(clearInterval(dn),dn=null),Er)){var R=Er;Er=null,R()}}("wasm-instantiate"),dt}!function wo(_){qn++,c.monitorRunDependencies?.(qn),_?(O(!tr[_]),tr[_]=1,null===dn&&typeof setInterval<"u"&&(dn=setInterval(()=>{if(W)return clearInterval(dn),void(dn=null);var R=!1;for(var X in tr)R||(R=!0,L("still waiting on run dependencies:")),L(`dependency: ${X}`);R&&L("(end of list)")},1e4))):L("warning: run dependency added without ID")}("wasm-instantiate");var R=c,Ze=function is(){return{env:Jr,wasi_snapshot_preview1:Jr}}();if(c.instantiateWasm)return new Promise(($t,rn)=>{try{c.instantiateWasm(Ze,(pr,ma)=>{$t(_(pr))})}catch(pr){L(`Module.instantiateWasm callback failed with error: ${pr}`),rn(pr)}});Or??=function ri(){return function ue(_){return c.locateFile?c.locateFile(_,A):A+_}("fstools_web.wasm")}();var Ot=yield function dr(_,R,X){return Eo.apply(this,arguments)}(we,Or,Ze);return function X($t){return O(c===R,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),R=null,_($t.instance)}(Ot)}),Ui.apply(this,arguments)}class Xr{name="ExitStatus";constructor(R){this.message=`Program terminated with exit(${R})`,this.status=R}}var bi,mi,ji=_=>{for(;_.length>0;)_.shift()(c)},os=[],el=_=>os.push(_),Tn=[],Qt=_=>Tn.push(_),Fe=!0,Rt=_=>(O("number"==typeof _),"0x"+(_>>>=0).toString(16).padStart(8,"0")),Zn=_=>{Zn.shown||={},Zn.shown[_]||(Zn.shown[_]=1,L(_))},zi=typeof TextDecoder<"u"?new TextDecoder:void 0,tl=(_,R=0,X=NaN)=>{for(var Ze=R+X,Ot=R;_[Ot]&&!(Ot>=Ze);)++Ot;if(Ot-R>16&&_.buffer&&zi)return zi.decode(_.subarray(R,Ot));for(var ht="";R<Ot;){var $t=_[R++];if(128&$t){var rn=63&_[R++];if(192!=(224&$t)){var pr=63&_[R++];if(224==(240&$t)?$t=(15&$t)<<12|rn<<6|pr:(240!=(248&$t)&&Zn("Invalid UTF-8 leading byte "+Rt($t)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),$t=(7&$t)<<18|rn<<12|pr<<6|63&_[R++]),$t<65536)ht+=String.fromCharCode($t);else{var ma=$t-65536;ht+=String.fromCharCode(55296|ma>>10,56320|1023&ma)}}else ht+=String.fromCharCode((31&$t)<<6|rn)}else ht+=String.fromCharCode($t)}return ht},Gn=(_,R)=>(O("number"==typeof _,`UTF8ToString expects a number (got ${typeof _})`),_?tl(Sr,_,R):""),rl={varargs:void 0,getStr:_=>Gn(_)},Dr=_=>_<-9007199254740992||_>9007199254740992?NaN:Number(_),ia=0,il=[0,31,60,91,121,152,182,213,244,274,305,335],jr=[0,31,59,90,120,151,181,212,243,273,304,334],ss=_=>((_=>_%4==0&&(_%100!=0||_%400==0))(_.getFullYear())?il:jr)[_.getMonth()]+_.getDate()-1,Do={},mo=_=>{if(_ instanceof Xr||"unwind"==_)return ee;Ne(),_ instanceof WebAssembly.RuntimeError&&pa()<=0&&L("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),M(0,_)},Bo=()=>Fe||ia>0,Ta=_=>{ee=_,Bo()||(c.onExit?.(_),W=!0),M(0,new Xr(_))},at=(_,R)=>{if(ee=_,function ps(){var _=re,R=L,X=!1;re=L=Ze=>{X=!0};try{Xo()}catch{}re=_,L=R,X&&(Zn("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc."),Zn("(this may also be due to not including full filesystem support - try building with -sFORCE_FILESYSTEM)"))}(),Bo()&&!R){var X=`program exited (with status: ${_}), but keepRuntimeAlive() is set (counter=${ia}) due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)`;br?.(X),L(X)}Ta(_)},sa=at,to=()=>performance.now(),Io=(_,R,X,Ze)=>{if(O("string"==typeof _,`stringToUTF8Array expects a string (got ${typeof _})`),!(Ze>0))return 0;for(var Ot=X,ht=X+Ze-1,$t=0;$t<_.length;++$t){var rn=_.codePointAt($t);if(rn<=127){if(X>=ht)break;R[X++]=rn}else if(rn<=2047){if(X+1>=ht)break;R[X++]=192|rn>>6,R[X++]=128|63&rn}else if(rn<=65535){if(X+2>=ht)break;R[X++]=224|rn>>12,R[X++]=128|rn>>6&63,R[X++]=128|63&rn}else{if(X+3>=ht)break;rn>1114111&&Zn("Invalid Unicode code point "+Rt(rn)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),R[X++]=240|rn>>18,R[X++]=128|rn>>12&63,R[X++]=128|rn>>6&63,R[X++]=128|63&rn,$t++}}return R[X]=0,X-Ot},Ps=(_,R,X)=>(O("number"==typeof X,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),Io(_,Sr,R,X)),Ki=_=>{for(var R=0,X=0;X<_.length;++X){var Ze=_.charCodeAt(X);Ze<=127?R++:Ze<=2047?R+=2:Ze>=55296&&Ze<=57343?(R+=4,++X):R+=3}return R},Uo=[],as=(_,R)=>(O(R,"alignment argument is required"),Math.ceil(_/R)*R),ca=_=>{var R=ur.buffer,X=(_-R.byteLength+65535)/65536|0;try{return ur.grow(X),an(),1}catch(Ze){L(`growMemory: Attempted to grow heap from ${R.byteLength} bytes to ${_} bytes, but got error: ${Ze}`)}},ua={},no=()=>{if(!no.strings){var R={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:j||"./this.program"};for(var X in ua)void 0===ua[X]?delete R[X]:R[X]=ua[X];var Ze=[];for(var X in R)Ze.push(`${X}=${R[X]}`);no.strings=Ze}return no.strings},Qi=[null,[],[]],ls=(_,R)=>{var X=Qi[_];O(X),0===R||10===R?((1===_?re:L)(tl(X)),X.length=0):X.push(R)},Xo=()=>{Mr(0),Qi[1].length&&ls(1,10),Qi[2].length&&ls(2,10)},fc=[],cl=(_,R)=>{O(_<16384),_<128?R.push(_):R.push(_%128|128,_>>7)},dl=[],Cr=_=>{var R=dl[_];return R||(dl[_]=R=bi.get(_)),O(bi.get(_)==R,"JavaScript-side Wasm function table mirror is out of date!"),R},Bl=[],Mo=(_,R)=>{bi.set(_,R),dl[_]=bi.get(_)};c.noExitRuntime&&(Fe=c.noExitRuntime),c.print&&(re=c.print),c.printErr&&(L=c.printErr),c.wasmBinary&&(we=c.wasmBinary),c.FS_createDataFile=jn.createDataFile,c.FS_createPreloadedFile=jn.createPreloadedFile,function de(){!function ke(_){Object.getOwnPropertyDescriptor(c,_)&&jt(`\`Module.${_}\` was supplied but \`${_}\` not included in INCOMING_MODULE_JS_API`)}("fetchSettings")}(),c.thisProgram&&(j=c.thisProgram),O(typeof c.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),O(typeof c.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),O(typeof c.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),O(typeof c.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),O(typeof c.read>"u","Module.read option was removed"),O(typeof c.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),O(typeof c.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),O(typeof c.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),O(typeof c.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),O(typeof c.ENVIRONMENT>"u","Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)"),O(typeof c.STACK_SIZE>"u","STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),O(typeof c.wasmMemory>"u","Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),O(typeof c.INITIAL_MEMORY>"u","Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically"),c.addFunction=(_,R)=>{O(typeof _<"u");var X=(_=>(mi||(mi=new WeakMap,((_,R)=>{if(mi)for(var X=0;X<0+R;X++){var Ze=Cr(X);Ze&&mi.set(Ze,X)}})(0,bi.length)),mi.get(_)||0))(_);if(X)return X;for(var Ze=0;Ze<bi.length;Ze++)O(Cr(Ze)!=_,"function in Table but not functionsInTableMap");var Ot=(()=>{if(Bl.length)return Bl.pop();try{bi.grow(1)}catch(_){throw _ instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":_}return bi.length-1})();try{Mo(Ot,_)}catch($t){if(!($t instanceof TypeError))throw $t;O(typeof R<"u","Missing signature argument to addFunction: "+_);var ht=((_,R)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((_=>{for(var R={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},X={parameters:[],results:"v"==_[0]?[]:[R[_[0]]]},Ze=1;Ze<_.length;++Ze)O(_[Ze]in R,"invalid signature char: "+_[Ze]),X.parameters.push(R[_[Ze]]);return X})(R),_);var X=[1];((_,R)=>{var X=_.slice(0,1),Ze=_.slice(1),Ot={i:127,p:127,j:126,f:125,d:124,e:111};for(var ht of(R.push(96),cl(Ze.length,R),Ze))O(ht in Ot,`invalid signature char: ${ht}`),R.push(Ot[ht]);"v"==X?R.push(0):R.push(1,Ot[X])})(R,X);var Ze=[0,97,115,109,1,0,0,0,1];cl(X.length,Ze),Ze.push(...X),Ze.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Ot=new WebAssembly.Module(new Uint8Array(Ze));return new WebAssembly.Instance(Ot,{e:{f:_}}).exports.f})(_,R);Mo(Ot,ht)}return mi.set(_,Ot),Ot},c.UTF8ToString=Gn,["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertI32PairToI53Checked","convertU32PairToI53","stackAlloc","getTempRet0","setTempRet0","zeroMemory","withStackSave","strError","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","emscriptenLog","runMainThreadEmAsm","jstoi_q","autoResumeAudioContext","getDynCaller","dynCall","runtimeKeepalivePush","runtimeKeepalivePop","asmjsMangle","asyncLoad","mmapAlloc","HandleAllocator","getNativeTypeSize","getUniqueRunDependency","addOnPostCtor","addOnPreMain","addOnExit","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","ccall","cwrap","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToNewUTF8","stringToUTF8OnStack","writeArrayToMemory","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","initRandomFill","randomFill","safeSetTimeout","setImmediateWrapped","safeRequestAnimationFrame","clearImmediateWrapped","registerPostMainLoop","registerPreMainLoop","getPromise","makePromise","idsToPromises","makePromiseCallback","ExceptionInfo","findMatchingCatch","Browser_asyncPrepareDataCounter","arraySum","addDays","getSocketFromFD","getSocketAddress","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","webgl_enable_EXT_polygon_offset_clamp","webgl_enable_EXT_clip_control","webgl_enable_WEBGL_polygon_mode","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","demangle","stackTrace"].forEach(function Nt(_){ut(_)}),["run","addRunDependency","removeRunDependency","out","err","callMain","abort","wasmMemory","wasmExports","HEAPF32","HEAPF64","HEAP8","HEAP16","HEAPU16","HEAP32","HEAP64","HEAPU64","writeStackCookie","checkStackCookie","INT53_MAX","INT53_MIN","bigintToI53Checked","stackSave","stackRestore","ptrToString","exitJS","getHeapMax","growMemory","ENV","ERRNO_CODES","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","getExecutableName","handleException","keepRuntimeAlive","callUserCallback","maybeExit","alignMemory","wasmTable","noExitRuntime","addOnPreRun","addOnInit","addOnPostRun","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","freeTableIndexes","functionsInTableMap","getEmptyTableSlot","updateTableMap","getFunctionAddress","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","intArrayFromString","UTF16Decoder","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","getEnvStrings","flush_NO_FILESYSTEM","emSetImmediate","emClearImmediate_deps","emClearImmediate","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","Browser","requestFullscreen","requestFullScreen","setCanvasSize","getUserMedia","createContext","getPreloadedImageData__data","wget","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","isLeapYear","ydayFromDate","SYSCALLS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","print","printErr","jstoi_s"].forEach(ut);var pl={46420:()=>{throw new Error("terminated")}},Ge=c._main=C("_main"),Bs=(c._webidl_free=C("_webidl_free"),c._webidl_malloc=C("_webidl_malloc"),c._emscripten_bind_VoidPtr___destroy___0=C("_emscripten_bind_VoidPtr___destroy___0")),us=c._emscripten_bind_FSTools_FSTools_0=C("_emscripten_bind_FSTools_FSTools_0"),Ul=c._emscripten_bind_FSTools_Malloc_1=C("_emscripten_bind_FSTools_Malloc_1"),p=c._emscripten_bind_FSTools_Free_1=C("_emscripten_bind_FSTools_Free_1"),v=c._emscripten_bind_FSTools_Nullptr_0=C("_emscripten_bind_FSTools_Nullptr_0"),D=c._emscripten_bind_FSTools___destroy___0=C("_emscripten_bind_FSTools___destroy___0"),k=c._emscripten_bind_MkfsContext_MkfsContext_0=C("_emscripten_bind_MkfsContext_MkfsContext_0"),te=c._emscripten_bind_MkfsContext_Mkfs_2=C("_emscripten_bind_MkfsContext_Mkfs_2"),ne=c._emscripten_bind_MkfsContext_GetImage_0=C("_emscripten_bind_MkfsContext_GetImage_0"),We=c._emscripten_bind_MkfsContext_GetImageSize_0=C("_emscripten_bind_MkfsContext_GetImageSize_0"),Ie=c._emscripten_bind_MkfsContext___destroy___0=C("_emscripten_bind_MkfsContext___destroy___0"),Xe=c._emscripten_bind_FsckContext_FsckContext_1=C("_emscripten_bind_FsckContext_FsckContext_1"),Me=c._emscripten_bind_FsckContext_GetImage_0=C("_emscripten_bind_FsckContext_GetImage_0"),Ve=c._emscripten_bind_FsckContext_GetDirtyPages_0=C("_emscripten_bind_FsckContext_GetDirtyPages_0"),_t=c._emscripten_bind_FsckContext_GetImageSize_0=C("_emscripten_bind_FsckContext_GetImageSize_0"),mt=c._emscripten_bind_FsckContext_Fsck_0=C("_emscripten_bind_FsckContext_Fsck_0"),Ft=c._emscripten_bind_FsckContext_GetResult_0=C("_emscripten_bind_FsckContext_GetResult_0"),bt=c._emscripten_bind_FsckContext___destroy___0=C("_emscripten_bind_FsckContext___destroy___0"),Cn=c._emscripten_bind_GunzipContext_GunzipContext_3=C("_emscripten_bind_GunzipContext_GunzipContext_3"),Mr=C("_fflush"),nr=c._emscripten_bind_GunzipContext_GetState_0=C("_emscripten_bind_GunzipContext_GetState_0"),zn=c._emscripten_bind_GunzipContext_Continue_0=C("_emscripten_bind_GunzipContext_Continue_0"),Qr=c._emscripten_bind_GunzipContext_GetUncompressedData_0=C("_emscripten_bind_GunzipContext_GetUncompressedData_0"),mr=c._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=C("_emscripten_bind_GunzipContext_ReleaseUncompressedData_0"),Ht=c._emscripten_bind_GunzipContext_GetUncompressedSize_0=C("_emscripten_bind_GunzipContext_GetUncompressedSize_0"),Ao=c._emscripten_bind_GunzipContext_GetError_0=C("_emscripten_bind_GunzipContext_GetError_0"),Ar=c._emscripten_bind_GunzipContext___destroy___0=C("_emscripten_bind_GunzipContext___destroy___0"),Li=c._emscripten_bind_GzipContext_GzipContext_3=C("_emscripten_bind_GzipContext_GzipContext_3"),fr=c._emscripten_bind_GzipContext_SetFilename_1=C("_emscripten_bind_GzipContext_SetFilename_1"),or=c._emscripten_bind_GzipContext_SetMtime_1=C("_emscripten_bind_GzipContext_SetMtime_1"),_i=c._emscripten_bind_GzipContext_Continue_0=C("_emscripten_bind_GzipContext_Continue_0"),Ir=c._emscripten_bind_GzipContext_GetState_0=C("_emscripten_bind_GzipContext_GetState_0"),ro=c._emscripten_bind_GzipContext_GetGzipData_0=C("_emscripten_bind_GzipContext_GetGzipData_0"),ds=c._emscripten_bind_GzipContext_GetGzipSize_0=C("_emscripten_bind_GzipContext_GetGzipSize_0"),vo=c._emscripten_bind_GzipContext_GetError_0=C("_emscripten_bind_GzipContext_GetError_0"),ml=c._emscripten_bind_GzipContext___destroy___0=C("_emscripten_bind_GzipContext___destroy___0"),Na=c._emscripten_bind_CreateZipContext_CreateZipContext_0=C("_emscripten_bind_CreateZipContext_CreateZipContext_0"),jl=c._emscripten_bind_CreateZipContext_Initialize_1=C("_emscripten_bind_CreateZipContext_Initialize_1"),Fa=c._emscripten_bind_CreateZipContext_AddEntry_1=C("_emscripten_bind_CreateZipContext_AddEntry_1"),_l=c._emscripten_bind_CreateZipContext_WriteData_2=C("_emscripten_bind_CreateZipContext_WriteData_2"),gl=c._emscripten_bind_CreateZipContext_GetZipData_0=C("_emscripten_bind_CreateZipContext_GetZipData_0"),ko=c._emscripten_bind_CreateZipContext_GetZipDataSize_0=C("_emscripten_bind_CreateZipContext_GetZipDataSize_0"),vl=c._emscripten_bind_CreateZipContext_GetLastError_0=C("_emscripten_bind_CreateZipContext_GetLastError_0"),Pa=c._emscripten_bind_CreateZipContext___destroy___0=C("_emscripten_bind_CreateZipContext___destroy___0"),da=c._emscripten_bind_ZipfileWalker_ZipfileWalker_2=C("_emscripten_bind_ZipfileWalker_ZipfileWalker_2"),yl=c._emscripten_bind_ZipfileWalker_GetState_0=C("_emscripten_bind_ZipfileWalker_GetState_0"),Oa=c._emscripten_bind_ZipfileWalker_Next_0=C("_emscripten_bind_ZipfileWalker_Next_0"),fa=c._emscripten_bind_ZipfileWalker_GetTotalEntries_0=C("_emscripten_bind_ZipfileWalker_GetTotalEntries_0"),Lr=c._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=C("_emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0"),Qo=c._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=C("_emscripten_bind_ZipfileWalker_GetCurrentEntryName_0"),La=c._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=C("_emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0"),zl=c._emscripten_bind_ZipfileWalker___destroy___0=C("_emscripten_bind_ZipfileWalker___destroy___0"),bl=C("_emscripten_stack_get_end"),Gs=(C("_emscripten_stack_get_base"),C("__emscripten_timeout")),fs=C("_emscripten_stack_init"),pa=(C("_emscripten_stack_get_free"),C("__emscripten_stack_restore"),C("__emscripten_stack_alloc"),C("_emscripten_stack_get_current"));C("___cxa_increment_exception_refcount"),c.___original_main=C("___original_main");var on,Jr={__assert_fail:(_,R,X,Ze)=>jt(`Assertion failed: ${Gn(_)}, at: `+[R?Gn(R):"unknown filename",X,Ze?Gn(Ze):"unknown function"]),__syscall_ftruncate64:function Kt(_,R){R=Dr(R),jt("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")},__syscall_openat:function Kc(_,R,X,Ze){rl.varargs=Ze,jt("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")},_abort_js:()=>jt("native code called abort()"),_emscripten_runtime_keepalive_clear:()=>{Fe=!1,ia=0},_gmtime_js:function dc(_,R){_=Dr(_);var X=new Date(1e3*_);rt[R>>2]=X.getUTCSeconds(),Qe(X.getUTCSeconds()),rt[R+4>>2]=X.getUTCMinutes(),Qe(X.getUTCMinutes()),rt[R+8>>2]=X.getUTCHours(),Qe(X.getUTCHours()),rt[R+12>>2]=X.getUTCDate(),Qe(X.getUTCDate()),rt[R+16>>2]=X.getUTCMonth(),Qe(X.getUTCMonth()),rt[R+20>>2]=X.getUTCFullYear()-1900,Qe(X.getUTCFullYear()-1900),rt[R+24>>2]=X.getUTCDay(),Qe(X.getUTCDay());var Ze=Date.UTC(X.getUTCFullYear(),0,1,0,0,0,0),Ot=(X.getTime()-Ze)/864e5|0;rt[R+28>>2]=Ot,Qe(Ot)},_localtime_js:function ho(_,R){_=Dr(_);var X=new Date(1e3*_);rt[R>>2]=X.getSeconds(),Qe(X.getSeconds()),rt[R+4>>2]=X.getMinutes(),Qe(X.getMinutes()),rt[R+8>>2]=X.getHours(),Qe(X.getHours()),rt[R+12>>2]=X.getDate(),Qe(X.getDate()),rt[R+16>>2]=X.getMonth(),Qe(X.getMonth()),rt[R+20>>2]=X.getFullYear()-1900,Qe(X.getFullYear()-1900),rt[R+24>>2]=X.getDay(),Qe(X.getDay());var Ze=0|ss(X);rt[R+28>>2]=Ze,Qe(Ze),rt[R+36>>2]=-60*X.getTimezoneOffset(),Qe(-60*X.getTimezoneOffset());var Ot=new Date(X.getFullYear(),0,1),ht=new Date(X.getFullYear(),6,1).getTimezoneOffset(),$t=Ot.getTimezoneOffset(),rn=0|(ht!=$t&&X.getTimezoneOffset()==Math.min($t,ht));rt[R+32>>2]=rn,Qe(rn)},_mktime_js:function(_){var R=(()=>{var X=new Date(rt[_+20>>2]+1900,rt[_+16>>2],rt[_+12>>2],rt[_+8>>2],rt[_+4>>2],rt[_>>2],0),Ze=rt[_+32>>2],Ot=X.getTimezoneOffset(),ht=new Date(X.getFullYear(),0,1),$t=new Date(X.getFullYear(),6,1).getTimezoneOffset(),rn=ht.getTimezoneOffset(),pr=Math.min(rn,$t);if(Ze<0)rt[_+32>>2]=+($t!=rn&&pr==Ot),Qe(+($t!=rn&&pr==Ot));else if(Ze>0!=(pr==Ot)){var ma=Math.max(rn,$t),gc=Ze>0?pr:ma;X.setTime(X.getTime()+6e4*(gc-Ot))}rt[_+24>>2]=X.getDay(),Qe(X.getDay());var Hi=0|ss(X);rt[_+28>>2]=Hi,Qe(Hi),rt[_>>2]=X.getSeconds(),Qe(X.getSeconds()),rt[_+4>>2]=X.getMinutes(),Qe(X.getMinutes()),rt[_+8>>2]=X.getHours(),Qe(X.getHours()),rt[_+12>>2]=X.getDate(),Qe(X.getDate()),rt[_+16>>2]=X.getMonth(),Qe(X.getMonth()),rt[_+20>>2]=X.getYear(),Qe(X.getYear());var Br=X.getTime();return isNaN(Br)?-1:Br/1e3})();return BigInt(R)},_setitimer_js:(_,R)=>{if(Do[_]&&(clearTimeout(Do[_].id),delete Do[_]),!R)return 0;var X=setTimeout(()=>{O(_ in Do),delete Do[_],(_=>{if(W)L("user callback triggered after runtime exited or application aborted.  Ignoring.");else try{_(),(()=>{if(!Bo())try{sa(ee)}catch(_){mo(_)}})()}catch(R){mo(R)}})(()=>Gs(_,to()))},R);return Do[_]={id:X,timeout_ms:R},0},_tzset_js:(_,R,X,Ze)=>{var Ot=(new Date).getFullYear(),ht=new Date(Ot,0,1),$t=new Date(Ot,6,1),rn=ht.getTimezoneOffset(),pr=$t.getTimezoneOffset(),ma=Math.max(rn,pr);Zt[_>>2]=60*ma,rt[R>>2]=+(rn!=pr),Qe(+(rn!=pr));var gc=ai=>{var Wt=ai>=0?"-":"+",Gr=Math.abs(ai);return`UTC${Wt}${String(Math.floor(Gr/60)).padStart(2,"0")}${String(Gr%60).padStart(2,"0")}`},Hi=gc(rn),Br=gc(pr);O(Hi),O(Br),O(Ki(Hi)<=16,`timezone name truncated to fit in TZNAME_MAX (${Hi})`),O(Ki(Br)<=16,`timezone name truncated to fit in TZNAME_MAX (${Br})`),pr<rn?(Ps(Hi,X,17),Ps(Br,Ze,17)):(Ps(Hi,Ze,17),Ps(Br,X,17))},emscripten_asm_const_int:(_,R,X)=>((_,R,X)=>{var Ze=((_,R)=>{O(Array.isArray(Uo)),O(R%16==0),Uo.length=0;for(var X;X=Sr[_++];){var Ze=String.fromCharCode(X),Ot=["d","f","i","p"];Ot.push("j"),O(Ot.includes(Ze),`Invalid character ${X}("${Ze}") in readEmAsmArgs! Use only [${Ot}], and do not specify "v" for void return argument.`);var ht=105!=X;R+=(ht&=112!=X)&&R%8?4:0,Uo.push(112==X?Zt[R>>2]:106==X?nn[R>>3]:105==X?rt[R>>2]:Re[R>>3]),R+=ht?8:4}return Uo})(R,X);return O(pl.hasOwnProperty(_),`No EM_ASM constant found at address ${_}.  The loaded WebAssembly file is likely out of sync with the generated JavaScript.`),pl[_](...Ze)})(_,R,X),emscripten_date_now:()=>Date.now(),emscripten_resize_heap:_=>{var R=Sr.length;O((_>>>=0)>R);var X=2147483648;if(_>X)return L(`Cannot enlarge memory, requested ${_} bytes, but the limit is ${X} bytes!`),!1;for(var Ze=1;Ze<=4;Ze*=2){var Ot=R*(1+.2/Ze);Ot=Math.min(Ot,_+100663296);var ht=Math.min(X,as(Math.max(_,Ot),65536)),$t=to(),rn=ca(ht);if(Ce(`Heap resize call from ${R} to ${ht} took ${to()-$t} msecs. Success: ${!!rn}`),rn)return!0}return L(`Failed to grow the heap from ${R} bytes to ${ht} bytes, not enough memory!`),!1},environ_get:(_,R)=>{var X=0,Ze=0;for(var Ot of no()){var ht=R+X;Zt[_+Ze>>2]=ht,X+=Ps(Ot,ht,1/0)+1,Ze+=4}return 0},environ_sizes_get:(_,R)=>{var X=no();Zt[_>>2]=X.length,Qe(X.length);var Ze=0;for(var Ot of X)Ze+=Ki(Ot)+1;return Zt[R>>2]=Ze,Qe(Ze),0},exit:sa,fd_close:_=>{jt("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},fd_read:(_,R,X,Ze)=>{jt("fd_read called without SYSCALLS_REQUIRE_FILESYSTEM")},fd_seek:function Ll(_,R,X,Ze){return R=Dr(R),70},fd_write:(_,R,X,Ze)=>{for(var Ot=0,ht=0;ht<X;ht++){var $t=Zt[R>>2],rn=Zt[R+4>>2];R+=8;for(var pr=0;pr<rn;pr++)ls(_,Sr[$t+pr]);Ot+=rn}return Zt[Ze>>2]=Ot,Qe(Ot),0},proc_exit:Ta},dt=yield function xn(){return Ui.apply(this,arguments)}();function ln(){}function Yn(_){return(_||ln).__cache__}function _r(_,R){var X=Yn(R),Ze=X[_];return Ze||((Ze=Object.create((R||ln).prototype)).ptr=_,X[_]=Ze)}(function ha(){if(c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.shift()();Ye("preInit")})(),function oi(){function _(){O(!on),on=!0,c.calledRun=!0,W||(function Ii(){O(!un),un=!0,Ne(),ji(fc),dt.__wasm_call_ctors()}(),function Kr(){Ne()}(),cr?.(c),c.onRuntimeInitialized?.(),Ye("onRuntimeInitialized"),c.noInitialRun||function zr(){O(0==qn,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])'),O(typeof Tn>"u"||0==Tn.length,"cannot call main when preRun functions remain to be called");var _=Ge;try{var Ze=_(0,0);return at(Ze,!0),Ze}catch(Ot){return mo(Ot)}}(),function Ni(){if(Ne(),c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)el(c.postRun.shift());Ye("postRun"),ji(os)}())}qn>0?Er=oi:(function Fi(){fs(),function ye(){var _=bl();O(!(3&_)),0==_&&(_+=4),Zt[_>>2]=34821223,Qe(34821223),Zt[_+4>>2]=2310721022,Qe(2310721022),Zt[0]=1668509029,Qe(1668509029)}()}(),function Oi(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)Qt(c.preRun.shift());Ye("preRun"),ji(Tn)}(),qn>0?Er=oi:(c.setStatus?(c.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>c.setStatus(""),1),_()},1)):_(),Ne()))}(),(ln.prototype=Object.create(ln.prototype)).constructor=ln,ln.prototype.__class__=ln,ln.__cache__={},c.WrapperObject=ln,c.getCache=Yn,c.wrapPointer=_r,c.castObject=function yn(_,R){return _r(_.ptr,R)},c.NULL=_r(0),c.destroy=function hs(_){if(!_.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";_.__destroy__(),delete Yn(_.__class__)[_.ptr]},c.compare=function Cl(_,R){return _.ptr===R.ptr},c.getPointer=function Us(_){return _.ptr},c.getClass=function si(_){return _.__class__};var mn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(mn.needed){for(var _=0;_<mn.temps.length;_++)c._webidl_free(mn.temps[_]);mn.temps.length=0,c._webidl_free(mn.buffer),mn.buffer=0,mn.size+=mn.needed,mn.needed=0}mn.buffer||(mn.size+=128,mn.buffer=c._webidl_malloc(mn.size),O(mn.buffer)),mn.pos=0},alloc(_,R){O(mn.buffer);var Ot,Ze=_.length*R.BYTES_PER_ELEMENT;return Ze=as(Ze,8),mn.pos+Ze>=mn.size?(O(Ze>0),mn.needed+=Ze,Ot=c._webidl_malloc(Ze),mn.temps.push(Ot)):(Ot=mn.buffer+mn.pos,mn.pos+=Ze),Ot},copy(_,R,X){X/=R.BYTES_PER_ELEMENT;for(var Ze=0;Ze<_.length;Ze++)R[X+Ze]=_[Ze]}};function ms(_){if("string"==typeof _){var R=(_=>{var Ze=Ki(_)+1,Ot=new Array(Ze);Io(_,Ot,0,Ot.length);return Ot})(_),X=mn.alloc(R,rr);return mn.copy(R,rr,X),X}return _}function kr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function gr(){this.ptr=us(),Yn(gr)[this.ptr]=this}function Vr(){this.ptr=k(),Yn(Vr)[this.ptr]=this}function Pt(_){_&&"object"==typeof _&&(_=_.ptr),this.ptr=Xe(_),Yn(Pt)[this.ptr]=this}function $r(_,R,X){_&&"object"==typeof _&&(_=_.ptr),R&&"object"==typeof R&&(R=R.ptr),X&&"object"==typeof X&&(X=X.ptr),this.ptr=Cn(_,R,X),Yn($r)[this.ptr]=this}function cn(_,R,X){_&&"object"==typeof _&&(_=_.ptr),R&&"object"==typeof R&&(R=R.ptr),X&&"object"==typeof X&&(X=X.ptr),this.ptr=Li(_,R,X),Yn(cn)[this.ptr]=this}function Vn(){this.ptr=Na(),Yn(Vn)[this.ptr]=this}function Mn(_,R){_&&"object"==typeof _&&(_=_.ptr),R&&"object"==typeof R&&(R=R.ptr),this.ptr=da(_,R),Yn(Mn)[this.ptr]=this}(kr.prototype=Object.create(ln.prototype)).constructor=kr,kr.prototype.__class__=kr,kr.__cache__={},c.VoidPtr=kr,kr.prototype.__destroy__=kr.prototype.__destroy__=function(){Bs(this.ptr)},(gr.prototype=Object.create(ln.prototype)).constructor=gr,gr.prototype.__class__=gr,gr.__cache__={},c.FSTools=gr,gr.prototype.Malloc=gr.prototype.Malloc=function(_){return _&&"object"==typeof _&&(_=_.ptr),_r(Ul(this.ptr,_),kr)},gr.prototype.Free=gr.prototype.Free=function(_){_&&"object"==typeof _&&(_=_.ptr),p(this.ptr,_)},gr.prototype.Nullptr=gr.prototype.Nullptr=function(){return _r(v(this.ptr),kr)},gr.prototype.__destroy__=gr.prototype.__destroy__=function(){D(this.ptr)},(Vr.prototype=Object.create(ln.prototype)).constructor=Vr,Vr.prototype.__class__=Vr,Vr.__cache__={},c.MkfsContext=Vr,Vr.prototype.Mkfs=Vr.prototype.Mkfs=function(_,R){var X=this.ptr;return mn.prepare(),_&&"object"==typeof _&&(_=_.ptr),R=R&&"object"==typeof R?R.ptr:ms(R),!!te(X,_,R)},Vr.prototype.GetImage=Vr.prototype.GetImage=function(){return _r(ne(this.ptr),kr)},Vr.prototype.GetImageSize=Vr.prototype.GetImageSize=function(){return We(this.ptr)},Vr.prototype.__destroy__=Vr.prototype.__destroy__=function(){Ie(this.ptr)},(Pt.prototype=Object.create(ln.prototype)).constructor=Pt,Pt.prototype.__class__=Pt,Pt.__cache__={},c.FsckContext=Pt,Pt.prototype.GetImage=Pt.prototype.GetImage=function(){return _r(Me(this.ptr),kr)},Pt.prototype.GetDirtyPages=Pt.prototype.GetDirtyPages=function(){return _r(Ve(this.ptr),kr)},Pt.prototype.GetImageSize=Pt.prototype.GetImageSize=function(){return _t(this.ptr)},Pt.prototype.Fsck=Pt.prototype.Fsck=function(){return mt(this.ptr)},Pt.prototype.GetResult=Pt.prototype.GetResult=function(){return Ft(this.ptr)},Pt.prototype.__destroy__=Pt.prototype.__destroy__=function(){bt(this.ptr)},($r.prototype=Object.create(ln.prototype)).constructor=$r,$r.prototype.__class__=$r,$r.__cache__={},c.GunzipContext=$r,$r.prototype.GetState=$r.prototype.GetState=function(){return nr(this.ptr)},$r.prototype.Continue=$r.prototype.Continue=function(){return zn(this.ptr)},$r.prototype.GetUncompressedData=$r.prototype.GetUncompressedData=function(){return _r(Qr(this.ptr),kr)},$r.prototype.ReleaseUncompressedData=$r.prototype.ReleaseUncompressedData=function(){return _r(mr(this.ptr),kr)},$r.prototype.GetUncompressedSize=$r.prototype.GetUncompressedSize=function(){return Ht(this.ptr)},$r.prototype.GetError=$r.prototype.GetError=function(){return Gn(Ao(this.ptr))},$r.prototype.__destroy__=$r.prototype.__destroy__=function(){Ar(this.ptr)},(cn.prototype=Object.create(ln.prototype)).constructor=cn,cn.prototype.__class__=cn,cn.__cache__={},c.GzipContext=cn,cn.prototype.SetFilename=cn.prototype.SetFilename=function(_){var R=this.ptr;return mn.prepare(),_=_&&"object"==typeof _?_.ptr:ms(_),_r(fr(R,_),cn)},cn.prototype.SetMtime=cn.prototype.SetMtime=function(_){return _&&"object"==typeof _&&(_=_.ptr),_r(or(this.ptr,_),cn)},cn.prototype.Continue=cn.prototype.Continue=function(){return _i(this.ptr)},cn.prototype.GetState=cn.prototype.GetState=function(){return Ir(this.ptr)},cn.prototype.GetGzipData=cn.prototype.GetGzipData=function(){return _r(ro(this.ptr),kr)},cn.prototype.GetGzipSize=cn.prototype.GetGzipSize=function(){return ds(this.ptr)},cn.prototype.GetError=cn.prototype.GetError=function(){return Gn(vo(this.ptr))},cn.prototype.__destroy__=cn.prototype.__destroy__=function(){ml(this.ptr)},(Vn.prototype=Object.create(ln.prototype)).constructor=Vn,Vn.prototype.__class__=Vn,Vn.__cache__={},c.CreateZipContext=Vn,Vn.prototype.Initialize=Vn.prototype.Initialize=function(_){return _&&"object"==typeof _&&(_=_.ptr),!!jl(this.ptr,_)},Vn.prototype.AddEntry=Vn.prototype.AddEntry=function(_){var R=this.ptr;return mn.prepare(),_=_&&"object"==typeof _?_.ptr:ms(_),!!Fa(R,_)},Vn.prototype.WriteData=Vn.prototype.WriteData=function(_,R){return _&&"object"==typeof _&&(_=_.ptr),R&&"object"==typeof R&&(R=R.ptr),!!_l(this.ptr,_,R)},Vn.prototype.GetZipData=Vn.prototype.GetZipData=function(){return _r(gl(this.ptr),kr)},Vn.prototype.GetZipDataSize=Vn.prototype.GetZipDataSize=function(){return ko(this.ptr)},Vn.prototype.GetLastError=Vn.prototype.GetLastError=function(){return Gn(vl(this.ptr))},Vn.prototype.__destroy__=Vn.prototype.__destroy__=function(){Pa(this.ptr)},(Mn.prototype=Object.create(ln.prototype)).constructor=Mn,Mn.prototype.__class__=Mn,Mn.__cache__={},c.ZipfileWalker=Mn,Mn.prototype.GetState=Mn.prototype.GetState=function(){return yl(this.ptr)},Mn.prototype.Next=Mn.prototype.Next=function(){return Oa(this.ptr)},Mn.prototype.GetTotalEntries=Mn.prototype.GetTotalEntries=function(){return fa(this.ptr)},Mn.prototype.GetCurrentEntrySize=Mn.prototype.GetCurrentEntrySize=function(){return Lr(this.ptr)},Mn.prototype.GetCurrentEntryName=Mn.prototype.GetCurrentEntryName=function(){return Gn(Qo(this.ptr))},Mn.prototype.GetCurrentEntryContent=Mn.prototype.GetCurrentEntryContent=function(){return _r(La(this.ptr),kr)},Mn.prototype.__destroy__=Mn.prototype.__destroy__=function(){zl(this.ptr)},$=un?c:new Promise((_,R)=>{cr=_,br=R});for(const _ of Object.keys(c))_ in q||Object.defineProperty(q,_,{configurable:!0,get(){jt(`Access to module property ('${_}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`)}});return $}));J.exports=P,J.exports.default=P},6780:(J,De,b)=>{"use strict";b.d(De,{b:()=>c,c:()=>G,d:()=>I,e:()=>ee,g:()=>be,l:()=>we,s:()=>O,t:()=>pe,w:()=>W});var E=b(1890),P=b(9335),z=b(6721);const c="ionViewWillLeave",G="ionViewDidLeave",I="ionViewWillUnload",U=ce=>{ce.tabIndex=-1,ce.focus()},B=ce=>null!==ce.offsetParent,j="ion-last-focus",ue_saveViewFocus=Ne=>{if(P.e.get("focusManagerPriority",!1)){const Ce=document.activeElement;null!==Ce&&Ne?.contains(Ce)&&Ce.setAttribute(j,"true")}},ue_setViewFocus=Ne=>{const Be=P.e.get("focusManagerPriority",!1);if(Array.isArray(Be)&&!Ne.contains(document.activeElement)){const Ce=Ne.querySelector(`[${j}]`);if(Ce&&B(Ce))return void U(Ce);for(const Ye of Be)switch(Ye){case"content":const C=Ne.querySelector('main, [role="main"]');if(C&&B(C))return void U(C);break;case"heading":const ke=Ne.querySelector('h1, [role="heading"][aria-level="1"]');if(ke&&B(ke))return void U(ke);break;case"banner":const He=Ne.querySelector('header, [role="banner"]');if(He&&B(He))return void U(He);break;default:(0,P.f)(`Unrecognized focus manager priority value ${Ye}`)}U(Ne)}},pe=ce=>new Promise((ye,Ne)=>{(0,P.w)(()=>{ve(ce),re(ce).then(Be=>{Be.animation&&Be.animation.destroy(),L(ce),ye(Be)},Be=>{L(ce),Ne(Be)})})}),ve=ce=>{const ye=ce.enteringEl,Ne=ce.leavingEl;ue_saveViewFocus(Ne),Te(ye,Ne,ce.direction),ce.showGoBack?ye.classList.add("can-go-back"):ye.classList.remove("can-go-back"),O(ye,!1),ye.style.setProperty("pointer-events","none"),Ne&&(O(Ne,!1),Ne.style.setProperty("pointer-events","none"))},re=function(){var ce=(0,E.A)(function*(ye){const Ne=yield oe(ye);return Ne&&P.B.isBrowser?xe(Ne,ye):Oe(ye)});return function(Ne){return ce.apply(this,arguments)}}(),L=ce=>{const ye=ce.enteringEl,Ne=ce.leavingEl;ye.classList.remove("ion-page-invisible"),ye.style.removeProperty("pointer-events"),void 0!==Ne&&(Ne.classList.remove("ion-page-invisible"),Ne.style.removeProperty("pointer-events")),ue_setViewFocus(ye)},oe=function(){var ce=(0,E.A)(function*(ye){return ye.leavingEl&&ye.animated&&0!==ye.duration?ye.animationBuilder?ye.animationBuilder:"ios"===ye.mode?(yield Promise.resolve().then(b.bind(b,9805))).iosTransitionAnimation:(yield Promise.resolve().then(b.bind(b,1393))).mdTransitionAnimation:void 0});return function(Ne){return ce.apply(this,arguments)}}(),xe=function(){var ce=(0,E.A)(function*(ye,Ne){yield tt(Ne,!0);const Be=ye(Ne.baseEl,Ne);Se(Ne.enteringEl,Ne.leavingEl);const Ce=yield Ae(Be,Ne);return Ne.progressCallback&&Ne.progressCallback(void 0),Ce&&ge(Ne.enteringEl,Ne.leavingEl),{hasCompleted:Ce,animation:Be}});return function(Ne,Be){return ce.apply(this,arguments)}}(),Oe=function(){var ce=(0,E.A)(function*(ye){const Ne=ye.enteringEl,Be=ye.leavingEl,Ce=P.e.get("focusManagerPriority",!1);return yield tt(ye,Ce),Se(Ne,Be),ge(Ne,Be),{hasCompleted:!0}});return function(Ne){return ce.apply(this,arguments)}}(),tt=function(){var ce=(0,E.A)(function*(ye,Ne){(void 0!==ye.deepWait?ye.deepWait:Ne)&&(yield Promise.all([ee(ye.enteringEl),ee(ye.leavingEl)])),yield le(ye.viewIsReady,ye.enteringEl)});return function(Ne,Be){return ce.apply(this,arguments)}}(),le=function(){var ce=(0,E.A)(function*(ye,Ne){ye&&(yield ye(Ne))});return function(Ne,Be){return ce.apply(this,arguments)}}(),Ae=(ce,ye)=>{const Ne=ye.progressCallback,Be=new Promise(Ce=>{ce.onFinish(Ye=>Ce(1===Ye))});return Ne?(ce.progressStart(!0),Ne(ce)):ce.play(),Be},Se=(ce,ye)=>{we(ye,c),we(ce,"ionViewWillEnter")},ge=(ce,ye)=>{we(ce,"ionViewDidEnter"),we(ye,G)},we=(ce,ye)=>{if(ce){const Ne=new CustomEvent(ye,{bubbles:!1,cancelable:!1});ce.dispatchEvent(Ne)}},W=()=>new Promise(ce=>(0,z.r)(()=>(0,z.r)(()=>ce()))),ee=function(){var ce=(0,E.A)(function*(ye){const Ne=ye;if(Ne){if(null!=Ne.componentOnReady){if(null!=(yield Ne.componentOnReady()))return}else if(null!=Ne.__registerHost)return void(yield new Promise(Ce=>(0,z.r)(Ce)));yield Promise.all(Array.from(Ne.children).map(ee))}});return function(Ne){return ce.apply(this,arguments)}}(),O=(ce,ye)=>{ye?(ce.setAttribute("aria-hidden","true"),ce.classList.add("ion-page-hidden")):(ce.hidden=!1,ce.removeAttribute("aria-hidden"),ce.classList.remove("ion-page-hidden"))},Te=(ce,ye,Ne)=>{void 0!==ce&&(ce.style.zIndex="back"===Ne?"99":"101"),void 0!==ye&&(ye.style.zIndex="100")},be=ce=>ce.classList.contains("ion-page")?ce:ce.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ce},6784:(J,De,b)=>{"use strict";var P=b(3948);De.J=P.default},6837:(J,De,b)=>{"use strict";var E=b(840),P=E("String.prototype.valueOf"),q=E("Object.prototype.toString"),c=b(5328)();J.exports=function(I){return"string"==typeof I||!(!I||"object"!=typeof I)&&(c?function(I){try{return P(I),!0}catch{return!1}}(I):"[object String]"===q(I))}},6959:(J,De,b)=>{"use strict";var E=b(6837),P=b(8979),z=b(6484),q=b(3016),$=b(7671);J.exports=function(G){return null==G||"object"!=typeof G&&"function"!=typeof G?null:E(G)?"String":P(G)?"Number":z(G)?"Boolean":q(G)?"Symbol":$(G)?"BigInt":void 0}},6969:(J,De,b)=>{"use strict";var E=b(592),P=b(6283),z=b(8447),q=b(78),$=b(7100),c=P.apply(q()),G=function(U,B){return c(Object,arguments)};E(G,{getPolyfill:q,implementation:z,shim:$}),J.exports=G},6998:J=>{"use strict";J.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},7031:J=>{var De,b;De="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J.exports=b={rotl:function(E,P){return E<<P|E>>>32-P},rotr:function(E,P){return E<<32-P|E>>>P},endian:function(E){if(E.constructor==Number)return 16711935&b.rotl(E,8)|4278255360&b.rotl(E,24);for(var P=0;P<E.length;P++)E[P]=b.endian(E[P]);return E},randomBytes:function(E){for(var P=[];E>0;E--)P.push(Math.floor(256*Math.random()));return P},bytesToWords:function(E){for(var P=[],z=0,q=0;z<E.length;z++,q+=8)P[q>>>5]|=E[z]<<24-q%32;return P},wordsToBytes:function(E){for(var P=[],z=0;z<32*E.length;z+=8)P.push(E[z>>>5]>>>24-z%32&255);return P},bytesToHex:function(E){for(var P=[],z=0;z<E.length;z++)P.push((E[z]>>>4).toString(16)),P.push((15&E[z]).toString(16));return P.join("")},hexToBytes:function(E){for(var P=[],z=0;z<E.length;z+=2)P.push(parseInt(E.substr(z,2),16));return P},bytesToBase64:function(E){for(var P=[],z=0;z<E.length;z+=3)for(var q=E[z]<<16|E[z+1]<<8|E[z+2],$=0;$<4;$++)P.push(8*z+6*$<=8*E.length?De.charAt(q>>>6*(3-$)&63):"=");return P.join("")},base64ToBytes:function(E){E=E.replace(/[^A-Z0-9+\/]/gi,"");for(var P=[],z=0,q=0;z<E.length;q=++z%4)0!=q&&P.push((De.indexOf(E.charAt(z-1))&Math.pow(2,-2*q+8)-1)<<2*q|De.indexOf(E.charAt(z))>>>6-2*q);return P}}},7057:(J,De,b)=>{"use strict";var E=b(592),P=b(6283),z=b(1143),q=b(4198),$=b(8436),c=P(q());E(c,{getPolyfill:q,implementation:z,shim:$}),J.exports=c},7100:(J,De,b)=>{"use strict";var E=b(592),P=b(78);J.exports=function(){var q=P();return E(Object,{assign:q},{assign:function(){return Object.assign!==q}}),q}},7133:(J,De,b)=>{"use strict";b.d(De,{c:()=>G});var E=b(9335),P=b(575);let z;const $=(I,U,B)=>{const K=U.startsWith("animation")?(I=>(void 0===z&&(z=void 0===I.style.animationName&&void 0!==I.style.webkitAnimationName?"-webkit-":""),z))(I):"";I.style.setProperty(K+U,B)},c=(I=[],U)=>{if(void 0!==U){const B=Array.isArray(U)?U:[U];return[...I,...B]}return I},G=I=>{let U,B,K,j,M,A,L,ge,we,W,be,ue=[],pe=[],ve=[],re=!1,oe={},xe=[],Oe=[],tt={},le=0,Ae=!1,Se=!1,ee=!0,O=!1,Te=!0,ce=!1;const ye=I,Ne=[],Be=[],Ce=[],Ye=[],C=[],ke=[],He=[],Ct=[],Tt=[],Nt=[],ut=[],At="function"==typeof AnimationEffect||void 0!==P.w&&"function"==typeof P.w.AnimationEffect,lt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&At,Mt=()=>ut,Lt=(Fe,Rt)=>{const Sn=Rt.findIndex(ii=>ii.c===Fe);Sn>-1&&Rt.splice(Sn,1)},$e=(Fe,Rt)=>((Rt?.oneTimeCallback?Be:Ne).push({c:Fe,o:Rt}),be),gt=()=>{lt&&(ut.forEach(Fe=>{Fe.cancel()}),ut.length=0)},tn=()=>{ke.forEach(Fe=>{Fe?.parentNode&&Fe.parentNode.removeChild(Fe)}),ke.length=0},Zt=()=>void 0!==M?M:L?L.getFill():"both",Ee=()=>void 0!==ge?ge:void 0!==A?A:L?L.getDirection():"normal",Re=()=>Ae?"linear":void 0!==K?K:L?L.getEasing():"linear",nn=()=>Se?0:void 0!==we?we:void 0!==B?B:L?L.getDuration():0,ir=()=>void 0!==j?j:L?L.getIterations():1,un=()=>void 0!==W?W:void 0!==U?U:L?L.getDelay():0,Or=()=>{0!==le&&(le--,0===le&&((()=>{Tt.forEach(Ur=>Ur()),Nt.forEach(Ur=>Ur());const Fe=ee?1:0,Rt=xe,Sn=Oe,ii=tt;Ye.forEach(Ur=>{const Zn=Ur.classList;Rt.forEach(zi=>Zn.add(zi)),Sn.forEach(zi=>Zn.remove(zi));for(const zi in ii)ii.hasOwnProperty(zi)&&$(Ur,zi,ii[zi])}),we=void 0,ge=void 0,W=void 0,Ne.forEach(Ur=>Ur.c(Fe,be)),Be.forEach(Ur=>Ur.c(Fe,be)),Be.length=0,Te=!0,ee&&(O=!0),ee=!0})(),L&&L.animationFinish()))},Fs=()=>{(()=>{He.forEach(ii=>ii()),Ct.forEach(ii=>ii());const Fe=pe,Rt=ve,Sn=oe;Ye.forEach(ii=>{const Ur=ii.classList;Fe.forEach(Zn=>Ur.add(Zn)),Rt.forEach(Zn=>Ur.remove(Zn));for(const Zn in Sn)Sn.hasOwnProperty(Zn)&&$(ii,Zn,Sn[Zn])})})(),ue.length>0&&lt&&(Ye.forEach(Fe=>{const Rt=Fe.animate(ue,{id:ye,delay:un(),duration:nn(),easing:Re(),iterations:ir(),fill:Zt(),direction:Ee()});Rt.pause(),ut.push(Rt)}),ut.length>0&&(ut[0].onfinish=()=>{Or()})),re=!0},po=Fe=>{Fe=Math.min(Math.max(Fe,0),.9999),lt&&ut.forEach(Rt=>{Rt.currentTime=Rt.effect.getComputedTiming().delay+nn()*Fe,Rt.pause()})},Le=Fe=>{ut.forEach(Rt=>{Rt.effect.updateTiming({delay:un(),duration:nn(),easing:Re(),iterations:ir(),fill:Zt(),direction:Ee()})}),void 0!==Fe&&po(Fe)},xi=(Fe=!1,Rt=!0,Sn)=>(Fe&&C.forEach(ii=>{ii.update(Fe,Rt,Sn)}),lt&&Le(Sn),be),is=()=>{re&&(lt?ut.forEach(Fe=>{Fe.pause()}):Ye.forEach(Fe=>{$(Fe,"animation-play-state","paused")}),ce=!0)},os=Fe=>new Promise(Rt=>{Fe?.sync&&(Se=!0,$e(()=>Se=!1,{oneTimeCallback:!0})),re||Fs(),O&&(lt&&(po(0),Le()),O=!1),Te&&(le=C.length+1,Te=!1);const Sn=()=>{Lt(ii,Be),Rt()},ii=()=>{Lt(Sn,Ce),Rt()};$e(ii,{oneTimeCallback:!0}),(Fe=>{Ce.push({c:Fe,o:{oneTimeCallback:!0}})})(Sn),C.forEach(Ur=>{Ur.play()}),lt?(ut.forEach(Fe=>{Fe.play()}),(0===ue.length||0===Ye.length)&&Or()):Or(),ce=!1}),Tn=(Fe,Rt)=>{const Sn=ue[0];return void 0===Sn||void 0!==Sn.offset&&0!==Sn.offset?ue=[{offset:0,[Fe]:Rt},...ue]:Sn[Fe]=Rt,be};return be={parentAnimation:L,elements:Ye,childAnimations:C,id:ye,animationFinish:Or,from:Tn,to:(Fe,Rt)=>{const Sn=ue[ue.length-1];return void 0===Sn||void 0!==Sn.offset&&1!==Sn.offset?ue=[...ue,{offset:1,[Fe]:Rt}]:Sn[Fe]=Rt,be},fromTo:(Fe,Rt,Sn)=>Tn(Fe,Rt).to(Fe,Sn),parent:Fe=>(L=Fe,be),play:os,pause:()=>(C.forEach(Fe=>{Fe.pause()}),is(),be),stop:()=>{C.forEach(Fe=>{Fe.stop()}),re&&(gt(),re=!1),Ae=!1,Se=!1,Te=!0,ge=void 0,we=void 0,W=void 0,le=0,O=!1,ee=!0,ce=!1,Ce.forEach(Fe=>Fe.c(0,be)),Ce.length=0},destroy:Fe=>(C.forEach(Rt=>{Rt.destroy(Fe)}),(Fe=>{gt(),Fe&&tn()})(Fe),Ye.length=0,C.length=0,ue.length=0,Ne.length=0,Be.length=0,re=!1,Te=!0,be),keyframes:Fe=>{const Rt=ue!==Fe;return ue=Fe,Rt&&(Fe=>{lt&&Mt().forEach(Rt=>{const Sn=Rt.effect;if(Sn.setKeyframes)Sn.setKeyframes(Fe);else{const ii=new KeyframeEffect(Sn.target,Fe,Sn.getTiming());Rt.effect=ii}})})(ue),be},addAnimation:Fe=>{if(null!=Fe)if(Array.isArray(Fe))for(const Rt of Fe)Rt.parent(be),C.push(Rt);else Fe.parent(be),C.push(Fe);return be},addElement:Fe=>{if(null!=Fe)if(1===Fe.nodeType)Ye.push(Fe);else if(Fe.length>=0)for(let Rt=0;Rt<Fe.length;Rt++)Ye.push(Fe[Rt]);else(0,E.j)("createAnimation - Invalid addElement value.");return be},update:xi,fill:Fe=>(M=Fe,xi(!0),be),direction:Fe=>(A=Fe,xi(!0),be),iterations:Fe=>(j=Fe,xi(!0),be),duration:Fe=>(!lt&&0===Fe&&(Fe=1),B=Fe,xi(!0),be),easing:Fe=>(K=Fe,xi(!0),be),delay:Fe=>(U=Fe,xi(!0),be),getWebAnimations:Mt,getKeyframes:()=>ue,getFill:Zt,getDirection:Ee,getDelay:un,getIterations:ir,getEasing:Re,getDuration:nn,afterAddRead:Fe=>(Tt.push(Fe),be),afterAddWrite:Fe=>(Nt.push(Fe),be),afterClearStyles:(Fe=[])=>{for(const Rt of Fe)tt[Rt]="";return be},afterStyles:(Fe={})=>(tt=Fe,be),afterRemoveClass:Fe=>(Oe=c(Oe,Fe),be),afterAddClass:Fe=>(xe=c(xe,Fe),be),beforeAddRead:Fe=>(He.push(Fe),be),beforeAddWrite:Fe=>(Ct.push(Fe),be),beforeClearStyles:(Fe=[])=>{for(const Rt of Fe)oe[Rt]="";return be},beforeStyles:(Fe={})=>(oe=Fe,be),beforeRemoveClass:Fe=>(ve=c(ve,Fe),be),beforeAddClass:Fe=>(pe=c(pe,Fe),be),onFinish:$e,isRunning:()=>0!==le&&!ce,progressStart:(Fe=!1,Rt)=>(C.forEach(Sn=>{Sn.progressStart(Fe,Rt)}),is(),Ae=Fe,re||Fs(),xi(!1,!0,Rt),be),progressStep:Fe=>(C.forEach(Rt=>{Rt.progressStep(Fe)}),po(Fe),be),progressEnd:(Fe,Rt,Sn)=>(Ae=!1,C.forEach(ii=>{ii.progressEnd(Fe,Rt,Sn)}),void 0!==Sn&&(we=Sn),O=!1,ee=!0,0===Fe?(ge="reverse"===Ee()?"normal":"reverse","reverse"===ge&&(ee=!1),lt?(xi(),po(1-Rt)):(W=(1-Rt)*nn()*-1,xi(!1,!1))):1===Fe&&(lt?(xi(),po(Rt)):(W=Rt*nn()*-1,xi(!1,!1))),void 0!==Fe&&!L&&os(),be)}}},7268:J=>{"use strict";var E,P,De=Function.prototype.toString,b="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof b&&"function"==typeof Object.defineProperty)try{E=Object.defineProperty({},"length",{get:function(){throw P}}),P={},b(function(){throw 42},null,E)}catch(ve){ve!==P&&(b=null)}else b=null;var z=/^\s*class\b/,q=function(re){try{var L=De.call(re);return z.test(L)}catch{return!1}},$=function(re){try{return!q(re)&&(De.call(re),!0)}catch{return!1}},c=Object.prototype.toString,M="function"==typeof Symbol&&!!Symbol.toStringTag,A=!(0 in[,]),ue=function(){return!1};if("object"==typeof document){var pe=document.all;c.call(pe)===c.call(document.all)&&(ue=function(re){if((A||!re)&&(typeof re>"u"||"object"==typeof re))try{var L=c.call(re);return("[object HTMLAllCollection]"===L||"[object HTML document.all class]"===L||"[object HTMLCollection]"===L||"[object Object]"===L)&&null==re("")}catch{}return!1})}J.exports=b?function(re){if(ue(re))return!0;if(!re||"function"!=typeof re&&"object"!=typeof re)return!1;try{b(re,null,E)}catch(L){if(L!==P)return!1}return!q(re)&&$(re)}:function(re){if(ue(re))return!0;if(!re||"function"!=typeof re&&"object"!=typeof re)return!1;if(M)return $(re);if(q(re))return!1;var L=c.call(re);return!("[object Function]"!==L&&"[object GeneratorFunction]"!==L&&!/^\[object HTML/.test(L))&&$(re)}},7308:(J,De)=>{"use strict";var b=Object.prototype.hasOwnProperty;function P(c){try{return decodeURIComponent(c.replace(/\+/g," "))}catch{return null}}function z(c){try{return encodeURIComponent(c)}catch{return null}}De.stringify=function $(c,G){G=G||"";var U,B,I=[];for(B in"string"!=typeof G&&(G="?"),c)if(b.call(c,B)){if(!(U=c[B])&&(null==U||isNaN(U))&&(U=""),B=z(B),U=z(U),null===B||null===U)continue;I.push(B+"="+U)}return I.length?G+I.join("&"):""},De.parse=function q(c){for(var U,G=/([^=?#&]+)=?([^&]*)/g,I={};U=G.exec(c);){var B=P(U[1]),K=P(U[2]);null===B||null===K||B in I||(I[B]=K)}return I}},7433:(J,De,b)=>{"use strict";b.d(De,{B:()=>ut,F:()=>Lt,G:()=>At,O:()=>lt,a:()=>ve,b:()=>re,c:()=>Oe,d:()=>Mt,e:()=>Gt,f:()=>Ne,g:()=>Ce,h:()=>ke,i:()=>Ct,j:()=>le,k:()=>Ae,l:()=>L,m:()=>oe,n:()=>B,o:()=>ce,q:()=>K,s:()=>Nt});var E=b(1890),P=b(575),z=b(6721),q=b(4896),$=b(9335),c=b(9919),G=b(5827),I=b(566);const U='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',B=(Ke,$e)=>{const ze=Ke.querySelector(U);j(ze,$e??Ke)},K=(Ke,$e)=>{const ze=Array.from(Ke.querySelectorAll(U));j(ze.length>0?ze[ze.length-1]:null,$e??Ke)},j=(Ke,$e)=>{let ze=Ke;const gt=Ke?.shadowRoot;if(gt&&(ze=gt.querySelector(U)||Ke),ze){const tn=ze.closest("ion-radio-group");tn?tn.setFocus():(0,z.n)(ze)}else $e.focus()};let M=0,A=0;const ue=new WeakMap,pe=Ke=>({create:$e=>Se(Ke,$e),dismiss:($e,ze,gt)=>O(document,$e,ze,Ke,gt),getTop:()=>(0,E.A)(function*(){return ce(document,Ke)})()}),ve=pe("ion-alert"),re=pe("ion-action-sheet"),L=pe("ion-loading"),oe=pe("ion-modal"),Oe=pe("ion-popover"),le=Ke=>{typeof document<"u"&&ee(document);const $e=M++;Ke.overlayIndex=$e},Ae=Ke=>(Ke.hasAttribute("id")||(Ke.id="ion-overlay-"+ ++A),Ke.id),Se=(Ke,$e)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ke).then(()=>{const ze=document.createElement(Ke);return ze.classList.add("overlay-hidden"),Object.assign(ze,Object.assign(Object.assign({},$e),{hasController:!0})),Ye(document).appendChild(ze),new Promise(gt=>(0,z.c)(ze,gt))}):Promise.resolve(),we=(Ke,$e)=>{let ze=Ke;const gt=Ke?.shadowRoot;gt&&(ze=gt.querySelector(U)||Ke),ze?(0,z.n)(ze):$e.focus()},ee=Ke=>{0===M&&(M=1,Ke.addEventListener("focus",$e=>{((Ke,$e)=>{const ze=ce($e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),gt=Ke.target;ze&&gt&&!ze.classList.contains(Lt)&&(ze.shadowRoot?(()=>{if(ze.contains(gt))ze.lastFocus=gt;else if("ION-TOAST"===gt.tagName)we(ze.lastFocus,ze);else{const Qe=ze.lastFocus;B(ze),Qe===$e.activeElement&&K(ze),ze.lastFocus=$e.activeElement}})():(()=>{if(ze===gt)ze.lastFocus=void 0;else if("ION-TOAST"===gt.tagName)we(ze.lastFocus,ze);else{const Qe=(0,z.g)(ze);if(!Qe.contains(gt))return;const Wn=Qe.querySelector(".ion-overlay-wrapper");if(!Wn)return;if(Wn.contains(gt)||gt===Qe.querySelector("ion-backdrop"))ze.lastFocus=gt;else{const $n=ze.lastFocus;B(Wn,ze),$n===$e.activeElement&&K(Wn,ze),ze.lastFocus=$e.activeElement}}})())})($e,Ke)},!0),Ke.addEventListener("ionBackButton",$e=>{const ze=ce(Ke);ze?.backdropDismiss&&$e.detail.register(q.OVERLAY_BACK_BUTTON_PRIORITY,()=>{ze.dismiss(void 0,ut)})}),(0,q.shouldUseCloseWatcher)()||Ke.addEventListener("keydown",$e=>{if("Escape"===$e.key){const ze=ce(Ke);ze?.backdropDismiss&&ze.dismiss(void 0,ut)}}))},O=(Ke,$e,ze,gt,tn)=>{const Un=ce(Ke,gt,tn);return Un?Un.dismiss($e,ze):Promise.reject("overlay does not exist")},be=(Ke,$e)=>((Ke,$e)=>(void 0===$e&&($e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Ke.querySelectorAll($e)).filter(ze=>ze.overlayIndex>0)))(Ke,$e).filter(ze=>!(Ke=>Ke.classList.contains("overlay-hidden"))(ze)),ce=(Ke,$e,ze)=>{const gt=be(Ke,$e);return void 0===ze?gt[gt.length-1]:gt.find(tn=>tn.id===ze)},ye=(Ke=!1)=>{const ze=Ye(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");ze&&(Ke?ze.setAttribute("aria-hidden","true"):ze.removeAttribute("aria-hidden"))},Ne=function(){var Ke=(0,E.A)(function*($e,ze,gt,tn,Un){var Qe,Wn;if($e.presented)return;"ION-TOAST"!==$e.el.tagName&&(ye(!0),document.body.classList.add(I.B)),Ln($e.el),On($e.el),$e.presented=!0,$e.willPresent.emit(),null===(Qe=$e.willPresentShorthand)||void 0===Qe||Qe.emit();const $n=(0,c.b)($e),cr=$e.enterAnimation?$e.enterAnimation:$.e.get(ze,"ios"===$n?gt:tn);(yield C($e,cr,$e.el,Un))&&($e.didPresent.emit(),null===(Wn=$e.didPresentShorthand)||void 0===Wn||Wn.emit()),"ION-TOAST"!==$e.el.tagName&&Be($e.el),$e.keyboardClose&&(null===document.activeElement||!$e.el.contains(document.activeElement))&&$e.el.focus(),$e.el.removeAttribute("aria-hidden")});return function(ze,gt,tn,Un,Qe){return Ke.apply(this,arguments)}}(),Be=function(){var Ke=(0,E.A)(function*($e){let ze=document.activeElement;if(!ze)return;const gt=ze?.shadowRoot;gt&&(ze=gt.querySelector(U)||ze),yield $e.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&ze.focus()});return function(ze){return Ke.apply(this,arguments)}}(),Ce=function(){var Ke=(0,E.A)(function*($e,ze,gt,tn,Un,Qe,Wn){var $n,cr;if(!$e.presented)return!1;const ur=(void 0!==P.d?be(P.d):[]).filter(Sr=>"ION-TOAST"!==Sr.tagName);1===ur.length&&ur[0].id===$e.el.id&&(ye(!1),document.body.classList.remove(I.B)),$e.presented=!1;try{On($e.el),$e.el.style.setProperty("pointer-events","none"),$e.willDismiss.emit({data:ze,role:gt}),null===($n=$e.willDismissShorthand)||void 0===$n||$n.emit({data:ze,role:gt});const Sr=(0,c.b)($e),Yr=$e.leaveAnimation?$e.leaveAnimation:$.e.get(tn,"ios"===Sr?Un:Qe);gt!==At&&(yield C($e,Yr,$e.el,Wn)),$e.didDismiss.emit({data:ze,role:gt}),null===(cr=$e.didDismissShorthand)||void 0===cr||cr.emit({data:ze,role:gt}),(ue.get($e)||[]).forEach(rt=>rt.destroy()),ue.delete($e),$e.el.classList.add("overlay-hidden"),$e.el.style.removeProperty("pointer-events"),void 0!==$e.el.lastFocus&&($e.el.lastFocus=void 0)}catch(Sr){(0,$.j)(`[${$e.el.tagName.toLowerCase()}] - `,Sr)}return $e.el.remove(),hn(),!0});return function(ze,gt,tn,Un,Qe,Wn,$n){return Ke.apply(this,arguments)}}(),Ye=Ke=>Ke.querySelector("ion-app")||Ke.body,C=function(){var Ke=(0,E.A)(function*($e,ze,gt,tn){gt.classList.remove("overlay-hidden");const Qe=ze($e.el,tn);(!$e.animated||!$.e.getBoolean("animated",!0))&&Qe.duration(0),$e.keyboardClose&&Qe.beforeAddWrite(()=>{const $n=gt.ownerDocument.activeElement;$n?.matches("input,ion-input, ion-textarea")&&$n.blur()});const Wn=ue.get($e)||[];return ue.set($e,[...Wn,Qe]),yield Qe.play(),!0});return function(ze,gt,tn,Un){return Ke.apply(this,arguments)}}(),ke=(Ke,$e)=>{let ze;const gt=new Promise(tn=>ze=tn);return He(Ke,$e,tn=>{ze(tn.detail)}),gt},He=(Ke,$e,ze)=>{const gt=tn=>{(0,z.m)(Ke,$e,gt),ze(tn)};(0,z.f)(Ke,$e,gt)},Ct=Ke=>"cancel"===Ke||Ke===ut,Tt=Ke=>Ke(),Nt=(Ke,$e)=>{if("function"==typeof Ke)return $.e.get("_zoneGate",Tt)(()=>{try{return Ke($e)}catch(gt){throw gt}})},ut="backdrop",At="gesture",lt=39,Mt=Ke=>{let ze,$e=!1;const gt=(0,G.C)(),tn=(Wn=!1)=>{if(ze&&!Wn)return{delegate:ze,inline:$e};const{el:$n,hasController:cr,delegate:br}=Ke;return $e=null!==$n.parentNode&&!cr,ze=$e?br||gt:br,{inline:$e,delegate:ze}};return{attachViewToDom:function(){var Wn=(0,E.A)(function*($n){const{delegate:cr}=tn(!0);if(cr)return yield cr.attachViewToDom(Ke.el,$n);const{hasController:br}=Ke;if(br&&void 0!==$n)throw new Error("framework delegate is missing");return null});return function(cr){return Wn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Wn}=tn();Wn&&void 0!==Ke.el&&Wn.removeViewFromDom(Ke.el.parentElement,Ke.el)}}},Gt=()=>{let Ke;const $e=()=>{Ke&&(Ke(),Ke=void 0)};return{addClickListener:(gt,tn)=>{$e();const Un=void 0!==tn?document.getElementById(tn):null;Un?Ke=((Wn,$n)=>{const cr=()=>{$n.present()};return Wn.addEventListener("click",cr),()=>{Wn.removeEventListener("click",cr)}})(Un,gt):(0,$.f)(`[${gt.tagName.toLowerCase()}] - A trigger element with the ID "${tn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,gt)},removeClickListener:$e}},On=Ke=>{void 0!==P.d&&(0,c.a)("android")&&Ke.setAttribute("aria-hidden","true")},Ln=Ke=>{var $e;if(void 0===P.d)return;const ze=be(P.d);for(let gt=ze.length-1;gt>=0;gt--){const tn=ze[gt],Un=null!==($e=ze[gt+1])&&void 0!==$e?$e:Ke;(Un.hasAttribute("aria-hidden")||"ION-TOAST"!==Un.tagName)&&tn.setAttribute("aria-hidden","true")}},hn=()=>{if(void 0===P.d)return;const Ke=be(P.d);for(let $e=Ke.length-1;$e>=0;$e--){const ze=Ke[$e];if(ze.removeAttribute("aria-hidden"),"ION-TOAST"!==ze.tagName)break}},Lt="ion-disable-focus-trap"},7510:(J,De,b)=>{var z,E=b(5e3).default,P=(z=typeof document<"u"?document.currentScript?.src:void 0,E(function*(q={}){var $,c=q,G="object"==typeof window,I=typeof WorkerGlobalScope<"u",U="object"==typeof process&&process.versions?.node&&"renderer"!=process.type,B=!G&&!U&&!I,j="./this.program",M=(d,S)=>{throw S};I&&(z=self.location.href);var pe,ve,A="";if(B){if("object"==typeof process&&process.versions?.node&&"renderer"!=process.type||"object"==typeof window||typeof WorkerGlobalScope<"u")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)")}else{if(!G&&!I)throw new Error("environment detection error");try{A=new URL(".",z).href}catch{}if(!("object"==typeof window||typeof WorkerGlobalScope<"u"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");I&&(ve=d=>{var S=new XMLHttpRequest;return S.open("GET",d,!1),S.responseType="arraybuffer",S.send(null),new Uint8Array(S.response)}),pe=function(){var d=E(function*(S){O(!ce(S),"readAsync does not work with file:// URLs");var Z=yield fetch(S,{credentials:"same-origin"});if(Z.ok)return Z.arrayBuffer();throw new Error(Z.status+" : "+Z.url)});return function(Z){return d.apply(this,arguments)}}()}var we,re=console.log.bind(console),L=console.error.bind(console);O(!U,"node environment detected but not enabled at build time.  Add `node` to `-sENVIRONMENT` to enable."),O(!B,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable."),"object"!=typeof WebAssembly&&L("no native wasm support detected");var ee,W=!1;function O(d,S){d||jt("Assertion failed"+(S?": "+S:""))}var ce=d=>d.startsWith("file://");function Ne(){if(!W){var d=Vo();0==d&&(d+=4);var S=Zt[d>>2],Z=Zt[d+4>>2];(34821223!=S||2310721022!=Z)&&jt(`Stack overflow! Stack cookie has been overwritten at ${Rt(d)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Rt(Z)} ${Rt(S)}`),1668509029!=Zt[0]&&jt("Runtime error: The application has corrupted its heap memory area (address zero)!")}}function Ce(...d){console.warn(...d)}function Ye(d){Object.getOwnPropertyDescriptor(c,d)||Object.defineProperty(c,d,{configurable:!0,set(){jt(`Attempt to set \`Module.${d}\` after it has already been processed.  This can happen, for example, when code is injected via '--post-js' rather than '--pre-js'`)}})}function C(d){return()=>O(!1,`call to '${d}' via reference taken before Wasm module initialization`)}function ut(d){Object.getOwnPropertyDescriptor(c,d)||Object.defineProperty(c,d,{configurable:!0,get(){var S=`'${d}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;(function He(d){return"FS_createPath"===d||"FS_createDataFile"===d||"FS_createPreloadedFile"===d||"FS_unlink"===d||"addRunDependency"===d||"FS_createLazyFile"===d||"FS_createDevice"===d||"removeRunDependency"===d})(d)&&(S+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),jt(S)}})}(()=>{var d=new Int16Array(1),S=new Int8Array(d.buffer);if(d[0]=25459,115!==S[0]||99!==S[1])throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var On=2**64-1,$e=-(2**63);function ze(d,S,Z,nt){O(Number.isInteger(Number(d)),`attempt to write non-integer (${d}) into integer heap`),O(d<=nt,`value (${d}) too large to write as ${S}-bit value`),O(d>=Z,`value (${d}) too small to write as ${S}-bit value`)}var cr,br,ur,rr,Sr,rt,Zt,Re,nn,Qe=d=>ze(d,32,-2147483648,4294967295),un=!1;function an(){var d=ur.buffer;rr=new Int8Array(d),new Int16Array(d),c.HEAPU8=Sr=new Uint8Array(d),new Uint16Array(d),rt=new Int32Array(d),c.HEAPU32=Zt=new Uint32Array(d),new Float32Array(d),Re=new Float64Array(d),nn=new BigInt64Array(d),new BigUint64Array(d)}O(typeof Int32Array<"u"&&typeof Float64Array<"u"&&null!=Int32Array.prototype.subarray&&null!=Int32Array.prototype.set,"JS engine does not provide full typed array support");var qn=0,Er=null,tr={},dn=null;function jt(d){c.onAbort?.(d),L(d="Aborted("+d+")"),W=!0;var S=new WebAssembly.RuntimeError(d);throw br?.(S),S}var Or,jn={error(){jt("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){jn.error()},createDataFile(){jn.error()},createPreloadedFile(){jn.error()},createLazyFile(){jn.error()},open(){jn.error()},mkdev(){jn.error()},registerDevice(){jn.error()},analyzePath(){jn.error()},ErrnoError(){jn.error()}};function x(d,S){return(...Z)=>{O(un,`native function \`${d}\` called before runtime initialization`);var nt=Yl[d];return O(nt,`exported native function \`${d}\` not found`),O(Z.length<=S,`native function \`${d}\` called with ${Z.length} args but expects ${S}`),nt(...Z)}}function Le(){return(Le=E(function*(d){if(!we)try{var S=yield pe(d);return new Uint8Array(S)}catch{}return function Fs(d){if(d==Or&&we)return new Uint8Array(we);if(ve)return ve(d);throw"both async and sync fetching of the wasm failed"}(d)})).apply(this,arguments)}function Tr(){return Tr=E(function*(d,S){try{var Z=yield function po(d){return Le.apply(this,arguments)}(d);return yield WebAssembly.instantiate(Z,S)}catch(Ut){L(`failed to asynchronously prepare wasm: ${Ut}`),ce(Or)&&L(`warning: Loading from a file URI (${Or}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),jt(Ut)}}),Tr.apply(this,arguments)}function Eo(){return Eo=E(function*(d,S,Z){if(!d&&"function"==typeof WebAssembly.instantiateStreaming)try{var nt=fetch(S,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(nt,Z)}catch(In){L(`wasm streaming compile failed: ${In}`),L("falling back to ArrayBuffer instantiation")}return function xi(d,S){return Tr.apply(this,arguments)}(S,Z)}),Eo.apply(this,arguments)}function Ui(){return Ui=E(function*(){function d(bn,Xn){return O(ur=(Yl=bn.exports).memory,"memory not found in wasm exports"),an(),O(Cr=Yl.__indirect_function_table,"table not found in wasm exports"),function ao(d){c._main=hl=x("main",2),Bs=x("fflush",1),c._webidl_free=x("webidl_free",1),c._webidl_malloc=x("webidl_malloc",1),c._emscripten_bind_VoidPtr___destroy___0=p=x("emscripten_bind_VoidPtr___destroy___0",1),c._emscripten_bind_Cloudpilot_Cloudpilot_0=v=x("emscripten_bind_Cloudpilot_Cloudpilot_0",0),c._emscripten_bind_Cloudpilot_Malloc_1=D=x("emscripten_bind_Cloudpilot_Malloc_1",2),c._emscripten_bind_Cloudpilot_Free_1=k=x("emscripten_bind_Cloudpilot_Free_1",2),c._emscripten_bind_Cloudpilot_Nullptr_0=te=x("emscripten_bind_Cloudpilot_Nullptr_0",1),c._emscripten_bind_Cloudpilot_EnableLogging_1=ne=x("emscripten_bind_Cloudpilot_EnableLogging_1",2),c._emscripten_bind_Cloudpilot_InitializeSession_3=We=x("emscripten_bind_Cloudpilot_InitializeSession_3",4),c._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=Ie=x("emscripten_bind_Cloudpilot_GetCyclesPerSecond_0",1),c._emscripten_bind_Cloudpilot_RunEmulation_1=Xe=x("emscripten_bind_Cloudpilot_RunEmulation_1",2),c._emscripten_bind_Cloudpilot_SetClockFactor_1=Me=x("emscripten_bind_Cloudpilot_SetClockFactor_1",2),c._emscripten_bind_Cloudpilot_CopyFrame_0=Ve=x("emscripten_bind_Cloudpilot_CopyFrame_0",1),c._emscripten_bind_Cloudpilot_IsScreenDirty_0=_t=x("emscripten_bind_Cloudpilot_IsScreenDirty_0",1),c._emscripten_bind_Cloudpilot_MarkScreenClean_0=mt=x("emscripten_bind_Cloudpilot_MarkScreenClean_0",1),c._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=Ft=x("emscripten_bind_Cloudpilot_MinMemoryForDevice_1",2),c._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=bt=x("emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1",2),c._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=Cn=x("emscripten_bind_Cloudpilot_TotalMemoryForDevice_1",2),c._emscripten_bind_Cloudpilot_QueuePenMove_2=Mr=x("emscripten_bind_Cloudpilot_QueuePenMove_2",3),c._emscripten_bind_Cloudpilot_QueuePenUp_0=nr=x("emscripten_bind_Cloudpilot_QueuePenUp_0",1),c._emscripten_bind_Cloudpilot_QueueButtonDown_1=zn=x("emscripten_bind_Cloudpilot_QueueButtonDown_1",2),c._emscripten_bind_Cloudpilot_QueueButtonUp_1=Qr=x("emscripten_bind_Cloudpilot_QueueButtonUp_1",2),c._emscripten_bind_Cloudpilot_QueueKeyboardEvent_1=mr=x("emscripten_bind_Cloudpilot_QueueKeyboardEvent_1",2),c._emscripten_bind_Cloudpilot_IsPowerOff_0=Ht=x("emscripten_bind_Cloudpilot_IsPowerOff_0",1),c._emscripten_bind_Cloudpilot_IsUIInitialized_0=Ao=x("emscripten_bind_Cloudpilot_IsUIInitialized_0",1),c._emscripten_bind_Cloudpilot_GetOSVersion_0=Ar=x("emscripten_bind_Cloudpilot_GetOSVersion_0",1),c._emscripten_bind_Cloudpilot_IsSetupComplete_0=Li=x("emscripten_bind_Cloudpilot_IsSetupComplete_0",1),c._emscripten_bind_Cloudpilot_Reset_0=fr=x("emscripten_bind_Cloudpilot_Reset_0",1),c._emscripten_bind_Cloudpilot_ResetNoExtensions_0=or=x("emscripten_bind_Cloudpilot_ResetNoExtensions_0",1),c._emscripten_bind_Cloudpilot_ResetHard_0=_i=x("emscripten_bind_Cloudpilot_ResetHard_0",1),c._emscripten_bind_Cloudpilot_InstallDb_2=Ir=x("emscripten_bind_Cloudpilot_InstallDb_2",3),c._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=ro=x("emscripten_bind_Cloudpilot_GetPalette2bitMapping_0",1),c._emscripten_bind_Cloudpilot_GetMemoryPtr_0=ds=x("emscripten_bind_Cloudpilot_GetMemoryPtr_0",1),c._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=vo=x("emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0",1),c._emscripten_bind_Cloudpilot_GetMemorySize_0=ml=x("emscripten_bind_Cloudpilot_GetMemorySize_0",1),c._emscripten_bind_Cloudpilot_ImportMemoryImage_2=Na=x("emscripten_bind_Cloudpilot_ImportMemoryImage_2",3),c._emscripten_bind_Cloudpilot_GetRomPtr_0=jl=x("emscripten_bind_Cloudpilot_GetRomPtr_0",1),c._emscripten_bind_Cloudpilot_GetRomSize_0=Fa=x("emscripten_bind_Cloudpilot_GetRomSize_0",1),c._emscripten_bind_Cloudpilot_GetSavestatePtr_0=_l=x("emscripten_bind_Cloudpilot_GetSavestatePtr_0",1),c._emscripten_bind_Cloudpilot_GetSavestateSize_0=gl=x("emscripten_bind_Cloudpilot_GetSavestateSize_0",1),c._emscripten_bind_Cloudpilot_SaveState_0=ko=x("emscripten_bind_Cloudpilot_SaveState_0",1),c._emscripten_bind_Cloudpilot_LoadState_2=vl=x("emscripten_bind_Cloudpilot_LoadState_2",3),c._emscripten_bind_Cloudpilot_GetHotsyncName_0=Pa=x("emscripten_bind_Cloudpilot_GetHotsyncName_0",1),c._emscripten_bind_Cloudpilot_SetHotsyncName_1=da=x("emscripten_bind_Cloudpilot_SetHotsyncName_1",2),c._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=yl=x("emscripten_bind_Cloudpilot_RegisterPwmHandler_1",2),c._emscripten_bind_Cloudpilot_StartBackup_0=Oa=x("emscripten_bind_Cloudpilot_StartBackup_0",1),c._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=fa=x("emscripten_bind_Cloudpilot_SetClipboardIntegration_1",2),c._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=Lr=x("emscripten_bind_Cloudpilot_GetClipboardIntegration_0",1),c._emscripten_bind_Cloudpilot_IsSuspended_0=Qo=x("emscripten_bind_Cloudpilot_IsSuspended_0",1),c._emscripten_bind_Cloudpilot_GetSuspendContext_0=La=x("emscripten_bind_Cloudpilot_GetSuspendContext_0",1),c._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=zl=x("emscripten_bind_Cloudpilot_SetNetworkRedirection_1",2),c._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=bl=x("emscripten_bind_Cloudpilot_GetNetworkRedirection_0",1),c._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=Vl=x("emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1",2),c._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=Gs=x("emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1",2),c._emscripten_bind_Cloudpilot_LaunchAppByName_1=fs=x("emscripten_bind_Cloudpilot_LaunchAppByName_1",2),c._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=hc=x("emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2",3),c._emscripten_bind_Cloudpilot_ClearExternalStorage_0=Hl=x("emscripten_bind_Cloudpilot_ClearExternalStorage_0",1),c._emscripten_bind_Cloudpilot_AllocateCard_2=mc=x("emscripten_bind_Cloudpilot_AllocateCard_2",3),c._emscripten_bind_Cloudpilot_AdoptCard_3=pa=x("emscripten_bind_Cloudpilot_AdoptCard_3",4),c._emscripten_bind_Cloudpilot_MountCard_1=Vi=x("emscripten_bind_Cloudpilot_MountCard_1",2),c._emscripten_bind_Cloudpilot_RemoveCard_1=Sl=x("emscripten_bind_Cloudpilot_RemoveCard_1",2),c._emscripten_bind_Cloudpilot_GetCardData_1=Xc=x("emscripten_bind_Cloudpilot_GetCardData_1",2),c._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=Jr=x("emscripten_bind_Cloudpilot_GetCardDirtyPages_1",2),c._emscripten_bind_Cloudpilot_GetCardSize_1=dt=x("emscripten_bind_Cloudpilot_GetCardSize_1",2),c._emscripten_bind_Cloudpilot_RemountCards_0=on=x("emscripten_bind_Cloudpilot_RemountCards_0",1),c._emscripten_bind_Cloudpilot_GetSupportLevel_1=zr=x("emscripten_bind_Cloudpilot_GetSupportLevel_1",2),c._emscripten_bind_Cloudpilot_GetMountedKey_0=Fi=x("emscripten_bind_Cloudpilot_GetMountedKey_0",1),c._emscripten_bind_Cloudpilot_GetTransportIR_0=oi=x("emscripten_bind_Cloudpilot_GetTransportIR_0",1),c._emscripten_bind_Cloudpilot_GetTransportSerial_0=ps=x("emscripten_bind_Cloudpilot_GetTransportSerial_0",1),c._emscripten_bind_Cloudpilot___destroy___0=ha=x("emscripten_bind_Cloudpilot___destroy___0",1),c._emscripten_bind_RomInfo_RomInfo_2=ln=x("emscripten_bind_RomInfo_RomInfo_2",2),c._emscripten_bind_RomInfo_IsValid_0=Yn=x("emscripten_bind_RomInfo_IsValid_0",1),c._emscripten_bind_RomInfo_CardVersion_0=_r=x("emscripten_bind_RomInfo_CardVersion_0",1),c._emscripten_bind_RomInfo_CardName_0=yn=x("emscripten_bind_RomInfo_CardName_0",1),c._emscripten_bind_RomInfo_RomVersion_0=hs=x("emscripten_bind_RomInfo_RomVersion_0",1),c._emscripten_bind_RomInfo_RomVersionString_0=Cl=x("emscripten_bind_RomInfo_RomVersionString_0",1),c._emscripten_bind_RomInfo_Supports_1=Us=x("emscripten_bind_RomInfo_Supports_1",2),c._emscripten_bind_RomInfo___destroy___0=si=x("emscripten_bind_RomInfo___destroy___0",1),c._emscripten_bind_Frame_GetLineWidth_0=mn=x("emscripten_bind_Frame_GetLineWidth_0",1),c._emscripten_bind_Frame_GetBpp_0=ms=x("emscripten_bind_Frame_GetBpp_0",1),c._emscripten_bind_Frame_GetLines_0=_s=x("emscripten_bind_Frame_GetLines_0",1),c._emscripten_bind_Frame_GetMargin_0=wl=x("emscripten_bind_Frame_GetMargin_0",1),c._emscripten_bind_Frame_GetBytesPerLine_0=_c=x("emscripten_bind_Frame_GetBytesPerLine_0",1),c._emscripten_bind_Frame_GetFirstDirtyLine_0=io=x("emscripten_bind_Frame_GetFirstDirtyLine_0",1),c._emscripten_bind_Frame_GetLastDirtyLine_0=Wl=x("emscripten_bind_Frame_GetLastDirtyLine_0",1),c._emscripten_bind_Frame_GetHasChanges_0=kr=x("emscripten_bind_Frame_GetHasChanges_0",1),c._emscripten_bind_Frame_GetBuffer_0=gr=x("emscripten_bind_Frame_GetBuffer_0",1),c._emscripten_bind_Frame_GetBufferSize_0=Vr=x("emscripten_bind_Frame_GetBufferSize_0",1),c._emscripten_bind_Frame_GetScaleX_0=Pt=x("emscripten_bind_Frame_GetScaleX_0",1),c._emscripten_bind_Frame_GetScaleY_0=$r=x("emscripten_bind_Frame_GetScaleY_0",1),c._emscripten_bind_Frame___destroy___0=cn=x("emscripten_bind_Frame___destroy___0",1),c._emscripten_bind_DbBackup_Init_1=Vn=x("emscripten_bind_DbBackup_Init_1",2),c._emscripten_bind_DbBackup_IsInProgress_0=Mn=x("emscripten_bind_DbBackup_IsInProgress_0",1),c._emscripten_bind_DbBackup_IsDone_0=_=x("emscripten_bind_DbBackup_IsDone_0",1),c._emscripten_bind_DbBackup_GetCurrentDatabase_0=R=x("emscripten_bind_DbBackup_GetCurrentDatabase_0",1),c._emscripten_bind_DbBackup_Save_0=X=x("emscripten_bind_DbBackup_Save_0",1),c._emscripten_bind_DbBackup_Skip_0=Ze=x("emscripten_bind_DbBackup_Skip_0",1),c._emscripten_bind_DbBackup_GetArchivePtr_0=Ot=x("emscripten_bind_DbBackup_GetArchivePtr_0",1),c._emscripten_bind_DbBackup_GetArchiveSize_0=ht=x("emscripten_bind_DbBackup_GetArchiveSize_0",1),c._emscripten_bind_DbBackup___destroy___0=$t=x("emscripten_bind_DbBackup___destroy___0",1),c._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=rn=x("emscripten_bind_SuspendContextClipboardCopy_Cancel_0",1),c._emscripten_bind_SuspendContextClipboardCopy_Resume_0=pr=x("emscripten_bind_SuspendContextClipboardCopy_Resume_0",1),c._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=ma=x("emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0",1),c._emscripten_bind_SuspendContextClipboardCopy___destroy___0=gc=x("emscripten_bind_SuspendContextClipboardCopy___destroy___0",1),c._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=Hi=x("emscripten_bind_SuspendContextClipboardPaste_Cancel_0",1),c._emscripten_bind_SuspendContextClipboardPaste_Resume_1=Br=x("emscripten_bind_SuspendContextClipboardPaste_Resume_1",2),c._emscripten_bind_SuspendContextClipboardPaste___destroy___0=ai=x("emscripten_bind_SuspendContextClipboardPaste___destroy___0",1),c._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=Wt=x("emscripten_bind_SuspendContextNetworkConnect_Cancel_0",1),c._emscripten_bind_SuspendContextNetworkConnect_Resume_0=Gr=x("emscripten_bind_SuspendContextNetworkConnect_Resume_0",1),c._emscripten_bind_SuspendContextNetworkConnect___destroy___0=Rr=x("emscripten_bind_SuspendContextNetworkConnect___destroy___0",1),c._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=Ti=x("emscripten_bind_SuspendContextNetworkRpc_Cancel_0",1),c._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=li=x("emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0",1),c._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=Nr=x("emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0",1),c._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=h=x("emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2",3),c._emscripten_bind_SuspendContextNetworkRpc___destroy___0=N=x("emscripten_bind_SuspendContextNetworkRpc___destroy___0",1),c._emscripten_bind_SuspendContextSerialSync_Cancel_0=ae=x("emscripten_bind_SuspendContextSerialSync_Cancel_0",1),c._emscripten_bind_SuspendContextSerialSync_Resume_0=ot=x("emscripten_bind_SuspendContextSerialSync_Resume_0",1),c._emscripten_bind_SuspendContextSerialSync___destroy___0=qt=x("emscripten_bind_SuspendContextSerialSync___destroy___0",1),c._emscripten_bind_SuspendContext_GetKind_0=Hn=x("emscripten_bind_SuspendContext_GetKind_0",1),c._emscripten_bind_SuspendContext_Cancel_0=An=x("emscripten_bind_SuspendContext_Cancel_0",1),c._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=kn=x("emscripten_bind_SuspendContext_AsContextClipboardCopy_0",1),c._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=Hr=x("emscripten_bind_SuspendContext_AsContextClipboardPaste_0",1),c._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=$a=x("emscripten_bind_SuspendContext_AsContextNetworkConnect_0",1),c._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=Qc=x("emscripten_bind_SuspendContext_AsContextNetworkRpc_0",1),c._emscripten_bind_SuspendContext_AsContextSerialSync_0=Ba=x("emscripten_bind_SuspendContext_AsContextSerialSync_0",1),c._emscripten_bind_SuspendContext___destroy___0=js=x("emscripten_bind_SuspendContext___destroy___0",1),c._emscripten_bind_SessionImage_SessionImage_0=Jc=x("emscripten_bind_SessionImage_SessionImage_0",0),c._emscripten_bind_SessionImage_GetDeviceId_0=$i=x("emscripten_bind_SessionImage_GetDeviceId_0",1),c._emscripten_bind_SessionImage_SetDeviceId_1=Ru=x("emscripten_bind_SessionImage_SetDeviceId_1",2),c._emscripten_bind_SessionImage_GetRomImage_0=El=x("emscripten_bind_SessionImage_GetRomImage_0",1),c._emscripten_bind_SessionImage_GetRomImageSize_0=Mi=x("emscripten_bind_SessionImage_GetRomImageSize_0",1),c._emscripten_bind_SessionImage_SetRomImage_2=Pm=x("emscripten_bind_SessionImage_SetRomImage_2",3),c._emscripten_bind_SessionImage_GetMemoryImage_0=vc=x("emscripten_bind_SessionImage_GetMemoryImage_0",1),c._emscripten_bind_SessionImage_GetMemoryImageSize_0=ql=x("emscripten_bind_SessionImage_GetMemoryImageSize_0",1),c._emscripten_bind_SessionImage_SetMemoryImage_2=Nd=x("emscripten_bind_SessionImage_SetMemoryImage_2",3),c._emscripten_bind_SessionImage_GetMetadata_0=Ro=x("emscripten_bind_SessionImage_GetMetadata_0",1),c._emscripten_bind_SessionImage_GetMetadataSize_0=Om=x("emscripten_bind_SessionImage_GetMetadataSize_0",1),c._emscripten_bind_SessionImage_SetMetadata_2=Fd=x("emscripten_bind_SessionImage_SetMetadata_2",3),c._emscripten_bind_SessionImage_GetSavestate_0=Lm=x("emscripten_bind_SessionImage_GetSavestate_0",1),c._emscripten_bind_SessionImage_GetSavestateSize_0=yo=x("emscripten_bind_SessionImage_GetSavestateSize_0",1),c._emscripten_bind_SessionImage_SetSavestate_2=up=x("emscripten_bind_SessionImage_SetSavestate_2",3),c._emscripten_bind_SessionImage_GetVersion_0=dp=x("emscripten_bind_SessionImage_GetVersion_0",1),c._emscripten_bind_SessionImage_Serialize_0=fp=x("emscripten_bind_SessionImage_Serialize_0",1),c._emscripten_bind_SessionImage_GetSerializedImage_0=Nu=x("emscripten_bind_SessionImage_GetSerializedImage_0",1),c._emscripten_bind_SessionImage_GetSerializedImageSize_0=Pd=x("emscripten_bind_SessionImage_GetSerializedImageSize_0",1),c._emscripten_bind_SessionImage_Deserialize_2=yc=x("emscripten_bind_SessionImage_Deserialize_2",3),c._emscripten_bind_SessionImage___destroy___0=Fu=x("emscripten_bind_SessionImage___destroy___0",1),c._emscripten_bind_SkinLoader_SkinLoader_1=Od=x("emscripten_bind_SkinLoader_SkinLoader_1",1),c._emscripten_bind_SkinLoader_GetData_0=Ga=x("emscripten_bind_SkinLoader_GetData_0",1),c._emscripten_bind_SkinLoader_GetSize_0=pp=x("emscripten_bind_SkinLoader_GetSize_0",1),c._emscripten_bind_SkinLoader___destroy___0=hp=x("emscripten_bind_SkinLoader___destroy___0",1),c._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=mp=x("emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0",1),c._emscripten_bind_EmTransportSerialBuffer_Receive_0=wn=x("emscripten_bind_EmTransportSerialBuffer_Receive_0",1),c._emscripten_bind_EmTransportSerialBuffer_Send_3=bc=x("emscripten_bind_EmTransportSerialBuffer_Send_3",4),c._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=Ld=x("emscripten_bind_EmTransportSerialBuffer_IsOpen_0",1),c._emscripten_bind_EmTransportSerialBuffer_Rts_0=$d=x("emscripten_bind_EmTransportSerialBuffer_Rts_0",1),c._emscripten_bind_EmTransportSerialBuffer_Dtr_0=$m=x("emscripten_bind_EmTransportSerialBuffer_Dtr_0",1),c._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=Bm=x("emscripten_bind_EmTransportSerialBuffer_IsBreak_0",1),c._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=_p=x("emscripten_bind_EmTransportSerialBuffer_BufferSize_0",1),c._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=Bd=x("emscripten_bind_EmTransportSerialBuffer_GetBaud_0",1),c._emscripten_bind_EmTransportSerialBuffer_GetParity_0=gp=x("emscripten_bind_EmTransportSerialBuffer_GetParity_0",1),c._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=vp=x("emscripten_bind_EmTransportSerialBuffer_GetStopBits_0",1),c._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=Gm=x("emscripten_bind_EmTransportSerialBuffer_GetDataBits_0",1),c._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=By=x("emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0",1),c._emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=Um=x("emscripten_bind_EmTransportSerialBuffer_GetModeSync_0",1),c._emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=yp=x("emscripten_bind_EmTransportSerialBuffer_SetModeSync_1",2),c._emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=it=x("emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0",1),c._emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=Rn=x("emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1",2),c._emscripten_bind_EmTransportSerialBuffer___destroy___0=vt=x("emscripten_bind_EmTransportSerialBuffer___destroy___0",1),c._emscripten_bind_GunzipContext_GunzipContext_3=yt=x("emscripten_bind_GunzipContext_GunzipContext_3",3),c._emscripten_bind_GunzipContext_GetState_0=Dn=x("emscripten_bind_GunzipContext_GetState_0",1),c._emscripten_bind_GunzipContext_Continue_0=bp=x("emscripten_bind_GunzipContext_Continue_0",1),c._emscripten_bind_GunzipContext_GetUncompressedData_0=eu=x("emscripten_bind_GunzipContext_GetUncompressedData_0",1),c._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=Ua=x("emscripten_bind_GunzipContext_ReleaseUncompressedData_0",1),c._emscripten_bind_GunzipContext_GetUncompressedSize_0=Sp=x("emscripten_bind_GunzipContext_GetUncompressedSize_0",1),c._emscripten_bind_GunzipContext_GetError_0=Cp=x("emscripten_bind_GunzipContext_GetError_0",1),c._emscripten_bind_GunzipContext___destroy___0=wp=x("emscripten_bind_GunzipContext___destroy___0",1),c._emscripten_bind_ZipfileWalker_ZipfileWalker_2=Gy=x("emscripten_bind_ZipfileWalker_ZipfileWalker_2",2),c._emscripten_bind_ZipfileWalker_GetState_0=Uy=x("emscripten_bind_ZipfileWalker_GetState_0",1),c._emscripten_bind_ZipfileWalker_Next_0=Ep=x("emscripten_bind_ZipfileWalker_Next_0",1),c._emscripten_bind_ZipfileWalker_GetTotalEntries_0=Dp=x("emscripten_bind_ZipfileWalker_GetTotalEntries_0",1),c._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=Pu=x("emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0",1),c._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=No=x("emscripten_bind_ZipfileWalker_GetCurrentEntryName_0",1),c._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=ja=x("emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0",1),c._emscripten_bind_ZipfileWalker___destroy___0=Ip=x("emscripten_bind_ZipfileWalker___destroy___0",1),c._emscripten_bind_SessionFile5_SessionFile5_0=zo=x("emscripten_bind_SessionFile5_SessionFile5_0",0),c._emscripten_bind_SessionFile5_IsSessionFile_2=za=x("emscripten_bind_SessionFile5_IsSessionFile_2",3),c._emscripten_bind_SessionFile5_GetDeviceId_0=jm=x("emscripten_bind_SessionFile5_GetDeviceId_0",1),c._emscripten_bind_SessionFile5_SetDeviceId_1=xp=x("emscripten_bind_SessionFile5_SetDeviceId_1",2),c._emscripten_bind_SessionFile5_GetMetadata_0=zm=x("emscripten_bind_SessionFile5_GetMetadata_0",1),c._emscripten_bind_SessionFile5_GetMetadataSize_0=Vm=x("emscripten_bind_SessionFile5_GetMetadataSize_0",1),c._emscripten_bind_SessionFile5_SetMetadata_2=Gd=x("emscripten_bind_SessionFile5_SetMetadata_2",3),c._emscripten_bind_SessionFile5_GetNor_0=Ud=x("emscripten_bind_SessionFile5_GetNor_0",1),c._emscripten_bind_SessionFile5_GetNorSize_0=jd=x("emscripten_bind_SessionFile5_GetNorSize_0",1),c._emscripten_bind_SessionFile5_SetNor_2=Ou=x("emscripten_bind_SessionFile5_SetNor_2",3),c._emscripten_bind_SessionFile5_GetNand_0=Hm=x("emscripten_bind_SessionFile5_GetNand_0",1),c._emscripten_bind_SessionFile5_GetNandSize_0=Tp=x("emscripten_bind_SessionFile5_GetNandSize_0",1),c._emscripten_bind_SessionFile5_SetNand_2=zd=x("emscripten_bind_SessionFile5_SetNand_2",3),c._emscripten_bind_SessionFile5_GetMemory_0=Mp=x("emscripten_bind_SessionFile5_GetMemory_0",1),c._emscripten_bind_SessionFile5_GetMemorySize_0=Ap=x("emscripten_bind_SessionFile5_GetMemorySize_0",1),c._emscripten_bind_SessionFile5_SetMemory_2=kp=x("emscripten_bind_SessionFile5_SetMemory_2",3),c._emscripten_bind_SessionFile5_GetSavestate_0=Rp=x("emscripten_bind_SessionFile5_GetSavestate_0",1),c._emscripten_bind_SessionFile5_GetSavestateSize_0=Vd=x("emscripten_bind_SessionFile5_GetSavestateSize_0",1),c._emscripten_bind_SessionFile5_SetSavestate_2=Wm=x("emscripten_bind_SessionFile5_SetSavestate_2",3),c._emscripten_bind_SessionFile5_GetRamSize_0=oo=x("emscripten_bind_SessionFile5_GetRamSize_0",1),c._emscripten_bind_SessionFile5_SetRamSize_1=Zl=x("emscripten_bind_SessionFile5_SetRamSize_1",2),c._emscripten_bind_SessionFile5_Serialize_0=zs=x("emscripten_bind_SessionFile5_Serialize_0",1),c._emscripten_bind_SessionFile5_GetSerializedSession_0=qm=x("emscripten_bind_SessionFile5_GetSerializedSession_0",1),c._emscripten_bind_SessionFile5_GetSerializedSessionSize_0=Zm=x("emscripten_bind_SessionFile5_GetSerializedSessionSize_0",1),c._emscripten_bind_SessionFile5_GetVersion_0=Ym=x("emscripten_bind_SessionFile5_GetVersion_0",1),c._emscripten_bind_SessionFile5_Deserialize_2=Km=x("emscripten_bind_SessionFile5_Deserialize_2",3),c._emscripten_bind_SessionFile5___destroy___0=Xm=x("emscripten_bind_SessionFile5___destroy___0",1),c._emscripten_bind_RomInfo5_RomInfo5_2=Np=x("emscripten_bind_RomInfo5_RomInfo5_2",2),c._emscripten_bind_RomInfo5_IsValid_0=Lu=x("emscripten_bind_RomInfo5_IsValid_0",1),c._emscripten_bind_RomInfo5_GetCardName_0=tu=x("emscripten_bind_RomInfo5_GetCardName_0",1),c._emscripten_bind_RomInfo5_GetManufacturer_0=Hd=x("emscripten_bind_RomInfo5_GetManufacturer_0",1),c._emscripten_bind_RomInfo5_GetRomName_0=Qm=x("emscripten_bind_RomInfo5_GetRomName_0",1),c._emscripten_bind_RomInfo5_GetCompanyId_0=Wd=x("emscripten_bind_RomInfo5_GetCompanyId_0",1),c._emscripten_bind_RomInfo5_GetHalId_0=Fp=x("emscripten_bind_RomInfo5_GetHalId_0",1),c._emscripten_bind_RomInfo5_GetDeviceType_0=Pp=x("emscripten_bind_RomInfo5_GetDeviceType_0",1),c._emscripten_bind_RomInfo5_GetRecommendedRamSize_0=gi=x("emscripten_bind_RomInfo5_GetRecommendedRamSize_0",1),c._emscripten_bind_RomInfo5___destroy___0=so=x("emscripten_bind_RomInfo5___destroy___0",1),Vo=d.emscripten_stack_get_end,e_=x("_emscripten_timeout",2),Sc=d.emscripten_stack_init,n_=d.emscripten_stack_get_current,x("__cxa_increment_exception_refcount",1),c.___original_main=x("__original_main",0)}(Yl),function Ko(d){if(qn--,c.monitorRunDependencies?.(qn),d?(O(tr[d]),delete tr[d]):L("warning: run dependency removed without ID"),0==qn&&(null!==dn&&(clearInterval(dn),dn=null),Er)){var S=Er;Er=null,S()}}("wasm-instantiate"),Yl}!function wo(d){qn++,c.monitorRunDependencies?.(qn),d?(O(!tr[d]),tr[d]=1,null===dn&&typeof setInterval<"u"&&(dn=setInterval(()=>{if(W)return clearInterval(dn),void(dn=null);var S=!1;for(var Z in tr)S||(S=!0,L("still waiting on run dependencies:")),L(`dependency: ${Z}`);S&&L("(end of list)")},1e4))):L("warning: run dependency added without ID")}("wasm-instantiate");var S=c,nt=function is(){return{env:qd,wasi_snapshot_preview1:qd}}();if(c.instantiateWasm)return new Promise((bn,Xn)=>{try{c.instantiateWasm(nt,(Si,Kl)=>{bn(d(Si))})}catch(Si){L(`Module.instantiateWasm callback failed with error: ${Si}`),Xn(Si)}});Or??=function ri(){return function ue(d){return c.locateFile?c.locateFile(d,A):A+d}("cloudpilot_web.wasm")}();var Ut=yield function dr(d,S,Z){return Eo.apply(this,arguments)}(we,Or,nt);return function Z(bn){return O(c===S,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),S=null,d(bn.instance)}(Ut)}),Ui.apply(this,arguments)}class Xr{name="ExitStatus";constructor(S){this.message=`Program terminated with exit(${S})`,this.status=S}}var Cr,To,ji=d=>{for(;d.length>0;)d.shift()(c)},os=[],el=d=>os.push(d),Tn=[],Qt=d=>Tn.push(d),Fe=!0,Rt=d=>(O("number"==typeof d),"0x"+(d>>>=0).toString(16).padStart(8,"0")),Zn=d=>{Zn.shown||={},Zn.shown[d]||(Zn.shown[d]=1,L(d))},zi=typeof TextDecoder<"u"?new TextDecoder:void 0,tl=(d,S=0,Z=NaN)=>{for(var nt=S+Z,Ut=S;d[Ut]&&!(Ut>=nt);)++Ut;if(Ut-S>16&&d.buffer&&zi)return zi.decode(d.subarray(S,Ut));for(var In="";S<Ut;){var bn=d[S++];if(128&bn){var Xn=63&d[S++];if(192!=(224&bn)){var Si=63&d[S++];if(224==(240&bn)?bn=(15&bn)<<12|Xn<<6|Si:(240!=(248&bn)&&Zn("Invalid UTF-8 leading byte "+Rt(bn)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),bn=(7&bn)<<18|Xn<<12|Si<<6|63&d[S++]),bn<65536)In+=String.fromCharCode(bn);else{var Kl=bn-65536;In+=String.fromCharCode(55296|Kl>>10,56320|1023&Kl)}}else In+=String.fromCharCode((31&bn)<<6|Xn)}else In+=String.fromCharCode(bn)}return In},Gn=(d,S)=>(O("number"==typeof d,`UTF8ToString expects a number (got ${typeof d})`),d?tl(Sr,d,S):""),Dr=d=>d<-9007199254740992||d>9007199254740992?NaN:Number(d),xa=0,dc=[0,31,60,91,121,152,182,213,244,274,305,335],et=[0,31,59,90,120,151,181,212,243,273,304,334],il=d=>((d=>d%4==0&&(d%100!=0||d%400==0))(d.getFullYear())?dc:et)[d.getMonth()]+d.getDate()-1,ho={},oa=d=>{if(d instanceof Xr||"unwind"==d)return ee;Ne(),d instanceof WebAssembly.RuntimeError&&n_()<=0&&L("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),M(0,d)},Do=()=>Fe||xa>0,mo=d=>{ee=d,Do()||(c.onExit?.(d),W=!0),M(0,new Xr(d))},Bo=(d,S)=>{if(ee=d,function o_(){var d=re,S=L,Z=!1;re=L=nt=>{Z=!0};try{ll()}catch{}re=d,L=S,Z&&(Zn("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc."),Zn("(this may also be due to not including full filesystem support - try building with -sFORCE_FILESYSTEM)"))}(),Do()&&!S){var Z=`program exited (with status: ${d}), but keepRuntimeAlive() is set (counter=${xa}) due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)`;br?.(Z),L(Z)}mo(d)},Ta=Bo,_o=()=>performance.now(),to=(d,S,Z,nt)=>{if(O("string"==typeof d,`stringToUTF8Array expects a string (got ${typeof d})`),!(nt>0))return 0;for(var Ut=Z,In=Z+nt-1,bn=0;bn<d.length;++bn){var Xn=d.codePointAt(bn);if(Xn<=127){if(Z>=In)break;S[Z++]=Xn}else if(Xn<=2047){if(Z+1>=In)break;S[Z++]=192|Xn>>6,S[Z++]=128|63&Xn}else if(Xn<=65535){if(Z+2>=In)break;S[Z++]=224|Xn>>12,S[Z++]=128|Xn>>6&63,S[Z++]=128|63&Xn}else{if(Z+3>=In)break;Xn>1114111&&Zn("Invalid Unicode code point "+Rt(Xn)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),S[Z++]=240|Xn>>18,S[Z++]=128|Xn>>12&63,S[Z++]=128|Xn>>6&63,S[Z++]=128|63&Xn,bn++}}return S[Z]=0,Z-Ut},Go=(d,S,Z)=>(O("number"==typeof Z,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),to(d,Sr,S,Z)),Io=d=>{for(var S=0,Z=0;Z<d.length;++Z){var nt=d.charCodeAt(Z);nt<=127?S++:nt<=2047?S+=2:nt>=55296&&nt<=57343?(S+=4,++Z):S+=3}return S},Ki=()=>Date.now(),Os=[],ca=(d,S)=>(O(S,"alignment argument is required"),Math.ceil(d/S)*S),$s=d=>{var S=ur.buffer,Z=(d-S.byteLength+65535)/65536|0;try{return ur.grow(Z),an(),1}catch(nt){L(`growMemory: Attempted to grow heap from ${S.byteLength} bytes to ${d} bytes, but got error: ${nt}`)}},jo={},xo=()=>{if(!xo.strings){var S={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:j||"./this.program"};for(var Z in jo)void 0===jo[Z]?delete S[Z]:S[Z]=jo[Z];var nt=[];for(var Z in S)nt.push(`${Z}=${S[Z]}`);xo.strings=nt}return xo.strings},ls=[null,[],[]],Xo=(d,S)=>{var Z=ls[d];O(Z),0===S||10===S?((1===d?re:L)(tl(Z)),Z.length=0):Z.push(S)},ll=()=>{Bs(0),ls[1].length&&Xo(1,10),ls[2].length&&Xo(2,10)},$l=[],Aa=(d,S)=>{O(d<16384),d<128?S.push(d):S.push(d%128|128,d>>7)},bi=[],ka=d=>{var S=bi[d];return S||(bi[d]=S=Cr.get(d)),O(Cr.get(d)==S,"JavaScript-side Wasm function table mirror is out of date!"),S},pc=[],Ra=(d,S)=>{Cr.set(d,S),bi[d]=Cr.get(d)};c.noExitRuntime&&(Fe=c.noExitRuntime),c.print&&(re=c.print),c.printErr&&(L=c.printErr),c.wasmBinary&&(we=c.wasmBinary),c.FS_createDataFile=jn.createDataFile,c.FS_createPreloadedFile=jn.createPreloadedFile,function pl(){!function ke(d){Object.getOwnPropertyDescriptor(c,d)&&jt(`\`Module.${d}\` was supplied but \`${d}\` not included in INCOMING_MODULE_JS_API`)}("fetchSettings")}(),c.thisProgram&&(j=c.thisProgram),O(typeof c.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),O(typeof c.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),O(typeof c.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),O(typeof c.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),O(typeof c.read>"u","Module.read option was removed"),O(typeof c.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),O(typeof c.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),O(typeof c.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),O(typeof c.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),O(typeof c.ENVIRONMENT>"u","Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)"),O(typeof c.STACK_SIZE>"u","STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),O(typeof c.wasmMemory>"u","Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),O(typeof c.INITIAL_MEMORY>"u","Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically"),c.addFunction=(d,S)=>{O(typeof d<"u");var Z=(d=>(To||(To=new WeakMap,((d,S)=>{if(To)for(var Z=0;Z<0+S;Z++){var nt=ka(Z);nt&&To.set(nt,Z)}})(0,Cr.length)),To.get(d)||0))(d);if(Z)return Z;for(var nt=0;nt<Cr.length;nt++)O(ka(nt)!=d,"function in Table but not functionsInTableMap");var Ut=(()=>{if(pc.length)return pc.pop();try{Cr.grow(1)}catch(d){throw d instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":d}return Cr.length-1})();try{Ra(Ut,d)}catch(bn){if(!(bn instanceof TypeError))throw bn;O(typeof S<"u","Missing signature argument to addFunction: "+d);var In=((d,S)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((d=>{for(var S={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},Z={parameters:[],results:"v"==d[0]?[]:[S[d[0]]]},nt=1;nt<d.length;++nt)O(d[nt]in S,"invalid signature char: "+d[nt]),Z.parameters.push(S[d[nt]]);return Z})(S),d);var Z=[1];((d,S)=>{var Z=d.slice(0,1),nt=d.slice(1),Ut={i:127,p:127,j:126,f:125,d:124,e:111};for(var In of(S.push(96),Aa(nt.length,S),nt))O(In in Ut,`invalid signature char: ${In}`),S.push(Ut[In]);"v"==Z?S.push(0):S.push(1,Ut[Z])})(S,Z);var nt=[0,97,115,109,1,0,0,0,1];Aa(Z.length,nt),nt.push(...Z),nt.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Ut=new WebAssembly.Module(new Uint8Array(nt));return new WebAssembly.Instance(Ut,{e:{f:d}}).exports.f})(d,S);Ra(Ut,In)}return To.set(d,Ut),Ut},c.UTF8ToString=Gn,["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertI32PairToI53Checked","convertU32PairToI53","stackAlloc","getTempRet0","setTempRet0","zeroMemory","withStackSave","strError","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","emscriptenLog","runMainThreadEmAsm","jstoi_q","autoResumeAudioContext","getDynCaller","dynCall","runtimeKeepalivePush","runtimeKeepalivePop","asmjsMangle","asyncLoad","mmapAlloc","HandleAllocator","getNativeTypeSize","getUniqueRunDependency","addOnPostCtor","addOnPreMain","addOnExit","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","ccall","cwrap","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToNewUTF8","stringToUTF8OnStack","writeArrayToMemory","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","initRandomFill","randomFill","safeSetTimeout","setImmediateWrapped","safeRequestAnimationFrame","clearImmediateWrapped","registerPostMainLoop","registerPreMainLoop","getPromise","makePromise","idsToPromises","makePromiseCallback","ExceptionInfo","findMatchingCatch","Browser_asyncPrepareDataCounter","arraySum","addDays","getSocketFromFD","getSocketAddress","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","webgl_enable_EXT_polygon_offset_clamp","webgl_enable_EXT_clip_control","webgl_enable_WEBGL_polygon_mode","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","demangle","stackTrace"].forEach(function Nt(d){ut(d)}),["run","addRunDependency","removeRunDependency","out","err","callMain","abort","wasmMemory","wasmExports","HEAPF32","HEAPF64","HEAP8","HEAP16","HEAPU16","HEAP32","HEAP64","HEAPU64","writeStackCookie","checkStackCookie","INT53_MAX","INT53_MIN","bigintToI53Checked","stackSave","stackRestore","ptrToString","exitJS","getHeapMax","growMemory","ENV","ERRNO_CODES","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","getExecutableName","handleException","keepRuntimeAlive","callUserCallback","maybeExit","alignMemory","wasmTable","noExitRuntime","addOnPreRun","addOnInit","addOnPostRun","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","freeTableIndexes","functionsInTableMap","getEmptyTableSlot","updateTableMap","getFunctionAddress","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","intArrayFromString","UTF16Decoder","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","getEnvStrings","checkWasiClock","flush_NO_FILESYSTEM","emSetImmediate","emClearImmediate_deps","emClearImmediate","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","Browser","requestFullscreen","requestFullScreen","setCanvasSize","getUserMedia","createContext","getPreloadedImageData__data","wget","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","isLeapYear","ydayFromDate","SYSCALLS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","print","printErr","jstoi_s"].forEach(ut);var Ge={429904:d=>{Cr.grow(65536);for(let S=0;S<=65535;S++)Cr.set(Cr.length-65535-1+S,Cr.get(Zt[(d>>>2)+S]));return Cr.length-65535-1}},hl=c._main=C("_main"),Bs=C("_fflush"),p=(c._webidl_free=C("_webidl_free"),c._webidl_malloc=C("_webidl_malloc"),c._emscripten_bind_VoidPtr___destroy___0=C("_emscripten_bind_VoidPtr___destroy___0")),v=c._emscripten_bind_Cloudpilot_Cloudpilot_0=C("_emscripten_bind_Cloudpilot_Cloudpilot_0"),D=c._emscripten_bind_Cloudpilot_Malloc_1=C("_emscripten_bind_Cloudpilot_Malloc_1"),k=c._emscripten_bind_Cloudpilot_Free_1=C("_emscripten_bind_Cloudpilot_Free_1"),te=c._emscripten_bind_Cloudpilot_Nullptr_0=C("_emscripten_bind_Cloudpilot_Nullptr_0"),ne=c._emscripten_bind_Cloudpilot_EnableLogging_1=C("_emscripten_bind_Cloudpilot_EnableLogging_1"),We=c._emscripten_bind_Cloudpilot_InitializeSession_3=C("_emscripten_bind_Cloudpilot_InitializeSession_3"),Ie=c._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=C("_emscripten_bind_Cloudpilot_GetCyclesPerSecond_0"),Xe=c._emscripten_bind_Cloudpilot_RunEmulation_1=C("_emscripten_bind_Cloudpilot_RunEmulation_1"),Me=c._emscripten_bind_Cloudpilot_SetClockFactor_1=C("_emscripten_bind_Cloudpilot_SetClockFactor_1"),Ve=c._emscripten_bind_Cloudpilot_CopyFrame_0=C("_emscripten_bind_Cloudpilot_CopyFrame_0"),_t=c._emscripten_bind_Cloudpilot_IsScreenDirty_0=C("_emscripten_bind_Cloudpilot_IsScreenDirty_0"),mt=c._emscripten_bind_Cloudpilot_MarkScreenClean_0=C("_emscripten_bind_Cloudpilot_MarkScreenClean_0"),Ft=c._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=C("_emscripten_bind_Cloudpilot_MinMemoryForDevice_1"),bt=c._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=C("_emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1"),Cn=c._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=C("_emscripten_bind_Cloudpilot_TotalMemoryForDevice_1"),Mr=c._emscripten_bind_Cloudpilot_QueuePenMove_2=C("_emscripten_bind_Cloudpilot_QueuePenMove_2"),nr=c._emscripten_bind_Cloudpilot_QueuePenUp_0=C("_emscripten_bind_Cloudpilot_QueuePenUp_0"),zn=c._emscripten_bind_Cloudpilot_QueueButtonDown_1=C("_emscripten_bind_Cloudpilot_QueueButtonDown_1"),Qr=c._emscripten_bind_Cloudpilot_QueueButtonUp_1=C("_emscripten_bind_Cloudpilot_QueueButtonUp_1"),mr=c._emscripten_bind_Cloudpilot_QueueKeyboardEvent_1=C("_emscripten_bind_Cloudpilot_QueueKeyboardEvent_1"),Ht=c._emscripten_bind_Cloudpilot_IsPowerOff_0=C("_emscripten_bind_Cloudpilot_IsPowerOff_0"),Ao=c._emscripten_bind_Cloudpilot_IsUIInitialized_0=C("_emscripten_bind_Cloudpilot_IsUIInitialized_0"),Ar=c._emscripten_bind_Cloudpilot_GetOSVersion_0=C("_emscripten_bind_Cloudpilot_GetOSVersion_0"),Li=c._emscripten_bind_Cloudpilot_IsSetupComplete_0=C("_emscripten_bind_Cloudpilot_IsSetupComplete_0"),fr=c._emscripten_bind_Cloudpilot_Reset_0=C("_emscripten_bind_Cloudpilot_Reset_0"),or=c._emscripten_bind_Cloudpilot_ResetNoExtensions_0=C("_emscripten_bind_Cloudpilot_ResetNoExtensions_0"),_i=c._emscripten_bind_Cloudpilot_ResetHard_0=C("_emscripten_bind_Cloudpilot_ResetHard_0"),Ir=c._emscripten_bind_Cloudpilot_InstallDb_2=C("_emscripten_bind_Cloudpilot_InstallDb_2"),ro=c._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=C("_emscripten_bind_Cloudpilot_GetPalette2bitMapping_0"),ds=c._emscripten_bind_Cloudpilot_GetMemoryPtr_0=C("_emscripten_bind_Cloudpilot_GetMemoryPtr_0"),vo=c._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=C("_emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0"),ml=c._emscripten_bind_Cloudpilot_GetMemorySize_0=C("_emscripten_bind_Cloudpilot_GetMemorySize_0"),Na=c._emscripten_bind_Cloudpilot_ImportMemoryImage_2=C("_emscripten_bind_Cloudpilot_ImportMemoryImage_2"),jl=c._emscripten_bind_Cloudpilot_GetRomPtr_0=C("_emscripten_bind_Cloudpilot_GetRomPtr_0"),Fa=c._emscripten_bind_Cloudpilot_GetRomSize_0=C("_emscripten_bind_Cloudpilot_GetRomSize_0"),_l=c._emscripten_bind_Cloudpilot_GetSavestatePtr_0=C("_emscripten_bind_Cloudpilot_GetSavestatePtr_0"),gl=c._emscripten_bind_Cloudpilot_GetSavestateSize_0=C("_emscripten_bind_Cloudpilot_GetSavestateSize_0"),ko=c._emscripten_bind_Cloudpilot_SaveState_0=C("_emscripten_bind_Cloudpilot_SaveState_0"),vl=c._emscripten_bind_Cloudpilot_LoadState_2=C("_emscripten_bind_Cloudpilot_LoadState_2"),Pa=c._emscripten_bind_Cloudpilot_GetHotsyncName_0=C("_emscripten_bind_Cloudpilot_GetHotsyncName_0"),da=c._emscripten_bind_Cloudpilot_SetHotsyncName_1=C("_emscripten_bind_Cloudpilot_SetHotsyncName_1"),yl=c._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=C("_emscripten_bind_Cloudpilot_RegisterPwmHandler_1"),Oa=c._emscripten_bind_Cloudpilot_StartBackup_0=C("_emscripten_bind_Cloudpilot_StartBackup_0"),fa=c._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=C("_emscripten_bind_Cloudpilot_SetClipboardIntegration_1"),Lr=c._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=C("_emscripten_bind_Cloudpilot_GetClipboardIntegration_0"),Qo=c._emscripten_bind_Cloudpilot_IsSuspended_0=C("_emscripten_bind_Cloudpilot_IsSuspended_0"),La=c._emscripten_bind_Cloudpilot_GetSuspendContext_0=C("_emscripten_bind_Cloudpilot_GetSuspendContext_0"),zl=c._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=C("_emscripten_bind_Cloudpilot_SetNetworkRedirection_1"),bl=c._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=C("_emscripten_bind_Cloudpilot_GetNetworkRedirection_0"),Vl=c._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=C("_emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1"),Gs=c._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=C("_emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1"),fs=c._emscripten_bind_Cloudpilot_LaunchAppByName_1=C("_emscripten_bind_Cloudpilot_LaunchAppByName_1"),hc=c._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=C("_emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2"),Hl=c._emscripten_bind_Cloudpilot_ClearExternalStorage_0=C("_emscripten_bind_Cloudpilot_ClearExternalStorage_0"),mc=c._emscripten_bind_Cloudpilot_AllocateCard_2=C("_emscripten_bind_Cloudpilot_AllocateCard_2"),pa=c._emscripten_bind_Cloudpilot_AdoptCard_3=C("_emscripten_bind_Cloudpilot_AdoptCard_3"),Vi=c._emscripten_bind_Cloudpilot_MountCard_1=C("_emscripten_bind_Cloudpilot_MountCard_1"),Sl=c._emscripten_bind_Cloudpilot_RemoveCard_1=C("_emscripten_bind_Cloudpilot_RemoveCard_1"),Xc=c._emscripten_bind_Cloudpilot_GetCardData_1=C("_emscripten_bind_Cloudpilot_GetCardData_1"),Jr=c._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=C("_emscripten_bind_Cloudpilot_GetCardDirtyPages_1"),dt=c._emscripten_bind_Cloudpilot_GetCardSize_1=C("_emscripten_bind_Cloudpilot_GetCardSize_1"),on=c._emscripten_bind_Cloudpilot_RemountCards_0=C("_emscripten_bind_Cloudpilot_RemountCards_0"),zr=c._emscripten_bind_Cloudpilot_GetSupportLevel_1=C("_emscripten_bind_Cloudpilot_GetSupportLevel_1"),Fi=c._emscripten_bind_Cloudpilot_GetMountedKey_0=C("_emscripten_bind_Cloudpilot_GetMountedKey_0"),oi=c._emscripten_bind_Cloudpilot_GetTransportIR_0=C("_emscripten_bind_Cloudpilot_GetTransportIR_0"),ps=c._emscripten_bind_Cloudpilot_GetTransportSerial_0=C("_emscripten_bind_Cloudpilot_GetTransportSerial_0"),ha=c._emscripten_bind_Cloudpilot___destroy___0=C("_emscripten_bind_Cloudpilot___destroy___0"),ln=c._emscripten_bind_RomInfo_RomInfo_2=C("_emscripten_bind_RomInfo_RomInfo_2"),Yn=c._emscripten_bind_RomInfo_IsValid_0=C("_emscripten_bind_RomInfo_IsValid_0"),_r=c._emscripten_bind_RomInfo_CardVersion_0=C("_emscripten_bind_RomInfo_CardVersion_0"),yn=c._emscripten_bind_RomInfo_CardName_0=C("_emscripten_bind_RomInfo_CardName_0"),hs=c._emscripten_bind_RomInfo_RomVersion_0=C("_emscripten_bind_RomInfo_RomVersion_0"),Cl=c._emscripten_bind_RomInfo_RomVersionString_0=C("_emscripten_bind_RomInfo_RomVersionString_0"),Us=c._emscripten_bind_RomInfo_Supports_1=C("_emscripten_bind_RomInfo_Supports_1"),si=c._emscripten_bind_RomInfo___destroy___0=C("_emscripten_bind_RomInfo___destroy___0"),mn=c._emscripten_bind_Frame_GetLineWidth_0=C("_emscripten_bind_Frame_GetLineWidth_0"),ms=c._emscripten_bind_Frame_GetBpp_0=C("_emscripten_bind_Frame_GetBpp_0"),_s=c._emscripten_bind_Frame_GetLines_0=C("_emscripten_bind_Frame_GetLines_0"),wl=c._emscripten_bind_Frame_GetMargin_0=C("_emscripten_bind_Frame_GetMargin_0"),_c=c._emscripten_bind_Frame_GetBytesPerLine_0=C("_emscripten_bind_Frame_GetBytesPerLine_0"),io=c._emscripten_bind_Frame_GetFirstDirtyLine_0=C("_emscripten_bind_Frame_GetFirstDirtyLine_0"),Wl=c._emscripten_bind_Frame_GetLastDirtyLine_0=C("_emscripten_bind_Frame_GetLastDirtyLine_0"),kr=c._emscripten_bind_Frame_GetHasChanges_0=C("_emscripten_bind_Frame_GetHasChanges_0"),gr=c._emscripten_bind_Frame_GetBuffer_0=C("_emscripten_bind_Frame_GetBuffer_0"),Vr=c._emscripten_bind_Frame_GetBufferSize_0=C("_emscripten_bind_Frame_GetBufferSize_0"),Pt=c._emscripten_bind_Frame_GetScaleX_0=C("_emscripten_bind_Frame_GetScaleX_0"),$r=c._emscripten_bind_Frame_GetScaleY_0=C("_emscripten_bind_Frame_GetScaleY_0"),cn=c._emscripten_bind_Frame___destroy___0=C("_emscripten_bind_Frame___destroy___0"),Vn=c._emscripten_bind_DbBackup_Init_1=C("_emscripten_bind_DbBackup_Init_1"),Mn=c._emscripten_bind_DbBackup_IsInProgress_0=C("_emscripten_bind_DbBackup_IsInProgress_0"),_=c._emscripten_bind_DbBackup_IsDone_0=C("_emscripten_bind_DbBackup_IsDone_0"),R=c._emscripten_bind_DbBackup_GetCurrentDatabase_0=C("_emscripten_bind_DbBackup_GetCurrentDatabase_0"),X=c._emscripten_bind_DbBackup_Save_0=C("_emscripten_bind_DbBackup_Save_0"),Ze=c._emscripten_bind_DbBackup_Skip_0=C("_emscripten_bind_DbBackup_Skip_0"),Ot=c._emscripten_bind_DbBackup_GetArchivePtr_0=C("_emscripten_bind_DbBackup_GetArchivePtr_0"),ht=c._emscripten_bind_DbBackup_GetArchiveSize_0=C("_emscripten_bind_DbBackup_GetArchiveSize_0"),$t=c._emscripten_bind_DbBackup___destroy___0=C("_emscripten_bind_DbBackup___destroy___0"),rn=c._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=C("_emscripten_bind_SuspendContextClipboardCopy_Cancel_0"),pr=c._emscripten_bind_SuspendContextClipboardCopy_Resume_0=C("_emscripten_bind_SuspendContextClipboardCopy_Resume_0"),ma=c._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=C("_emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0"),gc=c._emscripten_bind_SuspendContextClipboardCopy___destroy___0=C("_emscripten_bind_SuspendContextClipboardCopy___destroy___0"),Hi=c._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=C("_emscripten_bind_SuspendContextClipboardPaste_Cancel_0"),Br=c._emscripten_bind_SuspendContextClipboardPaste_Resume_1=C("_emscripten_bind_SuspendContextClipboardPaste_Resume_1"),ai=c._emscripten_bind_SuspendContextClipboardPaste___destroy___0=C("_emscripten_bind_SuspendContextClipboardPaste___destroy___0"),Wt=c._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=C("_emscripten_bind_SuspendContextNetworkConnect_Cancel_0"),Gr=c._emscripten_bind_SuspendContextNetworkConnect_Resume_0=C("_emscripten_bind_SuspendContextNetworkConnect_Resume_0"),Rr=c._emscripten_bind_SuspendContextNetworkConnect___destroy___0=C("_emscripten_bind_SuspendContextNetworkConnect___destroy___0"),Ti=c._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=C("_emscripten_bind_SuspendContextNetworkRpc_Cancel_0"),li=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=C("_emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0"),Nr=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=C("_emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0"),h=c._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=C("_emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2"),N=c._emscripten_bind_SuspendContextNetworkRpc___destroy___0=C("_emscripten_bind_SuspendContextNetworkRpc___destroy___0"),ae=c._emscripten_bind_SuspendContextSerialSync_Cancel_0=C("_emscripten_bind_SuspendContextSerialSync_Cancel_0"),ot=c._emscripten_bind_SuspendContextSerialSync_Resume_0=C("_emscripten_bind_SuspendContextSerialSync_Resume_0"),qt=c._emscripten_bind_SuspendContextSerialSync___destroy___0=C("_emscripten_bind_SuspendContextSerialSync___destroy___0"),Hn=c._emscripten_bind_SuspendContext_GetKind_0=C("_emscripten_bind_SuspendContext_GetKind_0"),An=c._emscripten_bind_SuspendContext_Cancel_0=C("_emscripten_bind_SuspendContext_Cancel_0"),kn=c._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=C("_emscripten_bind_SuspendContext_AsContextClipboardCopy_0"),Hr=c._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=C("_emscripten_bind_SuspendContext_AsContextClipboardPaste_0"),$a=c._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=C("_emscripten_bind_SuspendContext_AsContextNetworkConnect_0"),Qc=c._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=C("_emscripten_bind_SuspendContext_AsContextNetworkRpc_0"),Ba=c._emscripten_bind_SuspendContext_AsContextSerialSync_0=C("_emscripten_bind_SuspendContext_AsContextSerialSync_0"),js=c._emscripten_bind_SuspendContext___destroy___0=C("_emscripten_bind_SuspendContext___destroy___0"),Jc=c._emscripten_bind_SessionImage_SessionImage_0=C("_emscripten_bind_SessionImage_SessionImage_0"),$i=c._emscripten_bind_SessionImage_GetDeviceId_0=C("_emscripten_bind_SessionImage_GetDeviceId_0"),Ru=c._emscripten_bind_SessionImage_SetDeviceId_1=C("_emscripten_bind_SessionImage_SetDeviceId_1"),El=c._emscripten_bind_SessionImage_GetRomImage_0=C("_emscripten_bind_SessionImage_GetRomImage_0"),Mi=c._emscripten_bind_SessionImage_GetRomImageSize_0=C("_emscripten_bind_SessionImage_GetRomImageSize_0"),Pm=c._emscripten_bind_SessionImage_SetRomImage_2=C("_emscripten_bind_SessionImage_SetRomImage_2"),vc=c._emscripten_bind_SessionImage_GetMemoryImage_0=C("_emscripten_bind_SessionImage_GetMemoryImage_0"),ql=c._emscripten_bind_SessionImage_GetMemoryImageSize_0=C("_emscripten_bind_SessionImage_GetMemoryImageSize_0"),Nd=c._emscripten_bind_SessionImage_SetMemoryImage_2=C("_emscripten_bind_SessionImage_SetMemoryImage_2"),Ro=c._emscripten_bind_SessionImage_GetMetadata_0=C("_emscripten_bind_SessionImage_GetMetadata_0"),Om=c._emscripten_bind_SessionImage_GetMetadataSize_0=C("_emscripten_bind_SessionImage_GetMetadataSize_0"),Fd=c._emscripten_bind_SessionImage_SetMetadata_2=C("_emscripten_bind_SessionImage_SetMetadata_2"),Lm=c._emscripten_bind_SessionImage_GetSavestate_0=C("_emscripten_bind_SessionImage_GetSavestate_0"),yo=c._emscripten_bind_SessionImage_GetSavestateSize_0=C("_emscripten_bind_SessionImage_GetSavestateSize_0"),up=c._emscripten_bind_SessionImage_SetSavestate_2=C("_emscripten_bind_SessionImage_SetSavestate_2"),dp=c._emscripten_bind_SessionImage_GetVersion_0=C("_emscripten_bind_SessionImage_GetVersion_0"),fp=c._emscripten_bind_SessionImage_Serialize_0=C("_emscripten_bind_SessionImage_Serialize_0"),Nu=c._emscripten_bind_SessionImage_GetSerializedImage_0=C("_emscripten_bind_SessionImage_GetSerializedImage_0"),Pd=c._emscripten_bind_SessionImage_GetSerializedImageSize_0=C("_emscripten_bind_SessionImage_GetSerializedImageSize_0"),yc=c._emscripten_bind_SessionImage_Deserialize_2=C("_emscripten_bind_SessionImage_Deserialize_2"),Fu=c._emscripten_bind_SessionImage___destroy___0=C("_emscripten_bind_SessionImage___destroy___0"),Od=c._emscripten_bind_SkinLoader_SkinLoader_1=C("_emscripten_bind_SkinLoader_SkinLoader_1"),Ga=c._emscripten_bind_SkinLoader_GetData_0=C("_emscripten_bind_SkinLoader_GetData_0"),pp=c._emscripten_bind_SkinLoader_GetSize_0=C("_emscripten_bind_SkinLoader_GetSize_0"),hp=c._emscripten_bind_SkinLoader___destroy___0=C("_emscripten_bind_SkinLoader___destroy___0"),mp=c._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=C("_emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0"),wn=c._emscripten_bind_EmTransportSerialBuffer_Receive_0=C("_emscripten_bind_EmTransportSerialBuffer_Receive_0"),bc=c._emscripten_bind_EmTransportSerialBuffer_Send_3=C("_emscripten_bind_EmTransportSerialBuffer_Send_3"),Ld=c._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=C("_emscripten_bind_EmTransportSerialBuffer_IsOpen_0"),$d=c._emscripten_bind_EmTransportSerialBuffer_Rts_0=C("_emscripten_bind_EmTransportSerialBuffer_Rts_0"),$m=c._emscripten_bind_EmTransportSerialBuffer_Dtr_0=C("_emscripten_bind_EmTransportSerialBuffer_Dtr_0"),Bm=c._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=C("_emscripten_bind_EmTransportSerialBuffer_IsBreak_0"),_p=c._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=C("_emscripten_bind_EmTransportSerialBuffer_BufferSize_0"),Bd=c._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=C("_emscripten_bind_EmTransportSerialBuffer_GetBaud_0"),gp=c._emscripten_bind_EmTransportSerialBuffer_GetParity_0=C("_emscripten_bind_EmTransportSerialBuffer_GetParity_0"),vp=c._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=C("_emscripten_bind_EmTransportSerialBuffer_GetStopBits_0"),Gm=c._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=C("_emscripten_bind_EmTransportSerialBuffer_GetDataBits_0"),By=c._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=C("_emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0"),Um=c._emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=C("_emscripten_bind_EmTransportSerialBuffer_GetModeSync_0"),yp=c._emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=C("_emscripten_bind_EmTransportSerialBuffer_SetModeSync_1"),it=c._emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=C("_emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0"),Rn=c._emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=C("_emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1"),vt=c._emscripten_bind_EmTransportSerialBuffer___destroy___0=C("_emscripten_bind_EmTransportSerialBuffer___destroy___0"),yt=c._emscripten_bind_GunzipContext_GunzipContext_3=C("_emscripten_bind_GunzipContext_GunzipContext_3"),Dn=c._emscripten_bind_GunzipContext_GetState_0=C("_emscripten_bind_GunzipContext_GetState_0"),bp=c._emscripten_bind_GunzipContext_Continue_0=C("_emscripten_bind_GunzipContext_Continue_0"),eu=c._emscripten_bind_GunzipContext_GetUncompressedData_0=C("_emscripten_bind_GunzipContext_GetUncompressedData_0"),Ua=c._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=C("_emscripten_bind_GunzipContext_ReleaseUncompressedData_0"),Sp=c._emscripten_bind_GunzipContext_GetUncompressedSize_0=C("_emscripten_bind_GunzipContext_GetUncompressedSize_0"),Cp=c._emscripten_bind_GunzipContext_GetError_0=C("_emscripten_bind_GunzipContext_GetError_0"),wp=c._emscripten_bind_GunzipContext___destroy___0=C("_emscripten_bind_GunzipContext___destroy___0"),Gy=c._emscripten_bind_ZipfileWalker_ZipfileWalker_2=C("_emscripten_bind_ZipfileWalker_ZipfileWalker_2"),Uy=c._emscripten_bind_ZipfileWalker_GetState_0=C("_emscripten_bind_ZipfileWalker_GetState_0"),Ep=c._emscripten_bind_ZipfileWalker_Next_0=C("_emscripten_bind_ZipfileWalker_Next_0"),Dp=c._emscripten_bind_ZipfileWalker_GetTotalEntries_0=C("_emscripten_bind_ZipfileWalker_GetTotalEntries_0"),Pu=c._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=C("_emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0"),No=c._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=C("_emscripten_bind_ZipfileWalker_GetCurrentEntryName_0"),ja=c._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=C("_emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0"),Ip=c._emscripten_bind_ZipfileWalker___destroy___0=C("_emscripten_bind_ZipfileWalker___destroy___0"),zo=c._emscripten_bind_SessionFile5_SessionFile5_0=C("_emscripten_bind_SessionFile5_SessionFile5_0"),za=c._emscripten_bind_SessionFile5_IsSessionFile_2=C("_emscripten_bind_SessionFile5_IsSessionFile_2"),jm=c._emscripten_bind_SessionFile5_GetDeviceId_0=C("_emscripten_bind_SessionFile5_GetDeviceId_0"),xp=c._emscripten_bind_SessionFile5_SetDeviceId_1=C("_emscripten_bind_SessionFile5_SetDeviceId_1"),zm=c._emscripten_bind_SessionFile5_GetMetadata_0=C("_emscripten_bind_SessionFile5_GetMetadata_0"),Vm=c._emscripten_bind_SessionFile5_GetMetadataSize_0=C("_emscripten_bind_SessionFile5_GetMetadataSize_0"),Gd=c._emscripten_bind_SessionFile5_SetMetadata_2=C("_emscripten_bind_SessionFile5_SetMetadata_2"),Ud=c._emscripten_bind_SessionFile5_GetNor_0=C("_emscripten_bind_SessionFile5_GetNor_0"),jd=c._emscripten_bind_SessionFile5_GetNorSize_0=C("_emscripten_bind_SessionFile5_GetNorSize_0"),Ou=c._emscripten_bind_SessionFile5_SetNor_2=C("_emscripten_bind_SessionFile5_SetNor_2"),Hm=c._emscripten_bind_SessionFile5_GetNand_0=C("_emscripten_bind_SessionFile5_GetNand_0"),Tp=c._emscripten_bind_SessionFile5_GetNandSize_0=C("_emscripten_bind_SessionFile5_GetNandSize_0"),zd=c._emscripten_bind_SessionFile5_SetNand_2=C("_emscripten_bind_SessionFile5_SetNand_2"),Mp=c._emscripten_bind_SessionFile5_GetMemory_0=C("_emscripten_bind_SessionFile5_GetMemory_0"),Ap=c._emscripten_bind_SessionFile5_GetMemorySize_0=C("_emscripten_bind_SessionFile5_GetMemorySize_0"),kp=c._emscripten_bind_SessionFile5_SetMemory_2=C("_emscripten_bind_SessionFile5_SetMemory_2"),Rp=c._emscripten_bind_SessionFile5_GetSavestate_0=C("_emscripten_bind_SessionFile5_GetSavestate_0"),Vd=c._emscripten_bind_SessionFile5_GetSavestateSize_0=C("_emscripten_bind_SessionFile5_GetSavestateSize_0"),Wm=c._emscripten_bind_SessionFile5_SetSavestate_2=C("_emscripten_bind_SessionFile5_SetSavestate_2"),oo=c._emscripten_bind_SessionFile5_GetRamSize_0=C("_emscripten_bind_SessionFile5_GetRamSize_0"),Zl=c._emscripten_bind_SessionFile5_SetRamSize_1=C("_emscripten_bind_SessionFile5_SetRamSize_1"),zs=c._emscripten_bind_SessionFile5_Serialize_0=C("_emscripten_bind_SessionFile5_Serialize_0"),qm=c._emscripten_bind_SessionFile5_GetSerializedSession_0=C("_emscripten_bind_SessionFile5_GetSerializedSession_0"),Zm=c._emscripten_bind_SessionFile5_GetSerializedSessionSize_0=C("_emscripten_bind_SessionFile5_GetSerializedSessionSize_0"),Ym=c._emscripten_bind_SessionFile5_GetVersion_0=C("_emscripten_bind_SessionFile5_GetVersion_0"),Km=c._emscripten_bind_SessionFile5_Deserialize_2=C("_emscripten_bind_SessionFile5_Deserialize_2"),Xm=c._emscripten_bind_SessionFile5___destroy___0=C("_emscripten_bind_SessionFile5___destroy___0"),Np=c._emscripten_bind_RomInfo5_RomInfo5_2=C("_emscripten_bind_RomInfo5_RomInfo5_2"),Lu=c._emscripten_bind_RomInfo5_IsValid_0=C("_emscripten_bind_RomInfo5_IsValid_0"),tu=c._emscripten_bind_RomInfo5_GetCardName_0=C("_emscripten_bind_RomInfo5_GetCardName_0"),Hd=c._emscripten_bind_RomInfo5_GetManufacturer_0=C("_emscripten_bind_RomInfo5_GetManufacturer_0"),Qm=c._emscripten_bind_RomInfo5_GetRomName_0=C("_emscripten_bind_RomInfo5_GetRomName_0"),Wd=c._emscripten_bind_RomInfo5_GetCompanyId_0=C("_emscripten_bind_RomInfo5_GetCompanyId_0"),Fp=c._emscripten_bind_RomInfo5_GetHalId_0=C("_emscripten_bind_RomInfo5_GetHalId_0"),Pp=c._emscripten_bind_RomInfo5_GetDeviceType_0=C("_emscripten_bind_RomInfo5_GetDeviceType_0"),gi=c._emscripten_bind_RomInfo5_GetRecommendedRamSize_0=C("_emscripten_bind_RomInfo5_GetRecommendedRamSize_0"),so=c._emscripten_bind_RomInfo5___destroy___0=C("_emscripten_bind_RomInfo5___destroy___0"),Vo=C("_emscripten_stack_get_end"),e_=(C("_emscripten_stack_get_base"),C("__emscripten_timeout")),Sc=C("_emscripten_stack_init"),n_=(C("_emscripten_stack_get_free"),C("__emscripten_stack_restore"),C("__emscripten_stack_alloc"),C("_emscripten_stack_get_current"));C("___cxa_increment_exception_refcount"),c.___original_main=C("___original_main");var Cc,qd={__assert_fail:(d,S,Z,nt)=>jt(`Assertion failed: ${Gn(d)}, at: `+[S?Gn(S):"unknown filename",Z,nt?Gn(nt):"unknown function"]),__jsAssertThrow:function cs(d){const S=new Error(Gn(d));throw S.isAssert=!0,S},__syscall_ftruncate64:function Kt(d,S){S=Dr(S),jt("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")},_abort_js:()=>jt("native code called abort()"),_emscripten_runtime_keepalive_clear:()=>{Fe=!1,xa=0},_localtime_js:function jr(d,S){d=Dr(d);var Z=new Date(1e3*d);rt[S>>2]=Z.getSeconds(),Qe(Z.getSeconds()),rt[S+4>>2]=Z.getMinutes(),Qe(Z.getMinutes()),rt[S+8>>2]=Z.getHours(),Qe(Z.getHours()),rt[S+12>>2]=Z.getDate(),Qe(Z.getDate()),rt[S+16>>2]=Z.getMonth(),Qe(Z.getMonth()),rt[S+20>>2]=Z.getFullYear()-1900,Qe(Z.getFullYear()-1900),rt[S+24>>2]=Z.getDay(),Qe(Z.getDay());var nt=0|il(Z);rt[S+28>>2]=nt,Qe(nt),rt[S+36>>2]=-60*Z.getTimezoneOffset(),Qe(-60*Z.getTimezoneOffset());var Ut=new Date(Z.getFullYear(),0,1),In=new Date(Z.getFullYear(),6,1).getTimezoneOffset(),bn=Ut.getTimezoneOffset(),Xn=0|(In!=bn&&Z.getTimezoneOffset()==Math.min(bn,In));rt[S+32>>2]=Xn,Qe(Xn)},_mktime_js:function(d){var S=(()=>{var Z=new Date(rt[d+20>>2]+1900,rt[d+16>>2],rt[d+12>>2],rt[d+8>>2],rt[d+4>>2],rt[d>>2],0),nt=rt[d+32>>2],Ut=Z.getTimezoneOffset(),In=new Date(Z.getFullYear(),0,1),bn=new Date(Z.getFullYear(),6,1).getTimezoneOffset(),Xn=In.getTimezoneOffset(),Si=Math.min(Xn,bn);if(nt<0)rt[d+32>>2]=+(bn!=Xn&&Si==Ut),Qe(+(bn!=Xn&&Si==Ut));else if(nt>0!=(Si==Ut)){var Kl=Math.max(Xn,bn),Kd=nt>0?Si:Kl;Z.setTime(Z.getTime()+6e4*(Kd-Ut))}rt[d+24>>2]=Z.getDay(),Qe(Z.getDay());var Xl=0|il(Z);rt[d+28>>2]=Xl,Qe(Xl),rt[d>>2]=Z.getSeconds(),Qe(Z.getSeconds()),rt[d+4>>2]=Z.getMinutes(),Qe(Z.getMinutes()),rt[d+8>>2]=Z.getHours(),Qe(Z.getHours()),rt[d+12>>2]=Z.getDate(),Qe(Z.getDate()),rt[d+16>>2]=Z.getMonth(),Qe(Z.getMonth()),rt[d+20>>2]=Z.getYear(),Qe(Z.getYear());var Ql=Z.getTime();return isNaN(Ql)?-1:Ql/1e3})();return BigInt(S)},_setitimer_js:(d,S)=>{if(ho[d]&&(clearTimeout(ho[d].id),delete ho[d]),!S)return 0;var Z=setTimeout(()=>{O(d in ho),delete ho[d],(d=>{if(W)L("user callback triggered after runtime exited or application aborted.  Ignoring.");else try{d(),(()=>{if(!Do())try{Ta(ee)}catch(d){oa(d)}})()}catch(S){oa(S)}})(()=>e_(d,_o()))},S);return ho[d]={id:Z,timeout_ms:S},0},_tzset_js:(d,S,Z,nt)=>{var Ut=(new Date).getFullYear(),In=new Date(Ut,0,1),bn=new Date(Ut,6,1),Xn=In.getTimezoneOffset(),Si=bn.getTimezoneOffset(),Kl=Math.max(Xn,Si);Zt[d>>2]=60*Kl,rt[S>>2]=+(Xn!=Si),Qe(+(Xn!=Si));var Kd=gs=>{var u_=gs>=0?"-":"+",d_=Math.abs(gs);return`UTC${u_}${String(Math.floor(d_/60)).padStart(2,"0")}${String(d_%60).padStart(2,"0")}`},Xl=Kd(Xn),Ql=Kd(Si);O(Xl),O(Ql),O(Io(Xl)<=16,`timezone name truncated to fit in TZNAME_MAX (${Xl})`),O(Io(Ql)<=16,`timezone name truncated to fit in TZNAME_MAX (${Ql})`),Si<Xn?(Go(Xl,Z,17),Go(Ql,nt,17)):(Go(Xl,nt,17),Go(Ql,Z,17))},clock_time_get:function sl(d,S,Z){if(S=Dr(S),!(d=>d>=0&&d<=3)(d))return 28;var nt;nt=0===d?Ki():_o();var Ut=Math.round(1e3*nt*1e3);return nn[Z>>3]=BigInt(Ut),(d=>{ze(d,64,$e,On)})(Ut),0},emscripten_asm_const_int:(d,S,Z)=>((d,S,Z)=>{var nt=((d,S)=>{O(Array.isArray(Os)),O(S%16==0),Os.length=0;for(var Z;Z=Sr[d++];){var nt=String.fromCharCode(Z),Ut=["d","f","i","p"];Ut.push("j"),O(Ut.includes(nt),`Invalid character ${Z}("${nt}") in readEmAsmArgs! Use only [${Ut}], and do not specify "v" for void return argument.`);var In=105!=Z;S+=(In&=112!=Z)&&S%8?4:0,Os.push(112==Z?Zt[S>>2]:106==Z?nn[S>>3]:105==Z?rt[S>>2]:Re[S>>3]),S+=In?8:4}return Os})(S,Z);return O(Ge.hasOwnProperty(d),`No EM_ASM constant found at address ${d}.  The loaded WebAssembly file is likely out of sync with the generated JavaScript.`),Ge[d](...nt)})(d,S,Z),emscripten_date_now:Ki,emscripten_resize_heap:d=>{var S=Sr.length;O((d>>>=0)>S);var Z=2147483648;if(d>Z)return L(`Cannot enlarge memory, requested ${d} bytes, but the limit is ${Z} bytes!`),!1;for(var nt=1;nt<=4;nt*=2){var Ut=S*(1+.2/nt);Ut=Math.min(Ut,d+100663296);var In=Math.min(Z,ca(Math.max(d,Ut),65536)),bn=_o(),Xn=$s(In);if(Ce(`Heap resize call from ${S} to ${In} took ${_o()-bn} msecs. Success: ${!!Xn}`),Xn)return!0}return L(`Failed to grow the heap from ${S} bytes to ${In} bytes, not enough memory!`),!1},environ_get:(d,S)=>{var Z=0,nt=0;for(var Ut of xo()){var In=S+Z;Zt[d+nt>>2]=In,Z+=Go(Ut,In,1/0)+1,nt+=4}return 0},environ_sizes_get:(d,S)=>{var Z=xo();Zt[d>>2]=Z.length,Qe(Z.length);var nt=0;for(var Ut of Z)nt+=Io(Ut)+1;return Zt[S>>2]=nt,Qe(nt),0},fd_close:d=>{jt("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},fd_read:(d,S,Z,nt)=>{jt("fd_read called without SYSCALLS_REQUIRE_FILESYSTEM")},fd_seek:function Qi(d,S,Z,nt){return S=Dr(S),70},fd_write:(d,S,Z,nt)=>{for(var Ut=0,In=0;In<Z;In++){var bn=Zt[S>>2],Xn=Zt[S+4>>2];S+=8;for(var Si=0;Si<Xn;Si++)Xo(d,Sr[bn+Si]);Ut+=Xn}return Zt[nt>>2]=Ut,Qe(Ut),0},proc_exit:mo},Yl=yield function xn(){return Ui.apply(this,arguments)}();function Fr(){}function ga(d){return(d||Fr).__cache__}function Jt(d,S){var Z=ga(S),nt=Z[d];return nt||((nt=Object.create((S||Fr).prototype)).ptr=d,Z[d]=nt)}(function kI(){if(c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.shift()();Ye("preInit")})(),function Zd(){function d(){O(!Cc),Cc=!0,c.calledRun=!0,W||(function Ii(){O(!un),un=!0,Ne(),ji($l),Yl.__wasm_call_ctors()}(),function Kr(){Ne()}(),cr?.(c),c.onRuntimeInitialized?.(),Ye("onRuntimeInitialized"),c.noInitialRun||function i_(){O(0==qn,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])'),O(typeof Tn>"u"||0==Tn.length,"cannot call main when preRun functions remain to be called");var d=hl;try{var nt=d(0,0);return Bo(nt,!0),nt}catch(Ut){return oa(Ut)}}(),function Ni(){if(Ne(),c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)el(c.postRun.shift());Ye("postRun"),ji(os)}())}qn>0?Er=Zd:(function AI(){Sc(),function ye(){var d=Vo();O(!(3&d)),0==d&&(d+=4),Zt[d>>2]=34821223,Qe(34821223),Zt[d+4>>2]=2310721022,Qe(2310721022),Zt[0]=1668509029,Qe(1668509029)}()}(),function Oi(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)Qt(c.preRun.shift());Ye("preRun"),ji(Tn)}(),qn>0?Er=Zd:(c.setStatus?(c.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>c.setStatus(""),1),d()},1)):d(),Ne()))}(),(Fr.prototype=Object.create(Fr.prototype)).constructor=Fr,Fr.prototype.__class__=Fr,Fr.__cache__={},c.WrapperObject=Fr,c.getCache=ga,c.wrapPointer=Jt,c.castObject=function Yd(d,S){return Jt(d.ptr,S)},c.NULL=Jt(0),c.destroy=function $u(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete ga(d.__class__)[d.ptr]},c.compare=function s_(d,S){return d.ptr===S.ptr},c.getPointer=function zy(d){return d.ptr},c.getClass=function a_(d){return d.__class__};var en={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(en.needed){for(var d=0;d<en.temps.length;d++)c._webidl_free(en.temps[d]);en.temps.length=0,c._webidl_free(en.buffer),en.buffer=0,en.size+=en.needed,en.needed=0}en.buffer||(en.size+=128,en.buffer=c._webidl_malloc(en.size),O(en.buffer)),en.pos=0},alloc(d,S){O(en.buffer);var Ut,nt=d.length*S.BYTES_PER_ELEMENT;return nt=ca(nt,8),en.pos+nt>=en.size?(O(nt>0),en.needed+=nt,Ut=c._webidl_malloc(nt),en.temps.push(Ut)):(Ut=en.buffer+en.pos,en.pos+=nt),Ut},copy(d,S,Z){Z/=S.BYTES_PER_ELEMENT;for(var nt=0;nt<d.length;nt++)S[Z+nt]=d[nt]}};function bo(d){if("string"==typeof d){var S=(d=>{var nt=Io(d)+1,Ut=new Array(nt);to(d,Ut,0,Ut.length);return Ut})(d),Z=en.alloc(S,rr);return en.copy(S,rr,Z),Z}return d}function sr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ue(){this.ptr=v(),ga(Ue)[this.ptr]=this}function xr(d,S){d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),this.ptr=ln(d,S),ga(xr)[this.ptr]=this}function hr(){throw"cannot construct a Frame, no constructor in IDL"}function ei(){throw"cannot construct a DbBackup, no constructor in IDL"}function Ai(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Jo(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function es(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function Ji(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function ts(){throw"cannot construct a SuspendContextSerialSync, no constructor in IDL"}function vi(){throw"cannot construct a SuspendContext, no constructor in IDL"}function fn(){this.ptr=Jc(),ga(fn)[this.ptr]=this}function T(d){en.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),this.ptr=Od(d),ga(T)[this.ptr]=this}function Nn(){throw"cannot construct a EmTransportSerialBuffer, no constructor in IDL"}function er(d,S,Z){d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),Z&&"object"==typeof Z&&(Z=Z.ptr),this.ptr=yt(d,S,Z),ga(er)[this.ptr]=this}function Kn(d,S){d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),this.ptr=Gy(d,S),ga(Kn)[this.ptr]=this}function zt(){this.ptr=zo(),ga(zt)[this.ptr]=this}function Xt(d,S){d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),this.ptr=Np(d,S),ga(Xt)[this.ptr]=this}(sr.prototype=Object.create(Fr.prototype)).constructor=sr,sr.prototype.__class__=sr,sr.__cache__={},c.VoidPtr=sr,sr.prototype.__destroy__=sr.prototype.__destroy__=function(){p(this.ptr)},(Ue.prototype=Object.create(Fr.prototype)).constructor=Ue,Ue.prototype.__class__=Ue,Ue.__cache__={},c.Cloudpilot=Ue,Ue.prototype.Malloc=Ue.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),Jt(D(this.ptr,d),sr)},Ue.prototype.Free=Ue.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),k(this.ptr,d)},Ue.prototype.Nullptr=Ue.prototype.Nullptr=function(){return Jt(te(this.ptr),sr)},Ue.prototype.EnableLogging=Ue.prototype.EnableLogging=function(d){d&&"object"==typeof d&&(d=d.ptr),ne(this.ptr,d)},Ue.prototype.InitializeSession=Ue.prototype.InitializeSession=function(d,S,Z){var nt=this.ptr;return en.prepare(),d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),Z=Z&&"object"==typeof Z?Z.ptr:bo(Z),!!We(nt,d,S,Z)},Ue.prototype.GetCyclesPerSecond=Ue.prototype.GetCyclesPerSecond=function(){return Ie(this.ptr)},Ue.prototype.RunEmulation=Ue.prototype.RunEmulation=function(d){return d&&"object"==typeof d&&(d=d.ptr),Xe(this.ptr,d)},Ue.prototype.SetClockFactor=Ue.prototype.SetClockFactor=function(d){d&&"object"==typeof d&&(d=d.ptr),Me(this.ptr,d)},Ue.prototype.CopyFrame=Ue.prototype.CopyFrame=function(){return Jt(Ve(this.ptr),hr)},Ue.prototype.IsScreenDirty=Ue.prototype.IsScreenDirty=function(){return!!_t(this.ptr)},Ue.prototype.MarkScreenClean=Ue.prototype.MarkScreenClean=function(){mt(this.ptr)},Ue.prototype.MinMemoryForDevice=Ue.prototype.MinMemoryForDevice=function(d){var S=this.ptr;return en.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),Ft(S,d)},Ue.prototype.FramebufferSizeForDevice=Ue.prototype.FramebufferSizeForDevice=function(d){var S=this.ptr;return en.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),bt(S,d)},Ue.prototype.TotalMemoryForDevice=Ue.prototype.TotalMemoryForDevice=function(d){var S=this.ptr;return en.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),Cn(S,d)},Ue.prototype.QueuePenMove=Ue.prototype.QueuePenMove=function(d,S){d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),Mr(this.ptr,d,S)},Ue.prototype.QueuePenUp=Ue.prototype.QueuePenUp=function(){nr(this.ptr)},Ue.prototype.QueueButtonDown=Ue.prototype.QueueButtonDown=function(d){d&&"object"==typeof d&&(d=d.ptr),zn(this.ptr,d)},Ue.prototype.QueueButtonUp=Ue.prototype.QueueButtonUp=function(d){d&&"object"==typeof d&&(d=d.ptr),Qr(this.ptr,d)},Ue.prototype.QueueKeyboardEvent=Ue.prototype.QueueKeyboardEvent=function(d){d&&"object"==typeof d&&(d=d.ptr),mr(this.ptr,d)},Ue.prototype.IsPowerOff=Ue.prototype.IsPowerOff=function(){return!!Ht(this.ptr)},Ue.prototype.IsUIInitialized=Ue.prototype.IsUIInitialized=function(){return!!Ao(this.ptr)},Ue.prototype.GetOSVersion=Ue.prototype.GetOSVersion=function(){return Ar(this.ptr)},Ue.prototype.IsSetupComplete=Ue.prototype.IsSetupComplete=function(){return!!Li(this.ptr)},Ue.prototype.Reset=Ue.prototype.Reset=function(){fr(this.ptr)},Ue.prototype.ResetNoExtensions=Ue.prototype.ResetNoExtensions=function(){or(this.ptr)},Ue.prototype.ResetHard=Ue.prototype.ResetHard=function(){_i(this.ptr)},Ue.prototype.InstallDb=Ue.prototype.InstallDb=function(d,S){return d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),Ir(this.ptr,d,S)},Ue.prototype.GetPalette2bitMapping=Ue.prototype.GetPalette2bitMapping=function(){return ro(this.ptr)},Ue.prototype.GetMemoryPtr=Ue.prototype.GetMemoryPtr=function(){return Jt(ds(this.ptr),sr)},Ue.prototype.GetDirtyPagesPtr=Ue.prototype.GetDirtyPagesPtr=function(){return Jt(vo(this.ptr),sr)},Ue.prototype.GetMemorySize=Ue.prototype.GetMemorySize=function(){return ml(this.ptr)},Ue.prototype.ImportMemoryImage=Ue.prototype.ImportMemoryImage=function(d,S){return d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),!!Na(this.ptr,d,S)},Ue.prototype.GetRomPtr=Ue.prototype.GetRomPtr=function(){return Jt(jl(this.ptr),sr)},Ue.prototype.GetRomSize=Ue.prototype.GetRomSize=function(){return Fa(this.ptr)},Ue.prototype.GetSavestatePtr=Ue.prototype.GetSavestatePtr=function(){return Jt(_l(this.ptr),sr)},Ue.prototype.GetSavestateSize=Ue.prototype.GetSavestateSize=function(){return gl(this.ptr)},Ue.prototype.SaveState=Ue.prototype.SaveState=function(){return!!ko(this.ptr)},Ue.prototype.LoadState=Ue.prototype.LoadState=function(d,S){return d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),!!vl(this.ptr,d,S)},Ue.prototype.GetHotsyncName=Ue.prototype.GetHotsyncName=function(){return Gn(Pa(this.ptr))},Ue.prototype.SetHotsyncName=Ue.prototype.SetHotsyncName=function(d){var S=this.ptr;en.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),da(S,d)},Ue.prototype.RegisterPwmHandler=Ue.prototype.RegisterPwmHandler=function(d){d&&"object"==typeof d&&(d=d.ptr),yl(this.ptr,d)},Ue.prototype.StartBackup=Ue.prototype.StartBackup=function(){return Jt(Oa(this.ptr),ei)},Ue.prototype.SetClipboardIntegration=Ue.prototype.SetClipboardIntegration=function(d){d&&"object"==typeof d&&(d=d.ptr),fa(this.ptr,d)},Ue.prototype.GetClipboardIntegration=Ue.prototype.GetClipboardIntegration=function(){return!!Lr(this.ptr)},Ue.prototype.IsSuspended=Ue.prototype.IsSuspended=function(){return!!Qo(this.ptr)},Ue.prototype.GetSuspendContext=Ue.prototype.GetSuspendContext=function(){return Jt(La(this.ptr),vi)},Ue.prototype.SetNetworkRedirection=Ue.prototype.SetNetworkRedirection=function(d){d&&"object"==typeof d&&(d=d.ptr),zl(this.ptr,d)},Ue.prototype.GetNetworkRedirection=Ue.prototype.GetNetworkRedirection=function(){return!!bl(this.ptr)},Ue.prototype.RegisterProxyDisconnectHandler=Ue.prototype.RegisterProxyDisconnectHandler=function(d){d&&"object"==typeof d&&(d=d.ptr),Vl(this.ptr,d)},Ue.prototype.SetHotsyncNameManagement=Ue.prototype.SetHotsyncNameManagement=function(d){d&&"object"==typeof d&&(d=d.ptr),Gs(this.ptr,d)},Ue.prototype.LaunchAppByName=Ue.prototype.LaunchAppByName=function(d){var S=this.ptr;return en.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),!!fs(S,d)},Ue.prototype.LaunchAppByDbHeader=Ue.prototype.LaunchAppByDbHeader=function(d,S){return d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),!!hc(this.ptr,d,S)},Ue.prototype.ClearExternalStorage=Ue.prototype.ClearExternalStorage=function(){Hl(this.ptr)},Ue.prototype.AllocateCard=Ue.prototype.AllocateCard=function(d,S){var Z=this.ptr;return en.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),S&&"object"==typeof S&&(S=S.ptr),!!mc(Z,d,S)},Ue.prototype.AdoptCard=Ue.prototype.AdoptCard=function(d,S,Z){var nt=this.ptr;return en.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),S&&"object"==typeof S&&(S=S.ptr),Z&&"object"==typeof Z&&(Z=Z.ptr),!!pa(nt,d,S,Z)},Ue.prototype.MountCard=Ue.prototype.MountCard=function(d){var S=this.ptr;return en.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),!!Vi(S,d)},Ue.prototype.RemoveCard=Ue.prototype.RemoveCard=function(d){var S=this.ptr;return en.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),!!Sl(S,d)},Ue.prototype.GetCardData=Ue.prototype.GetCardData=function(d){var S=this.ptr;return en.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),Jt(Xc(S,d),sr)},Ue.prototype.GetCardDirtyPages=Ue.prototype.GetCardDirtyPages=function(d){var S=this.ptr;return en.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),Jt(Jr(S,d),sr)},Ue.prototype.GetCardSize=Ue.prototype.GetCardSize=function(d){var S=this.ptr;return en.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),dt(S,d)},Ue.prototype.RemountCards=Ue.prototype.RemountCards=function(){on(this.ptr)},Ue.prototype.GetSupportLevel=Ue.prototype.GetSupportLevel=function(d){return d&&"object"==typeof d&&(d=d.ptr),zr(this.ptr,d)},Ue.prototype.GetMountedKey=Ue.prototype.GetMountedKey=function(){return Gn(Fi(this.ptr))},Ue.prototype.GetTransportIR=Ue.prototype.GetTransportIR=function(){return Jt(oi(this.ptr),Nn)},Ue.prototype.GetTransportSerial=Ue.prototype.GetTransportSerial=function(){return Jt(ps(this.ptr),Nn)},Ue.prototype.__destroy__=Ue.prototype.__destroy__=function(){ha(this.ptr)},(xr.prototype=Object.create(Fr.prototype)).constructor=xr,xr.prototype.__class__=xr,xr.__cache__={},c.RomInfo=xr,xr.prototype.IsValid=xr.prototype.IsValid=function(){return!!Yn(this.ptr)},xr.prototype.CardVersion=xr.prototype.CardVersion=function(){return _r(this.ptr)},xr.prototype.CardName=xr.prototype.CardName=function(){return Gn(yn(this.ptr))},xr.prototype.RomVersion=xr.prototype.RomVersion=function(){return hs(this.ptr)},xr.prototype.RomVersionString=xr.prototype.RomVersionString=function(){return Gn(Cl(this.ptr))},xr.prototype.Supports=xr.prototype.Supports=function(d){var S=this.ptr;return en.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),!!Us(S,d)},xr.prototype.__destroy__=xr.prototype.__destroy__=function(){si(this.ptr)},(hr.prototype=Object.create(Fr.prototype)).constructor=hr,hr.prototype.__class__=hr,hr.__cache__={},c.Frame=hr,hr.prototype.GetLineWidth=hr.prototype.GetLineWidth=function(){return mn(this.ptr)},hr.prototype.GetBpp=hr.prototype.GetBpp=function(){return ms(this.ptr)},hr.prototype.GetLines=hr.prototype.GetLines=function(){return _s(this.ptr)},hr.prototype.GetMargin=hr.prototype.GetMargin=function(){return wl(this.ptr)},hr.prototype.GetBytesPerLine=hr.prototype.GetBytesPerLine=function(){return _c(this.ptr)},hr.prototype.GetFirstDirtyLine=hr.prototype.GetFirstDirtyLine=function(){return io(this.ptr)},hr.prototype.GetLastDirtyLine=hr.prototype.GetLastDirtyLine=function(){return Wl(this.ptr)},hr.prototype.GetHasChanges=hr.prototype.GetHasChanges=function(){return!!kr(this.ptr)},hr.prototype.GetBuffer=hr.prototype.GetBuffer=function(){return Jt(gr(this.ptr),sr)},hr.prototype.GetBufferSize=hr.prototype.GetBufferSize=function(){return Vr(this.ptr)},hr.prototype.GetScaleX=hr.prototype.GetScaleX=function(){return Pt(this.ptr)},hr.prototype.GetScaleY=hr.prototype.GetScaleY=function(){return $r(this.ptr)},hr.prototype.__destroy__=hr.prototype.__destroy__=function(){cn(this.ptr)},(ei.prototype=Object.create(Fr.prototype)).constructor=ei,ei.prototype.__class__=ei,ei.__cache__={},c.DbBackup=ei,ei.prototype.Init=ei.prototype.Init=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!Vn(this.ptr,d)},ei.prototype.IsInProgress=ei.prototype.IsInProgress=function(){return!!Mn(this.ptr)},ei.prototype.IsDone=ei.prototype.IsDone=function(){return!!_(this.ptr)},ei.prototype.GetCurrentDatabase=ei.prototype.GetCurrentDatabase=function(){return Gn(R(this.ptr))},ei.prototype.Save=ei.prototype.Save=function(){return!!X(this.ptr)},ei.prototype.Skip=ei.prototype.Skip=function(){Ze(this.ptr)},ei.prototype.GetArchivePtr=ei.prototype.GetArchivePtr=function(){return Jt(Ot(this.ptr),sr)},ei.prototype.GetArchiveSize=ei.prototype.GetArchiveSize=function(){return ht(this.ptr)},ei.prototype.__destroy__=ei.prototype.__destroy__=function(){$t(this.ptr)},(Ai.prototype=Object.create(Fr.prototype)).constructor=Ai,Ai.prototype.__class__=Ai,Ai.__cache__={},c.SuspendContextClipboardCopy=Ai,Ai.prototype.Cancel=Ai.prototype.Cancel=function(){rn(this.ptr)},Ai.prototype.Resume=Ai.prototype.Resume=function(){pr(this.ptr)},Ai.prototype.GetClipboardContent=Ai.prototype.GetClipboardContent=function(){return Gn(ma(this.ptr))},Ai.prototype.__destroy__=Ai.prototype.__destroy__=function(){gc(this.ptr)},(Jo.prototype=Object.create(Fr.prototype)).constructor=Jo,Jo.prototype.__class__=Jo,Jo.__cache__={},c.SuspendContextClipboardPaste=Jo,Jo.prototype.Cancel=Jo.prototype.Cancel=function(){Hi(this.ptr)},Jo.prototype.Resume=Jo.prototype.Resume=function(d){var S=this.ptr;en.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),Br(S,d)},Jo.prototype.__destroy__=Jo.prototype.__destroy__=function(){ai(this.ptr)},(es.prototype=Object.create(Fr.prototype)).constructor=es,es.prototype.__class__=es,es.__cache__={},c.SuspendContextNetworkConnect=es,es.prototype.Cancel=es.prototype.Cancel=function(){Wt(this.ptr)},es.prototype.Resume=es.prototype.Resume=function(){Gr(this.ptr)},es.prototype.__destroy__=es.prototype.__destroy__=function(){Rr(this.ptr)},(Ji.prototype=Object.create(Fr.prototype)).constructor=Ji,Ji.prototype.__class__=Ji,Ji.__cache__={},c.SuspendContextNetworkRpc=Ji,Ji.prototype.Cancel=Ji.prototype.Cancel=function(){Ti(this.ptr)},Ji.prototype.GetRequestSize=Ji.prototype.GetRequestSize=function(){return li(this.ptr)},Ji.prototype.GetRequestData=Ji.prototype.GetRequestData=function(){return Jt(Nr(this.ptr),sr)},Ji.prototype.ReceiveResponse=Ji.prototype.ReceiveResponse=function(d,S){d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),h(this.ptr,d,S)},Ji.prototype.__destroy__=Ji.prototype.__destroy__=function(){N(this.ptr)},(ts.prototype=Object.create(Fr.prototype)).constructor=ts,ts.prototype.__class__=ts,ts.__cache__={},c.SuspendContextSerialSync=ts,ts.prototype.Cancel=ts.prototype.Cancel=function(){ae(this.ptr)},ts.prototype.Resume=ts.prototype.Resume=function(){ot(this.ptr)},ts.prototype.__destroy__=ts.prototype.__destroy__=function(){qt(this.ptr)},(vi.prototype=Object.create(Fr.prototype)).constructor=vi,vi.prototype.__class__=vi,vi.__cache__={},c.SuspendContext=vi,vi.prototype.GetKind=vi.prototype.GetKind=function(){return Hn(this.ptr)},vi.prototype.Cancel=vi.prototype.Cancel=function(){An(this.ptr)},vi.prototype.AsContextClipboardCopy=vi.prototype.AsContextClipboardCopy=function(){return Jt(kn(this.ptr),Ai)},vi.prototype.AsContextClipboardPaste=vi.prototype.AsContextClipboardPaste=function(){return Jt(Hr(this.ptr),Jo)},vi.prototype.AsContextNetworkConnect=vi.prototype.AsContextNetworkConnect=function(){return Jt($a(this.ptr),es)},vi.prototype.AsContextNetworkRpc=vi.prototype.AsContextNetworkRpc=function(){return Jt(Qc(this.ptr),Ji)},vi.prototype.AsContextSerialSync=vi.prototype.AsContextSerialSync=function(){return Jt(Ba(this.ptr),ts)},vi.prototype.__destroy__=vi.prototype.__destroy__=function(){js(this.ptr)},(fn.prototype=Object.create(Fr.prototype)).constructor=fn,fn.prototype.__class__=fn,fn.__cache__={},c.SessionImage=fn,fn.prototype.GetDeviceId=fn.prototype.GetDeviceId=function(){return Gn($i(this.ptr))},fn.prototype.SetDeviceId=fn.prototype.SetDeviceId=function(d){var S=this.ptr;return en.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),Jt(Ru(S,d),fn)},fn.prototype.GetRomImage=fn.prototype.GetRomImage=function(){return Jt(El(this.ptr),sr)},fn.prototype.GetRomImageSize=fn.prototype.GetRomImageSize=function(){return Mi(this.ptr)},fn.prototype.SetRomImage=fn.prototype.SetRomImage=function(d,S){return d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),Jt(Pm(this.ptr,d,S),fn)},fn.prototype.GetMemoryImage=fn.prototype.GetMemoryImage=function(){return Jt(vc(this.ptr),sr)},fn.prototype.GetMemoryImageSize=fn.prototype.GetMemoryImageSize=function(){return ql(this.ptr)},fn.prototype.SetMemoryImage=fn.prototype.SetMemoryImage=function(d,S){return d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),Jt(Nd(this.ptr,d,S),fn)},fn.prototype.GetMetadata=fn.prototype.GetMetadata=function(){return Jt(Ro(this.ptr),sr)},fn.prototype.GetMetadataSize=fn.prototype.GetMetadataSize=function(){return Om(this.ptr)},fn.prototype.SetMetadata=fn.prototype.SetMetadata=function(d,S){return d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),Jt(Fd(this.ptr,d,S),fn)},fn.prototype.GetSavestate=fn.prototype.GetSavestate=function(){return Jt(Lm(this.ptr),sr)},fn.prototype.GetSavestateSize=fn.prototype.GetSavestateSize=function(){return yo(this.ptr)},fn.prototype.SetSavestate=fn.prototype.SetSavestate=function(d,S){return d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),Jt(up(this.ptr,d,S),fn)},fn.prototype.GetVersion=fn.prototype.GetVersion=function(){return dp(this.ptr)},fn.prototype.Serialize=fn.prototype.Serialize=function(){return!!fp(this.ptr)},fn.prototype.GetSerializedImage=fn.prototype.GetSerializedImage=function(){return Jt(Nu(this.ptr),sr)},fn.prototype.GetSerializedImageSize=fn.prototype.GetSerializedImageSize=function(){return Pd(this.ptr)},fn.prototype.Deserialize=fn.prototype.Deserialize=function(d,S){return d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),!!yc(this.ptr,d,S)},fn.prototype.__destroy__=fn.prototype.__destroy__=function(){Fu(this.ptr)},(T.prototype=Object.create(Fr.prototype)).constructor=T,T.prototype.__class__=T,T.__cache__={},c.SkinLoader=T,T.prototype.GetData=T.prototype.GetData=function(){return Jt(Ga(this.ptr),sr)},T.prototype.GetSize=T.prototype.GetSize=function(){return pp(this.ptr)},T.prototype.__destroy__=T.prototype.__destroy__=function(){hp(this.ptr)},(Nn.prototype=Object.create(Fr.prototype)).constructor=Nn,Nn.prototype.__class__=Nn,Nn.__cache__={},c.EmTransportSerialBuffer=Nn,Nn.prototype.RxBytesPending=Nn.prototype.RxBytesPending=function(){return mp(this.ptr)},Nn.prototype.Receive=Nn.prototype.Receive=function(){return Jt(wn(this.ptr),sr)},Nn.prototype.Send=Nn.prototype.Send=function(d,S,Z){return d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),Z&&"object"==typeof Z&&(Z=Z.ptr),bc(this.ptr,d,S,Z)},Nn.prototype.IsOpen=Nn.prototype.IsOpen=function(){return!!Ld(this.ptr)},Nn.prototype.Rts=Nn.prototype.Rts=function(){return $d(this.ptr)},Nn.prototype.Dtr=Nn.prototype.Dtr=function(){return!!$m(this.ptr)},Nn.prototype.IsBreak=Nn.prototype.IsBreak=function(){return!!Bm(this.ptr)},Nn.prototype.BufferSize=Nn.prototype.BufferSize=function(){return _p(this.ptr)},Nn.prototype.GetBaud=Nn.prototype.GetBaud=function(){return Bd(this.ptr)},Nn.prototype.GetParity=Nn.prototype.GetParity=function(){return gp(this.ptr)},Nn.prototype.GetStopBits=Nn.prototype.GetStopBits=function(){return vp(this.ptr)},Nn.prototype.GetDataBits=Nn.prototype.GetDataBits=function(){return Gm(this.ptr)},Nn.prototype.GetHwrHandshake=Nn.prototype.GetHwrHandshake=function(){return By(this.ptr)},Nn.prototype.GetModeSync=Nn.prototype.GetModeSync=function(){return!!Um(this.ptr)},Nn.prototype.SetModeSync=Nn.prototype.SetModeSync=function(d){d&&"object"==typeof d&&(d=d.ptr),yp(this.ptr,d)},Nn.prototype.IsFrameComplete=Nn.prototype.IsFrameComplete=function(){return!!it(this.ptr)},Nn.prototype.SetRequestTransferCallback=Nn.prototype.SetRequestTransferCallback=function(d){d&&"object"==typeof d&&(d=d.ptr),Rn(this.ptr,d)},Nn.prototype.__destroy__=Nn.prototype.__destroy__=function(){vt(this.ptr)},(er.prototype=Object.create(Fr.prototype)).constructor=er,er.prototype.__class__=er,er.__cache__={},c.GunzipContext=er,er.prototype.GetState=er.prototype.GetState=function(){return Dn(this.ptr)},er.prototype.Continue=er.prototype.Continue=function(){return bp(this.ptr)},er.prototype.GetUncompressedData=er.prototype.GetUncompressedData=function(){return Jt(eu(this.ptr),sr)},er.prototype.ReleaseUncompressedData=er.prototype.ReleaseUncompressedData=function(){return Jt(Ua(this.ptr),sr)},er.prototype.GetUncompressedSize=er.prototype.GetUncompressedSize=function(){return Sp(this.ptr)},er.prototype.GetError=er.prototype.GetError=function(){return Gn(Cp(this.ptr))},er.prototype.__destroy__=er.prototype.__destroy__=function(){wp(this.ptr)},(Kn.prototype=Object.create(Fr.prototype)).constructor=Kn,Kn.prototype.__class__=Kn,Kn.__cache__={},c.ZipfileWalker=Kn,Kn.prototype.GetState=Kn.prototype.GetState=function(){return Uy(this.ptr)},Kn.prototype.Next=Kn.prototype.Next=function(){return Ep(this.ptr)},Kn.prototype.GetTotalEntries=Kn.prototype.GetTotalEntries=function(){return Dp(this.ptr)},Kn.prototype.GetCurrentEntrySize=Kn.prototype.GetCurrentEntrySize=function(){return Pu(this.ptr)},Kn.prototype.GetCurrentEntryName=Kn.prototype.GetCurrentEntryName=function(){return Gn(No(this.ptr))},Kn.prototype.GetCurrentEntryContent=Kn.prototype.GetCurrentEntryContent=function(){return Jt(ja(this.ptr),sr)},Kn.prototype.__destroy__=Kn.prototype.__destroy__=function(){Ip(this.ptr)},(zt.prototype=Object.create(Fr.prototype)).constructor=zt,zt.prototype.__class__=zt,zt.__cache__={},c.SessionFile5=zt,zt.prototype.IsSessionFile=zt.prototype.IsSessionFile=function(d,S){return d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),!!za(this.ptr,d,S)},zt.prototype.GetDeviceId=zt.prototype.GetDeviceId=function(){return jm(this.ptr)},zt.prototype.SetDeviceId=zt.prototype.SetDeviceId=function(d){return d&&"object"==typeof d&&(d=d.ptr),Jt(xp(this.ptr,d),zt)},zt.prototype.GetMetadata=zt.prototype.GetMetadata=function(){return Jt(zm(this.ptr),sr)},zt.prototype.GetMetadataSize=zt.prototype.GetMetadataSize=function(){return Vm(this.ptr)},zt.prototype.SetMetadata=zt.prototype.SetMetadata=function(d,S){return d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),Jt(Gd(this.ptr,d,S),zt)},zt.prototype.GetNor=zt.prototype.GetNor=function(){return Jt(Ud(this.ptr),sr)},zt.prototype.GetNorSize=zt.prototype.GetNorSize=function(){return jd(this.ptr)},zt.prototype.SetNor=zt.prototype.SetNor=function(d,S){return d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),Jt(Ou(this.ptr,d,S),zt)},zt.prototype.GetNand=zt.prototype.GetNand=function(){return Jt(Hm(this.ptr),sr)},zt.prototype.GetNandSize=zt.prototype.GetNandSize=function(){return Tp(this.ptr)},zt.prototype.SetNand=zt.prototype.SetNand=function(d,S){return d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),Jt(zd(this.ptr,d,S),zt)},zt.prototype.GetMemory=zt.prototype.GetMemory=function(){return Jt(Mp(this.ptr),sr)},zt.prototype.GetMemorySize=zt.prototype.GetMemorySize=function(){return Ap(this.ptr)},zt.prototype.SetMemory=zt.prototype.SetMemory=function(d,S){return d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),Jt(kp(this.ptr,d,S),zt)},zt.prototype.GetSavestate=zt.prototype.GetSavestate=function(){return Jt(Rp(this.ptr),sr)},zt.prototype.GetSavestateSize=zt.prototype.GetSavestateSize=function(){return Vd(this.ptr)},zt.prototype.SetSavestate=zt.prototype.SetSavestate=function(d,S){return d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),Jt(Wm(this.ptr,d,S),zt)},zt.prototype.GetRamSize=zt.prototype.GetRamSize=function(){return oo(this.ptr)},zt.prototype.SetRamSize=zt.prototype.SetRamSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),Jt(Zl(this.ptr,d),zt)},zt.prototype.Serialize=zt.prototype.Serialize=function(){return!!zs(this.ptr)},zt.prototype.GetSerializedSession=zt.prototype.GetSerializedSession=function(){return Jt(qm(this.ptr),sr)},zt.prototype.GetSerializedSessionSize=zt.prototype.GetSerializedSessionSize=function(){return Zm(this.ptr)},zt.prototype.GetVersion=zt.prototype.GetVersion=function(){return Ym(this.ptr)},zt.prototype.Deserialize=zt.prototype.Deserialize=function(d,S){return d&&"object"==typeof d&&(d=d.ptr),S&&"object"==typeof S&&(S=S.ptr),!!Km(this.ptr,d,S)},zt.prototype.__destroy__=zt.prototype.__destroy__=function(){Xm(this.ptr)},(Xt.prototype=Object.create(Fr.prototype)).constructor=Xt,Xt.prototype.__class__=Xt,Xt.__cache__={},c.RomInfo5=Xt,Xt.prototype.IsValid=Xt.prototype.IsValid=function(){return!!Lu(this.ptr)},Xt.prototype.GetCardName=Xt.prototype.GetCardName=function(){return Gn(tu(this.ptr))},Xt.prototype.GetManufacturer=Xt.prototype.GetManufacturer=function(){return Gn(Hd(this.ptr))},Xt.prototype.GetRomName=Xt.prototype.GetRomName=function(){return Gn(Qm(this.ptr))},Xt.prototype.GetCompanyId=Xt.prototype.GetCompanyId=function(){return Wd(this.ptr)},Xt.prototype.GetHalId=Xt.prototype.GetHalId=function(){return Fp(this.ptr)},Xt.prototype.GetDeviceType=Xt.prototype.GetDeviceType=function(){return Pp(this.ptr)},Xt.prototype.GetRecommendedRamSize=Xt.prototype.GetRecommendedRamSize=function(){return gi(this.ptr)},Xt.prototype.__destroy__=Xt.prototype.__destroy__=function(){so(this.ptr)},$=un?c:new Promise((d,S)=>{cr=d,br=S});for(const d of Object.keys(c))d in q||Object.defineProperty(q,d,{configurable:!0,get(){jt(`Access to module property ('${d}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`)}});return $}));J.exports=P,J.exports.default=P},7598:J=>{"use strict";J.exports=Math.abs},7638:J=>{var De={}.toString;J.exports=Array.isArray||function(b){return"[object Array]"==De.call(b)}},7648:J=>{"use strict";J.exports=Function.prototype.call},7653:(J,De,b)=>{"use strict";var E=b(840),P=b(5831),z=E("RegExp.prototype.exec"),q=b(8519);J.exports=function(c){if(!P(c))throw new q("`regex` must be a RegExp");return function(I){return null!==z(c,I)}}},7671:(J,De,b)=>{"use strict";if(b(362)()){var P=BigInt.prototype.valueOf;J.exports=function($){return!(null===$||typeof $>"u"||"boolean"==typeof $||"string"==typeof $||"number"==typeof $||"symbol"==typeof $||"function"==typeof $)&&("bigint"==typeof $||function($){try{return P.call($),!0}catch{}return!1}($))}}else J.exports=function($){return!1}},7707:(J,De,b)=>{"use strict";var E=b(3933);J.exports=Function.prototype.bind||E},7718:J=>{"use strict";J.exports=RangeError},7888:J=>{"use strict";J.exports=Object},7935:(J,De,b)=>{"use strict";var E;if(!Object.keys){var P=Object.prototype.hasOwnProperty,z=Object.prototype.toString,q=b(6321),$=Object.prototype.propertyIsEnumerable,c=!$.call({toString:null},"toString"),G=$.call(function(){},"prototype"),I=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],U=function(M){var A=M.constructor;return A&&A.prototype===M},B={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},K=function(){if(typeof window>"u")return!1;for(var M in window)try{if(!B["$"+M]&&P.call(window,M)&&null!==window[M]&&"object"==typeof window[M])try{U(window[M])}catch{return!0}}catch{return!0}return!1}();E=function(A){var ue=null!==A&&"object"==typeof A,pe="[object Function]"===z.call(A),ve=q(A),re=ue&&"[object String]"===z.call(A),L=[];if(!ue&&!pe&&!ve)throw new TypeError("Object.keys called on a non-object");var oe=G&&pe;if(re&&A.length>0&&!P.call(A,0))for(var xe=0;xe<A.length;++xe)L.push(String(xe));if(ve&&A.length>0)for(var Oe=0;Oe<A.length;++Oe)L.push(String(Oe));else for(var tt in A)(!oe||"prototype"!==tt)&&P.call(A,tt)&&L.push(String(tt));if(c)for(var le=function(M){if(typeof window>"u"||!K)return U(M);try{return U(M)}catch{return!1}}(A),Ae=0;Ae<I.length;++Ae)(!le||"constructor"!==I[Ae])&&P.call(A,I[Ae])&&L.push(I[Ae]);return L}}J.exports=E},8081:function(J,De){!function(b){"use strict";var j,z=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,q=536870912,$=2*q,G=new WeakMap,U=function(j,M){return function(A){var ue=M.get(A),pe=void 0===ue?A.size:ue<$?ue+1:0;if(!A.has(pe))return j(A,pe);if(A.size<q){for(;A.has(pe);)pe=Math.floor(Math.random()*$);return j(A,pe)}if(A.size>z)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;A.has(pe);)pe=Math.floor(Math.random()*z);return j(A,pe)}}((j=G,function(M,A){return j.set(M,A),A}),G),B=function(j){return function(M){var A=j(M);return M.add(A),A}}(U);b.addUniqueNumber=B,b.generateUniqueNumber=U}(De)},8251:J=>{var De={utf8:{stringToBytes:function(b){return De.bin.stringToBytes(unescape(encodeURIComponent(b)))},bytesToString:function(b){return decodeURIComponent(escape(De.bin.bytesToString(b)))}},bin:{stringToBytes:function(b){for(var E=[],P=0;P<b.length;P++)E.push(255&b.charCodeAt(P));return E},bytesToString:function(b){for(var E=[],P=0;P<b.length;P++)E.push(String.fromCharCode(b[P]));return E.join("")}}};J.exports=De},8344:(J,De,b)=>{"use strict";var E=b(5328)(),z=b(840)("Object.prototype.toString"),q=function(I){return!(E&&I&&"object"==typeof I&&Symbol.toStringTag in I)&&"[object Arguments]"===z(I)},$=function(I){return!!q(I)||null!==I&&"object"==typeof I&&"length"in I&&"number"==typeof I.length&&I.length>=0&&"[object Array]"!==z(I)&&"callee"in I&&"[object Function]"===z(I.callee)},c=function(){return q(arguments)}();q.isLegacyArguments=$,J.exports=c?q:$},8436:(J,De,b)=>{"use strict";var E=b(592).supportsDescriptors,P=b(4198),z=b(9263),q=Object.defineProperty,$=b(1123),c=b(1568),G=/a/;J.exports=function(){if(!E||!c)throw new $("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var U=P(),B=c(G),K=z(B,"flags");return(!K||K.get!==U)&&q(B,"flags",{configurable:!0,enumerable:!1,get:U}),U}},8447:(J,De,b)=>{"use strict";var E=b(9209),P=b(6497)(),z=b(840),q=b(7888),$=z("Array.prototype.push"),c=z("Object.prototype.propertyIsEnumerable"),G=P?q.getOwnPropertySymbols:null;J.exports=function(U,B){if(null==U)throw new TypeError("target must be an object");var K=q(U);if(1===arguments.length)return K;for(var j=1;j<arguments.length;++j){var M=q(arguments[j]),A=E(M),ue=P&&(q.getOwnPropertySymbols||G);if(ue)for(var pe=ue(M),ve=0;ve<pe.length;++ve){var re=pe[ve];c(M,re)&&$(A,re)}for(var L=0;L<A.length;++L){var oe=A[L];c(M,oe)&&(K[oe]=M[oe])}}return K}},8519:J=>{"use strict";J.exports=TypeError},8580:(J,De,b)=>{"use strict";var z,E=b(2282),P=b(9263);try{z=[].__proto__===Array.prototype}catch(G){if(!G||"object"!=typeof G||!("code"in G)||"ERR_PROTO_ACCESS"!==G.code)throw G}var q=!!z&&P&&P(Object.prototype,"__proto__"),$=Object,c=$.getPrototypeOf;J.exports=q&&"function"==typeof q.get?E([q.get]):"function"==typeof c&&function(I){return c(null==I?I:$(I))}},8963:J=>{"use strict";J.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},8979:(J,De,b)=>{"use strict";var E=b(840),P=E("Number.prototype.toString"),q=E("Object.prototype.toString"),c=b(5328)();J.exports=function(I){return"number"==typeof I||!(!I||"object"!=typeof I)&&(c?function(I){try{return P(I),!0}catch{return!1}}(I):"[object Number]"===q(I))}},8996:(J,De,b)=>{var E={"./ion-accordion_2.entry.js":[7518,2076,7518],"./ion-action-sheet.entry.js":[1981,2076,1981],"./ion-alert.entry.js":[1603,2076,1603],"./ion-app_8.entry.js":[2273,2076,2273],"./ion-avatar_3.entry.js":[9642,9642],"./ion-back-button.entry.js":[2095,2076,2095],"./ion-backdrop.entry.js":[2335,2335],"./ion-breadcrumb_2.entry.js":[8221,2076,8221],"./ion-button_2.entry.js":[7184,7184],"./ion-card_5.entry.js":[8759,8759],"./ion-checkbox.entry.js":[4248,4248],"./ion-chip.entry.js":[9863,9863],"./ion-col_3.entry.js":[1769,1769],"./ion-datetime-button.entry.js":[2569,6948,2569],"./ion-datetime_3.entry.js":[6534,6948,2076,6534],"./ion-fab_3.entry.js":[5458,2076,5458],"./ion-img.entry.js":[654,654],"./ion-infinite-scroll_2.entry.js":[6034,2076,6034],"./ion-input-otp.entry.js":[381,2076,381],"./ion-input-password-toggle.entry.js":[5196,2076,5196],"./ion-input.entry.js":[761,2076,761],"./ion-item-option_3.entry.js":[6492,2076,6492],"./ion-item_8.entry.js":[9557,2076,9557],"./ion-loading.entry.js":[8353,2076,8353],"./ion-menu_3.entry.js":[1024,2076,1024],"./ion-modal.entry.js":[9160,2076,9160],"./ion-nav_2.entry.js":[393,2076,393],"./ion-picker-column-option.entry.js":[8442,8442],"./ion-picker-column.entry.js":[3110,2076,3110],"./ion-picker.entry.js":[5575,5575],"./ion-popover.entry.js":[6772,2076,6772],"./ion-progress-bar.entry.js":[4810,4810],"./ion-radio_2.entry.js":[4639,2076,4639],"./ion-range.entry.js":[628,2076,628],"./ion-refresher_2.entry.js":[852,2076,852],"./ion-reorder_2.entry.js":[1479,2076,1479],"./ion-ripple-effect.entry.js":[4065,4065],"./ion-route_4.entry.js":[7971,7971],"./ion-searchbar.entry.js":[3184,2076,3184],"./ion-segment-content.entry.js":[4312,4312],"./ion-segment-view.entry.js":[4540,4540],"./ion-segment_2.entry.js":[469,2076,469],"./ion-select-modal.entry.js":[7101,7101],"./ion-select_3.entry.js":[8471,2076,8471],"./ion-spinner.entry.js":[388,2076,388],"./ion-split-pane.entry.js":[2392,2392],"./ion-tab-bar_2.entry.js":[6059,2076,6059],"./ion-tab_2.entry.js":[5427,5427],"./ion-text.entry.js":[198,198],"./ion-textarea.entry.js":[1735,2076,1735],"./ion-toast.entry.js":[5129,2076,7510],"./ion-toggle.entry.js":[5297,2076,5297]};function P(z){if(!b.o(E,z))return Promise.resolve().then(()=>{var c=new Error("Cannot find module '"+z+"'");throw c.code="MODULE_NOT_FOUND",c});var q=E[z],$=q[0];return Promise.all(q.slice(1).map(b.e)).then(()=>b($))}P.keys=()=>Object.keys(E),P.id=8996,J.exports=P},9110:(J,De,b)=>{"use strict";var E=b(9831);J.exports=function(){return"function"==typeof Object.is?Object.is:E}},9116:J=>{"use strict";var E,De="function"==typeof Map&&Map.prototype?Map:null,b="function"==typeof Set&&Set.prototype?Set:null;b||(E=function($){return!1});var P=De?Map.prototype.has:null,z=b?Set.prototype.has:null;!E&&!z&&(E=function($){return!1}),J.exports=E||function($){if(!$||"object"!=typeof $)return!1;try{if(z.call($),P)try{P.call($)}catch{return!0}return $ instanceof b}catch{}return!1}},9209:(J,De,b)=>{"use strict";var E=Array.prototype.slice,P=b(6321),z=Object.keys,q=z?function(G){return z(G)}:b(7935),$=Object.keys;q.shim=function(){if(Object.keys){var G=function(){var I=Object.keys(arguments);return I&&I.length===arguments.length}(1,2);G||(Object.keys=function(U){return P(U)?$(E.call(U)):$(U)})}else Object.keys=q;return Object.keys||q},J.exports=q},9250:(J,De,b)=>{"use strict";var E=b(6969),P=b(3463),z=b(7057),q=b(2521),$=b(158),c=b(5492),G=b(545),I=b(8344),U=b(7638),B=b(3066),K=b(5500),j=b(5831),M=b(2090),A=b(9209),ue=b(6959),pe=b(5757),ve=b(6547),re=b(2219),L=P("SharedArrayBuffer.prototype.byteLength",!0),oe=P("Date.prototype.getTime"),xe=Object.getPrototypeOf,Oe=P("Object.prototype.toString"),tt=q("%Set%",!0),le=P("Map.prototype.has",!0),Ae=P("Map.prototype.get",!0),Se=P("Map.prototype.size",!0),ge=P("Set.prototype.add",!0),we=P("Set.prototype.delete",!0),W=P("Set.prototype.has",!0),ee=P("Set.prototype.size",!0);function O(ke,He,Ct,Tt){for(var ut,Nt=$(ke);(ut=Nt.next())&&!ut.done;)if(Ne(He,ut.value,Ct,Tt))return we(ke,ut.value),!0;return!1}function Te(ke){return typeof ke>"u"?null:"object"!=typeof ke?"symbol"!=typeof ke&&("string"!=typeof ke&&"number"!=typeof ke||+ke==+ke):void 0}function be(ke,He,Ct,Tt,Nt,ut){var At=Te(Ct);if(null!=At)return At;var lt=Ae(He,At),Mt=E({},Nt,{strict:!1});return!(typeof lt>"u"&&!le(He,At)||!Ne(Tt,lt,Mt,ut))&&!le(ke,At)&&Ne(Tt,lt,Mt,ut)}function ce(ke,He,Ct){var Tt=Te(Ct);return Tt??(W(He,Tt)&&!W(ke,Tt))}function ye(ke,He,Ct,Tt,Nt,ut){for(var lt,Mt,At=$(ke);(lt=At.next())&&!lt.done;)if(Ne(Ct,Mt=lt.value,Nt,ut)&&Ne(Tt,Ae(He,Mt),Nt,ut))return we(ke,Mt),!0;return!1}function Ne(ke,He,Ct,Tt){var Nt=Ct||{};if(Nt.strict?G(ke,He):ke===He)return!0;if(ue(ke)!==ue(He))return!1;if(!ke||!He||"object"!=typeof ke&&"object"!=typeof He)return Nt.strict?G(ke,He):ke==He;var Gt,lt=Tt.has(ke),Mt=Tt.has(He);if(lt&&Mt){if(Tt.get(ke)===Tt.get(He))return!0}else Gt={};return lt||Tt.set(ke,Gt),Mt||Tt.set(He,Gt),function C(ke,He,Ct,Tt){var Nt,ut;if(typeof ke!=typeof He||null==ke||null==He||Oe(ke)!==Oe(He)||I(ke)!==I(He))return!1;if(U(ke)!==U(He))return!1;var Mt=ke instanceof Error,Gt=He instanceof Error;if(Mt!==Gt||(Mt||Gt)&&(ke.name!==He.name||ke.message!==He.message))return!1;var On=j(ke),Ln=j(He);if(On!==Ln||(On||Ln)&&(ke.source!==He.source||z(ke)!==z(He)))return!1;var hn=K(ke),Lt=K(He);if(hn!==Lt||(hn||Lt)&&oe(ke)!==oe(He)||Ct.strict&&xe&&xe(ke)!==xe(He))return!1;var Ke=ve(ke),$e=ve(He);if(Ke!==$e)return!1;if(Ke||$e){if(ke.length!==He.length)return!1;for(Nt=0;Nt<ke.length;Nt++)if(ke[Nt]!==He[Nt])return!1;return!0}var ze=Be(ke),gt=Be(He);if(ze!==gt)return!1;if(ze||gt){if(ke.length!==He.length)return!1;for(Nt=0;Nt<ke.length;Nt++)if(ke[Nt]!==He[Nt])return!1;return!0}var tn=B(ke),Un=B(He);if(tn!==Un)return!1;if(tn||Un)return re(ke)===re(He)&&"function"==typeof Uint8Array&&Ne(new Uint8Array(ke),new Uint8Array(He),Ct,Tt);var Qe=M(ke),Wn=M(He);if(Qe!==Wn)return!1;if(Qe||Wn)return L(ke)===L(He)&&"function"==typeof Uint8Array&&Ne(new Uint8Array(ke),new Uint8Array(He),Ct,Tt);if(typeof ke!=typeof He)return!1;var $n=A(ke),cr=A(He);if($n.length!==cr.length)return!1;for($n.sort(),cr.sort(),Nt=$n.length-1;Nt>=0;Nt--)if($n[Nt]!=cr[Nt])return!1;for(Nt=$n.length-1;Nt>=0;Nt--)if(!Ne(ke[ut=$n[Nt]],He[ut],Ct,Tt))return!1;var br=pe(ke),ur=pe(He);return br===ur&&("Set"===br||"Set"===ur?function Ce(ke,He,Ct,Tt){if(ee(ke)!==ee(He))return!1;for(var At,lt,Mt,Nt=$(ke),ut=$(He);(At=Nt.next())&&!At.done;)if(At.value&&"object"==typeof At.value)Mt||(Mt=new tt),ge(Mt,At.value);else if(!W(He,At.value)){if(Ct.strict||!ce(ke,He,At.value))return!1;Mt||(Mt=new tt),ge(Mt,At.value)}if(Mt){for(;(lt=ut.next())&&!lt.done;)if(lt.value&&"object"==typeof lt.value){if(!O(Mt,lt.value,Ct.strict,Tt))return!1}else if(!Ct.strict&&!W(ke,lt.value)&&!O(Mt,lt.value,Ct.strict,Tt))return!1;return 0===ee(Mt)}return!0}(ke,He,Ct,Tt):"Map"!==br||function Ye(ke,He,Ct,Tt){if(Se(ke)!==Se(He))return!1;for(var At,lt,Mt,Gt,On,Ln,Nt=$(ke),ut=$(He);(At=Nt.next())&&!At.done;)if(On=At.value[1],(Gt=At.value[0])&&"object"==typeof Gt)Mt||(Mt=new tt),ge(Mt,Gt);else if(typeof(Ln=Ae(He,Gt))>"u"&&!le(He,Gt)||!Ne(On,Ln,Ct,Tt)){if(Ct.strict||!be(ke,He,Gt,On,Ct,Tt))return!1;Mt||(Mt=new tt),ge(Mt,Gt)}if(Mt){for(;(lt=ut.next())&&!lt.done;)if(Ln=lt.value[1],(Gt=lt.value[0])&&"object"==typeof Gt){if(!ye(Mt,ke,Gt,Ln,Ct,Tt))return!1}else if(!(Ct.strict||ke.has(Gt)&&Ne(Ae(ke,Gt),Ln,Ct,Tt)||ye(Mt,ke,Gt,Ln,E({},Ct,{strict:!1}),Tt)))return!1;return 0===ee(Mt)}return!0}(ke,He,Ct,Tt))}(ke,He,Nt,Tt)}function Be(ke){return!(!ke||"object"!=typeof ke||"number"!=typeof ke.length||"function"!=typeof ke.copy||"function"!=typeof ke.slice||ke.length>0&&"number"!=typeof ke[0]||!(ke.constructor&&ke.constructor.isBuffer&&ke.constructor.isBuffer(ke)))}J.exports=function(He,Ct,Tt){return Ne(He,Ct,Tt,c())}},9263:(J,De,b)=>{"use strict";var E=b(9817);if(E)try{E([],"length")}catch{E=null}J.exports=E},9335:(J,De,b)=>{"use strict";b.d(De,{B:()=>re,F:()=>Ge,a:()=>Qe,b:()=>pl,c:()=>Ta,d:()=>Pl,e:()=>$,f:()=>M,g:()=>Bo,h:()=>nl,i:()=>dl,j:()=>A,k:()=>$n,l:()=>c,m:()=>I,n:()=>G,o:()=>Do,q:()=>oa,r:()=>ge,t:()=>ue,w:()=>Wn});var E=b(1890);class q{constructor(){this.m=new Map}reset(v){this.m=new Map(Object.entries(v))}get(v,D){const k=this.m.get(v);return void 0!==k?k:D}getBoolean(v,D=!1){const k=this.m.get(v);return void 0===k?D:"string"==typeof k?"true"===k:!!k}getNumber(v,D){const k=parseFloat(this.m.get(v));return isNaN(k)?void 0!==D?D:NaN:k}set(v,D){this.m.set(v,D)}}const $=new q,c=p=>{try{const v=p.sessionStorage.getItem(K);return null!==v?JSON.parse(v):{}}catch{return{}}},G=(p,v)=>{try{p.sessionStorage.setItem(K,JSON.stringify(v))}catch{return}},I=p=>{const v={};return p.location.search.slice(1).split("&").map(D=>D.split("=")).map(([D,k])=>{try{return[decodeURIComponent(D),decodeURIComponent(k)]}catch{return["",""]}}).filter(([D])=>U(D,B)).map(([D,k])=>[D.slice(B.length),k]).forEach(([D,k])=>{v[D]=k}),v},U=(p,v)=>p.substr(0,v.length)===v,B="ionic:",K="ionic-persist-config";var j=function(p){return p.OFF="OFF",p.ERROR="ERROR",p.WARN="WARN",p}(j||{});const M=(p,...v)=>{const D=$.get("logLevel",j.WARN);if([j.WARN].includes(D))return console.warn(`[Ionic Warning]: ${p}`,...v)},A=(p,...v)=>{const D=$.get("logLevel",j.ERROR);if([j.ERROR,j.WARN].includes(D))return console.error(`[Ionic Error]: ${p}`,...v)},ue=(p,...v)=>console.error(`<${p.tagName.toLowerCase()}> must be used inside ${v.join(" or ")}.`);var pe=Object.defineProperty,re={isBrowser:!0},xe=(p=>(p.Undefined="undefined",p.Null="null",p.String="string",p.Number="number",p.SpecialNumber="number",p.Boolean="boolean",p.BigInt="bigint",p))(xe||{}),Oe=(p=>(p.Array="array",p.Date="date",p.Map="map",p.Object="object",p.RegularExpression="regexp",p.Set="set",p.Channel="channel",p.Symbol="symbol",p))(Oe||{}),tt="type",le="value",Ae="serialized:",Se=p=>{if(p.__stencil__getHostRef)return p.__stencil__getHostRef()},ge=(p,v)=>{p.__stencil__getHostRef=()=>v,v.$lazyInstance$=p},W=(p,v)=>v in p,ee=(p,v)=>(0,console.error)(p,v),O=new Map,be=new Map,ce=[],C="s-id",ke="sty-id",Tt="slot-fb{display:contents}slot-fb[hidden]{display:none}",Nt="http://www.w3.org/1999/xlink",ut=typeof window<"u"?window:{},lt={$flags$:0,$resourcesUrl$:"",jmp:p=>p(),raf:p=>requestAnimationFrame(p),ael:(p,v,D,k)=>p.addEventListener(v,D,k),rel:(p,v,D,k)=>p.removeEventListener(v,D,k),ce:(p,v)=>new CustomEvent(p,v)},Gt=(()=>{var p;let v=!1;try{null==(p=ut.document)||p.addEventListener("e",null,Object.defineProperty({},"passive",{get(){v=!0}}))}catch{}return v})(),Ln=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),hn=!!Ln&&!!ut.document&&Object.getOwnPropertyDescriptor(ut.document.adoptedStyleSheets,"length").writable,Lt=!1,Ke=[],$e=[],ze=(p,v)=>D=>{p.push(D),Lt||(Lt=!0,v&&4&lt.$flags$?Un(tn):lt.raf(tn))},gt=p=>{for(let v=0;v<p.length;v++)try{p[v](performance.now())}catch(D){ee(D)}p.length=0},tn=()=>{gt(Ke),gt($e),(Lt=Ke.length>0)&&lt.raf(tn)},Un=p=>Promise.resolve(void 0).then(p),Qe=ze(Ke,!1),Wn=ze($e,!0),$n=p=>{const v=new URL(p,lt.$resourcesUrl$);return v.origin!==ut.location.origin?v.href:v.pathname},br=p=>"object"==(p=typeof p)||"function"===p;function ur(p){var v,D,k;return null!=(k=null==(D=null==(v=p.head)?void 0:v.querySelector('meta[name="csp-nonce"]'))?void 0:D.getAttribute("content"))?k:void 0}var Sr=class Rd{static fromLocalValue(v){const D=v[tt],k=le in v?v[le]:void 0;switch(D){case"string":case"boolean":return k;case"bigint":return BigInt(k);case"undefined":return;case"null":return null;case"number":return"NaN"===k?NaN:"-0"===k?-0:"Infinity"===k?1/0:"-Infinity"===k?-1/0:k;case"array":return k.map(Me=>Rd.fromLocalValue(Me));case"date":return new Date(k);case"map":const te=new Map;for(const[Me,Ve]of k){const _t="object"==typeof Me&&null!==Me?Rd.fromLocalValue(Me):Me,mt=Rd.fromLocalValue(Ve);te.set(_t,mt)}return te;case"object":const ne={};for(const[Me,Ve]of k)ne[Me]=Rd.fromLocalValue(Ve);return ne;case"regexp":const{pattern:We,flags:Ie}=k;return new RegExp(We,Ie);case"set":const Xe=new Set;for(const Me of k)Xe.add(Rd.fromLocalValue(Me));return Xe;case"symbol":return Symbol(k);default:throw new Error(`Unsupported type: ${D}`)}}static fromLocalValueArray(v){return v.map(D=>Rd.fromLocalValue(D))}static isLocalValueObject(v){if("object"!=typeof v||null===v||!v.hasOwnProperty(tt))return!1;const D=v[tt];return!!Object.values({...xe,...Oe}).includes(D)&&("null"===D||"undefined"===D||v.hasOwnProperty(le))}};((p,v)=>{for(var D in v)pe(p,D,{get:v[D],enumerable:!0})})({},{err:()=>rt,map:()=>Zt,ok:()=>Gi,unwrap:()=>Ee,unwrapErr:()=>Re});var Gi=p=>({isOk:!0,isErr:!1,value:p}),rt=p=>({isOk:!1,isErr:!0,value:p});function Zt(p,v){if(p.isOk){const D=v(p.value);return D instanceof Promise?D.then(k=>Gi(k)):Gi(D)}if(p.isErr)return rt(p.value);throw"should never get here"}var un,Ee=p=>{if(p.isOk)return p.value;throw p.value},Re=p=>{if(p.isErr)return p.value;throw p.value};function an(p){const D=this.attachShadow({mode:"open",delegatesFocus:!!(16&p.$flags$)});void 0===un&&(un=null),un&&(hn?D.adoptedStyleSheets.push(un):D.adoptedStyleSheets=[...D.adoptedStyleSheets,un])}var Oi=p=>{const v=hi(p,"childNodes");p.tagName&&p.tagName.includes("-")&&p["s-cr"]&&"SLOT-FB"!==p.tagName&&Kr(v,p.tagName).forEach(k=>{1===k.nodeType&&"SLOT-FB"===k.tagName&&(k.hidden=!!Ni(k,tr(k),!1).length)});let D=0;for(D=0;D<v.length;D++){const k=v[D];1===k.nodeType&&hi(k,"childNodes").length&&Oi(k)}},Ii=p=>{const v=[];for(let D=0;D<p.length;D++){const k=p[D]["s-nr"]||void 0;k&&k.isConnected&&v.push(k)}return v};function Kr(p,v,D){let ne,k=0,te=[];for(;k<p.length;k++){if(ne=p[k],ne["s-sr"]&&(!v||ne["s-hn"]===v)&&(void 0===D||tr(ne)===D)&&(te.push(ne),typeof D<"u"))return te;te=[...te,...Kr(ne.childNodes,v,D)]}return te}var Ni=(p,v,D=!0)=>{const k=[];(D&&p["s-sr"]||!p["s-sr"])&&k.push(p);let te=p;for(;te=te.nextSibling;)tr(te)===v&&(D||!te["s-sr"])&&k.push(te);return k},qn=(p,v)=>1===p.nodeType?null===p.getAttribute("slot")&&""===v||p.getAttribute("slot")===v:p["s-sn"]===v||""===v,Er=(p,v,D,k)=>{if(p["s-ol"]&&p["s-ol"].isConnected)return;const te=document.createTextNode("");if(te["s-nr"]=p,!v["s-cr"]||!v["s-cr"].parentNode)return;const ne=v["s-cr"].parentNode,We=hi(ne,D?"prepend":"appendChild");if(typeof k<"u"){te["s-oo"]=k;const Ie=hi(ne,"childNodes"),Xe=[te];Ie.forEach(Me=>{Me["s-nr"]&&Xe.push(Me)}),Xe.sort((Me,Ve)=>!Me["s-oo"]||Me["s-oo"]<(Ve["s-oo"]||0)?-1:!Ve["s-oo"]||Ve["s-oo"]<Me["s-oo"]?1:0),Xe.forEach(Me=>We.call(ne,Me))}else We.call(ne,te);p["s-ol"]=te,p["s-sh"]=v["s-hn"]},tr=p=>"string"==typeof p["s-sn"]?p["s-sn"]:1===p.nodeType&&p.getAttribute("slot")||void 0;function dn(p){if(p.assignedElements||p.assignedNodes||!p["s-sr"])return;const v=D=>function(k){const te=[],ne=this["s-sn"];k?.flatten&&console.error("\n          Flattening is not supported for Stencil non-shadow slots.\n          You can use `.childNodes` to nested slot fallback content.\n          If you have a particular use case, please open an issue on the Stencil repo.\n        ");const We=this["s-cr"].parentElement;return(We.__childNodes?We.childNodes:Ii(We.childNodes)).forEach(Xe=>{ne===tr(Xe)&&te.push(Xe)}),D?te.filter(Xe=>1===Xe.nodeType):te}.bind(p);p.assignedElements=v(!0),p.assignedNodes=v(!1)}function wo(p){p.dispatchEvent(new CustomEvent("slotchange",{bubbles:!1,cancelable:!1,composed:!1}))}function Ko(p,v){var D;if(!(v=v||(null==(D=p["s-ol"])?void 0:D.parentElement)))return{slotNode:null,slotName:""};const k=p["s-sn"]=tr(p)||"";return{slotNode:Kr(hi(v,"childNodes"),v.tagName,k)[0],slotName:k}}var jn=p=>{const v=p.cloneNode;p.cloneNode=function(D){const te=this.shadowRoot&&true,ne=v.call(this,!!te&&D);if(!te&&D){let Ie,Xe,We=0;const Me=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"],Ve=this.__childNodes||this.childNodes;for(;We<Ve.length;We++)Ie=Ve[We]["s-nr"],Xe=Me.every(_t=>!Ve[We][_t]),Ie&&(ne.__appendChild?ne.__appendChild(Ie.cloneNode(!0)):ne.appendChild(Ie.cloneNode(!0))),Xe&&ne.appendChild(Ve[We].cloneNode(!0))}return ne}},x=p=>{p.__appendChild=p.appendChild,p.appendChild=function(v){const{slotName:D,slotNode:k}=Ko(v,this);if(k){Er(v,k);const te=Ni(k,D),ne=te[te.length-1],We=hi(ne,"parentNode"),Ie=hi(We,"insertBefore")(v,ne.nextSibling);return wo(k),Oi(this),Ie}return this.__appendChild(v)}},Or=p=>{p.__removeChild=p.removeChild,p.removeChild=function(v){return v&&typeof v["s-sn"]<"u"&&Kr(this.__childNodes||this.childNodes,this.tagName,v["s-sn"])&&v.isConnected?(v.remove(),void Oi(this)):this.__removeChild(v)}},ri=p=>{p.__prepend=p.prepend,p.prepend=function(...v){v.forEach(D=>{"string"==typeof D&&(D=this.ownerDocument.createTextNode(D));const k=(D["s-sn"]=tr(D))||"",ne=Kr(hi(this,"childNodes"),this.tagName,k)[0];if(ne){Er(D,ne,!0);const Ie=Ni(ne,k)[0],Xe=hi(Ie,"parentNode"),Me=hi(Xe,"insertBefore")(D,hi(Ie,"nextSibling"));return wo(ne),Me}return 1===D.nodeType&&D.getAttribute("slot")&&(D.hidden=!0),p.__prepend(D)})}},Fs=p=>{p.__append=p.append,p.append=function(...v){v.forEach(D=>{"string"==typeof D&&(D=this.ownerDocument.createTextNode(D)),this.appendChild(D)})}},po=p=>{const v=p.insertAdjacentHTML;p.insertAdjacentHTML=function(D,k){if("afterbegin"!==D&&"beforeend"!==D)return v.call(this,D,k);const te=this.ownerDocument.createElement("_");let ne;if(te.innerHTML=k,"afterbegin"===D)for(;ne=te.firstChild;)this.prepend(ne);else if("beforeend"===D)for(;ne=te.firstChild;)this.append(ne)}},Le=p=>{p.insertAdjacentText=function(v,D){this.insertAdjacentHTML(v,D)}},xi=p=>{p.__insertBefore||(p.__insertBefore=p.insertBefore,p.insertBefore=function(D,k){const{slotName:te,slotNode:ne}=Ko(D,this),We=this.__childNodes?this.childNodes:Ii(this.childNodes);if(ne){let Xe=!1;if(We.forEach(Me=>{if(Me!==k&&null!==k);else{if(Xe=!0,null===k||te!==k["s-sn"])return void this.appendChild(D);if(te===k["s-sn"]){Er(D,ne);const Ve=hi(k,"parentNode");hi(Ve,"insertBefore")(D,k),wo(ne)}}}),Xe)return D}const Ie=k?.__parentNode;return Ie&&!this.isSameNode(Ie)?this.appendChild(D):this.__insertBefore(D,k)})},Tr=p=>{const v=p.insertAdjacentElement;p.insertAdjacentElement=function(D,k){return"afterbegin"!==D&&"beforeend"!==D?v.call(this,D,k):"afterbegin"===D?(this.prepend(k),k):("beforeend"===D&&this.append(k),k)}},dr=p=>{Qt("textContent",p),Object.defineProperty(p,"textContent",{get:function(){let v="";return(this.__childNodes?this.childNodes:Ii(this.childNodes)).forEach(k=>v+=k.textContent||""),v},set:function(v){(this.__childNodes?this.childNodes:Ii(this.childNodes)).forEach(k=>{k["s-ol"]&&k["s-ol"].remove(),k.remove()}),this.insertAdjacentHTML("beforeend",v)}})},Eo=p=>{class v extends Array{item(k){return this[k]}}Qt("children",p),Object.defineProperty(p,"children",{get(){return this.childNodes.filter(D=>1===D.nodeType)}}),Object.defineProperty(p,"childElementCount",{get(){return this.children.length}}),Qt("firstChild",p),Object.defineProperty(p,"firstChild",{get(){return this.childNodes[0]}}),Qt("lastChild",p),Object.defineProperty(p,"lastChild",{get(){return this.childNodes[this.childNodes.length-1]}}),Qt("childNodes",p),Object.defineProperty(p,"childNodes",{get(){const D=new v;return D.push(...Ii(this.__childNodes)),D}})},is=p=>{!p||void 0!==p.__nextSibling||!globalThis.Node||(xn(p),Xr(p),os(p),p.nodeType===Node.ELEMENT_NODE&&(Ui(p),ji(p)))},xn=p=>{!p||p.__nextSibling||(Qt("nextSibling",p),Object.defineProperty(p,"nextSibling",{get:function(){var v;const D=null==(v=this["s-ol"])?void 0:v.parentNode.childNodes,k=D?.indexOf(this);return D&&k>-1?D[k+1]:this.__nextSibling}}))},Ui=p=>{!p||p.__nextElementSibling||(Qt("nextElementSibling",p),Object.defineProperty(p,"nextElementSibling",{get:function(){var v;const D=null==(v=this["s-ol"])?void 0:v.parentNode.children,k=D?.indexOf(this);return D&&k>-1?D[k+1]:this.__nextElementSibling}}))},Xr=p=>{!p||p.__previousSibling||(Qt("previousSibling",p),Object.defineProperty(p,"previousSibling",{get:function(){var v;const D=null==(v=this["s-ol"])?void 0:v.parentNode.childNodes,k=D?.indexOf(this);return D&&k>-1?D[k-1]:this.__previousSibling}}))},ji=p=>{!p||p.__previousElementSibling||(Qt("previousElementSibling",p),Object.defineProperty(p,"previousElementSibling",{get:function(){var v;const D=null==(v=this["s-ol"])?void 0:v.parentNode.children,k=D?.indexOf(this);return D&&k>-1?D[k-1]:this.__previousElementSibling}}))},os=p=>{!p||p.__parentNode||(Qt("parentNode",p),Object.defineProperty(p,"parentNode",{get:function(){var v;return(null==(v=this["s-ol"])?void 0:v.parentNode)||this.__parentNode},set:function(v){this.__parentNode=v}}))},el=["children","nextElementSibling","previousElementSibling"],Tn=["childNodes","firstChild","lastChild","nextSibling","previousSibling","textContent","parentNode"];function Qt(p,v){if(!globalThis.Node||!globalThis.Element)return;let D;el.includes(p)?D=Object.getOwnPropertyDescriptor(Element.prototype,p):Tn.includes(p)&&(D=Object.getOwnPropertyDescriptor(Node.prototype,p)),D||(D=Object.getOwnPropertyDescriptor(v,p)),D&&Object.defineProperty(v,"__"+p,D)}function hi(p,v){if("__"+v in p){const D=p["__"+v];return"function"!=typeof D?D:D.bind(p)}return"function"!=typeof p[v]?p[v]:p[v].bind(p)}var Sn=new WeakMap,ii=(p,v,D)=>{let k=be.get(p);Ln&&D?(k=k||new CSSStyleSheet,"string"==typeof k?k=v:k.replaceSync(v)):k=v,be.set(p,k)},Ur=(p,v,D)=>{var k;const te=zi(v,D),ne=be.get(te);if(!ut.document)return te;if(p=11===p.nodeType?p:ut.document,ne)if("string"==typeof ne){let Ie,We=Sn.get(p=p.head||p);if(We||Sn.set(p,We=new Set),!We.has(te)){if(p.host&&(Ie=p.querySelector(`[${ke}="${te}"]`)))Ie.innerHTML=ne;else{Ie=ut.document.createElement("style"),Ie.innerHTML=ne;const Xe=null!=(k=lt.$nonce$)?k:ur(ut.document);if(null!=Xe&&Ie.setAttribute("nonce",Xe),!(1&v.$flags$))if("HEAD"===p.nodeName){const Me=p.querySelectorAll("link[rel=preconnect]"),Ve=Me.length>0?Me[Me.length-1].nextSibling:p.querySelector("style");p.insertBefore(Ie,Ve?.parentNode===p?Ve:null)}else if("host"in p)if(Ln){const Me=new CSSStyleSheet;Me.replaceSync(ne),hn?p.adoptedStyleSheets.unshift(Me):p.adoptedStyleSheets=[Me,...p.adoptedStyleSheets]}else{const Me=p.querySelector("style");Me?Me.innerHTML=ne+Me.innerHTML:p.prepend(Ie)}else p.append(Ie);1&v.$flags$&&p.insertBefore(Ie,null)}4&v.$flags$&&(Ie.innerHTML+=Tt),We&&We.add(te)}}else p.adoptedStyleSheets.includes(ne)||(hn?p.adoptedStyleSheets.push(ne):p.adoptedStyleSheets=[...p.adoptedStyleSheets,ne]);return te},zi=(p,v)=>"sc-"+(v&&32&p.$flags$?p.$tagName$+"-"+v:p.$tagName$),tl=p=>p.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),nl=(p,v,...D)=>{let k=null,te=null,ne=null,We=!1,Ie=!1;const Xe=[],Me=_t=>{for(let mt=0;mt<_t.length;mt++)k=_t[mt],Array.isArray(k)?Me(k):null!=k&&"boolean"!=typeof k&&((We="function"!=typeof p&&!br(k))&&(k=String(k)),We&&Ie?Xe[Xe.length-1].$text$+=k:Xe.push(We?rl(null,k):k),Ie=We)};if(Me(D),v){v.key&&(te=v.key),v.name&&(ne=v.name);{const _t=v.className||v.class;_t&&(v.class="object"!=typeof _t?_t:Object.keys(_t).filter(mt=>_t[mt]).join(" "))}}if("function"==typeof p)return p(null===v?{}:v,Xe,Dr);const Ve=rl(p,null);return Ve.$attrs$=v,Xe.length>0&&(Ve.$children$=Xe),Ve.$key$=te,Ve.$name$=ne,Ve},rl=(p,v)=>({$flags$:0,$tag$:p,$text$:v,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Pl={},Dr={forEach:(p,v)=>p.map(Kt).forEach(v),map:(p,v)=>p.map(Kt).map(v).map(Kc)},Kt=p=>({vattrs:p.$attrs$,vchildren:p.$children$,vkey:p.$key$,vname:p.$name$,vtag:p.$tag$,vtext:p.$text$}),Kc=p=>{if("function"==typeof p.vtag){const D={...p.vattrs};return p.vkey&&(D.key=p.vkey),p.vname&&(D.name=p.vname),nl(p.vtag,D,...p.vchildren||[])}const v=rl(p.vtag,p.vtext);return v.$attrs$=p.vattrs,v.$children$=p.vchildren,v.$key$=p.vkey,v.$name$=p.vname,v},ia=(p,v,D,k,te,ne,We,Ie=[])=>{let Xe,Me,Ve,_t;const mt=te["s-sc"];if(1===ne.nodeType){if(Xe=ne.getAttribute("c-id"),Xe&&(Me=Xe.split("."),Me[0]===We||"0"===Me[0])){Ve=dc({$flags$:0,$hostId$:Me[0],$nodeId$:Me[1],$depth$:Me[2],$index$:Me[3],$tag$:ne.tagName.toLowerCase(),$elm$:ne,$attrs$:{class:ne.className||""}}),v.push(Ve),ne.removeAttribute("c-id"),p.$children$||(p.$children$=[]),mt&&Me[0]===We&&(ne["s-si"]=mt,Ve.$attrs$.class+=" "+mt);const bt=Ve.$elm$.getAttribute("s-sn");"string"==typeof bt&&("slot-fb"===Ve.$tag$&&(et(bt,Me[2],Ve,ne,p,v,D,k,Ie),mt&&ne.classList.add(mt)),Ve.$elm$["s-sn"]=bt,Ve.$elm$.removeAttribute("s-sn")),void 0!==Ve.$index$&&(p.$children$[Ve.$index$]=Ve),p=Ve,k&&"0"===Ve.$depth$&&(k[Ve.$index$]=Ve.$elm$)}if(ne.shadowRoot)for(_t=ne.shadowRoot.childNodes.length-1;_t>=0;_t--)ia(p,v,D,k,te,ne.shadowRoot.childNodes[_t],We,Ie);const Ft=ne.__childNodes||ne.childNodes;for(_t=Ft.length-1;_t>=0;_t--)ia(p,v,D,k,te,Ft[_t],We,Ie)}else if(8===ne.nodeType)Me=ne.nodeValue.split("."),(Me[1]===We||"0"===Me[1])&&(Xe=Me[0],Ve=dc({$hostId$:Me[1],$nodeId$:Me[2],$depth$:Me[3],$index$:Me[4]||"0",$elm$:ne,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null}),"t"===Xe?(Ve.$elm$=jr(ne,3),Ve.$elm$&&3===Ve.$elm$.nodeType&&(Ve.$text$=Ve.$elm$.textContent,v.push(Ve),ne.remove(),We===Ve.$hostId$&&(p.$children$||(p.$children$=[]),p.$children$[Ve.$index$]=Ve),k&&"0"===Ve.$depth$&&(k[Ve.$index$]=Ve.$elm$))):"c"===Xe?(Ve.$elm$=jr(ne,8),Ve.$elm$&&8===Ve.$elm$.nodeType&&(v.push(Ve),ne.remove())):Ve.$hostId$===We&&("s"===Xe?et(ne["s-sn"]=Me[5]||"",Me[2],Ve,ne,p,v,D,k,Ie):"r"===Xe&&(k?ne.remove():(te["s-cr"]=ne,ne["s-cn"]=!0))));else if(p&&"style"===p.$tag$){const Ft=rl(null,ne.textContent);Ft.$elm$=ne,Ft.$index$="0",p.$children$=[Ft]}else 3===ne.nodeType&&!ne.wholeText.trim()&&!ne["s-nr"]&&ne.remove();return p},Ol=(p,v)=>{if(1===p.nodeType){const D=p[C]||p.getAttribute(C);D&&v.set(D,p);let k=0;if(p.shadowRoot)for(;k<p.shadowRoot.childNodes.length;k++)Ol(p.shadowRoot.childNodes[k],v);const te=p.__childNodes||p.childNodes;for(k=0;k<te.length;k++)Ol(te[k],v)}else if(8===p.nodeType){const D=p.nodeValue.split(".");"o"===D[0]&&(v.set(D[1]+"."+D[2],p),p.nodeValue="",p["s-en"]=D[3])}},dc=p=>({$flags$:0,$hostId$:null,$nodeId$:null,$depth$:null,$index$:"0",$elm$:null,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null,...p});function et(p,v,D,k,te,ne,We,Ie,Xe){k["s-sr"]=!0,D.$name$=p||null,D.$tag$="slot";const Me=te?.$elm$?te.$elm$["s-id"]||te.$elm$.getAttribute("s-id"):"";if(Ie&&ut.document){const Ve=D.$elm$=ut.document.createElement(D.$tag$);D.$name$&&D.$elm$.setAttribute("name",p),te.$elm$.shadowRoot&&Me&&Me!==D.$hostId$?hi(te.$elm$,"insertBefore")(Ve,hi(te.$elm$,"children")[0]):hi(hi(k,"parentNode"),"insertBefore")(Ve,k),il(Xe,v,p,k,D.$hostId$),k.remove(),"0"===D.$depth$&&(Ie[D.$index$]=D.$elm$)}else{const Ve=D.$elm$,_t=Me&&Me!==D.$hostId$&&te.$elm$.shadowRoot;il(Xe,v,p,k,_t?Me:D.$hostId$),dn(k),_t&&te.$elm$.insertBefore(Ve,te.$elm$.children[0])}ne.push(D),We.push(D),te.$children$||(te.$children$=[]),te.$children$[D.$index$]=D}var il=(p,v,D,k,te)=>{var ne,We;let Ie=k.nextSibling;if(p[v]=p[v]||[],Ie&&(null==(ne=Ie.nodeValue)||!ne.startsWith("s.")))do{Ie&&((Ie.getAttribute&&Ie.getAttribute("slot")||Ie["s-sn"])===D||""===D&&!Ie["s-sn"]&&(!Ie.getAttribute||!Ie.getAttribute("slot"))&&(8===Ie.nodeType||3===Ie.nodeType))&&(Ie["s-sn"]=D,p[v].push({slot:k,node:Ie,hostId:te})),Ie=Ie?.nextSibling}while(Ie&&(null==(We=Ie.nodeValue)||!We.startsWith("s.")))},jr=(p,v)=>{let D=p;do{D=D.nextSibling}while(D&&(D.nodeType!==v||!D.nodeValue));return D},ss=p=>{const v=(p=>p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(p);return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${v}))(${v}\\b)`,"g")};ss("::slotted"),ss(":host"),ss(":host-context");var oa=p=>ce.push(p),Do=p=>{var v;return null==(v=Se(p))?void 0:v.$modeName$},mo=(p,v,D)=>{if("string"==typeof p&&p.startsWith(Ae))return function nn(p){return"string"==typeof p&&p.startsWith(Ae)?Sr.fromLocalValue(JSON.parse(atob(p.slice(11)))):p}(p);if("string"==typeof p&&(16&v||8&v)&&(p.startsWith("{")&&p.endsWith("}")||p.startsWith("[")&&p.endsWith("]")))try{return JSON.parse(p)}catch{}return null==p||br(p)?p:4&v?"false"!==p&&(""===p||!!p):2&v?"string"==typeof p?parseFloat(p):"number"==typeof p?p:NaN:1&v?String(p):p},Bo=p=>{var v;return null==(v=Se(p))?void 0:v.$hostElement$},Ta=(p,v,D)=>{const k=Bo(p);return{emit:te=>at(k,v,{bubbles:!!(4&D),composed:!!(2&D),cancelable:!!(1&D),detail:te})}},at=(p,v,D)=>{const k=lt.ce(v,D);return p.dispatchEvent(k),k},sa=(p,v,D,k,te,ne,We)=>{if(D===k)return;let Ie=W(p,v),Xe=v.toLowerCase();if("class"===v){const Me=p.classList,Ve=aa(D);let _t=aa(k);if((p["s-si"]||p["s-sc"])&&We){const mt=p["s-sc"]||p["s-si"];_t.push(mt),Ve.forEach(Ft=>{Ft.startsWith(mt)&&_t.push(Ft)}),_t=[...new Set(_t)].filter(Ft=>Ft),Me.add(..._t)}else Me.remove(...Ve.filter(mt=>mt&&!_t.includes(mt))),Me.add(..._t.filter(mt=>mt&&!Ve.includes(mt)))}else if("style"===v){for(const Me in D)(!k||null==k[Me])&&(Me.includes("-")?p.style.removeProperty(Me):p.style[Me]="");for(const Me in k)(!D||k[Me]!==D[Me])&&(Me.includes("-")?p.style.setProperty(Me,k[Me]):p.style[Me]=k[Me])}else if("key"!==v)if("ref"===v)k&&k(p);else if(Ie||"o"!==v[0]||"n"!==v[1]){const Me=br(k);if((Ie||Me&&null!==k)&&!te)try{if(p.tagName.includes("-"))p[v]!==k&&(p[v]=k);else{const _t=k??"";"list"===v?Ie=!1:(null==D||p[v]!=_t)&&("function"==typeof p.__lookupSetter__(v)?p[v]=_t:p.setAttribute(v,_t))}}catch{}let Ve=!1;Xe!==(Xe=Xe.replace(/^xlink\:?/,""))&&(v=Xe,Ve=!0),null==k||!1===k?(!1!==k||""===p.getAttribute(v))&&(Ve?p.removeAttributeNS(Nt,v):p.removeAttribute(v)):(!Ie||4&ne||te)&&!Me&&1===p.nodeType&&(k=!0===k?"":k,Ve?p.setAttributeNS(Nt,v,k):p.setAttribute(v,k))}else if(v="-"===v[2]?v.slice(3):W(ut,Xe)?Xe.slice(2):Xe[2]+v.slice(3),D||k){const Me=v.endsWith(to);v=v.replace(Go,""),D&&lt.rel(p,v,D,Me),k&&lt.ael(p,v,k,Me)}},_o=/\s/,aa=p=>("object"==typeof p&&p&&"baseVal"in p&&(p=p.baseVal),p&&"string"==typeof p?p.split(_o):[]),to="Capture",Go=new RegExp(to+"$"),Io=(p,v,D,k)=>{const te=11===v.$elm$.nodeType&&v.$elm$.host?v.$elm$.host:v.$elm$,ne=p&&p.$attrs$||{},We=v.$attrs$||{};for(const Ie of Ps(Object.keys(ne)))Ie in We||sa(te,Ie,ne[Ie],void 0,D,v.$flags$,k);for(const Ie of Ps(Object.keys(We)))sa(te,Ie,ne[Ie],We[Ie],D,v.$flags$,k)};function Ps(p){return p.includes("ref")?[...p.filter(v=>"ref"!==v),"ref"]:p}var Ki,ol,Uo,sl=!1,Os=!1,la=!1,Xi=!1,Ls=(p,v,D)=>{var k;const te=v.$children$[D];let We,Ie,Xe,ne=0;if(sl||(la=!0,"slot"===te.$tag$&&(te.$flags$|=te.$children$?2:1)),null!==te.$text$)We=te.$elm$=ut.document.createTextNode(te.$text$);else if(1&te.$flags$)We=te.$elm$=ut.document.createTextNode(""),Io(null,te,Xi);else{if(Xi||(Xi="svg"===te.$tag$),!ut.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(We=te.$elm$=ut.document.createElementNS(Xi?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!sl&&2&te.$flags$?"slot-fb":te.$tag$),Xi&&"foreignObject"===te.$tag$&&(Xi=!1),Io(null,te,Xi),(p=>null!=p&&void 0!==p)(Ki)&&We["s-si"]!==Ki&&We.classList.add(We["s-si"]=Ki),te.$children$)for(ne=0;ne<te.$children$.length;++ne)Ie=Ls(p,te,ne),Ie&&We.appendChild(Ie);"svg"===te.$tag$?Xi=!1:"foreignObject"===We.tagName&&(Xi=!0)}return We["s-hn"]=Uo,3&te.$flags$&&(We["s-sr"]=!0,We["s-cr"]=ol,We["s-sn"]=te.$name$||"",We["s-rf"]=null==(k=te.$attrs$)?void 0:k.ref,dn(We),Xe=p&&p.$children$&&p.$children$[D],Xe&&Xe.$tag$===te.$tag$&&p.$elm$&&as(p.$elm$),ls(ol,We,v.$elm$,p?.$elm$)),We},as=p=>{lt.$flags$|=1;const v=p.closest(Uo.toLowerCase());if(null!=v){const D=Array.from(v.__childNodes||v.childNodes).find(te=>te["s-cr"]),k=Array.from(p.__childNodes||p.childNodes);for(const te of D?k.reverse():k)null!=te["s-sh"]&&(Qi(v,te,D??null),te["s-sh"]=void 0,la=!0)}lt.$flags$&=-2},ca=(p,v)=>{lt.$flags$|=1;const D=Array.from(p.__childNodes||p.childNodes);if(p["s-sr"]){let k=p;for(;k=k.nextSibling;)k&&k["s-sn"]===p["s-sn"]&&k["s-sh"]===Uo&&D.push(k)}for(let k=D.length-1;k>=0;k--){const te=D[k];te["s-hn"]!==Uo&&te["s-ol"]&&(Qi(xo(te).parentNode,te,xo(te)),te["s-ol"].remove(),te["s-ol"]=void 0,te["s-sh"]=void 0,la=!0),v&&ca(te,v)}lt.$flags$&=-2},$s=(p,v,D,k,te,ne)=>{let Ie,We=p["s-cr"]&&p["s-cr"].parentNode||p;for(We.shadowRoot&&We.tagName===Uo&&(We=We.shadowRoot);te<=ne;++te)k[te]&&(Ie=Ls(null,D,te),Ie&&(k[te].$elm$=Ie,Qi(We,Ie,xo(v))))},ua=(p,v,D)=>{for(let k=v;k<=D;++k){const te=p[k];if(te){const ne=te.$elm$;Ll(te),ne&&(Os=!0,ne["s-ol"]?ne["s-ol"].remove():ca(ne,!0),ne.remove())}}},no=(p,v,D=!1)=>p.$tag$===v.$tag$&&("slot"===p.$tag$?p.$name$===v.$name$:D?(D&&!p.$key$&&v.$key$&&(p.$key$=v.$key$),!0):p.$key$===v.$key$),xo=p=>p&&p["s-ol"]||p,sn=(p,v,D=!1)=>{const k=v.$elm$=p.$elm$,te=p.$children$,ne=v.$children$,We=v.$tag$,Ie=v.$text$;let Xe;null===Ie?(Xi="svg"===We||"foreignObject"!==We&&Xi,"slot"===We&&!sl&&p.$name$!==v.$name$&&(v.$elm$["s-sn"]=v.$name$||"",as(v.$elm$.parentElement)),Io(p,v,Xi,D),null!==te&&null!==ne?((p,v,D,k,te=!1)=>{let Cn,Mr,ne=0,We=0,Ie=0,Xe=0,Me=v.length-1,Ve=v[0],_t=v[Me],mt=k.length-1,Ft=k[0],bt=k[mt];for(;ne<=Me&&We<=mt;)if(null==Ve)Ve=v[++ne];else if(null==_t)_t=v[--Me];else if(null==Ft)Ft=k[++We];else if(null==bt)bt=k[--mt];else if(no(Ve,Ft,te))sn(Ve,Ft,te),Ve=v[++ne],Ft=k[++We];else if(no(_t,bt,te))sn(_t,bt,te),_t=v[--Me],bt=k[--mt];else if(no(Ve,bt,te))("slot"===Ve.$tag$||"slot"===bt.$tag$)&&ca(Ve.$elm$.parentNode,!1),sn(Ve,bt,te),Qi(p,Ve.$elm$,_t.$elm$.nextSibling),Ve=v[++ne],bt=k[--mt];else if(no(_t,Ft,te))("slot"===Ve.$tag$||"slot"===bt.$tag$)&&ca(_t.$elm$.parentNode,!1),sn(_t,Ft,te),Qi(p,_t.$elm$,Ve.$elm$),_t=v[--Me],Ft=k[++We];else{for(Ie=-1,Xe=ne;Xe<=Me;++Xe)if(v[Xe]&&null!==v[Xe].$key$&&v[Xe].$key$===Ft.$key$){Ie=Xe;break}Ie>=0?(Mr=v[Ie],Mr.$tag$!==Ft.$tag$?Cn=Ls(v&&v[We],D,Ie):(sn(Mr,Ft,te),v[Ie]=void 0,Cn=Mr.$elm$),Ft=k[++We]):(Cn=Ls(v&&v[We],D,We),Ft=k[++We]),Cn&&Qi(xo(Ve.$elm$).parentNode,Cn,xo(Ve.$elm$))}ne>Me?$s(p,null==k[mt+1]?null:k[mt+1].$elm$,D,k,We,mt):We>mt&&ua(v,ne,Me)})(k,te,v,ne,D):null!==ne?(null!==p.$text$&&(k.textContent=""),$s(k,null,v,ne,0,ne.length-1)):D||null===te?D&&null!==te&&null===ne&&(v.$children$=te):ua(te,0,te.length-1),Xi&&"svg"===We&&(Xi=!1)):(Xe=k["s-cr"])?Xe.parentNode.textContent=Ie:p.$text$!==Ie&&(k.data=Ie)},vn=[],al=p=>{let v,D,k;const te=p.__childNodes||p.childNodes;for(const ne of te){if(ne["s-sr"]&&(v=ne["s-cr"])&&v.parentNode){D=v.parentNode.__childNodes||v.parentNode.childNodes;const We=ne["s-sn"];for(k=D.length-1;k>=0;k--)if(v=D[k],!(v["s-cn"]||v["s-nr"]||v["s-hn"]===ne["s-hn"]||v["s-sh"]&&v["s-sh"]===ne["s-hn"]))if(qn(v,We)){let Ie=vn.find(Xe=>Xe.$nodeToRelocate$===v);Os=!0,v["s-sn"]=v["s-sn"]||We,Ie?(Ie.$nodeToRelocate$["s-sh"]=ne["s-hn"],Ie.$slotRefNode$=ne):(v["s-sh"]=ne["s-hn"],vn.push({$slotRefNode$:ne,$nodeToRelocate$:v})),v["s-sr"]&&vn.map(Xe=>{qn(Xe.$nodeToRelocate$,v["s-sn"])&&(Ie=vn.find(Me=>Me.$nodeToRelocate$===v),Ie&&!Xe.$slotRefNode$&&(Xe.$slotRefNode$=Ie.$slotRefNode$))})}else vn.some(Ie=>Ie.$nodeToRelocate$===v)||vn.push({$nodeToRelocate$:v})}1===ne.nodeType&&al(ne)}},Ll=p=>{p.$attrs$&&p.$attrs$.ref&&p.$attrs$.ref(null),p.$children$&&p.$children$.map(Ll)},Qi=(p,v,D)=>{if("string"==typeof v["s-sn"]&&v["s-sr"]&&v["s-cr"])ls(v["s-cr"],v,p,v.parentElement);else if("string"==typeof v["s-sn"]){11!==p.getRootNode().nodeType&&os(v),p.insertBefore(v,D);const{slotNode:k}=Ko(v);return k&&wo(k),v}return p.__insertBefore?p.__insertBefore(v,D):p?.insertBefore(v,D)};function ls(p,v,D,k){var te,ne;let We;if(p&&"string"==typeof v["s-sn"]&&v["s-sr"]&&p.parentNode&&p.parentNode["s-sc"]&&(We=v["s-si"]||p.parentNode["s-sc"])){const Ie=v["s-sn"],Xe=v["s-hn"];if(null==(te=D.classList)||te.add(We+"-s"),k&&null!=(ne=k.classList)&&ne.contains(We+"-s")){let Me=(k.__childNodes||k.childNodes)[0],Ve=!1;for(;Me;){if(Me["s-sn"]!==Ie&&Me["s-hn"]===Xe&&Me["s-sr"]){Ve=!0;break}Me=Me.nextSibling}Ve||k.classList.remove(We+"-s")}}}var ll=(p,v)=>{if(v&&!p.$onRenderResolve$&&v["s-p"]){const D=v["s-p"].push(new Promise(k=>p.$onRenderResolve$=()=>{v["s-p"].splice(D-1,1),k()}))}},Ma=(p,v)=>{if(p.$flags$|=16,4&p.$flags$)return void(p.$flags$|=512);ll(p,p.$ancestorComponent$);const D=()=>fc(p,v);if(!v)return Wn(D);queueMicrotask(()=>{D()})},fc=(p,v)=>{const D=p.$hostElement$,te=p.$lazyInstance$;if(!te)throw new Error(`Can't render component <${D.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let ne;return v?(p.$flags$|=256,p.$queuedListeners$&&(p.$queuedListeners$.map(([We,Ie])=>Cr(te,We,Ie,D)),p.$queuedListeners$=void 0),ne=Cr(te,"componentWillLoad",void 0,D)):ne=Cr(te,"componentWillUpdate",void 0,D),ne=$l(ne,()=>Cr(te,"componentWillRender",void 0,D)),$l(ne,()=>Aa(p,te,v))},$l=(p,v)=>cl(p)?p.then(v).catch(D=>{console.error(D),v()}):v(),cl=p=>p instanceof Promise||p&&p.then&&"function"==typeof p.then,Aa=function(){var p=(0,E.A)(function*(v,D,k){var te;const ne=v.$hostElement$,Ie=ne["s-rc"];k&&(p=>{const v=p.$cmpMeta$,D=p.$hostElement$,k=v.$flags$,ne=Ur(D.shadowRoot?D.shadowRoot:D.getRootNode(),v,p.$modeName$);10&k&&(D["s-sc"]=ne,D.classList.add(ne+"-h"))})(v);go(v,D,ne,k),Ie&&(Ie.map(Me=>Me()),ne["s-rc"]=void 0);{const Me=null!=(te=ne["s-p"])?te:[],Ve=()=>ul(v);0===Me.length?Ve():(Promise.all(Me).then(Ve),v.$flags$|=4,Me.length=0)}});return function(D,k,te){return p.apply(this,arguments)}}(),go=(p,v,D,k)=>{try{v=v.render&&v.render(),p.$flags$&=-17,p.$flags$|=2,((p,v,D=!1)=>{var k,te,ne,We,Ie;const Xe=p.$hostElement$,Me=p.$cmpMeta$,Ve=p.$vnode$||rl(null,null),mt=(p=>p&&p.$tag$===Pl)(v)?v:nl(null,null,v);if(Uo=Xe.tagName,Me.$attrsToReflect$&&(mt.$attrs$=mt.$attrs$||{},Me.$attrsToReflect$.map(([Ft,bt])=>mt.$attrs$[bt]=Xe[Ft])),D&&mt.$attrs$)for(const Ft of Object.keys(mt.$attrs$))Xe.hasAttribute(Ft)&&!["key","ref","style","class"].includes(Ft)&&(mt.$attrs$[Ft]=Xe[Ft]);if(mt.$tag$=null,mt.$flags$|=4,p.$vnode$=mt,mt.$elm$=Ve.$elm$=Xe.shadowRoot||Xe,Ki=Xe["s-sc"],sl=!(!(1&Me.$flags$)||128&Me.$flags$),ol=Xe["s-cr"],Os=!1,sn(Ve,mt,D),lt.$flags$|=1,la){al(mt.$elm$);for(const Ft of vn){const bt=Ft.$nodeToRelocate$;if(!bt["s-ol"]&&ut.document){const Cn=ut.document.createTextNode("");Cn["s-nr"]=bt,Qi(bt.parentNode,bt["s-ol"]=Cn,bt)}}for(const Ft of vn){const bt=Ft.$nodeToRelocate$,Cn=Ft.$slotRefNode$;if(Cn){const Mr=Cn.parentNode;let nr=Cn.nextSibling;if(nr&&1===nr.nodeType){let mr=null==(k=bt["s-ol"])?void 0:k.previousSibling;for(;mr;){let Ht=null!=(te=mr["s-nr"])?te:null;if(Ht&&Ht["s-sn"]===bt["s-sn"]&&Mr===(Ht.__parentNode||Ht.parentNode)){for(Ht=Ht.nextSibling;Ht===bt||Ht?.["s-sr"];)Ht=Ht?.nextSibling;if(!Ht||!Ht["s-nr"]){nr=Ht;break}}mr=mr.previousSibling}}(!nr&&Mr!==(bt.__parentNode||bt.parentNode)||(bt.__nextSibling||bt.nextSibling)!==nr)&&bt!==nr&&(Qi(Mr,bt,nr),1===bt.nodeType&&"SLOT-FB"!==bt.tagName&&(bt.hidden=null!=(ne=bt["s-ih"])&&ne)),bt&&"function"==typeof Cn["s-rf"]&&Cn["s-rf"](Cn)}else 1===bt.nodeType&&(D&&(bt["s-ih"]=null!=(We=bt.hidden)&&We),bt.hidden=!0)}}if(Os&&Oi(mt.$elm$),lt.$flags$&=-2,vn.length=0,2&Me.$flags$){const Ft=mt.$elm$.__childNodes||mt.$elm$.childNodes;for(const bt of Ft)bt["s-hn"]!==Uo&&!bt["s-sh"]&&(D&&null==bt["s-ih"]&&(bt["s-ih"]=null!=(Ie=bt.hidden)&&Ie),bt.hidden=!0)}ol=void 0})(p,v,k)}catch(te){ee(te,p.$hostElement$)}return null},ul=p=>{const D=p.$hostElement$,te=p.$lazyInstance$,ne=p.$ancestorComponent$;Cr(te,"componentDidRender",void 0,D),64&p.$flags$?Cr(te,"componentDidUpdate",void 0,D):(p.$flags$|=64,ka(D),Cr(te,"componentDidLoad",void 0,D),p.$onReadyResolve$(D),ne||bi()),p.$onInstanceResolve$(D),p.$onRenderResolve$&&(p.$onRenderResolve$(),p.$onRenderResolve$=void 0),512&p.$flags$&&Un(()=>Ma(p,!1)),p.$flags$&=-517},dl=p=>{var v;{const D=Se(p),k=null==(v=D?.$hostElement$)?void 0:v.isConnected;return k&&2==(18&D.$flags$)&&Ma(D,!1),k}},bi=p=>{var v;Un(()=>at(ut,"appload",{detail:{namespace:"ionic"}})),null!=(v=lt.$orgLocNodes$)&&v.size&&lt.$orgLocNodes$.clear()},Cr=(p,v,D,k)=>{if(p&&p[v])try{return p[v](D)}catch(te){ee(te,k)}},ka=p=>p.classList.add("hydrated"),To=(p,v,D,k)=>{const te=Se(p);if(!te)return;if(!te)throw new Error(`Couldn't find host element for "${k.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).`);const ne=te.$hostElement$,We=te.$instanceValues$.get(v),Ie=te.$flags$,Xe=te.$lazyInstance$;D=mo(D,k.$members$[v][0]);const Me=Number.isNaN(We)&&Number.isNaN(D);if((!(8&Ie)||void 0===We)&&D!==We&&!Me&&(te.$instanceValues$.set(v,D),Xe)){if(k.$watchers$&&128&Ie){const _t=k.$watchers$[v];_t&&_t.map(mt=>{try{Xe[mt](D,We,v)}catch(Ft){ee(Ft,ne)}})}if(2==(18&Ie)){if(Xe.componentShouldUpdate&&!1===Xe.componentShouldUpdate(D,We,v))return;Ma(te,!1)}}},Bl=(p,v,D)=>{var k,te;const ne=p.prototype;if(v.$members$||v.$watchers$||p.watchers){p.watchers&&!v.$watchers$&&(v.$watchers$=p.watchers);const We=Object.entries(null!=(k=v.$members$)?k:{});if(We.map(([Ie,[Xe]])=>{if(31&Xe||2&D&&32&Xe){const{get:Me,set:Ve}=Object.getOwnPropertyDescriptor(ne,Ie)||{};Me&&(v.$members$[Ie][0]|=2048),Ve&&(v.$members$[Ie][0]|=4096),(1&D||!Me)&&Object.defineProperty(ne,Ie,{get(){{if(!(2048&v.$members$[Ie][0]))return((p,v)=>Se(this).$instanceValues$.get(v))(0,Ie);const _t=Se(this),mt=_t?_t.$lazyInstance$:ne;return mt?mt[Ie]:void 0}},configurable:!0,enumerable:!0}),Object.defineProperty(ne,Ie,{set(_t){const mt=Se(this);if(mt){if(Ve){const Ft=32&Xe?this[Ie]:mt.$hostElement$[Ie];return typeof Ft>"u"&&mt.$instanceValues$.get(Ie)?_t=mt.$instanceValues$.get(Ie):!mt.$instanceValues$.get(Ie)&&Ft&&mt.$instanceValues$.set(Ie,Ft),Ve.apply(this,[mo(_t,Xe)]),void To(this,Ie,_t=32&Xe?this[Ie]:mt.$hostElement$[Ie],v)}{if(!(1&D&&4096&v.$members$[Ie][0]))return To(this,Ie,_t,v),void(1&D&&!mt.$lazyInstance$&&mt.$onReadyPromise$.then(()=>{4096&v.$members$[Ie][0]&&mt.$lazyInstance$[Ie]!==mt.$instanceValues$.get(Ie)&&(mt.$lazyInstance$[Ie]=_t)}));const Ft=()=>{const bt=mt.$lazyInstance$[Ie];!mt.$instanceValues$.get(Ie)&&bt&&mt.$instanceValues$.set(Ie,bt),mt.$lazyInstance$[Ie]=mo(_t,Xe),To(this,Ie,mt.$lazyInstance$[Ie],v)};mt.$lazyInstance$?Ft():mt.$onReadyPromise$.then(()=>Ft())}}}})}else 1&D&&64&Xe&&Object.defineProperty(ne,Ie,{value(...Me){var Ve;const _t=Se(this);return null==(Ve=_t?.$onInstancePromise$)?void 0:Ve.then(()=>{var mt;return null==(mt=_t.$lazyInstance$)?void 0:mt[Ie](...Me)})}})}),1&D){const Ie=new Map;ne.attributeChangedCallback=function(Xe,Me,Ve){lt.jmp(()=>{var _t;const mt=Ie.get(Xe);if(this.hasOwnProperty(mt))Ve=this[mt],delete this[mt];else{if(ne.hasOwnProperty(mt)&&"number"==typeof this[mt]&&this[mt]==Ve)return;if(null==mt){const bt=Se(this),Cn=bt?.$flags$;if(bt&&Cn&&!(8&Cn)&&128&Cn&&Ve!==Me){const Mr=bt.$lazyInstance$,nr=null==(_t=v.$watchers$)?void 0:_t[Xe];nr?.forEach(zn=>{null!=Mr[zn]&&Mr[zn].call(Mr,Ve,Me,Xe)})}return}}const Ft=Object.getOwnPropertyDescriptor(ne,mt);(Ve=(null!==Ve||"boolean"!=typeof this[mt])&&Ve)!==this[mt]&&(!Ft.get||Ft.set)&&(this[mt]=Ve)})},p.observedAttributes=Array.from(new Set([...Object.keys(null!=(te=v.$watchers$)?te:{}),...We.filter(([Xe,Me])=>15&Me[0]).map(([Xe,Me])=>{var Ve;const _t=Me[1]||Xe;return Ie.set(_t,Xe),512&Me[0]&&(null==(Ve=v.$attrsToReflect$)||Ve.push([Xe,_t])),_t})]))}}return p},pc=function(){var p=(0,E.A)(function*(v,D,k,te){let ne;if(!(32&D.$flags$)){if(D.$flags$|=32,k.$lazyBundleId$){const Me=((p,v)=>{const k=p.$tagName$.replace(/-/g,"_"),te=p.$lazyBundleId$;if(!te)return;const ne=O.get(te);return ne?ne[k]:b(8996)(`./${te}.entry.js`).then(We=>(O.set(te,We),We[k]),We=>{ee(We,v.$hostElement$)})})(k,D);if(Me&&"then"in Me){const _t=()=>{};ne=yield Me,_t()}else ne=Me;if(!ne)throw new Error(`Constructor for "${k.$tagName$}#${D.$modeName$}" was not found`);ne.isProxied||(k.$watchers$=ne.watchers,Bl(ne,k,2),ne.isProxied=!0);const Ve=()=>{};D.$flags$|=8;try{new ne(D)}catch(_t){ee(_t,v)}D.$flags$&=-9,D.$flags$|=128,Ve(),Mo(D.$lazyInstance$,v)}else ne=v.constructor,customElements.whenDefined(v.localName).then(()=>D.$flags$|=128);if(ne&&ne.style){let Me;"string"==typeof ne.style?Me=ne.style:"string"!=typeof ne.style&&(D.$modeName$=(p=>ce.map(v=>v(p)).find(v=>!!v))(v),D.$modeName$&&(Me=ne.style[D.$modeName$]));const Ve=zi(k,D.$modeName$);if(!be.has(Ve)){const _t=()=>{};ii(Ve,Me,!!(1&k.$flags$)),_t()}}}const We=D.$ancestorComponent$,Ie=()=>Ma(D,!0);We&&We["s-rc"]?We["s-rc"].push(Ie):Ie()});return function(D,k,te,ne){return p.apply(this,arguments)}}(),Mo=(p,v)=>{Cr(p,"connectedCallback",void 0,v)},Gl=p=>{if(!ut.document)return;const v=p["s-cr"]=ut.document.createComment("");v["s-cn"]=!0,Qi(p,v,p.firstChild)},fl=(p,v)=>{Cr(p,"disconnectedCallback",void 0,v||p)},de=function(){var p=(0,E.A)(function*(v){if(!(1&lt.$flags$)){const D=Se(v);D?.$rmListeners$&&(D.$rmListeners$.map(k=>k()),D.$rmListeners$=void 0),D?.$lazyInstance$?fl(D.$lazyInstance$,v):D?.$onReadyPromise$&&D.$onReadyPromise$.then(()=>fl(D.$lazyInstance$,v))}Sn.has(v)&&Sn.delete(v),v.shadowRoot&&Sn.has(v.shadowRoot)&&Sn.delete(v.shadowRoot)});return function(D){return p.apply(this,arguments)}}(),pl=(p,v={})=>{var D;if(!ut.document)return void console.warn("Stencil: No document found. Skipping bootstrapping lazy components.");const te=[],ne=v.exclude||[],We=ut.customElements,Ie=ut.document.head,Xe=Ie.querySelector("meta[charset]"),Me=ut.document.createElement("style"),Ve=[];let _t,mt=!0;Object.assign(lt,v),lt.$resourcesUrl$=new URL(v.resourcesUrl||"./",ut.document.baseURI).href,lt.$flags$|=2,(()=>{if(!ut.document)return;const p=ut.document.querySelectorAll(`[${ke}]`);let v=0;for(;v<p.length;v++)ii(p[v].getAttribute(ke),tl(p[v].innerHTML),!0)})();let Ft=!1;if(p.map(bt=>{bt[1].map(Cn=>{var Mr;const nr={$flags$:Cn[0],$tagName$:Cn[1],$members$:Cn[2],$listeners$:Cn[3]};4&nr.$flags$&&(Ft=!0),nr.$members$=Cn[2],nr.$listeners$=Cn[3],nr.$attrsToReflect$=[],nr.$watchers$=null!=(Mr=Cn[4])?Mr:{};const zn=nr.$tagName$,Qr=class extends HTMLElement{constructor(mr){if(super(mr),this.hasRegisteredEventListeners=!1,((p,v)=>{const D={$flags$:0,$hostElement$:p,$cmpMeta$:v,$instanceValues$:new Map};D.$onInstancePromise$=new Promise(te=>D.$onInstanceResolve$=te),D.$onReadyPromise$=new Promise(te=>D.$onReadyResolve$=te),p["s-p"]=[],p["s-rc"]=[];const k=D;p.__stencil__getHostRef=()=>k})(mr=this,nr),1&nr.$flags$)if(mr.shadowRoot){if("open"!==mr.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${nr.$tagName$}! Mode is set to ${mr.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else an.call(mr,nr)}connectedCallback(){const mr=Se(this);mr&&(this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,cs(this,mr,nr.$listeners$)),_t&&(clearTimeout(_t),_t=null),mt?Ve.push(this):lt.jmp(()=>(p=>{if(!(1&lt.$flags$)){const v=Se(p);if(!v)return;const D=v.$cmpMeta$,k=()=>{};if(1&v.$flags$)cs(p,v,D.$listeners$),v?.$lazyInstance$?Mo(v.$lazyInstance$,p):v?.$onReadyPromise$&&v.$onReadyPromise$.then(()=>Mo(v.$lazyInstance$,p));else{let te;if(v.$flags$|=1,te=p.getAttribute(C),te){if(1&D.$flags$){const ne=Ur(p.shadowRoot,D,p.getAttribute("s-mode"));p.classList.remove(ne+"-h",ne+"-s")}else if(2&D.$flags$){const ne=zi(D,p.getAttribute("s-mode"));p["s-sc"]=ne}((p,v,D,k)=>{var te,ne,We;const Xe=p.shadowRoot,Me=[],Ve=[],_t=[],mt=Xe?[]:null,Ft=rl(v,null);let Cn;Ft.$elm$=p,Object.entries((null==(te=k.$cmpMeta$)?void 0:te.$members$)||{}).forEach(([or,[_i,Ir]])=>{var ro;if(!(31&_i))return;const vo=p.getAttribute(Ir||or);if(null!==vo){const ml=mo(vo,_i);null==(ro=k?.$instanceValues$)||ro.set(or,ml)}});{const or=k.$cmpMeta$;or&&10&or.$flags$&&p["s-sc"]?(Cn=p["s-sc"],p.classList.add(Cn+"-h")):p["s-sc"]&&delete p["s-sc"]}ut.document&&(!lt.$orgLocNodes$||!lt.$orgLocNodes$.size)&&Ol(ut.document.body,lt.$orgLocNodes$=new Map),p[C]=D,p.removeAttribute(C),k.$vnode$=ia(Ft,Me,Ve,mt,p,p,D,_t);let Mr=0;const nr=Me.length;let zn;for(;Mr<nr;Mr++){zn=Me[Mr];const or=zn.$hostId$+"."+zn.$nodeId$,_i=lt.$orgLocNodes$.get(or),Ir=zn.$elm$;if(Xe){if(null!=(ne=zn.$tag$)&&ne.toString().includes("-")&&"slot-fb"!==zn.$tag$&&!zn.$elm$.shadowRoot){const ro=Se(zn.$elm$);if(ro){const ds=zi(ro.$cmpMeta$,zn.$elm$.getAttribute("s-mode")),vo=ut.document.querySelector(`style[sty-id="${ds}"]`);vo&&p.shadowRoot.append(vo.cloneNode(!0))}}}else Ir["s-hn"]=v.toUpperCase(),"slot"===zn.$tag$&&(Ir["s-cr"]=p["s-cr"]);"slot"===zn.$tag$&&(zn.$name$=zn.$elm$["s-sn"]||zn.$elm$.name||null,zn.$children$?(zn.$flags$|=2,zn.$elm$.childNodes.length||zn.$children$.forEach(ro=>{zn.$elm$.appendChild(ro.$elm$)})):zn.$flags$|=1),_i&&_i.isConnected&&(_i.parentElement.shadowRoot&&""===_i["s-en"]&&_i.parentNode.insertBefore(Ir,_i.nextSibling),_i.parentNode.removeChild(_i),Xe||(Ir["s-oo"]=parseInt(zn.$nodeId$))),_i&&!_i["s-id"]&&lt.$orgLocNodes$.delete(or)}const Qr=[],mr=_t.length;let Ao,Ar,Li,fr,Ht=0;for(;Ht<mr;Ht++)if(Ao=_t[Ht],Ao&&Ao.length)for(Li=Ao.length,Ar=0;Ar<Li;Ar++){if(fr=Ao[Ar],Qr[fr.hostId]||(Qr[fr.hostId]=lt.$orgLocNodes$.get(fr.hostId)),!Qr[fr.hostId])continue;const or=Qr[fr.hostId];or.shadowRoot&&fr.node.parentElement!==or&&or.appendChild(fr.node),(!or.shadowRoot||!Xe)&&(fr.slot["s-cr"]||(fr.slot["s-cr"]=or["s-cr"],fr.slot["s-cr"]=!fr.slot["s-cr"]&&or.shadowRoot?or:(or.__childNodes||or.childNodes)[0]),Er(fr.node,fr.slot,!1,fr.node["s-oo"]),null!=(We=fr.node.parentElement)&&We.shadowRoot&&fr.node.getAttribute&&fr.node.getAttribute("slot")&&fr.node.removeAttribute("slot"),is(fr.node))}if(Cn&&Ve.length&&Ve.forEach(or=>{or.$elm$.parentElement.classList.add(Cn+"-s")}),Xe){let or=0;const _i=mt.length;if(_i){for(;or<_i;or++){const Ir=mt[or];Ir&&Xe.appendChild(Ir)}Array.from(p.childNodes).forEach(Ir=>{"string"!=typeof Ir["s-en"]&&"string"!=typeof Ir["s-sn"]&&(1===Ir.nodeType&&Ir.slot&&Ir.hidden?Ir.removeAttribute("hidden"):(8===Ir.nodeType&&!Ir.nodeValue||3===Ir.nodeType&&!Ir.wholeText.trim())&&Ir.parentNode.removeChild(Ir))})}}k.$hostElement$=p})(p,D.$tagName$,te,v)}te||12&D.$flags$&&Gl(p);{let ne=p;for(;ne=ne.parentNode||ne.host;)if(1===ne.nodeType&&ne.hasAttribute("s-id")&&ne["s-p"]||ne["s-p"]){ll(v,v.$ancestorComponent$=ne);break}}D.$members$&&Object.entries(D.$members$).map(([ne,[We]])=>{if(31&We&&p.hasOwnProperty(ne)){const Ie=p[ne];delete p[ne],p[ne]=Ie}}),pc(p,v,D)}k()}})(this)))}disconnectedCallback(){lt.jmp(()=>de(this)),lt.raf(()=>{var mr;const Ht=Se(this);if(!Ht)return;const Ao=Ve.findIndex(Ar=>Ar===this);Ao>-1&&Ve.splice(Ao,1),(null==(mr=Ht?.$vnode$)?void 0:mr.$elm$)instanceof Node&&!Ht.$vnode$.$elm$.isConnected&&delete Ht.$vnode$.$elm$})}componentOnReady(){var mr;return null==(mr=Se(this))?void 0:mr.$onReadyPromise$}};!(1&nr.$flags$)&&256&nr.$flags$&&(p=>{jn(p),x(p),Fs(p),ri(p),Tr(p),po(p),Le(p),xi(p),dr(p),Eo(p),Or(p)})(Qr.prototype),nr.$lazyBundleId$=bt[0],!ne.includes(zn)&&!We.get(zn)&&(te.push(zn),We.define(zn,Bl(Qr,nr,1)))})}),te.length>0&&(Ft&&(Me.textContent+=Tt),Me.textContent+=te.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",Me.innerHTML.length)){Me.setAttribute("data-styles","");const bt=null!=(D=lt.$nonce$)?D:ur(ut.document);null!=bt&&Me.setAttribute("nonce",bt),Ie.insertBefore(Me,Xe?Xe.nextSibling:Ie.firstChild)}mt=!1,Ve.length?Ve.map(bt=>bt.connectedCallback()):lt.jmp(()=>_t=setTimeout(bi,30))},Ge=(p,v)=>v,cs=(p,v,D,k)=>{D&&ut.document&&D.map(([te,ne,We])=>{const Ie=Bs(ut.document,p,te),Xe=hl(v,We),Me=us(te);lt.ael(Ie,ne,Xe,Me),(v.$rmListeners$=v.$rmListeners$||[]).push(()=>lt.rel(Ie,ne,Xe,Me))})},hl=(p,v)=>D=>{var k;try{256&p.$flags$?null==(k=p.$lazyInstance$)||k[v](D):(p.$queuedListeners$=p.$queuedListeners$||[]).push([v,D])}catch(te){ee(te,p.$hostElement$)}},Bs=(p,v,D)=>4&D?p:8&D?ut:16&D?p.body:v,us=p=>Gt?{passive:!!(1&p),capture:!!(2&p)}:!!(2&p)},9364:(J,De,b)=>{"use strict";var E=b(7888);J.exports=E.getPrototypeOf||null},9462:J=>{"use strict";var E,De="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,b="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;De||(E=function($){return!1});var P=De?De.prototype.has:null,z=b?b.prototype.has:null;!E&&!P&&(E=function($){return!1}),J.exports=E||function($){if(!$||"object"!=typeof $)return!1;try{if(P.call($,P),z)try{z.call($,z)}catch{return!0}return $ instanceof De}catch{}return!1}},9713:(J,De,b)=>{"use strict";var E=b(7707),P=b(814),z=b(5124);J.exports=function(){return z(E,P,arguments)}},9805:(J,De,b)=>{"use strict";b.r(De),b.d(De,{iosTransitionAnimation:()=>A,shadow:()=>I});var E=b(7133),P=b(6780);b(9335),b(575),b(6721);const G=pe=>document.querySelector(`${pe}.ion-cloned-element`),I=pe=>pe.shadowRoot||pe,U=pe=>{const ve="ION-TABS"===pe.tagName?pe:pe.querySelector("ion-tabs"),re="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ve){const L=ve.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=L?L.querySelector(re):null}return pe.querySelector(re)},B=(pe,ve)=>{const re="ION-TABS"===pe.tagName?pe:pe.querySelector("ion-tabs");let L=[];if(null!=re){const oe=re.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=oe&&(L=oe.querySelectorAll("ion-buttons"))}else L=pe.querySelectorAll("ion-buttons");for(const oe of L){const xe=oe.closest("ion-header"),Oe=xe&&!xe.classList.contains("header-collapse-condense-inactive"),tt=oe.querySelector("ion-back-button"),le=oe.classList.contains("buttons-collapse");if(null!==tt&&("start"===oe.slot||""===oe.slot)&&(le&&Oe&&ve||!le))return tt}return null},j=(pe,ve,re,L,oe,xe,Oe,tt,le)=>{var Ae,Se;const ge=ve?`calc(100% - ${oe.right+4}px)`:oe.left-4+"px",we=ve?"right":"left",W=ve?"left":"right",ee=ve?"right":"left";let O=1,Te=1,be=`scale(${Te})`;const ce="scale(1)";if(xe&&Oe){const $e=(null===(Ae=xe.textContent)||void 0===Ae?void 0:Ae.trim())===(null===(Se=tt.textContent)||void 0===Se?void 0:Se.trim());O=le.width/Oe.width,Te=(le.height-ue)/Oe.height,be=$e?`scale(${O}, ${Te})`:`scale(${Te})`}const Ne=I(L).querySelector("ion-icon").getBoundingClientRect(),Be=ve?Ne.width/2-(Ne.right-oe.right)+"px":oe.left-Ne.width/2+"px",Ce=ve?`-${window.innerWidth-oe.right}px`:`${oe.left}px`,Ye=`${le.top}px`,C=`${oe.top}px`,Ct=re?[{offset:0,transform:`translate3d(${Ce}, ${C}, 0)`},{offset:1,transform:`translate3d(${Be}, ${Ye}, 0)`}]:[{offset:0,transform:`translate3d(${Be}, ${Ye}, 0)`},{offset:1,transform:`translate3d(${Ce}, ${C}, 0)`}],ut=re?[{offset:0,opacity:1,transform:ce},{offset:1,opacity:0,transform:be}]:[{offset:0,opacity:0,transform:be},{offset:1,opacity:1,transform:ce}],Mt=re?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Gt=(0,E.c)(),On=(0,E.c)(),Ln=(0,E.c)(),hn=G("ion-back-button"),Lt=I(hn).querySelector(".button-text"),Ke=I(hn).querySelector("ion-icon");hn.text=L.text,hn.mode=L.mode,hn.icon=L.icon,hn.color=L.color,hn.disabled=L.disabled,hn.style.setProperty("display","block"),hn.style.setProperty("position","fixed"),On.addElement(Ke),Gt.addElement(Lt),Ln.addElement(hn),Ln.beforeStyles({position:"absolute",top:"0px",[ee]:"0px"}).beforeAddWrite(()=>{L.style.setProperty("display","none"),hn.style.setProperty(we,ge)}).afterAddWrite(()=>{L.style.setProperty("display",""),hn.style.setProperty("display","none"),hn.style.removeProperty(we)}).keyframes(Ct),Gt.beforeStyles({"transform-origin":`${we} top`}).keyframes(ut),On.beforeStyles({"transform-origin":`${W} center`}).keyframes(Mt),pe.addAnimation([Gt,On,Ln])},M=(pe,ve,re,L,oe,xe,Oe,tt,le)=>{var Ae,Se;const ge=ve?"right":"left",we=ve?`calc(100% - ${oe.right}px)`:`${oe.left}px`,ee=`${oe.top}px`;let Te=ve?`-${window.innerWidth-Oe.right-8}px`:`${Oe.x+8}px`,be=.5;const ce="scale(1)";let ye=`scale(${be})`;if(tt&&le){Te=ve?`-${window.innerWidth-le.right-8}px`:le.x-8+"px";const Tt=(null===(Ae=tt.textContent)||void 0===Ae?void 0:Ae.trim())===(null===(Se=L.textContent)||void 0===Se?void 0:Se.trim());be=le.height/(xe.height-ue),ye=Tt?`scale(${le.width/xe.width}, ${be})`:`scale(${be})`}const Ce=Oe.top+Oe.height/2-oe.height*be/2+"px",ke=re?[{offset:0,opacity:0,transform:`translate3d(${Te}, ${Ce}, 0) ${ye}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${ee}, 0) ${ce}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${ee}, 0) ${ce}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Te}, ${Ce}, 0) ${ye}`}],He=G("ion-title"),Ct=(0,E.c)();He.innerText=L.innerText,He.size=L.size,He.color=L.color,Ct.addElement(He),Ct.beforeStyles({"transform-origin":`${ge} top`,height:`${oe.height}px`,display:"",position:"relative",[ge]:we}).beforeAddWrite(()=>{L.style.setProperty("opacity","0")}).afterAddWrite(()=>{L.style.setProperty("opacity",""),He.style.setProperty("display","none")}).keyframes(ke),pe.addAnimation(Ct)},A=(pe,ve)=>{var re;try{const L="cubic-bezier(0.32,0.72,0,1)",oe="opacity",xe="transform",le="rtl"===pe.ownerDocument.dir,Ae=le?"-99.5%":"99.5%",Se=le?"33%":"-33%",ge=ve.enteringEl,we=ve.leavingEl,W="back"===ve.direction,ee=ge.querySelector(":scope > ion-content"),O=ge.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Te=ge.querySelectorAll(":scope > ion-header > ion-toolbar"),be=(0,E.c)(),ce=(0,E.c)();if(be.addElement(ge).duration((null!==(re=ve.duration)&&void 0!==re?re:0)||540).easing(ve.easing||L).fill("both").beforeRemoveClass("ion-page-invisible"),we&&null!=pe){const Ce=(0,E.c)();Ce.addElement(pe),be.addAnimation(Ce)}if(ee||0!==Te.length||0!==O.length?(ce.addElement(ee),ce.addElement(O)):ce.addElement(ge.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),be.addAnimation(ce),W?ce.beforeClearStyles([oe]).fromTo("transform",`translateX(${Se})`,"translateX(0%)").fromTo(oe,.8,1):ce.beforeClearStyles([oe]).fromTo("transform",`translateX(${Ae})`,"translateX(0%)"),ee){const Ce=I(ee).querySelector(".transition-effect");if(Ce){const Ye=Ce.querySelector(".transition-cover"),C=Ce.querySelector(".transition-shadow"),ke=(0,E.c)(),He=(0,E.c)(),Ct=(0,E.c)();ke.addElement(Ce).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),He.addElement(Ye).beforeClearStyles([oe]).fromTo(oe,0,.1),Ct.addElement(C).beforeClearStyles([oe]).fromTo(oe,.03,.7),ke.addAnimation([He,Ct]),ce.addAnimation([ke])}}const ye=ge.querySelector("ion-header.header-collapse-condense"),{forward:Ne,backward:Be}=((pe,ve,re,L,oe)=>{const xe=B(L,re),Oe=U(oe),tt=U(L),le=B(oe,re),Ae=null!==xe&&null!==Oe&&!re,Se=null!==tt&&null!==le&&re;if(Ae){const ge=Oe.getBoundingClientRect(),we=xe.getBoundingClientRect(),W=I(xe).querySelector(".button-text"),ee=W?.getBoundingClientRect(),Te=I(Oe).querySelector(".toolbar-title").getBoundingClientRect();M(pe,ve,re,Oe,ge,Te,we,W,ee),j(pe,ve,re,xe,we,W,ee,Oe,Te)}else if(Se){const ge=tt.getBoundingClientRect(),we=le.getBoundingClientRect(),W=I(le).querySelector(".button-text"),ee=W?.getBoundingClientRect(),Te=I(tt).querySelector(".toolbar-title").getBoundingClientRect();M(pe,ve,re,tt,ge,Te,we,W,ee),j(pe,ve,re,le,we,W,ee,tt,Te)}return{forward:Ae,backward:Se}})(be,le,W,ge,we);if(Te.forEach(Ce=>{const Ye=(0,E.c)();Ye.addElement(Ce),be.addAnimation(Ye);const C=(0,E.c)();C.addElement(Ce.querySelector("ion-title"));const ke=(0,E.c)(),He=Array.from(Ce.querySelectorAll("ion-buttons,[menuToggle]")),Ct=Ce.closest("ion-header"),Tt=Ct?.classList.contains("header-collapse-condense-inactive");let Nt;Nt=He.filter(W?Gt=>{const On=Gt.classList.contains("buttons-collapse");return On&&!Tt||!On}:Gt=>!Gt.classList.contains("buttons-collapse")),ke.addElement(Nt);const ut=(0,E.c)();ut.addElement(Ce.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const At=(0,E.c)();At.addElement(I(Ce).querySelector(".toolbar-background"));const lt=(0,E.c)(),Mt=Ce.querySelector("ion-back-button");if(Mt&&lt.addElement(Mt),Ye.addAnimation([C,ke,ut,At,lt]),ke.fromTo(oe,.01,1),ut.fromTo(oe,.01,1),W)Tt||C.fromTo("transform",`translateX(${Se})`,"translateX(0%)").fromTo(oe,.01,1),ut.fromTo("transform",`translateX(${Se})`,"translateX(0%)"),lt.fromTo(oe,.01,1);else if(ye||C.fromTo("transform",`translateX(${Ae})`,"translateX(0%)").fromTo(oe,.01,1),ut.fromTo("transform",`translateX(${Ae})`,"translateX(0%)"),At.beforeClearStyles([oe,"transform"]),Ct?.translucent?At.fromTo("transform",le?"translateX(-100%)":"translateX(100%)","translateX(0px)"):At.fromTo(oe,.01,"var(--opacity)"),Ne||lt.fromTo(oe,.01,1),Mt&&!Ne){const On=(0,E.c)();On.addElement(I(Mt).querySelector(".button-text")).fromTo("transform",le?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ye.addAnimation(On)}}),we){const Ce=(0,E.c)(),Ye=we.querySelector(":scope > ion-content"),C=we.querySelectorAll(":scope > ion-header > ion-toolbar"),ke=we.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ye||0!==C.length||0!==ke.length?(Ce.addElement(Ye),Ce.addElement(ke)):Ce.addElement(we.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),be.addAnimation(Ce),W){Ce.beforeClearStyles([oe]).fromTo("transform","translateX(0%)",le?"translateX(-100%)":"translateX(100%)");const He=(0,P.g)(we);be.afterAddWrite(()=>{"normal"===be.getDirection()&&He.style.setProperty("display","none")})}else Ce.fromTo("transform","translateX(0%)",`translateX(${Se})`).fromTo(oe,1,.8);if(Ye){const He=I(Ye).querySelector(".transition-effect");if(He){const Ct=He.querySelector(".transition-cover"),Tt=He.querySelector(".transition-shadow"),Nt=(0,E.c)(),ut=(0,E.c)(),At=(0,E.c)();Nt.addElement(He).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ut.addElement(Ct).beforeClearStyles([oe]).fromTo(oe,.1,0),At.addElement(Tt).beforeClearStyles([oe]).fromTo(oe,.7,.03),Nt.addAnimation([ut,At]),Ce.addAnimation([Nt])}}C.forEach(He=>{const Ct=(0,E.c)();Ct.addElement(He);const Tt=(0,E.c)();Tt.addElement(He.querySelector("ion-title"));const Nt=(0,E.c)(),ut=He.querySelectorAll("ion-buttons,[menuToggle]"),At=He.closest("ion-header"),lt=At?.classList.contains("header-collapse-condense-inactive"),Mt=Array.from(ut).filter(Ke=>{const $e=Ke.classList.contains("buttons-collapse");return $e&&!lt||!$e});Nt.addElement(Mt);const Gt=(0,E.c)(),On=He.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");On.length>0&&Gt.addElement(On);const Ln=(0,E.c)();Ln.addElement(I(He).querySelector(".toolbar-background"));const hn=(0,E.c)(),Lt=He.querySelector("ion-back-button");if(Lt&&hn.addElement(Lt),Ct.addAnimation([Tt,Nt,Gt,hn,Ln]),be.addAnimation(Ct),hn.fromTo(oe,.99,0),Nt.fromTo(oe,.99,0),Gt.fromTo(oe,.99,0),W){if(lt||Tt.fromTo("transform","translateX(0%)",le?"translateX(-100%)":"translateX(100%)").fromTo(oe,.99,0),Gt.fromTo("transform","translateX(0%)",le?"translateX(-100%)":"translateX(100%)"),Ln.beforeClearStyles([oe,"transform"]),At?.translucent?Ln.fromTo("transform","translateX(0px)",le?"translateX(-100%)":"translateX(100%)"):Ln.fromTo(oe,"var(--opacity)",0),Lt&&!Be){const $e=(0,E.c)();$e.addElement(I(Lt).querySelector(".button-text")).fromTo("transform","translateX(0%)",`translateX(${(le?-124:124)+"px"})`),Ct.addAnimation($e)}}else lt||Tt.fromTo("transform","translateX(0%)",`translateX(${Se})`).fromTo(oe,.99,0).afterClearStyles([xe,oe]),Gt.fromTo("transform","translateX(0%)",`translateX(${Se})`).afterClearStyles([xe,oe]),hn.afterClearStyles([oe]),Tt.afterClearStyles([oe]),Nt.afterClearStyles([oe])})}return be}catch(L){throw L}},ue=10},9817:J=>{"use strict";J.exports=Object.getOwnPropertyDescriptor},9819:(J,De,b)=>{"use strict";var E=b(6998),P=typeof globalThis>"u"?global:globalThis;J.exports=function(){for(var q=[],$=0;$<E.length;$++)"function"==typeof P[E[$]]&&(q[q.length]=E[$]);return q}},9831:J=>{"use strict";var De=function(b){return b!=b};J.exports=function(E,P){return 0===E&&0===P?1/E==1/P:!!(E===P||De(E)&&De(P))}},9919:(J,De,b)=>{"use strict";b.d(De,{a:()=>z,b:()=>Ae,i:()=>Se});var E=b(9335);const z=(ge,we)=>("string"==typeof ge&&(we=ge,ge=void 0),(ge=>q(ge))(ge).includes(we)),q=(ge=window)=>{if(typeof ge>"u")return[];ge.Ionic=ge.Ionic||{};let we=ge.Ionic.platforms;return null==we&&(we=ge.Ionic.platforms=$(ge),we.forEach(W=>ge.document.documentElement.classList.add(`plt-${W}`))),we},$=ge=>{const we=E.e.get("platform");return Object.keys(tt).filter(W=>{const ee=we?.[W];return"function"==typeof ee?ee(ge):tt[W](ge)})},G=ge=>!!(xe(ge,/iPad/i)||xe(ge,/Macintosh/i)&&A(ge)),B=ge=>xe(ge,/android|sink/i),A=ge=>Oe(ge,"(any-pointer:coarse)"),pe=ge=>ve(ge)||re(ge),ve=ge=>!!(ge.cordova||ge.phonegap||ge.PhoneGap),re=ge=>{const we=ge.Capacitor;return!!(we?.isNative||we?.isNativePlatform&&we.isNativePlatform())},xe=(ge,we)=>we.test(ge.navigator.userAgent),Oe=(ge,we)=>{var W;return null===(W=ge.matchMedia)||void 0===W?void 0:W.call(ge,we).matches},tt={ipad:G,iphone:ge=>xe(ge,/iPhone/i),ios:ge=>xe(ge,/iPhone|iPod/i)||G(ge),android:B,phablet:ge=>{const we=ge.innerWidth,W=ge.innerHeight,ee=Math.min(we,W),O=Math.max(we,W);return ee>390&&ee<520&&O>620&&O<800},tablet:ge=>{const we=ge.innerWidth,W=ge.innerHeight,ee=Math.min(we,W),O=Math.max(we,W);return G(ge)||(ge=>B(ge)&&!xe(ge,/mobile/i))(ge)||ee>460&&ee<820&&O>780&&O<1400},cordova:ve,capacitor:re,electron:ge=>xe(ge,/electron/i),pwa:ge=>{var we;return!!(null!==(we=ge.matchMedia)&&void 0!==we&&we.call(ge,"(display-mode: standalone)").matches||ge.navigator.standalone)},mobile:A,mobileweb:ge=>A(ge)&&!pe(ge),desktop:ge=>!A(ge),hybrid:pe};let le;const Ae=ge=>ge&&(0,E.o)(ge)||le,Se=(ge={})=>{if(typeof window>"u")return;const we=window.document,W=window,ee=W.Ionic=W.Ionic||{},O=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,E.l)(W)),{persistConfig:!1}),ee.config),(0,E.m)(W)),ge);E.e.reset(O),E.e.getBoolean("persistConfig")&&(0,E.n)(W,O),q(W),ee.config=E.e,ee.mode=le=E.e.get("mode",we.documentElement.getAttribute("mode")||(z(W,"ios")?"ios":"md")),E.e.set("mode",le),we.documentElement.setAttribute("mode",le),we.documentElement.classList.add(le),E.e.getBoolean("_testing")&&E.e.set("animated",!1);const Te=ce=>{var ye;return null===(ye=ce.tagName)||void 0===ye?void 0:ye.startsWith("ION-")},be=ce=>["ios","md"].includes(ce);(0,E.q)(ce=>{for(;ce;){const ye=ce.mode||ce.getAttribute("mode");if(ye){if(be(ye))return ye;Te(ce)&&(0,E.f)('Invalid ionic mode: "'+ye+'", expected: "ios" or "md"')}ce=ce.parentElement}return le})}}},J=>{J(J.s=767)}]);
//# sourceMappingURL=main.86e5325c77148b74.js.map