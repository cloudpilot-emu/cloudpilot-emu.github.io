{"version":3,"file":"cloudpilot-emu.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAoB,WAAID,IAExBD,EAAiB,WAAIC,GACtB,CATD,CASGK,MAAM,I,qBCTT,IACMC,EADFC,GACED,EAAiC,oBAAZE,SAA0BA,SAASC,eAAeC,SAAMC,EAC1E,eACMC,EAAY,CAAC,GAC1B,IAEEC,EAAOD,EAAcE,EAAkC,iBAARC,OAAqBC,EAAgD,oBAAnBC,kBAAwJC,GAAjF,iBAATC,SAAmBA,QAAQC,UAAUC,MAAMF,QAAQG,KAAmD,kBAAqBC,EAAM,CAACC,EAAOC,KAAW,MAAMA,GAAYT,IAAuBV,EAAYD,KAAKqB,SAASC,MAAK,IAA4JC,EAAUC,EAAlKC,EAAgB,GAA6J,GAAGhB,GAAoBE,EAAsB,CAAC,IAAIc,EAAgB,IAAIC,IAAI,IAAIzB,GAAaqB,IAAI,CAAC,MAAM,CAAKX,IAAuBa,EAAWG,IAAM,IAAIC,EAAI,IAAIC,eAAuF,OAAxED,EAAIE,KAAK,MAAMH,GAAI,GAAOC,EAAIG,aAAa,cAAcH,EAAII,KAAK,MAAa,IAAIC,WAAWL,EAAIM,SAAQ,GAAGX,EAAUY,UAAY,IAAID,QAAeE,MAAMT,EAAI,CAACU,YAAY,gBAAgB,GAAGH,EAASI,GAAI,OAAOJ,EAASK,cAAc,MAAM,IAAIC,MAAMN,EAASf,OAAO,MAAMe,EAASP,IAAG,CAAG,CAAO,IAA0Ec,EAA+BC,EAA2uBC,EAAoBC,EAAuBC,EAAeC,EAAMC,EAAsBC,EAAOC,EAAgBC,EAAYC,EAAz8BC,EAAIC,QAAQC,IAAIC,KAAKF,SAAaG,EAAIH,QAAQI,MAAMF,KAAKF,SAA4BK,GAAM,EAAqB,SAASC,EAAOC,EAAUC,GAAUD,GAAWE,EAAMD,EAAM,CAAkK,SAASE,IAAmB,IAAGL,EAAH,CAAgB,IAAIM,EAAIC,KAAoC,GAALD,IAAQA,GAAK,GAAE,IAAIE,EAAQjB,EAAQe,GAAK,GAAOG,EAAQlB,EAAQe,EAAI,GAAG,GAAe,UAATE,GAA4B,YAATC,GAAqBL,EAAM,wDAAwDM,EAAYJ,kEAAoEI,EAAYD,MAAYC,EAAYF,MAA8B,YAAfjB,EAAQ,IAAmBa,EAAM,oFAA9X,CAAmd,CAA6I,IAAIO,GAAmB,EAAM,SAASC,IAAoB,IAAIC,EAAE1B,EAAW2B,OAAO1B,EAAM,IAAI2B,UAAUF,GAAU,IAAIG,WAAWH,GAAG/D,EAAe,OAAEuC,EAAO,IAAId,WAAWsC,GAAW,IAAII,YAAYJ,GAAGvB,EAAO,IAAI4B,WAAWL,GAAG/D,EAAgB,QAAEyC,EAAQ,IAAI4B,YAAYN,GAAW,IAAIO,aAAaP,GAAGrB,EAAQ,IAAI6B,aAAaR,GAAGpB,EAAO,IAAI6B,cAAcT,GAAW,IAAIU,eAAeV,EAAE,CAAsmB,IAAulBW,EAAnlBC,EAAgB,EAAMC,EAAsB,KAA4U,SAAStB,EAAMuB,GAAM7E,EAAgB,UAAI6E,GAA+B7B,EAAzB6B,EAAK,WAAWA,EAAK,KAAc3B,GAAM,EAAK2B,GAAM,2CAA2C,IAAIC,EAAE,IAAIC,YAAYC,aAAaH,GAA8B,MAAxBzC,IAAqB0C,GAASA,CAAC,CAAitBnD,eAAesD,EAAiBC,EAAOC,EAAWC,GAAS,IAAIF,GAAiD,mBAAlCH,YAAYM,qBAAkC,IAAI,IAAI3D,EAASE,MAAMuD,EAAW,CAACtD,YAAY,gBAAiG,aAAnDkD,YAAYM,qBAAqB3D,EAAS0D,EAAmC,CAAC,MAAME,GAAQtC,EAAI,kCAAkCsC,KAAUtC,EAAI,4CAA4C,CAAE,OAAhqBrB,eAAsCwD,EAAWC,GAAS,IAAI,IAAIF,QAAjPvD,eAA6BwD,GAAY,IAAIlD,EAAY,IAAI,IAAIP,QAAeX,EAAUoE,GAAY,OAAO,IAAI1D,WAAWC,EAAS,CAAC,MAAM,CAAE,OAAhV,SAAuB6D,GAAM,GAAGA,GAAMb,GAAgBzC,EAAY,OAAO,IAAIR,WAAWQ,GAAY,GAAGjB,EAAY,OAAOA,EAAWuE,GAAM,KAAK,iDAAiD,CAAsJC,CAAcL,EAAW,CAAgFM,CAAcN,GAAuE,aAAxCJ,YAAYW,YAAYR,EAAOE,EAAwB,CAAC,MAAME,GAAQtC,EAAI,0CAA0CsC,KAAUhC,EAAMgC,EAAO,CAAC,CAA+ZK,CAAuBR,EAAWC,EAAQ,CAAywB,MAAMQ,EAAWC,KAAK,aAAa,WAAAC,CAAYnF,GAAQoF,KAAKC,QAAQ,gCAAgCrF,KAAUoF,KAAKpF,OAAOA,CAAM,EAAE,IAAsqXsF,EAAwUC,EAA1+XC,EAAqBC,IAAY,KAAMA,EAAUC,OAAO,GAAGD,EAAUE,OAAVF,CAAkBpG,EAAO,EAAOuG,EAAW,GAAgDC,EAAU,GAA8CC,GAAc,EAAS7C,EAAY8C,GAAqB,MAAfA,KAAO,GAAiBC,SAAS,IAAIC,SAAS,EAAE,KAAUC,EAAgC,oBAAbC,YAAyB,IAAIA,iBAAYhH,EAAciH,EAAkB,CAACC,EAAYC,EAAI,EAAEC,EAAeC,OAAoD,IAA7C,IAAIC,EAAOH,EAAIC,EAAmBG,EAAOJ,EAAUD,EAAYK,MAAWA,GAAQD,MAAUC,EAAO,GAAGA,EAAOJ,EAAI,IAAID,EAAYhD,QAAQ6C,EAAa,OAAOA,EAAYS,OAAON,EAAYO,SAASN,EAAII,IAAoB,IAAX,IAAIG,EAAI,GAASP,EAAII,GAAO,CAAC,IAAII,EAAGT,EAAYC,KAAO,GAAQ,IAAHQ,EAAL,CAAoD,IAAIC,EAAsB,GAAnBV,EAAYC,KAAU,GAAa,MAAN,IAAHQ,GAAJ,CAAmE,IAAIE,EAAsB,GAAnBX,EAAYC,KAA0G,IAA9EQ,EAAL,MAAN,IAAHA,IAAqB,GAAHA,IAAQ,GAAGC,GAAI,EAAEC,GAAe,EAAHF,IAAO,GAAGC,GAAI,GAAGC,GAAI,EAAqB,GAAnBX,EAAYC,MAAgB,MAAOO,GAAKI,OAAOC,aAAaJ,OAAQ,CAAC,IAAIK,EAAGL,EAAG,MAAMD,GAAKI,OAAOC,aAAa,MAAMC,GAAI,GAAG,MAAS,KAAHA,EAAQ,CAAjP,MAAhDN,GAAKI,OAAOC,cAAiB,GAAHJ,IAAQ,EAAEC,EAApF,MAArCF,GAAKI,OAAOC,aAAaJ,EAA8V,CAAC,OAAOD,GAASO,EAAa,CAACrB,EAAIQ,IAAiBR,EAAIK,EAAkBxE,EAAOmE,EAAIQ,GAAgB,GAA0Rc,EAAmBC,GAAKA,GAA9C,kBAA6DA,EAA5F,iBAA0Gd,IAAIe,OAAOD,GAAmHE,EAAwB,EAAiKC,EAA2B,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAASC,EAA8B,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAASC,EAAaC,IAAO,IAAlOC,EAA+Z,QAA/ZA,EAAsPD,EAAKE,eAAhP,GAAI,GAAID,EAAK,KAAM,GAAGA,EAAK,KAAM,EAAsRH,EAA3BD,GAAsFG,EAAKG,YAAYH,EAAKI,UAAU,CAASC,EAA42DC,EAAO,CAAC,EAAMC,EAAgBhE,IAAI,GAAGA,aAAac,GAAe,UAAHd,EAAa,OAAO5C,EAAWqB,IAAsBuB,aAAaC,YAAYC,cAAiB+D,MAAiC,GAAG/F,EAAI,4FAA6FtC,EAAM,EAAEoE,EAAC,EAAOkE,EAAiB,IAAIvC,GAAe0B,EAAwB,EAAMc,EAAWC,IAAOhH,EAAWgH,EAASF,MAAoBhJ,EAAe,SAAIkJ,GAAMhG,GAAM,GAAKxC,EAAMwI,EAAK,IAAItD,EAAWsD,GAAK,EAAOC,EAAO,CAACxI,EAAOyI,KAAYlH,EAAWvB,EAAOsI,EAAWtI,EAAM,EAAO0I,GAAMF,EAA6MG,GAAoB,IAAIC,YAAYC,MAAyTC,GAAkB,CAACjC,EAAIkC,EAAKC,EAAOC,KAAmB,KAAKA,EAAgB,GAAG,OAAO,EAA0D,IAAxD,IAAIC,EAASF,EAAWvC,EAAOuC,EAAOC,EAAgB,EAAUE,EAAE,EAAEA,EAAEtC,EAAInB,SAASyD,EAAE,CAAC,IAAIC,EAAEvC,EAAIwC,YAAYF,GAAG,GAAGC,GAAG,IAAI,CAAC,GAAGJ,GAAQvC,EAAO,MAAMsC,EAAKC,KAAUI,CAAC,MAAM,GAAGA,GAAG,KAAK,CAAC,GAAGJ,EAAO,GAAGvC,EAAO,MAAMsC,EAAKC,KAAU,IAAII,GAAG,EAAEL,EAAKC,KAAU,IAAM,GAAFI,CAAI,MAAM,GAAGA,GAAG,MAAM,CAAC,GAAGJ,EAAO,GAAGvC,EAAO,MAAMsC,EAAKC,KAAU,IAAII,GAAG,GAAGL,EAAKC,KAAU,IAAII,GAAG,EAAE,GAAGL,EAAKC,KAAU,IAAM,GAAFI,CAAI,KAAK,CAAC,GAAGJ,EAAO,GAAGvC,EAAO,MAAMsC,EAAKC,KAAU,IAAII,GAAG,GAAGL,EAAKC,KAAU,IAAII,GAAG,GAAG,GAAGL,EAAKC,KAAU,IAAII,GAAG,EAAE,GAAGL,EAAKC,KAAU,IAAM,GAAFI,EAAKD,GAAG,CAAC,CAAgB,OAAfJ,EAAKC,GAAQ,EAASA,EAAOE,GAAcI,GAAa,CAACzC,EAAI0C,EAAON,IAAkBH,GAAkBjC,EAAIjF,EAAO2H,EAAON,GAA07BO,GAAqB,IAAIC,KAAKZ,MAAuaa,GAAmB,GAA6hBC,GAAY,CAACC,EAAKC,IAAYC,KAAKC,KAAKH,EAAKC,GAAWA,EAAcG,GAAWJ,IAAO,IAA4BK,GAAOL,EAA7BlI,EAAW2B,OAAyB6G,WAAW,OAAO,MAAM,EAAE,IAA+C,OAA3CxI,EAAWyI,KAAKF,GAAO9G,IAA2B,CAAC,CAAC,MAAMgB,GAAG,GAAkfiG,GAAI,CAAC,EAA8DC,GAAc,KAAK,IAAIA,GAAcC,QAAQ,CAAC,IAA6FC,EAAI,CAACC,KAAK,WAAWC,QAAQ,WAAWC,KAAK,IAAIC,IAAI,IAAIC,KAAK,iBAAiBC,MAAhJ,iBAAXC,WAAqBA,UAAUC,UAAU,KAAKC,QAAQ,IAAI,KAAK,SAAsGC,EAAtQvL,GAAa,kBAAgR,IAAI,IAAIwL,KAAKd,QAAiBjL,IAATiL,GAAIc,UAAsBX,EAAIW,GAAQX,EAAIW,GAAGd,GAAIc,GAAG,IAAIZ,EAAQ,GAAG,IAAI,IAAIY,KAAKX,EAAKD,EAAQa,KAAK,GAAGD,KAAKX,EAAIW,MAAMb,GAAcC,QAAQA,CAAO,CAAC,OAAOD,GAAcC,SAA8Oc,GAAgBvE,IAAgB,IAAV,IAAIwE,EAAI,EAAUlC,EAAE,EAAEA,EAAEtC,EAAInB,SAASyD,EAAE,CAAC,IAAImC,EAAEzE,EAAI0E,WAAWpC,GAAMmC,GAAG,IAAKD,IAAcC,GAAG,KAAMD,GAAK,EAAUC,GAAG,OAAOA,GAAG,OAAOD,GAAK,IAAIlC,GAAOkC,GAAK,CAAE,CAAC,OAAOA,GAA4ZG,GAAiB,CAAC,KAAK,GAAG,IAAwZC,GAAmB,CAACC,EAAQC,EAAYjG,KAAU,IAAI2F,EAAI3F,EAAO,EAAEA,EAAO0F,GAAgBM,GAAS,EAAME,EAAQ,IAAIC,MAAMR,GAASS,EAAgBhD,GAAkB4C,EAAQE,EAAQ,EAAEA,EAAQlG,QAAsD,OAA3CiG,IAAYC,EAAQlG,OAAOoG,GAAuBF,GAAaG,GAAQ,GAAOC,GAAc,CAACC,EAAEC,KAAaD,EAAE,IAAKC,EAAOf,KAAKc,GAAQC,EAAOf,KAAKc,EAAE,IAAI,IAAIA,GAAG,EAAE,EAAkmCE,GAAgB,GAA0gBC,GAAiB,GAA6PC,GAAkB,CAAC/F,EAAIgG,KAAQhH,EAAUiH,IAAIjG,EAAIgG,GAAMH,GAAgB7F,GAAKhB,EAAUkH,IAAIlG,EAAG,EAAoUjH,EAAsB,gBAAEyG,EAAczG,EAAsB,eAAKA,EAAc,QAAE4C,EAAI5C,EAAc,OAAKA,EAAiB,WAAEgD,EAAIhD,EAAiB,UAAKA,EAAmB,aAAEiC,EAAWjC,EAAmB,YAAKA,EAAkB,WAAaA,EAAkB,UAAKA,EAAoB,cAAEK,EAAYL,EAAoB,aAAEA,EAAoB,YAAhoB,CAACiN,EAAKG,KAAO,IAAIC,EAA/hBJ,KAAW/G,IAAqBA,EAAoB,IAAIoH,QAAhQ,EAACC,EAAOC,KAAS,GAAGtH,EAAqB,IAAI,IAAI4D,EAAsO,EAA7NA,EAA6N,EAApN0D,EAAM1D,IAAI,CAAC,IAAI2D,GAA/MR,YAAKH,GAAnBY,EAAoP5D,MAA9LgD,GAAgBY,GAAST,EAAKhH,EAAUkH,IAAIO,IAAgBT,GAAwIQ,GAAMvH,EAAoBgH,IAAIO,EAAK3D,EAAG,CAAhS4D,MAAcT,CAAmR,EAAkHU,CAAe,EAAE1H,EAAUI,SAAeH,EAAoBiH,IAAIF,IAAO,GAA0ZW,CAAmBX,GAAM,GAAGI,EAAK,OAAOA,EAAI,IAAIQ,EAAzZ,MAAK,GAAGd,GAAiB1G,OAAQ,OAAO0G,GAAiBe,MAAM,IAAI7H,EAAU6E,KAAK,EAAE,CAAC,MAAM9H,GAAK,KAAKA,aAAe+K,YAAa,MAAM/K,EAAI,KAAK,oDAAoD,CAAC,OAAOiD,EAAUI,OAAO,GAAgM2H,GAAoB,IAAIhB,GAAkBa,EAAIZ,EAAK,CAAC,MAAMjK,GAAK,KAAKA,aAAeiL,WAAY,MAAMjL,EAAI,IAAIkL,EAAjlD,EAACjB,EAAKG,KAAO,GAAgC,mBAAtBrI,YAAYoJ,SAAsB,OAAO,IAAIpJ,YAAYoJ,SAAzpBf,KAAgJ,IAA1I,IAAIgB,EAAU,CAACtE,EAAE,MAAMuE,EAAE,MAAMC,EAAE,MAAMC,EAAE,MAAMzJ,EAAE,YAAY0J,EAAE,OAAW/N,EAAK,CAACgO,WAAW,GAAGC,QAAgB,KAARtB,EAAI,GAAQ,GAAG,CAACgB,EAAUhB,EAAI,MAActD,EAAE,EAAEA,EAAEsD,EAAI/G,SAASyD,EAAGrJ,EAAKgO,WAAW3C,KAAKsC,EAAUhB,EAAItD,KAAK,OAAOrJ,GAAqckO,CAAevB,GAAKH,GAAM,IAAI2B,EAAgB,CAAC,GAAzd,EAACxB,EAAIP,KAAU,IAAIgC,EAAOzB,EAAI0B,MAAM,EAAE,GAAOC,EAAS3B,EAAI0B,MAAM,GAAOE,EAAU,CAAClF,EAAE,IAAI0E,EAAE,IAAIH,EAAE,IAAIC,EAAE,IAAIC,EAAE,IAAIzJ,EAAE,KAA2D,IAAI,IAAImK,KAA9DpC,EAAOf,KAAK,IAAIa,GAAcoC,EAAS1I,OAAOwG,GAA6BkC,GAAUlC,EAAOf,KAAKkD,EAAUC,IAAuB,KAARJ,EAAahC,EAAOf,KAAK,GAAQe,EAAOf,KAAK,EAAEkD,EAAUH,GAAQ,EAA0KK,CAAiB9B,EAAIwB,GAAiB,IAAIO,EAAM,CAAC,EAAE,GAAG,IAAI,IAAI,EAAE,EAAE,EAAE,EAAE,GAAGxC,GAAciC,EAAgBvI,OAAO8I,GAAOA,EAAMrD,QAAQ8C,GAAiBO,EAAMrD,KAAK,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,IAAIzM,EAAO,IAAI0F,YAAY/E,OAAO,IAAIyB,WAAW0N,IAAyG,OAApF,IAAIpK,YAAYqK,SAAS/P,EAAO,CAACyF,EAAE,CAACwJ,EAAErB,KAAiC7N,QAAW,CAASiQ,EAAumCC,CAAwBrC,EAAKG,GAAKJ,GAAkBa,EAAIK,EAAQ,CAAmC,OAAlChI,EAAoBgH,IAAID,EAAKY,GAAYA,GAAsW7N,EAAqB,aAAE+H,EAAa,IAA6SwH,GAAkCC,GAAuCC,GAAyCC,GAAqCC,GAAmCC,GAAsCC,GAA4CC,GAAgDC,GAAiDC,GAA2CC,GAA6CC,GAAwCC,GAA4CC,GAA8CC,GAAiDC,GAAuDC,GAAmDC,GAA2CC,GAAyCC,GAA8CC,GAA4CC,GAAiDC,GAAyCC,GAA8CC,GAA2CC,GAA8CC,GAAoCC,GAAgDC,GAAwCC,GAAwCC,GAAoDC,GAA2CC,GAA+CC,GAA4CC,GAAgDC,GAAwCC,GAAyCC,GAA8CC,GAA+CC,GAAwCC,GAAwCC,GAA6CC,GAA6CC,GAAiDC,GAA0CC,GAAsDC,GAAsDC,GAA0CC,GAAgDC,GAAoDC,GAAoDC,GAA6DC,GAAuDC,GAA8CC,GAAkDC,GAAqDC,GAAmDC,GAA2CC,GAAwCC,GAAwCC,GAAyCC,GAA0CC,GAAgDC,GAA0CC,GAA2CC,GAA8CC,GAA4CC,GAA6CC,GAAiDC,GAA0CC,GAAmCC,GAAmCC,GAAuCC,GAAoCC,GAAsCC,GAA4CC,GAAoCC,GAAuCC,GAAsCC,GAAgCC,GAAkCC,GAAmCC,GAAyCC,GAA2CC,GAA0CC,GAAuCC,GAAmCC,GAAuCC,GAAmCC,GAAmCC,GAAqCC,GAAiCC,GAAyCC,GAAmCC,GAA+CC,GAAiCC,GAAiCC,GAA0CC,GAA2CC,GAAwCC,GAAsDC,GAAsDC,GAAmEC,GAA2DC,GAAuDC,GAAuDC,GAA4DC,GAAuDC,GAAuDC,GAA4DC,GAAmDC,GAA2DC,GAA2DC,GAA4DC,GAAwDC,GAAmDC,GAAmDC,GAAwDC,GAA0CC,GAAyCC,GAAyDC,GAA0DC,GAA0DC,GAAsDC,GAAsDC,GAA8CC,GAA6CC,GAA4CC,GAA4CC,GAA4CC,GAAgDC,GAA4CC,GAA+CC,GAAmDC,GAA+CC,GAA4CC,GAAgDC,GAA4CC,GAA6CC,GAAiDC,GAA6CC,GAA2CC,GAA0CC,GAAmDC,GAAuDC,GAA4CC,GAA4CC,GAAyCC,GAAsCC,GAAsCC,GAA0CC,GAA0DC,GAAmDC,GAAgDC,GAAkDC,GAA+CC,GAA+CC,GAAmDC,GAAsDC,GAAmDC,GAAqDC,GAAuDC,GAAuDC,GAA2DC,GAAuDC,GAAuDC,GAA2DC,GAAsEC,GAAuDC,GAA+CC,GAA0CC,GAA0CC,GAAqDC,GAAyDC,GAAqDC,GAA0CC,GAA6CC,GAA+CC,GAA0CC,GAAsCC,GAAiDC,GAAqDC,GAAqDC,GAAwDC,GAA6CtX,GAA0BuX,GAAqBC,GAAuBlS,GAAjvRmS,GAAW,CAAC,OAAOC,IAAKlV,EAAU6E,KAAK,OAAO,IAAI,IAAIhB,EAAE,EAAEA,GAAG,MAAMA,IAAI7D,EAAUiH,IAAIjH,EAAUI,OAAO,MAAM,EAAEyD,EAAE7D,EAAUkH,IAAI1K,GAAS0Y,IAAK,GAAGrR,KAAK,OAAO7D,EAAUI,OAAO,MAAM,IAAgz9B+U,GAAY,CAACC,EAAzg2C,CAACjY,EAAUkY,EAASC,EAAKtO,IAAO3J,EAAM,qBAAqByE,EAAa3E,WAAmB,CAACkY,EAASvT,EAAauT,GAAU,mBAAmBC,EAAKtO,EAAKlF,EAAakF,GAAM,qBAA821CuO,EAA109B,SAAyBC,GAAK,MAAMzY,EAAI,IAAIhB,MAAM+F,EAAa0T,IAAwB,MAAlBzY,EAAI0Y,UAAS,EAAW1Y,CAAG,EAA4v9BiJ,EAAnu1C,SAAgC0P,EAAGtV,GAAQA,EAAO2B,EAAmB3B,EAAO,EAAgr1CuV,EAAhq1C,IAAItY,EAAM,IAAmq1C+K,EAAxl1C,KAAK5H,GAAc,EAAM0B,EAAwB,GAA8k1CqG,EAAhp0C,SAAwBqN,EAAKC,GAAOD,EAAK7T,EAAmB6T,GAAM,IAAItT,EAAK,IAAI6B,KAAU,IAALyR,GAAUrZ,EAAOsZ,GAAO,GAAGvT,EAAKwT,aAAavZ,EAAOsZ,EAAM,GAAG,GAAGvT,EAAKyT,aAAaxZ,EAAOsZ,EAAM,GAAG,GAAGvT,EAAK0T,WAAWzZ,EAAOsZ,EAAM,IAAI,GAAGvT,EAAKI,UAAUnG,EAAOsZ,EAAM,IAAI,GAAGvT,EAAKG,WAAWlG,EAAOsZ,EAAM,IAAI,GAAGvT,EAAKE,cAAc,KAAKjG,EAAOsZ,EAAM,IAAI,GAAGvT,EAAK2T,SAAS,IAAItT,EAAwB,EAAnBN,EAAaC,GAAQ/F,EAAOsZ,EAAM,IAAI,GAAGlT,EAAKpG,EAAOsZ,EAAM,IAAI,IAA8B,GAAzBvT,EAAK4T,oBAAwB,IAAIC,EAAM,IAAIhS,KAAK7B,EAAKE,cAAc,EAAE,GAAO4T,EAAa,IAAIjS,KAAK7B,EAAKE,cAAc,EAAE,GAAG0T,oBAAwBG,EAAaF,EAAMD,oBAAwBI,EAAgG,GAA3FF,GAAcC,GAAc/T,EAAK4T,qBAAqB1R,KAAK+R,IAAIF,EAAaD,IAAiB7Z,EAAOsZ,EAAM,IAAI,GAAGS,CAAG,EAAg8yCE,EAA/6yC,SAASX,GAAO,IAAIjO,EAAI,MAAM,IAAItF,EAAK,IAAI6B,KAAK5H,EAAOsZ,EAAM,IAAI,GAAG,KAAKtZ,EAAOsZ,EAAM,IAAI,GAAGtZ,EAAOsZ,EAAM,IAAI,GAAGtZ,EAAOsZ,EAAM,GAAG,GAAGtZ,EAAOsZ,EAAM,GAAG,GAAGtZ,EAAOsZ,GAAO,GAAG,GAAOS,EAAI/Z,EAAOsZ,EAAM,IAAI,GAAOY,EAAcnU,EAAK4T,oBAAwBC,EAAM,IAAIhS,KAAK7B,EAAKE,cAAc,EAAE,GAAO4T,EAAa,IAAIjS,KAAK7B,EAAKE,cAAc,EAAE,GAAG0T,oBAAwBG,EAAaF,EAAMD,oBAAwBQ,EAAUlS,KAAK+R,IAAIF,EAAaD,GAAc,GAAGE,EAAI,EAAG/Z,EAAOsZ,EAAM,IAAI,GAAG5T,OAAOmU,GAAcC,GAAcK,GAAWD,QAAoB,GAAGH,EAAI,IAAII,GAAWD,GAAe,CAAC,IAAIE,EAAanS,KAAKjH,IAAI8Y,EAAaD,GAAkBQ,EAAWN,EAAI,EAAEI,EAAUC,EAAarU,EAAKuU,QAAQvU,EAAKwU,UAAqC,KAA1BF,EAAWH,GAAmB,CAACla,EAAOsZ,EAAM,IAAI,GAAGvT,EAAK2T,SAAS,IAAItT,EAAwB,EAAnBN,EAAaC,GAAQ/F,EAAOsZ,EAAM,IAAI,GAAGlT,EAAKpG,EAAOsZ,GAAO,GAAGvT,EAAKwT,aAAavZ,EAAOsZ,EAAM,GAAG,GAAGvT,EAAKyT,aAAaxZ,EAAOsZ,EAAM,GAAG,GAAGvT,EAAK0T,WAAWzZ,EAAOsZ,EAAM,IAAI,GAAGvT,EAAKI,UAAUnG,EAAOsZ,EAAM,IAAI,GAAGvT,EAAKG,WAAWlG,EAAOsZ,EAAM,IAAI,GAAGvT,EAAKyU,UAAU,IAAIC,EAAO1U,EAAKwU,UAAU,OAAGG,MAAMD,IAAgB,EAASA,EAAO,GAAI,EAAhkC,GAAokC,OAAOE,OAAOtP,EAAI,EAA+0wCuP,EAA5/uC,CAACC,EAAMC,KAAoF,GAAnEzU,EAAOwU,KAAQE,aAAa1U,EAAOwU,GAAOG,WAAW3U,EAAOwU,KAAWC,EAAW,OAAO,EAAE,IAAIE,EAAGC,YAAW,YAAY5U,EAAOwU,GAAtSpQ,KAAO,IAAG/J,EAAc,IAAI+J,IAAnI,MAAK,IAAIjE,IAAoB,IAAIK,GAAMnH,EAAW,CAAC,MAAM4C,GAAGgE,EAAgBhE,EAAE,CAAC,EAA2D4Y,EAAW,CAAC,MAAM5Y,GAAGgE,EAAgBhE,EAAE,GAAmO6Y,EAAiB,IAAI3C,GAAqBqC,EAAM/T,OAAsB,GAAGgU,GAA0C,OAA9BzU,EAAOwU,GAAO,CAACG,KAAGF,cAAmB,GAAovuCM,EAA1/sC,CAACC,EAASC,EAASC,EAASC,KAAY,IAAIC,GAAY,IAAK7T,MAAM3B,cAAkByV,EAAO,IAAI9T,KAAK6T,EAAY,EAAE,GAAOE,EAAO,IAAI/T,KAAK6T,EAAY,EAAE,GAAO3B,EAAa4B,EAAO/B,oBAAwBE,EAAa8B,EAAOhC,oBAAwBiC,EAAkB3T,KAAKjH,IAAI8Y,EAAaD,GAAc5Z,EAAQob,GAAU,GAAqB,GAAlBO,EAAqB5b,EAAOsb,GAAU,GAAG5V,OAAOoU,GAAcD,GAAc,IAAIgC,EAAYC,IAAiB,IAAIC,EAAKD,GAAgB,EAAE,IAAI,IAAQE,EAAU/T,KAAKgU,IAAIH,GAA4H,MAAM,MAAMC,IAA9G3W,OAAO6C,KAAKiU,MAAMF,EAAU,KAAK5X,SAAS,EAAE,OAAiBgB,OAAO4W,EAAU,IAAI5X,SAAS,EAAE,MAAuC,EAAQ+X,EAAWN,EAAY/B,GAAkBsC,EAAWP,EAAYhC,GAAiBA,EAAaC,GAAcrS,GAAa0U,EAAWZ,EAAS,IAAI9T,GAAa2U,EAAWZ,EAAS,MAAS/T,GAAa0U,EAAWX,EAAS,IAAI/T,GAAa2U,EAAWb,EAAS,IAAG,EAAonrCnR,EAA9/qC,SAAyBiS,EAAOC,EAAkBC,GAA+D,GAAxDD,EAAkB9W,EAAmB8W,MAAjIE,EAAuKH,IAAnJ,GAAGG,GAAU,GAA+I,OAAO,GAAvLA,MAA8LxV,EAAmBA,EAAH,IAATqV,EAAgB1U,KAAmDb,KAAqC,IAAI2V,EAAKxU,KAAKyU,MAAU,IAAJ1V,EAAQ,KAAmC,OAA9B7G,EAAOoc,GAAO,GAAG5B,OAAO8B,GAAa,CAAC,EAA+rqCE,EAAvupC,CAACjW,EAAKkW,EAAOC,IAA1I,EAACnW,EAAKkW,EAAOC,KAAU,IAAIC,EAAzU,EAACF,EAAOG,KAAmC,IAAIzX,EAAG,IAAnCuC,GAAmBhE,OAAO,EAAeyB,EAAGvF,EAAO6c,MAAU,CAAC,IAAII,EAAS,KAAJ1X,EAAsByX,IAAdC,GAAU,KAAJ1X,IAAmByX,EAAI,EAAE,EAAE,EAAElV,GAAmByB,KAAS,KAAJhE,EAAQrF,EAAQ8c,GAAK,GAAO,KAAJzX,EAAQnF,EAAO4c,GAAK,GAAO,KAAJzX,EAAQtF,EAAO+c,GAAK,GAAG7c,EAAQ6c,GAAK,IAAIA,GAAKC,EAAK,EAAE,CAAC,CAAC,OAAOnV,IAAyEoV,CAAcL,EAAOC,GAAQ,OAAOnE,GAAWhS,MAASoW,EAAI,EAAuDI,CAAiBxW,EAAKkW,EAAOC,GAAgtpCM,EAAExV,GAAqByV,EAAj8oCC,IAAgB,IAAIC,EAAQvd,EAAO8D,OAA8B0Z,EAA5U,WAAqW,IAAhDF,KAAiB,GAAgDE,EAAa,OAAO,EAAM,IAAI,IAAIC,EAAQ,EAAEA,GAAS,EAAEA,GAAS,EAAE,CAAC,IAAIC,EAAkBH,GAAS,EAAE,GAAGE,GAASC,EAAkBxV,KAAK+R,IAAIyD,EAAkBJ,EAAc,WAAW,IAAIK,EAAQzV,KAAK+R,IAAIuD,EAAYzV,GAAYG,KAAKjH,IAAIqc,EAAcI,GAAmB,QAA4C,GAApBtV,GAAWuV,GAAyB,OAAO,CAAK,CAAC,OAAO,GAAmhoCC,EAAp/mC,CAACC,EAAUC,KAAe,IAAIC,EAAQ,EAAMC,EAAK,EAAE,IAAI,IAAIC,KAAUxV,KAAgB,CAAC,IAAItE,EAAI2Z,EAAYC,EAAQ7d,EAAQ2d,EAAUG,GAAM,GAAG7Z,EAAI4Z,GAASrW,GAAauW,EAAO9Z,EAAI+Z,KAAU,EAAEF,GAAM,CAAC,CAAC,OAAO,GAAszmCG,EAAzlmC,CAACC,EAAeC,KAAqB,IAAI3V,EAAQD,KAAgBvI,EAAQke,GAAgB,GAAG1V,EAAQ5E,OAAO,IAAIia,EAAQ,EAAE,IAAI,IAAIE,KAAUvV,EAASqV,GAASvU,GAAgByU,GAAQ,EAAwC,OAAtC/d,EAAQme,GAAmB,GAAGN,EAAe,GAA04lC/R,EAAz3lCoN,GAAI,GAAi4lCrN,EAAj3lC,CAACqN,EAAGkF,EAAIC,EAAOC,IAAO,GAAs2lChd,EAAn2lC,SAAkB4X,EAAGpO,EAAOyT,EAAOC,GAA6C,OAAlC1T,EAAOvF,EAAmBuF,GAAe,EAAE,EAAqxlCzI,EAAjjlC,CAAC6W,EAAGkF,EAAIC,EAAOC,KAAkB,IAAV,IAAzMG,EAAOC,EAAYnd,EAA0LiE,EAAI,EAAU6B,EAAE,EAAEA,EAAEgX,EAAOhX,IAAI,CAAC,IAAIpD,EAAIjE,EAAQoe,GAAK,GAAO7U,EAAIvJ,EAAQoe,EAAI,GAAG,GAAGA,GAAK,EAAE,IAAI,IAAIxS,EAAE,EAAEA,EAAErC,EAAIqC,IAAxT6S,EAAuUvF,EAAhUwF,EAAmU5e,EAAOmE,EAAI2H,GAAlUrK,WAAOmI,GAAiB+U,GAAkB,IAAPC,GAAiB,KAAPA,IAAqB,IAATD,EAAWte,EAAII,GAAK+D,EAAkB/C,IAASA,EAAOqC,OAAO,GAAOrC,EAAO8H,KAAKqV,GAA6LlZ,GAAK+D,CAAG,CAAsB,OAArBvJ,EAAQse,GAAM,GAAG9Y,EAAW,GAAi3kC6B,EAAEb,GAAgBmY,SAAt56Czf,iBAA4B,SAAS0f,EAAgBC,EAASjiB,GAAwL,OAAhL+hB,GAAYE,EAASliB,QAAQiD,EAAW+e,GAAe,EAAEtd,IAAoBmC,EAAUmb,GAAgB,GAA0qtB,SAA2BA,GAAaphB,EAAgB,QAAUohB,EAAe,EAAEphB,EAAc,MAAQohB,EAAe,EAAEphB,EAAc,MAAEuP,GAAM6R,EAAe,EAAEphB,EAAqB,aAAeohB,EAAe,EAAEphB,EAAuB,eAAiBohB,EAAe,EAAEphB,EAA+C,uCAAEwP,GAAuC4R,EAAe,EAAEphB,EAAiD,yCAAEyP,GAAyC2R,EAAe,EAAEphB,EAA6C,qCAAE0P,GAAqC0R,EAAe,EAAEphB,EAA2C,mCAAE2P,GAAmCyR,EAAe,EAAEphB,EAA8C,sCAAE4P,GAAsCwR,EAAe,EAAEphB,EAAoD,4CAAE6P,GAA4CuR,EAAe,EAAEphB,EAAwD,gDAAE8P,GAAgDsR,EAAe,EAAEphB,EAAyD,iDAAE+P,GAAiDqR,EAAe,EAAEphB,EAAmD,2CAAEgQ,GAA2CoR,EAAe,EAAEphB,EAAqD,6CAAEiQ,GAA6CmR,EAAe,EAAEphB,EAAgD,wCAAEkQ,GAAwCkR,EAAe,EAAEphB,EAAoD,4CAAEmQ,GAA4CiR,EAAe,EAAEphB,EAAsD,8CAAEoQ,GAA8CgR,EAAe,EAAEphB,EAAyD,iDAAEqQ,GAAiD+Q,EAAe,EAAEphB,EAA+D,uDAAEsQ,GAAuD8Q,EAAe,EAAEphB,EAA2D,mDAAEuQ,GAAmD6Q,EAAe,EAAEphB,EAAmD,2CAAEwQ,GAA2C4Q,EAAe,EAAEphB,EAAiD,yCAAEyQ,GAAyC2Q,EAAe,EAAEphB,EAAsD,8CAAE0Q,GAA8C0Q,EAAe,EAAEphB,EAAoD,4CAAE2Q,GAA4CyQ,EAAe,EAAEphB,EAAyD,iDAAE4Q,GAAiDwQ,EAAe,EAAEphB,EAAiD,yCAAE6Q,GAAyCuQ,EAAe,EAAEphB,EAAsD,8CAAE8Q,GAA8CsQ,EAAe,EAAEphB,EAAmD,2CAAE+Q,GAA2CqQ,EAAe,EAAEphB,EAAsD,8CAAEgR,GAA8CoQ,EAAe,EAAEphB,EAA4C,oCAAEiR,GAAoCmQ,EAAe,EAAEphB,EAAwD,gDAAEkR,GAAgDkQ,EAAe,EAAEphB,EAAgD,wCAAEmR,GAAwCiQ,EAAgB,GAAEphB,EAAgD,wCAAEoR,GAAwCgQ,EAAgB,GAAEphB,EAA4D,oDAAEqR,GAAoD+P,EAAgB,GAAEphB,EAAmD,2CAAEsR,GAA2C8P,EAAgB,GAAEphB,EAAuD,+CAAEuR,GAA+C6P,EAAgB,GAAEphB,EAAoD,4CAAEwR,GAA4C4P,EAAgB,GAAEphB,EAAwD,gDAAEyR,GAAgD2P,EAAgB,GAAEphB,EAAgD,wCAAE0R,GAAwC0P,EAAgB,GAAEphB,EAAiD,yCAAE2R,GAAyCyP,EAAgB,GAAEphB,EAAsD,8CAAE4R,GAA8CwP,EAAgB,GAAEphB,EAAuD,+CAAE6R,GAA+CuP,EAAgB,GAAEphB,EAAgD,wCAAE8R,GAAwCsP,EAAgB,GAAEphB,EAAgD,wCAAE+R,GAAwCqP,EAAgB,GAAEphB,EAAqD,6CAAEgS,GAA6CoP,EAAgB,GAAEphB,EAAqD,6CAAEiS,GAA6CmP,EAAgB,GAAEphB,EAAyD,iDAAEkS,GAAiDkP,EAAgB,GAAEphB,EAAkD,0CAAEmS,GAA0CiP,EAAgB,GAAEphB,EAA8D,sDAAEoS,GAAsDgP,EAAgB,GAAEphB,EAA8D,sDAAEqS,GAAsD+O,EAAgB,GAAEphB,EAAkD,0CAAEsS,GAA0C8O,EAAgB,GAAEphB,EAAwD,gDAAEuS,GAAgD6O,EAAgB,GAAEphB,EAA4D,oDAAEwS,GAAoD4O,EAAgB,GAAEphB,EAA4D,oDAAEyS,GAAoD2O,EAAgB,GAAEphB,EAAqE,6DAAE0S,GAA6D0O,EAAgB,GAAEphB,EAA+D,uDAAE2S,GAAuDyO,EAAgB,GAAEphB,EAAsD,8CAAE4S,GAA8CwO,EAAgB,GAAEphB,EAA0D,kDAAE6S,GAAkDuO,EAAgB,GAAEphB,EAA6D,qDAAE8S,GAAqDsO,EAAgB,GAAEphB,EAA2D,mDAAE+S,GAAmDqO,EAAgB,GAAEphB,EAAmD,2CAAEgT,GAA2CoO,EAAgB,GAAEphB,EAAgD,wCAAEiT,GAAwCmO,EAAgB,GAAEphB,EAAgD,wCAAEkT,GAAwCkO,EAAgB,GAAEphB,EAAiD,yCAAEmT,GAAyCiO,EAAgB,GAAEphB,EAAkD,0CAAEoT,GAA0CgO,EAAgB,GAAEphB,EAAwD,gDAAEqT,GAAgD+N,EAAgB,GAAEphB,EAAkD,0CAAEsT,GAA0C8N,EAAgB,GAAEphB,EAAmD,2CAAEuT,GAA2C6N,EAAgB,GAAEphB,EAAsD,8CAAEwT,GAA8C4N,EAAgB,GAAEphB,EAAoD,4CAAEyT,GAA4C2N,EAAgB,GAAEphB,EAAqD,6CAAE0T,GAA6C0N,EAAgB,GAAEphB,EAAyD,iDAAE2T,GAAiDyN,EAAgB,GAAEphB,EAAkD,0CAAE4T,GAA0CwN,EAAgB,GAAEphB,EAA2C,mCAAE6T,GAAmCuN,EAAgB,GAAEphB,EAA2C,mCAAE8T,GAAmCsN,EAAgB,GAAEphB,EAA+C,uCAAE+T,GAAuCqN,EAAgB,GAAEphB,EAA4C,oCAAEgU,GAAoCoN,EAAgB,GAAEphB,EAA8C,sCAAEiU,GAAsCmN,EAAgB,GAAEphB,EAAoD,4CAAEkU,GAA4CkN,EAAgB,GAAEphB,EAA4C,oCAAEmU,GAAoCiN,EAAgB,GAAEphB,EAA+C,uCAAEoU,GAAuCgN,EAAgB,GAAEphB,EAA8C,sCAAEqU,GAAsC+M,EAAgB,GAAEphB,EAAwC,gCAAEsU,GAAgC8M,EAAgB,GAAEphB,EAA0C,kCAAEuU,GAAkC6M,EAAgB,GAAEphB,EAA2C,mCAAEwU,GAAmC4M,EAAgB,GAAEphB,EAAiD,yCAAEyU,GAAyC2M,EAAgB,GAAEphB,EAAmD,2CAAE0U,GAA2C0M,EAAgB,GAAEphB,EAAkD,0CAAE2U,GAA0CyM,EAAgB,GAAEphB,EAA+C,uCAAE4U,GAAuCwM,EAAgB,GAAEphB,EAA2C,mCAAE6U,GAAmCuM,EAAgB,GAAEphB,EAA+C,uCAAE8U,GAAuCsM,EAAgB,GAAEphB,EAA2C,mCAAE+U,GAAmCqM,EAAgB,GAAEphB,EAA2C,mCAAEgV,GAAmCoM,EAAgB,GAAEphB,EAA6C,qCAAEiV,GAAqCmM,EAAgB,GAAEphB,EAAyC,iCAAEkV,GAAiCkM,EAAgB,GAAEphB,EAAiD,yCAAEmV,GAAyCiM,EAAgB,GAAEphB,EAA2C,mCAAEoV,GAAmCgM,EAAgB,GAAEphB,EAAuD,+CAAEqV,GAA+C+L,EAAgB,GAAEphB,EAAyC,iCAAEsV,GAAiC8L,EAAgB,GAAEphB,EAAyC,iCAAEuV,GAAiC6L,EAAgB,GAAEphB,EAAkD,0CAAEwV,GAA0C4L,EAAgB,GAAEphB,EAAmD,2CAAEyV,GAA2C2L,EAAgB,GAAEphB,EAAgD,wCAAE0V,GAAwC0L,EAAgB,GAAEphB,EAA8D,sDAAE2V,GAAsDyL,EAAgB,GAAEphB,EAA8D,sDAAE4V,GAAsDwL,EAAgB,GAAEphB,EAA2E,mEAAE6V,GAAmEuL,EAAgB,GAAEphB,EAAmE,2DAAE8V,GAA2DsL,EAAgB,GAAEphB,EAA+D,uDAAE+V,GAAuDqL,EAAgB,GAAEphB,EAA+D,uDAAEgW,GAAuDoL,EAAgB,GAAEphB,EAAoE,4DAAEiW,GAA4DmL,EAAgB,GAAEphB,EAA+D,uDAAEkW,GAAuDkL,EAAgB,GAAEphB,EAA+D,uDAAEmW,GAAuDiL,EAAgB,GAAEphB,EAAoE,4DAAEoW,GAA4DgL,EAAgB,GAAEphB,EAA2D,mDAAEqW,GAAmD+K,EAAgB,GAAEphB,EAAmE,2DAAEsW,GAA2D8K,EAAgB,GAAEphB,EAAmE,2DAAEuW,GAA2D6K,EAAgB,GAAEphB,EAAoE,4DAAEwW,GAA4D4K,EAAgB,GAAEphB,EAAgE,wDAAEyW,GAAwD2K,EAAgB,GAAEphB,EAA2D,mDAAE0W,GAAmD0K,EAAgB,GAAEphB,EAA2D,mDAAE2W,GAAmDyK,EAAgB,GAAEphB,EAAgE,wDAAE4W,GAAwDwK,EAAgB,GAAEphB,EAAkD,0CAAE6W,GAA0CuK,EAAgB,GAAEphB,EAAiD,yCAAE8W,GAAyCsK,EAAgB,GAAEphB,EAAiE,yDAAE+W,GAAyDqK,EAAgB,GAAEphB,EAAkE,0DAAEgX,GAA0DoK,EAAgB,GAAEphB,EAAkE,0DAAEiX,GAA0DmK,EAAgB,GAAEphB,EAA8D,sDAAEkX,GAAsDkK,EAAgB,GAAEphB,EAA8D,sDAAEmX,GAAsDiK,EAAgB,GAAEphB,EAAsD,8CAAEoX,GAA8CgK,EAAgB,GAAEphB,EAAqD,6CAAEqX,GAA6C+J,EAAgB,GAAEphB,EAAoD,4CAAEsX,GAA4C8J,EAAgB,GAAEphB,EAAoD,4CAAEuX,GAA4C6J,EAAgB,GAAEphB,EAAoD,4CAAEwX,GAA4C4J,EAAgB,GAAEphB,EAAwD,gDAAEyX,GAAgD2J,EAAgB,GAAEphB,EAAoD,4CAAE0X,GAA4C0J,EAAgB,GAAEphB,EAAuD,+CAAE2X,GAA+CyJ,EAAgB,GAAEphB,EAA2D,mDAAE4X,GAAmDwJ,EAAgB,GAAEphB,EAAuD,+CAAE6X,GAA+CuJ,EAAgB,GAAEphB,EAAoD,4CAAE8X,GAA4CsJ,EAAgB,GAAEphB,EAAwD,gDAAE+X,GAAgDqJ,EAAgB,GAAEphB,EAAoD,4CAAEgY,GAA4CoJ,EAAgB,GAAEphB,EAAqD,6CAAEiY,GAA6CmJ,EAAgB,GAAEphB,EAAyD,iDAAEkY,GAAiDkJ,EAAgB,GAAEphB,EAAqD,6CAAEmY,GAA6CiJ,EAAgB,GAAEphB,EAAmD,2CAAEoY,GAA2CgJ,EAAgB,GAAEphB,EAAkD,0CAAEqY,GAA0C+I,EAAgB,GAAEphB,EAA2D,mDAAEsY,GAAmD8I,EAAgB,GAAEphB,EAA+D,uDAAEuY,GAAuD6I,EAAgB,GAAEphB,EAAoD,4CAAEwY,GAA4C4I,EAAgB,GAAEphB,EAAoD,4CAAEyY,GAA4C2I,EAAgB,GAAEphB,EAAiD,yCAAE0Y,GAAyC0I,EAAgB,GAAEphB,EAA8C,sCAAE2Y,GAAsCyI,EAAgB,GAAEphB,EAA8C,sCAAE4Y,GAAsCwI,EAAgB,GAAEphB,EAAkD,0CAAE6Y,GAA0CuI,EAAgB,GAAEphB,EAAkE,0DAAE8Y,GAA0DsI,EAAgB,GAAEphB,EAA2D,mDAAE+Y,GAAmDqI,EAAgB,GAAEphB,EAAwD,gDAAEgZ,GAAgDoI,EAAgB,GAAEphB,EAA0D,kDAAEiZ,GAAkDmI,EAAgB,GAAEphB,EAAuD,+CAAEkZ,GAA+CkI,EAAgB,GAAEphB,EAAuD,+CAAEmZ,GAA+CiI,EAAgB,GAAEphB,EAA2D,mDAAEoZ,GAAmDgI,EAAgB,GAAEphB,EAA8D,sDAAEqZ,GAAsD+H,EAAgB,GAAEphB,EAA2D,mDAAEsZ,GAAmD8H,EAAgB,GAAEphB,EAA6D,qDAAEuZ,GAAqD6H,EAAgB,GAAEphB,EAA+D,uDAAEwZ,GAAuD4H,EAAgB,GAAEphB,EAA+D,uDAAEyZ,GAAuD2H,EAAgB,GAAEphB,EAAmE,2DAAE0Z,GAA2D0H,EAAgB,GAAEphB,EAA+D,uDAAE2Z,GAAuDyH,EAAgB,GAAEphB,EAA+D,uDAAE4Z,GAAuDwH,EAAgB,GAAEphB,EAAmE,2DAAE6Z,GAA2DuH,EAAgB,GAAEphB,EAA8E,sEAAE8Z,GAAsEsH,EAAgB,GAAEphB,EAA+D,uDAAE+Z,GAAuDqH,EAAgB,GAAEphB,EAAuD,+CAAEga,GAA+CoH,EAAgB,GAAEphB,EAAkD,0CAAEia,GAA0CmH,EAAgB,GAAEphB,EAAkD,0CAAEka,GAA0CkH,EAAgB,GAAEphB,EAA6D,qDAAEma,GAAqDiH,EAAgB,GAAEphB,EAAiE,yDAAEoa,GAAyDgH,EAAgB,GAAEphB,EAA6D,qDAAEqa,GAAqD+G,EAAgB,GAAEphB,EAAkD,0CAAEsa,GAA0C8G,EAAgB,GAAEphB,EAAqD,6CAAEua,GAA6C6G,EAAgB,GAAEphB,EAAuD,+CAAEwa,GAA+C4G,EAAgB,GAAEphB,EAAkD,0CAAEya,GAA0C2G,EAAgB,GAAEphB,EAA8C,sCAAE0a,GAAsC0G,EAAgB,GAAEphB,EAAyD,iDAAE2a,GAAiDyG,EAAgB,GAAEphB,EAA6D,qDAAE4a,GAAqDwG,EAAgB,GAAEphB,EAA6D,qDAAE6a,GAAqDuG,EAAgB,GAAEphB,EAAgE,wDAAE8a,GAAwDsG,EAAgB,GAAEphB,EAAqD,6CAAE+a,GAA6CqG,EAAgB,GAAE3d,GAA0B2d,EAAgB,GAAEpG,GAAqBoG,EAAgB,GAAEnG,GAAuBmG,EAAgB,GAAErY,GAA8BqY,EAAgB,GAAEphB,EAAyB,iBAAmBohB,EAAgB,EAAC,CAAr25CG,CAAkBH,IAAp0D,SAA6B5D,GAA0E,GAAtE7Y,IAAkB3E,EAA+B,yBAAI2E,GAAqC,GAAjBA,GAAuBC,EAAsB,CAAC,IAAI4c,EAAS5c,EAAsBA,EAAsB,KAAK4c,GAAU,CAAE,CAA+mDC,GAA+CL,EAAW,CAAj9Dzc,IAAkB3E,EAA+B,yBAAI2E,GAAyhE,IAA5rJ+c,EAAgsJC,EAAzZ,CAACtG,EAAED,IAA4a,OAAGpb,EAAwB,gBAAU,IAAI4hB,SAAQ,CAACC,EAAQC,KAAU9hB,EAAwB,gBAAE2hB,GAAK,CAACI,EAAIC,KAAQH,EAAQR,EAAgBU,GAAS,GAAE,KAAIrd,KAA72Jgd,EAA6qG,sBAApqG1hB,EAAmB,WAAUA,EAAmB,WAAE0hB,EAAKzgB,GAAwBA,EAAgBygB,GAAgjJL,SAAwQpc,EAAiBhD,EAAWyC,EAAeid,IAAlR,UAAqV,CAAit5CM,GAAg+B,SAASC,KAAgB,CAAmO,SAASC,GAASC,GAAW,OAAOA,GAAWF,IAAeG,SAAS,CAA6B,SAASC,GAAY5b,EAAI0b,GAAW,IAAIG,EAAMJ,GAASC,GAAevU,EAAI0U,EAAM7b,GAAK,OAAGmH,KAAeA,EAAI2U,OAAOC,QAAQL,GAAWF,IAAeQ,YAAehc,IAAIA,EAAW6b,EAAM7b,GAAKmH,EAAG,EAAvuB,WAAmB,GAAG7N,EAAgB,QAAiF,IAAjD,mBAAnBA,EAAgB,UAAcA,EAAgB,QAAE,CAACA,EAAgB,UAASA,EAAgB,QAAEqG,OAAO,GAAGrG,EAAgB,QAAEsG,OAAlBtG,EAA6B,CAAC2iB,GAAttB,SAASC,IAA8I,SAASC,IAAQ7iB,EAAkB,WAAE,EAAQkD,IAAx//CW,GAAmB,EAAKN,IAAmB4C,EAAqBuG,IAAS0U,GAAe,IAAuB7d,IAA86/CpB,IAAsBnC,GAAQA,EAA6B,yBAAuBA,EAAqB,cAA7jB,WAAoB,IAAI8iB,EAAcvT,GAA4B,IAAI,IAAI1B,EAAIiV,EAAzB,EAAW,GAAwD,OAAjB3Z,EAAO0E,GAAiBA,CAAG,CAAC,MAAM/I,GAAG,OAAOgE,EAAgBhE,EAAE,CAAC,CAAibie,GAA5hgD,WAAsC,GAAnBxf,IAAsBvD,EAAgB,QAAiF,IAAjD,mBAAnBA,EAAgB,UAAcA,EAAgB,QAAE,CAACA,EAAgB,UAASA,EAAgB,QAAEqG,QAAs0F2c,EAAjzFhjB,EAAgB,QAAEsG,QAAmyFC,EAAWuF,KAAKkX,GAApBA,MAArxF7c,EAAqBI,EAAW,CAAoz/C0c,GAAS,CAApc,IAAxmiDzf,EAAgsiDmB,EAAgB,EAAGC,EAAsBge,GAAvG3H,KAA1liD,IAAxCzX,EAAIC,QAAuCD,GAAK,GAAEf,EAAQe,GAAK,GAAG,SAASf,EAAQe,EAAI,GAAG,GAAG,WAAWf,EAAQ,GAAM,WAAqhC,WAAkB,GAAGzC,EAAe,OAA8E,IAA/C,mBAAlBA,EAAe,SAAcA,EAAe,OAAE,CAACA,EAAe,SAASA,EAAe,OAAEqG,QAAywG2c,EAArvGhjB,EAAe,OAAEsG,QAAwuGE,EAAUsF,KAAKkX,GAAnBA,MAA1tG7c,EAAqBK,EAAU,CAAm6/C0c,GAAYve,EAAgB,EAAGC,EAAsBge,GAAsP5iB,EAAkB,WAAGA,EAAkB,UAAE,cAAcyd,YAAW,KAAKA,YAAW,IAAIzd,EAAkB,UAAE,KAAI,GAAG6iB,GAAM,GAAG,IAAQA,IAAQtf,KAAkB,CAAkMqf,GAAgCV,GAAcQ,UAAUF,OAAOC,OAAOP,GAAcQ,WAAWR,GAAcQ,UAAU5c,YAAYoc,GAAcA,GAAcQ,UAAUN,UAAUF,GAAcA,GAAcG,UAAU,CAAC,EAAEriB,EAAsB,cAAEkiB,GAAsFliB,EAAiB,SAAEmiB,GAA0MniB,EAAoB,YAAEsiB,GAAqFtiB,EAAmB,WAA5F,SAAoBmjB,EAAIf,GAAW,OAAOE,GAAYa,EAAIzc,IAAI0b,EAAU,EAAiCpiB,EAAa,KAAEsiB,GAAY,GAAgLtiB,EAAgB,QAA7L,SAAiBmjB,GAAK,IAAIA,EAAiB,YAAE,KAAK,8DAA8DA,EAAiB,qBAAWhB,GAASgB,EAAIf,WAAWe,EAAIzc,IAAI,EAAkF1G,EAAgB,QAAvE,SAAiBojB,EAAKC,GAAM,OAAOD,EAAK1c,MAAM2c,EAAK3c,GAAG,EAAmE1G,EAAmB,WAA3D,SAAoBmjB,GAAK,OAAOA,EAAIzc,GAAG,EAA6E1G,EAAiB,SAA7D,SAAkBmjB,GAAK,OAAOA,EAAIf,SAAS,EAA6B,IAAIkB,GAAY,CAACtf,OAAO,EAAEuG,KAAK,EAAEgZ,IAAI,EAAEC,MAAM,GAAGC,OAAO,EAAE,OAAAC,GAAU,GAAGJ,GAAYG,OAAO,CAAC,IAAI,IAAI3Z,EAAE,EAAEA,EAAEwZ,GAAYE,MAAMnd,OAAOyD,IAAK9J,EAAqB,aAAEsjB,GAAYE,MAAM1Z,IAAIwZ,GAAYE,MAAMnd,OAAO,EAAErG,EAAqB,aAAEsjB,GAAYtf,QAAQsf,GAAYtf,OAAO,EAAEsf,GAAY/Y,MAAM+Y,GAAYG,OAAOH,GAAYG,OAAO,CAAC,CAAKH,GAAYtf,SAAQsf,GAAY/Y,MAAM,IAAI+Y,GAAYtf,OAAOhE,EAAuB,eAAEsjB,GAAY/Y,MAAMpH,EAAOmgB,GAAYtf,SAAQsf,GAAYC,IAAI,CAAC,EAAE,KAAAI,CAAMC,EAAMC,GAAM1gB,EAAOmgB,GAAYtf,QAAQ,IAAuF6J,EAAnFsB,EAAM0U,EAAKC,kBAAsB9X,EAAI4X,EAAMvd,OAAO8I,EAAoP,OAA9OnD,EAAI1B,GAAY0B,EAAI,GAAcsX,GAAYC,IAAIvX,GAAKsX,GAAY/Y,MAAMpH,EAAO6I,EAAI,GAAGsX,GAAYG,QAAQzX,EAAI6B,EAAI7N,EAAuB,eAAEgM,GAAKsX,GAAYE,MAAM1X,KAAK+B,KAAUA,EAAIyV,GAAYtf,OAAOsf,GAAYC,IAAID,GAAYC,KAAKvX,GAAW6B,CAAG,EAAE,IAAAkW,CAAKH,EAAMC,EAAKtW,GAAQA,GAAQsW,EAAKC,kBAAkB,IAAI,IAAIha,EAAE,EAAEA,EAAE8Z,EAAMvd,OAAOyD,IAAK+Z,EAAKtW,EAAOzD,GAAG8Z,EAAM9Z,EAAG,GAAG,SAASka,GAAaC,GAAO,GAAkB,iBAARA,EAAiB,CAAC,IAAIC,EAAS9X,GAAmB6X,GAAW1W,EAAO+V,GAAYK,MAAMO,EAAS5hB,GAA+C,OAAxCghB,GAAYS,KAAKG,EAAS5hB,EAAMiL,GAAeA,CAAM,CAAC,OAAO0W,CAAK,CAAC,SAASE,KAAU,KAAK,mDAAmD,CAA6T,SAASC,KAAare,KAAKW,IAAI+I,KAA2C0S,GAASiC,IAAYre,KAAKW,KAAKX,IAAI,CAA09c,SAASse,GAAQrgB,EAAOuG,GAASvG,GAAwB,iBAATA,IAAkBA,EAAOA,EAAO0C,KAAO6D,GAAoB,iBAAPA,IAAgBA,EAAKA,EAAK7D,KAAIX,KAAKW,IAAImN,GAAmC7P,EAAOuG,GAAM4X,GAASkC,IAASte,KAAKW,KAAKX,IAAI,CAAyzC,SAASue,KAAQ,KAAK,iDAAiD,CAA68D,SAASC,KAAW,KAAK,oDAAoD,CAAknD,SAASC,KAA8B,KAAK,uEAAuE,CAA0nC,SAASC,KAA+B,KAAK,wEAAwE,CAAkmC,SAASC,KAA+B,KAAK,wEAAwE,CAAw5B,SAASC,KAA2B,KAAK,oEAAoE,CAA64C,SAASC,KAA2B,KAAK,oEAAoE,CAAo1B,SAASC,KAAiB,KAAK,0DAA0D,CAAo1D,SAASC,KAAe/e,KAAKW,IAAI2Q,KAA+C8K,GAAS2C,IAAc/e,KAAKW,KAAKX,IAAI,CAAm9I,SAASgf,GAAWlf,GAAMyd,GAAYI,UAA0C7d,EAA7BA,GAAoB,iBAAPA,EAAqBA,EAAKa,IAAcsd,GAAane,GAAME,KAAKW,IAAIgS,GAAyC7S,GAAMsc,GAAS4C,IAAYhf,KAAKW,KAAKX,IAAI,CAA+oB,SAASif,KAA0B,KAAK,mEAAmE,CAA49H,SAASC,GAAcC,EAAK3a,EAAK4a,GAAcD,GAAoB,iBAAPA,IAAgBA,EAAKA,EAAKxe,KAAO6D,GAAoB,iBAAPA,IAAgBA,EAAKA,EAAK7D,KAAOye,GAA8B,iBAAZA,IAAqBA,EAAUA,EAAUze,KAAIX,KAAKW,IAAIsT,GAA+CkL,EAAK3a,EAAK4a,GAAWhD,GAAS8C,IAAelf,KAAKW,KAAKX,IAAI,CAAk8C,SAASqf,GAAcC,EAAWrhB,GAAWqhB,GAAgC,iBAAbA,IAAsBA,EAAWA,EAAW3e,KAAO1C,GAAwB,iBAATA,IAAkBA,EAAOA,EAAO0C,KAAIX,KAAKW,IAAI8T,GAA+C6K,EAAWrhB,GAAQme,GAASiD,IAAerf,KAAKW,KAAKX,IAAI,CAGz15F,OAH46qDoe,GAAQzB,UAAUF,OAAOC,OAAOP,GAAcQ,WAAWyB,GAAQzB,UAAU5c,YAAYqe,GAAQA,GAAQzB,UAAUN,UAAU+B,GAAQA,GAAQ9B,UAAU,CAAC,EAAEriB,EAAgB,QAAEmkB,GAAQA,GAAQzB,UAAuB,YAAEyB,GAAQzB,UAAU4C,YAAY,WAAW,IAAI9lB,EAAKuG,KAAKW,IAAI8I,GAAuChQ,EAAK,EAAgH4kB,GAAW1B,UAAUF,OAAOC,OAAOP,GAAcQ,WAAW0B,GAAW1B,UAAU5c,YAAYse,GAAWA,GAAW1B,UAAUN,UAAUgC,GAAWA,GAAW/B,UAAU,CAAC,EAAEriB,EAAmB,WAAEokB,GAAWA,GAAW1B,UAAkB,OAAE0B,GAAW1B,UAAU6C,OAAO,SAAShb,GAAM,IAAI/K,EAAKuG,KAAKW,IAAkD,OAA3C6D,GAAoB,iBAAPA,IAAgBA,EAAKA,EAAK7D,KAAW4b,GAAY5S,GAAqClQ,EAAK+K,GAAM4Z,GAAQ,EAAEC,GAAW1B,UAAgB,KAAE0B,GAAW1B,UAAU8C,KAAK,SAASxhB,GAAQ,IAAIxE,EAAKuG,KAAKW,IAAO1C,GAAwB,iBAATA,IAAkBA,EAAOA,EAAO0C,KAAIiJ,GAAmCnQ,EAAKwE,EAAO,EAAEogB,GAAW1B,UAAmB,QAAE0B,GAAW1B,UAAU+C,QAAQ,WAAW,IAAIjmB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAY1S,GAAsCpQ,GAAM2kB,GAAQ,EAAEC,GAAW1B,UAAyB,cAAE0B,GAAW1B,UAAUgD,cAAc,SAASC,GAAS,IAAInmB,EAAKuG,KAAKW,IAAOif,GAA0B,iBAAVA,IAAmBA,EAAQA,EAAQjf,KAAImJ,GAA4CrQ,EAAKmmB,EAAQ,EAAEvB,GAAW1B,UAA6B,kBAAE0B,GAAW1B,UAAUkD,kBAAkB,SAAS5hB,EAAOuG,EAAKsb,GAAY,IAAIrmB,EAAKuG,KAAKW,IAA6O,OAAzO4c,GAAYI,UAAa1f,GAAwB,iBAATA,IAAkBA,EAAOA,EAAO0C,KAAO6D,GAAoB,iBAAPA,IAAgBA,EAAKA,EAAK7D,KAAgDmf,EAAzCA,GAAgC,iBAAbA,EAAiCA,EAAWnf,IAAoBsd,GAAa6B,KAAoB/V,GAAgDtQ,EAAKwE,EAAOuG,EAAKsb,EAAW,EAAEzB,GAAW1B,UAA8B,mBAAE0B,GAAW1B,UAAUoD,mBAAmB,WAAW,IAAItmB,EAAKuG,KAAKW,IAAI,OAAOqJ,GAAiDvQ,EAAK,EAAE4kB,GAAW1B,UAAwB,aAAE0B,GAAW1B,UAAUqD,aAAa,SAASC,GAAQ,IAAIxmB,EAAKuG,KAAKW,IAA0D,OAAnDsf,GAAwB,iBAATA,IAAkBA,EAAOA,EAAOtf,KAAWsJ,GAA2CxQ,EAAKwmB,EAAO,EAAE5B,GAAW1B,UAA0B,eAAE0B,GAAW1B,UAAUuD,eAAe,SAASC,GAAa,IAAI1mB,EAAKuG,KAAKW,IAAOwf,GAAkC,iBAAdA,IAAuBA,EAAYA,EAAYxf,KAAIuJ,GAA6CzQ,EAAK0mB,EAAY,EAAE9B,GAAW1B,UAAqB,UAAE0B,GAAW1B,UAAUyD,UAAU,WAAW,IAAI3mB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAYpS,GAAwC1Q,GAAM8kB,GAAM,EAAEF,GAAW1B,UAAyB,cAAE0B,GAAW1B,UAAU0D,cAAc,WAAW,IAAI5mB,EAAKuG,KAAKW,IAAI,QAAQyJ,GAA4C3Q,EAAK,EAAE4kB,GAAW1B,UAA2B,gBAAE0B,GAAW1B,UAAU2D,gBAAgB,WAAW,IAAI7mB,EAAKuG,KAAKW,IAAI0J,GAA8C5Q,EAAK,EAAE4kB,GAAW1B,UAA8B,mBAAE0B,GAAW1B,UAAU4D,mBAAmB,SAASC,GAAU,IAAI/mB,EAAKuG,KAAKW,IAA6H,OAAzH4c,GAAYI,UAAkD6C,EAArCA,GAA4B,iBAAXA,EAA6BA,EAAS7f,IAAkBsd,GAAauC,GAAiBlW,GAAiD7Q,EAAK+mB,EAAS,EAAEnC,GAAW1B,UAAoC,yBAAE0B,GAAW1B,UAAU8D,yBAAyB,SAASD,GAAU,IAAI/mB,EAAKuG,KAAKW,IAA6H,OAAzH4c,GAAYI,UAAkD6C,EAArCA,GAA4B,iBAAXA,EAA6BA,EAAS7f,IAAkBsd,GAAauC,GAAiBjW,GAAuD9Q,EAAK+mB,EAAS,EAAEnC,GAAW1B,UAAgC,qBAAE0B,GAAW1B,UAAU+D,qBAAqB,SAASF,GAAU,IAAI/mB,EAAKuG,KAAKW,IAA6H,OAAzH4c,GAAYI,UAAkD6C,EAArCA,GAA4B,iBAAXA,EAA6BA,EAAS7f,IAAkBsd,GAAauC,GAAiBhW,GAAmD/Q,EAAK+mB,EAAS,EAAEnC,GAAW1B,UAAwB,aAAE0B,GAAW1B,UAAUgE,aAAa,SAAS7a,EAAE8a,GAAG,IAAInnB,EAAKuG,KAAKW,IAAOmF,GAAc,iBAAJA,IAAaA,EAAEA,EAAEnF,KAAOigB,GAAc,iBAAJA,IAAaA,EAAEA,EAAEjgB,KAAI8J,GAA2ChR,EAAKqM,EAAE8a,EAAE,EAAEvC,GAAW1B,UAAsB,WAAE0B,GAAW1B,UAAUkE,WAAW,WAAW,IAAIpnB,EAAKuG,KAAKW,IAAI+J,GAAyCjR,EAAK,EAAE4kB,GAAW1B,UAA2B,gBAAE0B,GAAW1B,UAAUmE,gBAAgB,SAASrJ,GAAI,IAAIhe,EAAKuG,KAAKW,IAAO8W,GAAgB,iBAALA,IAAcA,EAAGA,EAAG9W,KAAIgK,GAA8ClR,EAAKge,EAAG,EAAE4G,GAAW1B,UAAyB,cAAE0B,GAAW1B,UAAUoE,cAAc,SAAStJ,GAAI,IAAIhe,EAAKuG,KAAKW,IAAO8W,GAAgB,iBAALA,IAAcA,EAAGA,EAAG9W,KAAIiK,GAA4CnR,EAAKge,EAAG,EAAE4G,GAAW1B,UAA8B,mBAAE0B,GAAW1B,UAAUqE,mBAAmB,SAAS9a,EAAE+a,GAAM,IAAIxnB,EAAKuG,KAAKW,IAAOuF,GAAc,iBAAJA,IAAaA,EAAEA,EAAEvF,KAAOsgB,GAAoB,iBAAPA,IAAgBA,EAAKA,EAAKtgB,KAAIkK,GAAiDpR,EAAKyM,EAAE+a,EAAK,EAAE5C,GAAW1B,UAAsB,WAAE0B,GAAW1B,UAAUuE,WAAW,WAAW,IAAIznB,EAAKuG,KAAKW,IAAI,QAAQmK,GAAyCrR,EAAK,EAAE4kB,GAAW1B,UAA2B,gBAAE0B,GAAW1B,UAAUwE,gBAAgB,WAAW,IAAI1nB,EAAKuG,KAAKW,IAAI,QAAQoK,GAA8CtR,EAAK,EAAE4kB,GAAW1B,UAAwB,aAAE0B,GAAW1B,UAAUyE,aAAa,WAAW,IAAI3nB,EAAKuG,KAAKW,IAAI,OAAOqK,GAA2CvR,EAAK,EAAE4kB,GAAW1B,UAA2B,gBAAE0B,GAAW1B,UAAU0E,gBAAgB,WAAW,IAAI5nB,EAAKuG,KAAKW,IAAI,QAAQsK,GAA8CxR,EAAK,EAAE4kB,GAAW1B,UAAiB,MAAE0B,GAAW1B,UAAU2E,MAAM,WAAW,IAAI7nB,EAAKuG,KAAKW,IAAIuK,GAAoCzR,EAAK,EAAE4kB,GAAW1B,UAA6B,kBAAE0B,GAAW1B,UAAU4E,kBAAkB,WAAW,IAAI9nB,EAAKuG,KAAKW,IAAIwK,GAAgD1R,EAAK,EAAE4kB,GAAW1B,UAAqB,UAAE0B,GAAW1B,UAAU6E,UAAU,WAAW,IAAI/nB,EAAKuG,KAAKW,IAAIyK,GAAwC3R,EAAK,EAAE4kB,GAAW1B,UAAqB,UAAE0B,GAAW1B,UAAU8E,UAAU,SAASxjB,EAAOgI,GAAK,IAAIxM,EAAKuG,KAAKW,IAAoG,OAA7F1C,GAAwB,iBAATA,IAAkBA,EAAOA,EAAO0C,KAAOsF,GAAkB,iBAANA,IAAeA,EAAIA,EAAItF,KAAW0K,GAAwC5R,EAAKwE,EAAOgI,EAAI,EAAEoY,GAAW1B,UAAiC,sBAAE0B,GAAW1B,UAAU+E,sBAAsB,WAAW,IAAIjoB,EAAKuG,KAAKW,IAAI,OAAO2K,GAAoD7R,EAAK,EAAE4kB,GAAW1B,UAAwB,aAAE0B,GAAW1B,UAAUgF,aAAa,WAAW,IAAIloB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAYhR,GAA2C9R,GAAM2kB,GAAQ,EAAEC,GAAW1B,UAA4B,iBAAE0B,GAAW1B,UAAUiF,iBAAiB,WAAW,IAAInoB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAY/Q,GAA+C/R,GAAM2kB,GAAQ,EAAEC,GAAW1B,UAAyB,cAAE0B,GAAW1B,UAAUkF,cAAc,WAAW,IAAIpoB,EAAKuG,KAAKW,IAAI,OAAO8K,GAA4ChS,EAAK,EAAE4kB,GAAW1B,UAA6B,kBAAE0B,GAAW1B,UAAUmF,kBAAkB,SAAS7jB,EAAOgI,GAAK,IAAIxM,EAAKuG,KAAKW,IAAoG,OAA7F1C,GAAwB,iBAATA,IAAkBA,EAAOA,EAAO0C,KAAOsF,GAAkB,iBAANA,IAAeA,EAAIA,EAAItF,OAAY+K,GAAgDjS,EAAKwE,EAAOgI,EAAI,EAAEoY,GAAW1B,UAAqB,UAAE0B,GAAW1B,UAAUoF,UAAU,WAAW,IAAItoB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAY5Q,GAAwClS,GAAM2kB,GAAQ,EAAEC,GAAW1B,UAAsB,WAAE0B,GAAW1B,UAAUqF,WAAW,WAAW,IAAIvoB,EAAKuG,KAAKW,IAAI,OAAOiL,GAAyCnS,EAAK,EAAE4kB,GAAW1B,UAA2B,gBAAE0B,GAAW1B,UAAUsF,gBAAgB,WAAW,IAAIxoB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAY1Q,GAA8CpS,GAAM2kB,GAAQ,EAAEC,GAAW1B,UAA4B,iBAAE0B,GAAW1B,UAAUuF,iBAAiB,WAAW,IAAIzoB,EAAKuG,KAAKW,IAAI,OAAOmL,GAA+CrS,EAAK,EAAE4kB,GAAW1B,UAAqB,UAAE0B,GAAW1B,UAAUwF,UAAU,WAAW,IAAI1oB,EAAKuG,KAAKW,IAAI,QAAQoL,GAAwCtS,EAAK,EAAE4kB,GAAW1B,UAAqB,UAAE0B,GAAW1B,UAAUyF,UAAU,SAASnkB,EAAOgI,GAAK,IAAIxM,EAAKuG,KAAKW,IAAoG,OAA7F1C,GAAwB,iBAATA,IAAkBA,EAAOA,EAAO0C,KAAOsF,GAAkB,iBAANA,IAAeA,EAAIA,EAAItF,OAAYqL,GAAwCvS,EAAKwE,EAAOgI,EAAI,EAAEoY,GAAW1B,UAA0B,eAAE0B,GAAW1B,UAAU0F,eAAe,WAAW,IAAI5oB,EAAKuG,KAAKW,IAAI,OAAOqB,EAAaiK,GAA6CxS,GAAM,EAAE4kB,GAAW1B,UAA0B,eAAE0B,GAAW1B,UAAU2F,eAAe,SAASxiB,GAAM,IAAIrG,EAAKuG,KAAKW,IAAI4c,GAAYI,UAA0C7d,EAA7BA,GAAoB,iBAAPA,EAAqBA,EAAKa,IAAcsd,GAAane,GAAMoM,GAA6CzS,EAAKqG,EAAK,EAAEue,GAAW1B,UAA8B,mBAAE0B,GAAW1B,UAAU4F,mBAAmB,SAASC,GAAY,IAAI/oB,EAAKuG,KAAKW,IAAO6hB,GAAgC,iBAAbA,IAAsBA,EAAWA,EAAW7hB,KAAIwL,GAAiD1S,EAAK+oB,EAAW,EAAEnE,GAAW1B,UAAuB,YAAE0B,GAAW1B,UAAU8F,YAAY,WAAW,IAAIhpB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAYnQ,GAA0C3S,GAAM+kB,GAAS,EAAEH,GAAW1B,UAAmC,wBAAE0B,GAAW1B,UAAU+F,wBAAwB,SAASC,GAAQ,IAAIlpB,EAAKuG,KAAKW,IAAOgiB,GAAwB,iBAATA,IAAkBA,EAAOA,EAAOhiB,KAAI0L,GAAsD5S,EAAKkpB,EAAO,EAAEtE,GAAW1B,UAAmC,wBAAE0B,GAAW1B,UAAUiG,wBAAwB,WAAW,IAAInpB,EAAKuG,KAAKW,IAAI,QAAQ2L,GAAsD7S,EAAK,EAAE4kB,GAAW1B,UAAuB,YAAE0B,GAAW1B,UAAUkG,YAAY,WAAW,IAAIppB,EAAKuG,KAAKW,IAAI,QAAQ4L,GAA0C9S,EAAK,EAAE4kB,GAAW1B,UAA6B,kBAAE0B,GAAW1B,UAAUmG,kBAAkB,WAAW,IAAIrpB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAY/P,GAAgD/S,GAAMqlB,GAAe,EAAET,GAAW1B,UAAiC,sBAAE0B,GAAW1B,UAAUoG,sBAAsB,SAASJ,GAAQ,IAAIlpB,EAAKuG,KAAKW,IAAOgiB,GAAwB,iBAATA,IAAkBA,EAAOA,EAAOhiB,KAAI8L,GAAoDhT,EAAKkpB,EAAO,EAAEtE,GAAW1B,UAAiC,sBAAE0B,GAAW1B,UAAUqG,sBAAsB,WAAW,IAAIvpB,EAAKuG,KAAKW,IAAI,QAAQ+L,GAAoDjT,EAAK,EAAE4kB,GAAW1B,UAA0C,+BAAE0B,GAAW1B,UAAUsG,+BAA+B,SAAST,GAAY,IAAI/oB,EAAKuG,KAAKW,IAAO6hB,GAAgC,iBAAbA,IAAsBA,EAAWA,EAAW7hB,KAAIgM,GAA6DlT,EAAK+oB,EAAW,EAAEnE,GAAW1B,UAAoC,yBAAE0B,GAAW1B,UAAUuG,yBAAyB,SAASP,GAAQ,IAAIlpB,EAAKuG,KAAKW,IAAOgiB,GAAwB,iBAATA,IAAkBA,EAAOA,EAAOhiB,KAAIiM,GAAuDnT,EAAKkpB,EAAO,EAAEtE,GAAW1B,UAA2B,gBAAE0B,GAAW1B,UAAUwG,gBAAgB,SAASrjB,GAAM,IAAIrG,EAAKuG,KAAKW,IAAqG,OAAjG4c,GAAYI,UAA0C7d,EAA7BA,GAAoB,iBAAPA,EAAqBA,EAAKa,IAAcsd,GAAane,KAAc+M,GAA8CpT,EAAKqG,EAAK,EAAEue,GAAW1B,UAA+B,oBAAE0B,GAAW1B,UAAUyG,oBAAoB,SAASnlB,EAAOgI,GAAK,IAAIxM,EAAKuG,KAAKW,IAAoG,OAA7F1C,GAAwB,iBAATA,IAAkBA,EAAOA,EAAO0C,KAAOsF,GAAkB,iBAANA,IAAeA,EAAIA,EAAItF,OAAYmM,GAAkDrT,EAAKwE,EAAOgI,EAAI,EAAEoY,GAAW1B,UAAkC,uBAAE0B,GAAW1B,UAAU0G,uBAAuB,SAAS7e,GAAM,IAAI/K,EAAKuG,KAAKW,IAAkD,OAA3C6D,GAAoB,iBAAPA,IAAgBA,EAAKA,EAAK7D,OAAYoM,GAAqDtT,EAAK+K,EAAK,EAAE6Z,GAAW1B,UAAgC,qBAAE0B,GAAW1B,UAAU2G,qBAAqB,WAAW,IAAI7pB,EAAKuG,KAAKW,IAAIqM,GAAmDvT,EAAK,EAAE4kB,GAAW1B,UAAwB,aAAE0B,GAAW1B,UAAU4G,aAAa,SAASC,EAAIC,GAAY,IAAIhqB,EAAKuG,KAAKW,IAAqK,OAAjK4c,GAAYI,UAAwC6F,EAA3BA,GAAkB,iBAANA,EAAmBA,EAAI7iB,IAAasd,GAAauF,GAAQC,GAAgC,iBAAbA,IAAsBA,EAAWA,EAAW9iB,OAAYsM,GAA2CxT,EAAK+pB,EAAIC,EAAW,EAAEpF,GAAW1B,UAAqB,UAAE0B,GAAW1B,UAAU+G,UAAU,SAASF,EAAIrE,EAAKsE,GAAY,IAAIhqB,EAAKuG,KAAKW,IAAmN,OAA/M4c,GAAYI,UAAwC6F,EAA3BA,GAAkB,iBAANA,EAAmBA,EAAI7iB,IAAasd,GAAauF,GAAQrE,GAAoB,iBAAPA,IAAgBA,EAAKA,EAAKxe,KAAO8iB,GAAgC,iBAAbA,IAAsBA,EAAWA,EAAW9iB,OAAYuM,GAAwCzT,EAAK+pB,EAAIrE,EAAKsE,EAAW,EAAEpF,GAAW1B,UAAqB,UAAE0B,GAAW1B,UAAUgH,UAAU,SAASH,GAAK,IAAI/pB,EAAKuG,KAAKW,IAA+F,OAA3F4c,GAAYI,UAAwC6F,EAA3BA,GAAkB,iBAANA,EAAmBA,EAAI7iB,IAAasd,GAAauF,KAAarW,GAAwC1T,EAAK+pB,EAAI,EAAEnF,GAAW1B,UAAsB,WAAE0B,GAAW1B,UAAUiH,WAAW,SAASJ,GAAK,IAAI/pB,EAAKuG,KAAKW,IAA+F,OAA3F4c,GAAYI,UAAwC6F,EAA3BA,GAAkB,iBAANA,EAAmBA,EAAI7iB,IAAasd,GAAauF,KAAapW,GAAyC3T,EAAK+pB,EAAI,EAAEnF,GAAW1B,UAAuB,YAAE0B,GAAW1B,UAAUkH,YAAY,SAASL,GAAK,IAAI/pB,EAAKuG,KAAKW,IAA+F,OAA3F4c,GAAYI,UAAwC6F,EAA3BA,GAAkB,iBAANA,EAAmBA,EAAI7iB,IAAasd,GAAauF,GAAYjH,GAAYlP,GAA0C5T,EAAK+pB,GAAKpF,GAAQ,EAAEC,GAAW1B,UAA6B,kBAAE0B,GAAW1B,UAAUmH,kBAAkB,SAASN,GAAK,IAAI/pB,EAAKuG,KAAKW,IAA+F,OAA3F4c,GAAYI,UAAwC6F,EAA3BA,GAAkB,iBAANA,EAAmBA,EAAI7iB,IAAasd,GAAauF,GAAYjH,GAAYjP,GAAgD7T,EAAK+pB,GAAKpF,GAAQ,EAAEC,GAAW1B,UAAuB,YAAE0B,GAAW1B,UAAUoH,YAAY,SAASP,GAAK,IAAI/pB,EAAKuG,KAAKW,IAA+F,OAA3F4c,GAAYI,UAAwC6F,EAA3BA,GAAkB,iBAANA,EAAmBA,EAAI7iB,IAAasd,GAAauF,GAAYjW,GAA0C9T,EAAK+pB,EAAI,EAAEnF,GAAW1B,UAAwB,aAAE0B,GAAW1B,UAAUqH,aAAa,WAAW,IAAIvqB,EAAKuG,KAAKW,IAAI6M,GAA2C/T,EAAK,EAAE4kB,GAAW1B,UAA2B,gBAAE0B,GAAW1B,UAAUsH,gBAAgB,SAASzf,GAAM,IAAI/K,EAAKuG,KAAKW,IAAkD,OAA3C6D,GAAoB,iBAAPA,IAAgBA,EAAKA,EAAK7D,KAAW8M,GAA8ChU,EAAK+K,EAAK,EAAE6Z,GAAW1B,UAAyB,cAAE0B,GAAW1B,UAAUuH,cAAc,WAAW,IAAIzqB,EAAKuG,KAAKW,IAAI,OAAOqB,EAAa0L,GAA4CjU,GAAM,EAAE4kB,GAAW1B,UAA0B,eAAE0B,GAAW1B,UAAUwH,eAAe,WAAW,IAAI1qB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAY5O,GAA6ClU,GAAMwlB,GAAwB,EAAEZ,GAAW1B,UAA8B,mBAAE0B,GAAW1B,UAAUyH,mBAAmB,WAAW,IAAI3qB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAY3O,GAAiDnU,GAAMwlB,GAAwB,EAAEZ,GAAW1B,UAAuB,YAAE0B,GAAW1B,UAAU4C,YAAY,WAAW,IAAI9lB,EAAKuG,KAAKW,IAAIkN,GAA0CpU,EAAK,EAA8N6kB,GAAQ3B,UAAUF,OAAOC,OAAOP,GAAcQ,WAAW2B,GAAQ3B,UAAU5c,YAAYue,GAAQA,GAAQ3B,UAAUN,UAAUiC,GAAQA,GAAQhC,UAAU,CAAC,EAAEriB,EAAgB,QAAEqkB,GAAQA,GAAQ3B,UAAmB,QAAE2B,GAAQ3B,UAAU0H,QAAQ,WAAW,IAAI5qB,EAAKuG,KAAKW,IAAI,QAAQoN,GAAmCtU,EAAK,EAAE6kB,GAAQ3B,UAAuB,YAAE2B,GAAQ3B,UAAU2H,YAAY,WAAW,IAAI7qB,EAAKuG,KAAKW,IAAI,OAAOqN,GAAuCvU,EAAK,EAAE6kB,GAAQ3B,UAAoB,SAAE2B,GAAQ3B,UAAU4H,SAAS,WAAW,IAAI9qB,EAAKuG,KAAKW,IAAI,OAAOqB,EAAaiM,GAAoCxU,GAAM,EAAE6kB,GAAQ3B,UAAsB,WAAE2B,GAAQ3B,UAAU6H,WAAW,WAAW,IAAI/qB,EAAKuG,KAAKW,IAAI,OAAOuN,GAAsCzU,EAAK,EAAE6kB,GAAQ3B,UAA4B,iBAAE2B,GAAQ3B,UAAU8H,iBAAiB,WAAW,IAAIhrB,EAAKuG,KAAKW,IAAI,OAAOqB,EAAamM,GAA4C1U,GAAM,EAAE6kB,GAAQ3B,UAAoB,SAAE2B,GAAQ3B,UAAU+H,SAAS,SAASlE,GAAU,IAAI/mB,EAAKuG,KAAKW,IAA6H,OAAzH4c,GAAYI,UAAkD6C,EAArCA,GAA4B,iBAAXA,EAA6BA,EAAS7f,IAAkBsd,GAAauC,KAAkBpS,GAAoC3U,EAAK+mB,EAAS,EAAElC,GAAQ3B,UAAuB,YAAE2B,GAAQ3B,UAAU4C,YAAY,WAAW,IAAI9lB,EAAKuG,KAAKW,IAAI0N,GAAuC5U,EAAK,EAA0E8kB,GAAM5B,UAAUF,OAAOC,OAAOP,GAAcQ,WAAW4B,GAAM5B,UAAU5c,YAAYwe,GAAMA,GAAM5B,UAAUN,UAAUkC,GAAMA,GAAMjC,UAAU,CAAC,EAAEriB,EAAc,MAAEskB,GAAMA,GAAM5B,UAAwB,aAAE4B,GAAM5B,UAAUgI,aAAa,WAAW,IAAIlrB,EAAKuG,KAAKW,IAAI,OAAO2N,GAAsC7U,EAAK,EAAE8kB,GAAM5B,UAAkB,OAAE4B,GAAM5B,UAAUiI,OAAO,WAAW,IAAInrB,EAAKuG,KAAKW,IAAI,OAAO4N,GAAgC9U,EAAK,EAAE8kB,GAAM5B,UAAoB,SAAE4B,GAAM5B,UAAUkI,SAAS,WAAW,IAAIprB,EAAKuG,KAAKW,IAAI,OAAO6N,GAAkC/U,EAAK,EAAE8kB,GAAM5B,UAAqB,UAAE4B,GAAM5B,UAAUmI,UAAU,WAAW,IAAIrrB,EAAKuG,KAAKW,IAAI,OAAO8N,GAAmChV,EAAK,EAAE8kB,GAAM5B,UAA2B,gBAAE4B,GAAM5B,UAAUoI,gBAAgB,WAAW,IAAItrB,EAAKuG,KAAKW,IAAI,OAAO+N,GAAyCjV,EAAK,EAAE8kB,GAAM5B,UAA6B,kBAAE4B,GAAM5B,UAAUqI,kBAAkB,WAAW,IAAIvrB,EAAKuG,KAAKW,IAAI,OAAOgO,GAA2ClV,EAAK,EAAE8kB,GAAM5B,UAA4B,iBAAE4B,GAAM5B,UAAUsI,iBAAiB,WAAW,IAAIxrB,EAAKuG,KAAKW,IAAI,OAAOiO,GAA0CnV,EAAK,EAAE8kB,GAAM5B,UAAyB,cAAE4B,GAAM5B,UAAUuI,cAAc,WAAW,IAAIzrB,EAAKuG,KAAKW,IAAI,QAAQkO,GAAuCpV,EAAK,EAAE8kB,GAAM5B,UAAqB,UAAE4B,GAAM5B,UAAUwI,UAAU,WAAW,IAAI1rB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAYzN,GAAmCrV,GAAM2kB,GAAQ,EAAEG,GAAM5B,UAAyB,cAAE4B,GAAM5B,UAAUyI,cAAc,WAAW,IAAI3rB,EAAKuG,KAAKW,IAAI,OAAOoO,GAAuCtV,EAAK,EAAE8kB,GAAM5B,UAAqB,UAAE4B,GAAM5B,UAAU0I,UAAU,WAAW,IAAI5rB,EAAKuG,KAAKW,IAAI,OAAOqO,GAAmCvV,EAAK,EAAE8kB,GAAM5B,UAAqB,UAAE4B,GAAM5B,UAAU2I,UAAU,WAAW,IAAI7rB,EAAKuG,KAAKW,IAAI,OAAOsO,GAAmCxV,EAAK,EAAE8kB,GAAM5B,UAAuB,YAAE4B,GAAM5B,UAAU4C,YAAY,WAAW,IAAI9lB,EAAKuG,KAAKW,IAAIuO,GAAqCzV,EAAK,EAAgF+kB,GAAS7B,UAAUF,OAAOC,OAAOP,GAAcQ,WAAW6B,GAAS7B,UAAU5c,YAAYye,GAASA,GAAS7B,UAAUN,UAAUmC,GAASA,GAASlC,UAAU,CAAC,EAAEriB,EAAiB,SAAEukB,GAASA,GAAS7B,UAAgB,KAAE6B,GAAS7B,UAAU4I,KAAK,SAASC,GAAqB,IAAI/rB,EAAKuG,KAAKW,IAA8G,OAAvG6kB,GAAkD,iBAAtBA,IAA+BA,EAAoBA,EAAoB7kB,OAAYwO,GAAiC1V,EAAK+rB,EAAoB,EAAEhH,GAAS7B,UAAwB,aAAE6B,GAAS7B,UAAU8I,aAAa,WAAW,IAAIhsB,EAAKuG,KAAKW,IAAI,QAAQyO,GAAyC3V,EAAK,EAAE+kB,GAAS7B,UAAkB,OAAE6B,GAAS7B,UAAU+I,OAAO,WAAW,IAAIjsB,EAAKuG,KAAKW,IAAI,QAAQ0O,GAAmC5V,EAAK,EAAE+kB,GAAS7B,UAA8B,mBAAE6B,GAAS7B,UAAUgJ,mBAAmB,WAAW,IAAIlsB,EAAKuG,KAAKW,IAAI,OAAOqB,EAAasN,GAA+C7V,GAAM,EAAE+kB,GAAS7B,UAAgB,KAAE6B,GAAS7B,UAAUiJ,KAAK,WAAW,IAAInsB,EAAKuG,KAAKW,IAAI,QAAQ4O,GAAiC9V,EAAK,EAAE+kB,GAAS7B,UAAgB,KAAE6B,GAAS7B,UAAUkJ,KAAK,WAAW,IAAIpsB,EAAKuG,KAAKW,IAAI6O,GAAiC/V,EAAK,EAAE+kB,GAAS7B,UAAyB,cAAE6B,GAAS7B,UAAUmJ,cAAc,WAAW,IAAIrsB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAY9M,GAA0ChW,GAAM2kB,GAAQ,EAAEI,GAAS7B,UAA0B,eAAE6B,GAAS7B,UAAUoJ,eAAe,WAAW,IAAItsB,EAAKuG,KAAKW,IAAI,OAAO+O,GAA2CjW,EAAK,EAAE+kB,GAAS7B,UAAuB,YAAE6B,GAAS7B,UAAU4C,YAAY,WAAW,IAAI9lB,EAAKuG,KAAKW,IAAIgP,GAAwClW,EAAK,EAAsHglB,GAA4B9B,UAAUF,OAAOC,OAAOP,GAAcQ,WAAW8B,GAA4B9B,UAAU5c,YAAY0e,GAA4BA,GAA4B9B,UAAUN,UAAUoC,GAA4BA,GAA4BnC,UAAU,CAAC,EAAEriB,EAAoC,4BAAEwkB,GAA4BA,GAA4B9B,UAAkB,OAAE8B,GAA4B9B,UAAUqJ,OAAO,WAAW,IAAIvsB,EAAKuG,KAAKW,IAAIiP,GAAsDnW,EAAK,EAAEglB,GAA4B9B,UAAkB,OAAE8B,GAA4B9B,UAAUsJ,OAAO,WAAW,IAAIxsB,EAAKuG,KAAKW,IAAIkP,GAAsDpW,EAAK,EAAEglB,GAA4B9B,UAA+B,oBAAE8B,GAA4B9B,UAAUuJ,oBAAoB,WAAW,IAAIzsB,EAAKuG,KAAKW,IAAI,OAAOqB,EAAa8N,GAAmErW,GAAM,EAAEglB,GAA4B9B,UAAuB,YAAE8B,GAA4B9B,UAAU4C,YAAY,WAAW,IAAI9lB,EAAKuG,KAAKW,IAAIoP,GAA2DtW,EAAK,EAAwHilB,GAA6B/B,UAAUF,OAAOC,OAAOP,GAAcQ,WAAW+B,GAA6B/B,UAAU5c,YAAY2e,GAA6BA,GAA6B/B,UAAUN,UAAUqC,GAA6BA,GAA6BpC,UAAU,CAAC,EAAEriB,EAAqC,6BAAEykB,GAA6BA,GAA6B/B,UAAkB,OAAE+B,GAA6B/B,UAAUqJ,OAAO,WAAW,IAAIvsB,EAAKuG,KAAKW,IAAIqP,GAAuDvW,EAAK,EAAEilB,GAA6B/B,UAAkB,OAAE+B,GAA6B/B,UAAUsJ,OAAO,SAASE,GAAkB,IAAI1sB,EAAKuG,KAAKW,IAAI4c,GAAYI,UAAkEwI,EAArDA,GAA4C,iBAAnBA,EAA6CA,EAAiBxlB,IAA0Bsd,GAAakI,GAAkBlW,GAAuDxW,EAAK0sB,EAAiB,EAAEzH,GAA6B/B,UAAuB,YAAE+B,GAA6B/B,UAAU4C,YAAY,WAAW,IAAI9lB,EAAKuG,KAAKW,IAAIuP,GAA4DzW,EAAK,EAAwHklB,GAA6BhC,UAAUF,OAAOC,OAAOP,GAAcQ,WAAWgC,GAA6BhC,UAAU5c,YAAY4e,GAA6BA,GAA6BhC,UAAUN,UAAUsC,GAA6BA,GAA6BrC,UAAU,CAAC,EAAEriB,EAAqC,6BAAE0kB,GAA6BA,GAA6BhC,UAAkB,OAAEgC,GAA6BhC,UAAUqJ,OAAO,WAAW,IAAIvsB,EAAKuG,KAAKW,IAAIwP,GAAuD1W,EAAK,EAAEklB,GAA6BhC,UAAkB,OAAEgC,GAA6BhC,UAAUsJ,OAAO,WAAW,IAAIxsB,EAAKuG,KAAKW,IAAIyP,GAAuD3W,EAAK,EAAEklB,GAA6BhC,UAAuB,YAAEgC,GAA6BhC,UAAU4C,YAAY,WAAW,IAAI9lB,EAAKuG,KAAKW,IAAI0P,GAA4D5W,EAAK,EAAgHmlB,GAAyBjC,UAAUF,OAAOC,OAAOP,GAAcQ,WAAWiC,GAAyBjC,UAAU5c,YAAY6e,GAAyBA,GAAyBjC,UAAUN,UAAUuC,GAAyBA,GAAyBtC,UAAU,CAAC,EAAEriB,EAAiC,yBAAE2kB,GAAyBA,GAAyBjC,UAAkB,OAAEiC,GAAyBjC,UAAUqJ,OAAO,WAAW,IAAIvsB,EAAKuG,KAAKW,IAAI2P,GAAmD7W,EAAK,EAAEmlB,GAAyBjC,UAA0B,eAAEiC,GAAyBjC,UAAUyJ,eAAe,WAAW,IAAI3sB,EAAKuG,KAAKW,IAAI,OAAO4P,GAA2D9W,EAAK,EAAEmlB,GAAyBjC,UAA0B,eAAEiC,GAAyBjC,UAAU0J,eAAe,WAAW,IAAI5sB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAY/L,GAA2D/W,GAAM2kB,GAAQ,EAAEQ,GAAyBjC,UAA2B,gBAAEiC,GAAyBjC,UAAU2J,gBAAgB,SAASnH,EAAK3a,GAAM,IAAI/K,EAAKuG,KAAKW,IAAOwe,GAAoB,iBAAPA,IAAgBA,EAAKA,EAAKxe,KAAO6D,GAAoB,iBAAPA,IAAgBA,EAAKA,EAAK7D,KAAI8P,GAA4DhX,EAAK0lB,EAAK3a,EAAK,EAAEoa,GAAyBjC,UAAuB,YAAEiC,GAAyBjC,UAAU4C,YAAY,WAAW,IAAI9lB,EAAKuG,KAAKW,IAAI+P,GAAwDjX,EAAK,EAAgHolB,GAAyBlC,UAAUF,OAAOC,OAAOP,GAAcQ,WAAWkC,GAAyBlC,UAAU5c,YAAY8e,GAAyBA,GAAyBlC,UAAUN,UAAUwC,GAAyBA,GAAyBvC,UAAU,CAAC,EAAEriB,EAAiC,yBAAE4kB,GAAyBA,GAAyBlC,UAAkB,OAAEkC,GAAyBlC,UAAUqJ,OAAO,WAAW,IAAIvsB,EAAKuG,KAAKW,IAAIgQ,GAAmDlX,EAAK,EAAEolB,GAAyBlC,UAAkB,OAAEkC,GAAyBlC,UAAUsJ,OAAO,WAAW,IAAIxsB,EAAKuG,KAAKW,IAAIiQ,GAAmDnX,EAAK,EAAEolB,GAAyBlC,UAAuB,YAAEkC,GAAyBlC,UAAU4C,YAAY,WAAW,IAAI9lB,EAAKuG,KAAKW,IAAIkQ,GAAwDpX,EAAK,EAA4FqlB,GAAenC,UAAUF,OAAOC,OAAOP,GAAcQ,WAAWmC,GAAenC,UAAU5c,YAAY+e,GAAeA,GAAenC,UAAUN,UAAUyC,GAAeA,GAAexC,UAAU,CAAC,EAAEriB,EAAuB,eAAE6kB,GAAeA,GAAenC,UAAmB,QAAEmC,GAAenC,UAAU4J,QAAQ,WAAW,IAAI9sB,EAAKuG,KAAKW,IAAI,OAAOmQ,GAA0CrX,EAAK,EAAEqlB,GAAenC,UAAkB,OAAEmC,GAAenC,UAAUqJ,OAAO,WAAW,IAAIvsB,EAAKuG,KAAKW,IAAIoQ,GAAyCtX,EAAK,EAAEqlB,GAAenC,UAAkC,uBAAEmC,GAAenC,UAAU6J,uBAAuB,WAAW,IAAI/sB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAYvL,GAAyDvX,GAAMglB,GAA4B,EAAEK,GAAenC,UAAmC,wBAAEmC,GAAenC,UAAU8J,wBAAwB,WAAW,IAAIhtB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAYtL,GAA0DxX,GAAMilB,GAA6B,EAAEI,GAAenC,UAAmC,wBAAEmC,GAAenC,UAAU+J,wBAAwB,WAAW,IAAIjtB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAYrL,GAA0DzX,GAAMklB,GAA6B,EAAEG,GAAenC,UAA+B,oBAAEmC,GAAenC,UAAUgK,oBAAoB,WAAW,IAAIltB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAYpL,GAAsD1X,GAAMmlB,GAAyB,EAAEE,GAAenC,UAA+B,oBAAEmC,GAAenC,UAAUiK,oBAAoB,WAAW,IAAIntB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAYnL,GAAsD3X,GAAMolB,GAAyB,EAAEC,GAAenC,UAAuB,YAAEmC,GAAenC,UAAU4C,YAAY,WAAW,IAAI9lB,EAAKuG,KAAKW,IAAI0Q,GAA8C5X,EAAK,EAAwHslB,GAAapC,UAAUF,OAAOC,OAAOP,GAAcQ,WAAWoC,GAAapC,UAAU5c,YAAYgf,GAAaA,GAAapC,UAAUN,UAAU0C,GAAaA,GAAazC,UAAU,CAAC,EAAEriB,EAAqB,aAAE8kB,GAAaA,GAAapC,UAAuB,YAAEoC,GAAapC,UAAUkK,YAAY,WAAW,IAAIptB,EAAKuG,KAAKW,IAAI,OAAOqB,EAAauP,GAA4C9X,GAAM,EAAEslB,GAAapC,UAAuB,YAAEoC,GAAapC,UAAUmK,YAAY,SAAStG,GAAU,IAAI/mB,EAAKuG,KAAKW,IAA6H,OAAzH4c,GAAYI,UAAkD6C,EAArCA,GAA4B,iBAAXA,EAA6BA,EAAS7f,IAAkBsd,GAAauC,GAAiBjE,GAAY/K,GAA4C/X,EAAK+mB,GAAUzB,GAAa,EAAEA,GAAapC,UAAuB,YAAEoC,GAAapC,UAAUoK,YAAY,WAAW,IAAIttB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAY9K,GAA4ChY,GAAM2kB,GAAQ,EAAEW,GAAapC,UAA2B,gBAAEoC,GAAapC,UAAUqK,gBAAgB,WAAW,IAAIvtB,EAAKuG,KAAKW,IAAI,OAAO+Q,GAAgDjY,EAAK,EAAEslB,GAAapC,UAAuB,YAAEoC,GAAapC,UAAUsK,YAAY,SAASC,EAAM1iB,GAAM,IAAI/K,EAAKuG,KAAKW,IAAoG,OAA7FumB,GAAsB,iBAARA,IAAiBA,EAAMA,EAAMvmB,KAAO6D,GAAoB,iBAAPA,IAAgBA,EAAKA,EAAK7D,KAAW4b,GAAY5K,GAA4ClY,EAAKytB,EAAM1iB,GAAMua,GAAa,EAAEA,GAAapC,UAA0B,eAAEoC,GAAapC,UAAUwK,eAAe,WAAW,IAAI1tB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAY3K,GAA+CnY,GAAM2kB,GAAQ,EAAEW,GAAapC,UAA8B,mBAAEoC,GAAapC,UAAUyK,mBAAmB,WAAW,IAAI3tB,EAAKuG,KAAKW,IAAI,OAAOkR,GAAmDpY,EAAK,EAAEslB,GAAapC,UAA0B,eAAEoC,GAAapC,UAAU0K,eAAe,SAASH,EAAM1iB,GAAM,IAAI/K,EAAKuG,KAAKW,IAAoG,OAA7FumB,GAAsB,iBAARA,IAAiBA,EAAMA,EAAMvmB,KAAO6D,GAAoB,iBAAPA,IAAgBA,EAAKA,EAAK7D,KAAW4b,GAAYzK,GAA+CrY,EAAKytB,EAAM1iB,GAAMua,GAAa,EAAEA,GAAapC,UAAuB,YAAEoC,GAAapC,UAAU2K,YAAY,WAAW,IAAI7tB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAYxK,GAA4CtY,GAAM2kB,GAAQ,EAAEW,GAAapC,UAA2B,gBAAEoC,GAAapC,UAAU4K,gBAAgB,WAAW,IAAI9tB,EAAKuG,KAAKW,IAAI,OAAOqR,GAAgDvY,EAAK,EAAEslB,GAAapC,UAAuB,YAAEoC,GAAapC,UAAU6K,YAAY,SAASC,EAASjjB,GAAM,IAAI/K,EAAKuG,KAAKW,IAAgH,OAAzG8mB,GAA4B,iBAAXA,IAAoBA,EAASA,EAAS9mB,KAAO6D,GAAoB,iBAAPA,IAAgBA,EAAKA,EAAK7D,KAAW4b,GAAYtK,GAA4CxY,EAAKguB,EAASjjB,GAAMua,GAAa,EAAEA,GAAapC,UAAwB,aAAEoC,GAAapC,UAAU+K,aAAa,WAAW,IAAIjuB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAYrK,GAA6CzY,GAAM2kB,GAAQ,EAAEW,GAAapC,UAA4B,iBAAEoC,GAAapC,UAAUuF,iBAAiB,WAAW,IAAIzoB,EAAKuG,KAAKW,IAAI,OAAOwR,GAAiD1Y,EAAK,EAAEslB,GAAapC,UAAwB,aAAEoC,GAAapC,UAAUgL,aAAa,SAASC,EAAUpjB,GAAM,IAAI/K,EAAKuG,KAAKW,IAAoH,OAA7GinB,GAA8B,iBAAZA,IAAqBA,EAAUA,EAAUjnB,KAAO6D,GAAoB,iBAAPA,IAAgBA,EAAKA,EAAK7D,KAAW4b,GAAYnK,GAA6C3Y,EAAKmuB,EAAUpjB,GAAMua,GAAa,EAAEA,GAAapC,UAAsB,WAAEoC,GAAapC,UAAUkL,WAAW,WAAW,IAAIpuB,EAAKuG,KAAKW,IAAI,OAAO0R,GAA2C5Y,EAAK,EAAEslB,GAAapC,UAAqB,UAAEoC,GAAapC,UAAUmL,UAAU,WAAW,IAAIruB,EAAKuG,KAAKW,IAAI,QAAQ2R,GAA0C7Y,EAAK,EAAEslB,GAAapC,UAA8B,mBAAEoC,GAAapC,UAAUoL,mBAAmB,WAAW,IAAItuB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAYhK,GAAmD9Y,GAAM2kB,GAAQ,EAAEW,GAAapC,UAAkC,uBAAEoC,GAAapC,UAAUqL,uBAAuB,WAAW,IAAIvuB,EAAKuG,KAAKW,IAAI,OAAO6R,GAAuD/Y,EAAK,EAAEslB,GAAapC,UAAuB,YAAEoC,GAAapC,UAAUsL,YAAY,SAAShqB,EAAOuG,GAAM,IAAI/K,EAAKuG,KAAKW,IAAwG,OAAjG1C,GAAwB,iBAATA,IAAkBA,EAAOA,EAAO0C,KAAO6D,GAAoB,iBAAPA,IAAgBA,EAAKA,EAAK7D,OAAY8R,GAA4ChZ,EAAKwE,EAAOuG,EAAK,EAAEua,GAAapC,UAAuB,YAAEoC,GAAapC,UAAU4C,YAAY,WAAW,IAAI9lB,EAAKuG,KAAKW,IAAI+R,GAA4CjZ,EAAK,EAAyNulB,GAAWrC,UAAUF,OAAOC,OAAOP,GAAcQ,WAAWqC,GAAWrC,UAAU5c,YAAYif,GAAWA,GAAWrC,UAAUN,UAAU2C,GAAWA,GAAW1C,UAAU,CAAC,EAAEriB,EAAmB,WAAE+kB,GAAWA,GAAWrC,UAAmB,QAAEqC,GAAWrC,UAAUuL,QAAQ,WAAW,IAAIzuB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAY3J,GAAsCnZ,GAAM2kB,GAAQ,EAAEY,GAAWrC,UAAmB,QAAEqC,GAAWrC,UAAUwL,QAAQ,WAAW,IAAI1uB,EAAKuG,KAAKW,IAAI,OAAOkS,GAAsCpZ,EAAK,EAAEulB,GAAWrC,UAAuB,YAAEqC,GAAWrC,UAAU4C,YAAY,WAAW,IAAI9lB,EAAKuG,KAAKW,IAAImS,GAA0CrZ,EAAK,EAA8GwlB,GAAwBtC,UAAUF,OAAOC,OAAOP,GAAcQ,WAAWsC,GAAwBtC,UAAU5c,YAAYkf,GAAwBA,GAAwBtC,UAAUN,UAAU4C,GAAwBA,GAAwB3C,UAAU,CAAC,EAAEriB,EAAgC,wBAAEglB,GAAwBA,GAAwBtC,UAA0B,eAAEsC,GAAwBtC,UAAUyL,eAAe,WAAW,IAAI3uB,EAAKuG,KAAKW,IAAI,OAAOoS,GAA0DtZ,EAAK,EAAEwlB,GAAwBtC,UAAmB,QAAEsC,GAAwBtC,UAAU0L,QAAQ,WAAW,IAAI5uB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAYvJ,GAAmDvZ,GAAM2kB,GAAQ,EAAEa,GAAwBtC,UAAgB,KAAEsC,GAAwBtC,UAAU2L,KAAK,SAASC,EAAMpJ,EAAKqJ,GAAe,IAAI/uB,EAAKuG,KAAKW,IAAsL,OAA/K4nB,GAAsB,iBAARA,IAAiBA,EAAMA,EAAM5nB,KAAOwe,GAAoB,iBAAPA,IAAgBA,EAAKA,EAAKxe,KAAO6nB,GAAsC,iBAAhBA,IAAyBA,EAAcA,EAAc7nB,KAAWsS,GAAgDxZ,EAAK8uB,EAAMpJ,EAAKqJ,EAAc,EAAEvJ,GAAwBtC,UAAkB,OAAEsC,GAAwBtC,UAAU8L,OAAO,WAAW,IAAIhvB,EAAKuG,KAAKW,IAAI,QAAQuS,GAAkDzZ,EAAK,EAAEwlB,GAAwBtC,UAAe,IAAEsC,GAAwBtC,UAAU+L,IAAI,WAAW,IAAIjvB,EAAKuG,KAAKW,IAAI,OAAOwS,GAA+C1Z,EAAK,EAAEwlB,GAAwBtC,UAAe,IAAEsC,GAAwBtC,UAAUgM,IAAI,WAAW,IAAIlvB,EAAKuG,KAAKW,IAAI,QAAQyS,GAA+C3Z,EAAK,EAAEwlB,GAAwBtC,UAAmB,QAAEsC,GAAwBtC,UAAUiM,QAAQ,WAAW,IAAInvB,EAAKuG,KAAKW,IAAI,QAAQ0S,GAAmD5Z,EAAK,EAAEwlB,GAAwBtC,UAAsB,WAAEsC,GAAwBtC,UAAUkM,WAAW,WAAW,IAAIpvB,EAAKuG,KAAKW,IAAI,OAAO2S,GAAsD7Z,EAAK,EAAEwlB,GAAwBtC,UAAmB,QAAEsC,GAAwBtC,UAAUmM,QAAQ,WAAW,IAAIrvB,EAAKuG,KAAKW,IAAI,OAAO4S,GAAmD9Z,EAAK,EAAEwlB,GAAwBtC,UAAqB,UAAEsC,GAAwBtC,UAAUoM,UAAU,WAAW,IAAItvB,EAAKuG,KAAKW,IAAI,OAAO6S,GAAqD/Z,EAAK,EAAEwlB,GAAwBtC,UAAuB,YAAEsC,GAAwBtC,UAAUqM,YAAY,WAAW,IAAIvvB,EAAKuG,KAAKW,IAAI,OAAO8S,GAAuDha,EAAK,EAAEwlB,GAAwBtC,UAAuB,YAAEsC,GAAwBtC,UAAUsM,YAAY,WAAW,IAAIxvB,EAAKuG,KAAKW,IAAI,OAAO+S,GAAuDja,EAAK,EAAEwlB,GAAwBtC,UAA2B,gBAAEsC,GAAwBtC,UAAUuM,gBAAgB,WAAW,IAAIzvB,EAAKuG,KAAKW,IAAI,OAAOgT,GAA2Dla,EAAK,EAAEwlB,GAAwBtC,UAAuB,YAAEsC,GAAwBtC,UAAUwM,YAAY,WAAW,IAAI1vB,EAAKuG,KAAKW,IAAI,QAAQiT,GAAuDna,EAAK,EAAEwlB,GAAwBtC,UAAuB,YAAEsC,GAAwBtC,UAAUyM,YAAY,SAASC,GAAM,IAAI5vB,EAAKuG,KAAKW,IAAO0oB,GAAoB,iBAAPA,IAAgBA,EAAKA,EAAK1oB,KAAIkT,GAAuDpa,EAAK4vB,EAAK,EAAEpK,GAAwBtC,UAA2B,gBAAEsC,GAAwBtC,UAAU2M,gBAAgB,WAAW,IAAI7vB,EAAKuG,KAAKW,IAAI,QAAQmT,GAA2Dra,EAAK,EAAEwlB,GAAwBtC,UAAsC,2BAAEsC,GAAwBtC,UAAU4M,2BAA2B,SAAStM,GAAI,IAAIxjB,EAAKuG,KAAKW,IAAOsc,GAAgB,iBAALA,IAAcA,EAAGA,EAAGtc,KAAIoT,GAAsEta,EAAKwjB,EAAG,EAAEgC,GAAwBtC,UAAuB,YAAEsC,GAAwBtC,UAAU4C,YAAY,WAAW,IAAI9lB,EAAKuG,KAAKW,IAAIqT,GAAuDva,EAAK,EAAgUylB,GAAcvC,UAAUF,OAAOC,OAAOP,GAAcQ,WAAWuC,GAAcvC,UAAU5c,YAAYmf,GAAcA,GAAcvC,UAAUN,UAAU6C,GAAcA,GAAc5C,UAAU,CAAC,EAAEriB,EAAsB,cAAEilB,GAAcA,GAAcvC,UAAoB,SAAEuC,GAAcvC,UAAU6M,SAAS,WAAW,IAAI/vB,EAAKuG,KAAKW,IAAI,OAAOuT,GAA0Cza,EAAK,EAAEylB,GAAcvC,UAAoB,SAAEuC,GAAcvC,UAAU8M,SAAS,WAAW,IAAIhwB,EAAKuG,KAAKW,IAAI,OAAOwT,GAA0C1a,EAAK,EAAEylB,GAAcvC,UAA+B,oBAAEuC,GAAcvC,UAAU+M,oBAAoB,WAAW,IAAIjwB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAYnI,GAAqD3a,GAAM2kB,GAAQ,EAAEc,GAAcvC,UAAmC,wBAAEuC,GAAcvC,UAAUgN,wBAAwB,WAAW,IAAIlwB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAYlI,GAAyD5a,GAAM2kB,GAAQ,EAAEc,GAAcvC,UAA+B,oBAAEuC,GAAcvC,UAAUiN,oBAAoB,WAAW,IAAInwB,EAAKuG,KAAKW,IAAI,OAAO2T,GAAqD7a,EAAK,EAAEylB,GAAcvC,UAAoB,SAAEuC,GAAcvC,UAAUkN,SAAS,WAAW,IAAIpwB,EAAKuG,KAAKW,IAAI,OAAOqB,EAAauS,GAA0C9a,GAAM,EAAEylB,GAAcvC,UAAuB,YAAEuC,GAAcvC,UAAU4C,YAAY,WAAW,IAAI9lB,EAAKuG,KAAKW,IAAI6T,GAA6C/a,EAAK,EAA0R4lB,GAAc1C,UAAUF,OAAOC,OAAOP,GAAcQ,WAAW0C,GAAc1C,UAAU5c,YAAYsf,GAAcA,GAAc1C,UAAUN,UAAUgD,GAAcA,GAAc/C,UAAU,CAAC,EAAEriB,EAAsB,cAAEolB,GAAcA,GAAc1C,UAAoB,SAAE0C,GAAc1C,UAAU6M,SAAS,WAAW,IAAI/vB,EAAKuG,KAAKW,IAAI,OAAO+T,GAA0Cjb,EAAK,EAAE4lB,GAAc1C,UAAgB,KAAE0C,GAAc1C,UAAUmN,KAAK,WAAW,IAAIrwB,EAAKuG,KAAKW,IAAI,OAAOgU,GAAsClb,EAAK,EAAE4lB,GAAc1C,UAA2B,gBAAE0C,GAAc1C,UAAUoN,gBAAgB,WAAW,IAAItwB,EAAKuG,KAAKW,IAAI,OAAOiU,GAAiDnb,EAAK,EAAE4lB,GAAc1C,UAA+B,oBAAE0C,GAAc1C,UAAUqN,oBAAoB,WAAW,IAAIvwB,EAAKuG,KAAKW,IAAI,OAAOkU,GAAqDpb,EAAK,EAAE4lB,GAAc1C,UAA+B,oBAAE0C,GAAc1C,UAAUsN,oBAAoB,WAAW,IAAIxwB,EAAKuG,KAAKW,IAAI,OAAOqB,EAAa8S,GAAqDrb,GAAM,EAAE4lB,GAAc1C,UAAkC,uBAAE0C,GAAc1C,UAAUuN,uBAAuB,WAAW,IAAIzwB,EAAKuG,KAAKW,IAAI,OAAO4b,GAAYxH,GAAwDtb,GAAM2kB,GAAQ,EAAEiB,GAAc1C,UAAuB,YAAE0C,GAAc1C,UAAU4C,YAAY,WAAW,IAAI9lB,EAAKuG,KAAKW,IAAIqU,GAA6Cvb,EAAK,EAAKqE,EAA8B7D,EAAsB,IAAI4hB,SAAQ,CAACC,EAAQC,KAAU3f,EAAoB0f,EAAQzf,EAAmB0f,IAKn58F,GAGEziB,EAAOD,QAAUM,EAGjBL,EAAOD,QAAP,QAAyBM,C,qBCblB,SAAWN,GAAW,aAE3B,IAQuC8wB,EAWnCC,OAA+CrwB,IAA5BoI,OAAOioB,iBAAiC,iBAAmBjoB,OAAOioB,iBACrFC,EAAkC,UAClCC,EAA6BD,WAwC7BE,EAAuB,IAAIhjB,QAE3BijB,EAzC6B,SAAoChO,EAAO2N,GAC1E,OAAO,SAAUM,GACf,IAAIC,EAAaP,EAAkB/iB,IAAIqjB,GASnCE,OAA4B5wB,IAAf2wB,EAA2BD,EAAWjmB,KAAOkmB,EAAaJ,EAA6BI,EAAa,EAAI,EACzH,IAAKD,EAAWG,IAAID,GAClB,OAAOnO,EAAMiO,EAAYE,GAQ3B,GAAIF,EAAWjmB,KAAO6lB,EAAiC,CACrD,KAAOI,EAAWG,IAAID,IACpBA,EAAajmB,KAAKiU,MAAMjU,KAAKmmB,SAAWP,GAE1C,OAAO9N,EAAMiO,EAAYE,EAC3B,CAEA,GAAIF,EAAWjmB,KAAO4lB,EACpB,MAAM,IAAInuB,MAAM,kGAGlB,KAAOwuB,EAAWG,IAAID,IACpBA,EAAajmB,KAAKiU,MAAMjU,KAAKmmB,SAAWT,GAE1C,OAAO5N,EAAMiO,EAAYE,EAC3B,CACF,CAI2BG,EAvDYX,EAsDfI,EArDf,SAAUE,EAAYE,GAE3B,OADAR,EAAkBhjB,IAAIsjB,EAAYE,GAC3BA,CACT,GAmD2DJ,GACzDQ,EAhEwB,SAA+BP,GACzD,OAAO,SAAUrjB,GACf,IAAI6jB,EAASR,EAAqBrjB,GAElC,OADAA,EAAI8jB,IAAID,GACDA,CACT,CACF,CA0DsBE,CAAsBV,GAE5CnxB,EAAQ0xB,gBAAkBA,EAC1B1xB,EAAQmxB,qBAAuBA,CAElC,CA1EkEpxB,CAAQC,E,0BCA3EojB,OAAO0O,eAAe9xB,EAAS,aAAc,CAAE6kB,OAAO,IACtD,IAAIkN,EAAY,GAChBA,EAAU,GAAK,WACX,OAAO,WAAyB,CACpC,EACAA,EAAU,GAAK,SAAU3P,EAAU4P,GAC/B,YAAyB,IAAd,EACA5P,EACJ,SAAqB6P,GACxB7P,EAAS6P,EAASD,EACtB,CACJ,EAiBA,IAAIE,EAAuB,WACvB,SAASA,IACLvrB,KAAKwrB,aAAc,EACnBxrB,KAAKyrB,UAAY,GACjBzrB,KAAK0rB,UAAY,GACjB1rB,KAAK2rB,mBACT,CAsCA,OArCAJ,EAAM5O,UAAUiP,WAAa,SAAUC,EAASR,GAO5C,OANKrrB,KAAK8rB,kBAAkBD,EAASR,KACjCrrB,KAAKyrB,UAAU1lB,KAAK8lB,GACpB7rB,KAAK0rB,UAAU3lB,KAAKslB,GACpBrrB,KAAK2rB,oBACL3rB,KAAK+rB,sBAEF/rB,IACX,EACAurB,EAAM5O,UAAUqP,cAAgB,SAAUH,EAASR,GAC/C,IAAInqB,EAAMlB,KAAKisB,iBAAiBJ,EAASR,GAOzC,YANqB,IAAV,IACPrrB,KAAKyrB,UAAUS,OAAOhrB,EAAK,GAC3BlB,KAAK0rB,UAAUQ,OAAOhrB,EAAK,GAC3BlB,KAAK2rB,oBACL3rB,KAAK+rB,sBAEF/rB,IACX,EACAurB,EAAM5O,UAAUmP,kBAAoB,SAAUD,EAASR,GACnD,YAA4D,IAA7CrrB,KAAKisB,iBAAiBJ,EAASR,EAClD,EACAE,EAAM5O,UAAUoP,mBAAqB,WACjC/rB,KAAKwrB,cAAgBxrB,KAAKyrB,UAAUnrB,MACxC,EACAirB,EAAM5O,UAAUsP,iBAAmB,SAAUJ,EAASR,GAClD,IACInqB,EADAirB,EAAensB,KAAKyrB,UAAUnrB,OAElC,IAAKY,EAAM,EAAGA,EAAMirB,IACZnsB,KAAKyrB,UAAUvqB,KAAS2qB,GAAW7rB,KAAK0rB,UAAUxqB,KAASmqB,GADjCnqB,KAIlC,OAAOA,EAAMirB,EAAejrB,OAAMnH,CACtC,EACAwxB,EAAM5O,UAAUgP,kBAAoB,WAzDxC,IAAoBQ,EA0DZnsB,KAAKosB,UA1DOD,EA0DensB,KAAKyrB,UAAUnrB,OAzDzC8qB,EAAUe,KACXf,EAAUe,GAGlB,SAAwBA,GAGpB,IAFA,IAAIryB,EAAM,6BAA+BqyB,EAAe,gBACpDE,EAAe,GAAIC,EAAe,GAC7BvoB,EAAI,EAAGA,EAAIooB,EAAcpoB,IAC9BsoB,EAAatmB,KAAK,KAAOhC,GACzBuoB,EAAavmB,KAAK,MAAQhC,GAC1BjK,GAAO,SAAWiK,EAAI,gBAAkBA,EAAI,OAGhD,OADAjK,GAAO,KACA,IAAKsO,SAASpL,KAAKuvB,MAAMnkB,SAAU,MAAC,GAAQokB,OAAOH,EAAaG,OAAOF,GAAe,CAACxyB,KAClG,CAbkC2yB,CAAeN,IACtCf,EAAUe,IAuDqCI,MAAMvsB,KAAMA,KAAKyrB,UAAUe,OAAOxsB,KAAK0rB,WAC7F,EACOH,CACX,CA7C0B,GA8C1BlyB,EAAA,QAAkBkyB,C,6BCzElB,IAAImB,EAAU,EAAQ,IACtBrzB,EAAQ,EAAQqzB,EAAQC,O,GCFpBC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqB/yB,IAAjBgzB,EACH,OAAOA,EAAa1zB,QAGrB,IAAIC,EAASszB,EAAyBE,GAAY,CAGjDzzB,QAAS,CAAC,GAOX,OAHA2zB,EAAoBF,GAAUG,KAAK3zB,EAAOD,QAASC,EAAQA,EAAOD,QAASwzB,GAGpEvzB,EAAOD,OACf,CCrBAwzB,EAAoBhmB,EAAKvN,IACxB,IAAI4zB,EAAS5zB,GAAUA,EAAO6zB,WAC7B,IAAO7zB,EAAiB,QACxB,IAAM,EAEP,OADAuzB,EAAoBrkB,EAAE0kB,EAAQ,CAAE5X,EAAG4X,IAC5BA,CAAM,ECLdL,EAAoBrkB,EAAI,CAACnP,EAAS+zB,KACjC,IAAI,IAAI5J,KAAO4J,EACXP,EAAoBhT,EAAEuT,EAAY5J,KAASqJ,EAAoBhT,EAAExgB,EAASmqB,IAC5E/G,OAAO0O,eAAe9xB,EAASmqB,EAAK,CAAE6J,YAAY,EAAMjmB,IAAKgmB,EAAW5J,IAE1E,ECNDqJ,EAAoBhT,EAAI,CAACuD,EAAKkQ,IAAU7Q,OAAOE,UAAU4Q,eAAeN,KAAK7P,EAAKkQ,GCClFT,EAAoBhV,EAAKxe,IACH,oBAAXm0B,QAA0BA,OAAOC,aAC1ChR,OAAO0O,eAAe9xB,EAASm0B,OAAOC,YAAa,CAAEvP,MAAO,WAE7DzB,OAAO0O,eAAe9xB,EAAS,aAAc,CAAE6kB,OAAO,GAAO,E,kCCiDvD,SAASwP,EAAWC,EAAY7mB,EAAQ0c,EAAKoK,GAClD,IAA2HplB,EAAvHtC,EAAI2nB,UAAUvtB,OAAQuX,EAAI3R,EAAI,EAAIY,EAAkB,OAAT8mB,EAAgBA,EAAOnR,OAAOqR,yBAAyBhnB,EAAQ0c,GAAOoK,EACrH,GAAuB,iBAAZG,SAAoD,mBAArBA,QAAQC,SAAyBnW,EAAIkW,QAAQC,SAASL,EAAY7mB,EAAQ0c,EAAKoK,QACpH,IAAK,IAAI7pB,EAAI4pB,EAAWrtB,OAAS,EAAGyD,GAAK,EAAGA,KAASyE,EAAImlB,EAAW5pB,MAAI8T,GAAK3R,EAAI,EAAIsC,EAAEqP,GAAK3R,EAAI,EAAIsC,EAAE1B,EAAQ0c,EAAK3L,GAAKrP,EAAE1B,EAAQ0c,KAAS3L,GAChJ,OAAO3R,EAAI,GAAK2R,GAAK4E,OAAO0O,eAAerkB,EAAQ0c,EAAK3L,GAAIA,CAC9D,CAuDO,SAASoW,EAAUC,EAASC,EAAYC,EAAGC,GAEhD,OAAO,IAAKD,IAAMA,EAAIvS,WAAU,SAAUC,EAASC,GAC/C,SAASuS,EAAUpQ,GAAS,IAAMqQ,EAAKF,EAAUG,KAAKtQ,GAAS,CAAE,MAAOnf,GAAKgd,EAAOhd,EAAI,CAAE,CAC1F,SAAS0vB,EAASvQ,GAAS,IAAMqQ,EAAKF,EAAiB,MAAEnQ,GAAS,CAAE,MAAOnf,GAAKgd,EAAOhd,EAAI,CAAE,CAC7F,SAASwvB,EAAKG,GAJlB,IAAexQ,EAIawQ,EAAOC,KAAO7S,EAAQ4S,EAAOxQ,QAJ1CA,EAIyDwQ,EAAOxQ,MAJhDA,aAAiBkQ,EAAIlQ,EAAQ,IAAIkQ,GAAE,SAAUtS,GAAWA,EAAQoC,EAAQ,KAIjB0Q,KAAKN,EAAWG,EAAW,CAC7GF,GAAMF,EAAYA,EAAU9B,MAAM2B,EAASC,GAAc,KAAKK,OAClE,GACF,CCvHA,IAAY,ECAAK,EDAAC,E,uIDqJiBrS,OAAOC,OA0GXD,OAAOC,OAyDkB,mBAApBqS,iBAAiCA,iBCxTnDD,EAAA,MAAQ,KAChB,sBACA,gBACA,gBACA,kBACA,gBACA,oBACA,wBACA,sBACA,kBACA,kBACA,oBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,0BACA,4BACA,qBACA,qBACA,uBACA,qBACA,6BACA,sBACA,6BACA,qBACA,iBACA,qBACA,sBCnCJ,SAAYD,GACR,sBACA,4BACA,8BACA,2BACH,CALD,CAAYA,IAAAA,EAAiB,KCHX,IAAI5yB,MAAM,uDACH,IAAIA,MAAM,wBADnC,MAEM+yB,EAAa,IAAI/yB,MAAM,6BAW7B,MAAMgzB,EACF,WAAAlvB,CAAYmvB,EAAQC,EAAeH,GAC/BhvB,KAAKkvB,OAASA,EACdlvB,KAAKmvB,aAAeA,EACpBnvB,KAAKovB,gBAAkB,GACvBpvB,KAAKqvB,iBAAmB,EAC5B,CACA,OAAAC,CAAQC,EAAS,GACb,GAAIA,GAAU,EACV,MAAM,IAAItzB,MAAM,kBAAkBszB,uBACtC,OAAO,IAAI1T,SAAQ,CAACC,EAASC,KACpB/b,KAAKovB,gBAAgBG,EAAS,KAC/BvvB,KAAKovB,gBAAgBG,EAAS,GAAK,IACvCvvB,KAAKovB,gBAAgBG,EAAS,GAAGxpB,KAAK,CAAE+V,UAASC,WACjD/b,KAAKwvB,WAAW,GAExB,CACA,YAAAC,CAAahU,EAAU8T,EAAS,GAC5B,OA3B0DrB,EA2BvCluB,KA3BgDmuB,OA2B1C,EA3ByDE,EA2BzC,YACrC,MAAOnQ,EAAOwR,SAAiB1vB,KAAKsvB,QAAQC,GAC5C,IACI,aAAa9T,EAASyC,EAC1B,CACA,QACIwR,GACJ,CACJ,EAjCG,KAF4EtB,OA2B9C,KAzBnBA,EAAIvS,WAAU,SAAUC,EAASC,GAC/C,SAASuS,EAAUpQ,GAAS,IAAMqQ,EAAKF,EAAUG,KAAKtQ,GAAS,CAAE,MAAOnf,GAAKgd,EAAOhd,EAAI,CAAE,CAC1F,SAAS0vB,EAASvQ,GAAS,IAAMqQ,EAAKF,EAAiB,MAAEnQ,GAAS,CAAE,MAAOnf,GAAKgd,EAAOhd,EAAI,CAAE,CAC7F,SAASwvB,EAAKG,GAJlB,IAAexQ,EAIawQ,EAAOC,KAAO7S,EAAQ4S,EAAOxQ,QAJ1CA,EAIyDwQ,EAAOxQ,MAJhDA,aAAiBkQ,EAAIlQ,EAAQ,IAAIkQ,GAAE,SAAUtS,GAAWA,EAAQoC,EAAQ,KAIjB0Q,KAAKN,EAAWG,EAAW,CAC7GF,GAAMF,EAAYA,EAAU9B,MAAM2B,EAASC,GAAc,KAAKK,OAClE,IAPoD,IAAUN,EAASC,EAAYC,EAAGC,CAoCtF,CACA,aAAAsB,CAAcJ,EAAS,GACnB,GAAIA,GAAU,EACV,MAAM,IAAItzB,MAAM,kBAAkBszB,uBACtC,OAAO,IAAI1T,SAASC,IACX9b,KAAKqvB,iBAAiBE,EAAS,KAChCvvB,KAAKqvB,iBAAiBE,EAAS,GAAK,IACxCvvB,KAAKqvB,iBAAiBE,EAAS,GAAGxpB,KAAK+V,GACvC9b,KAAKwvB,WAAW,GAExB,CACA,QAAAI,GACI,OAAO5vB,KAAKkvB,QAAU,CAC1B,CACA,QAAAW,GACI,OAAO7vB,KAAKkvB,MAChB,CACA,QAAAY,CAAS5R,GACLle,KAAKkvB,OAAShR,EACdle,KAAKwvB,WACT,CACA,OAAAE,CAAQH,EAAS,GACb,GAAIA,GAAU,EACV,MAAM,IAAItzB,MAAM,kBAAkBszB,uBACtCvvB,KAAKkvB,QAAUK,EACfvvB,KAAKwvB,WACT,CACA,MAAAO,GACI/vB,KAAKovB,gBAAgBY,SAASC,GAAUA,EAAMD,SAASE,GAAUA,EAAMnU,OAAO/b,KAAKmvB,kBACnFnvB,KAAKovB,gBAAkB,EAC3B,CACA,SAAAI,GACI,IAAIW,EACJ,IAAK,IAAIZ,EAASvvB,KAAKkvB,OAAQK,EAAS,EAAGA,IAAU,CACjD,MAAMa,EAAyD,QAA3CD,EAAKnwB,KAAKovB,gBAAgBG,EAAS,UAAuB,IAAPY,OAAgB,EAASA,EAAG5vB,QACnG,IAAK6vB,EACD,SACJ,MAAMC,EAAgBrwB,KAAKkvB,OACrBoB,EAAiBf,EACvBvvB,KAAKkvB,QAAUK,EACfA,EAASvvB,KAAKkvB,OAAS,EACvBkB,EAAWtU,QAAQ,CAACuU,EAAerwB,KAAKuwB,aAAaD,IACzD,CACAtwB,KAAKwwB,qBACT,CACA,YAAAD,CAAahB,GACT,IAAIkB,GAAS,EACb,MAAO,KACCA,IAEJA,GAAS,EACTzwB,KAAK0vB,QAAQH,GAAO,CAE5B,CACA,mBAAAiB,GACI,IAAK,IAAIjB,EAASvvB,KAAKkvB,OAAQK,EAAS,EAAGA,IAClCvvB,KAAKqvB,iBAAiBE,EAAS,KAEpCvvB,KAAKqvB,iBAAiBE,EAAS,GAAGS,SAASU,GAAWA,MACtD1wB,KAAKqvB,iBAAiBE,EAAS,GAAK,GAE5C,EAYJ,MAAMoB,EACF,WAAA5wB,CAAY6wB,GACR5wB,KAAK6wB,WAAa,IAAI5B,EAAU,EAAG2B,EACvC,CACA,OAAAtB,GACI,OAd0DpB,EAcvCluB,KAdgDmuB,OAc1C,EAdyDE,EAczC,YACrC,MAAO,CAAEyC,SAAkB9wB,KAAK6wB,WAAWvB,UAC3C,OAAOwB,CACX,EAfG,KAF4E1C,OAc9C,KAZnBA,EAAIvS,WAAU,SAAUC,EAASC,GAC/C,SAASuS,EAAUpQ,GAAS,IAAMqQ,EAAKF,EAAUG,KAAKtQ,GAAS,CAAE,MAAOnf,GAAKgd,EAAOhd,EAAI,CAAE,CAC1F,SAAS0vB,EAASvQ,GAAS,IAAMqQ,EAAKF,EAAiB,MAAEnQ,GAAS,CAAE,MAAOnf,GAAKgd,EAAOhd,EAAI,CAAE,CAC7F,SAASwvB,EAAKG,GAJlB,IAAexQ,EAIawQ,EAAOC,KAAO7S,EAAQ4S,EAAOxQ,QAJ1CA,EAIyDwQ,EAAOxQ,MAJhDA,aAAiBkQ,EAAIlQ,EAAQ,IAAIkQ,GAAE,SAAUtS,GAAWA,EAAQoC,EAAQ,KAIjB0Q,KAAKN,EAAWG,EAAW,CAC7GF,GAAMF,EAAYA,EAAU9B,MAAM2B,EAASC,GAAc,KAAKK,OAClE,IAPoD,IAAUN,EAASC,EAAYC,EAAGC,CAkBtF,CACA,YAAAoB,CAAahU,GACT,OAAOzb,KAAK6wB,WAAWpB,cAAa,IAAMhU,KAC9C,CACA,QAAAmU,GACI,OAAO5vB,KAAK6wB,WAAWjB,UAC3B,CACA,aAAAD,GACI,OAAO3vB,KAAK6wB,WAAWlB,eAC3B,CACA,OAAAD,GACQ1vB,KAAK6wB,WAAWjB,YAChB5vB,KAAK6wB,WAAWnB,SACxB,CACA,MAAAK,GACI,OAAO/vB,KAAK6wB,WAAWd,QAC3B,EC1IG,MAAMgB,EAAgB,WAAY52B,OAC5B62B,IACPtrB,UAAUurB,SAASC,MAAM,qBACH,aAAvBxrB,UAAUurB,UAA2BvrB,UAAUyrB,eAAiB,ECW/DC,GDVqBJ,GAAUtrB,UAAU2rB,UAAUH,MAAM,oBAClCxrB,UAAU2rB,UAAUH,MAAM,aAE5BxrB,UAAU2rB,UAAUH,MAAM,YAE5BxrB,UAAU2rB,UAAUC,cAAcC,QAAQ,WCK1Cp3B,OAAOq3B,cAAgBr3B,OAAOs3B,oBAEvD,SAAS,EAAeC,EAAeC,EAAU,KAC7C,OAAO,IAAI9V,SAAQ,CAACC,EAASC,KACzBrE,YAAW,IAAMqE,EAAO,IAAI9f,MAAM,aAAa01B,GAE/CD,EAAE9C,KAAK9S,EAASC,EAAO,GAE/B,CACO,MAAe6V,EAClB,WAAA7xB,CAAoB8xB,GAAA,KAAAA,iBAAAA,EASpB,KAAAC,WAAa,IACT9xB,KAAK+xB,MAAMtC,cAAa,IAAY,kCAChC,IAAK,IAAI1rB,EAAI,EAAGA,EAAI,EAAGA,IACnB,SAAU/D,KAAKgyB,2BAA4B,OAAO,EAGtD,OAAO,CACX,MA8BM,KAAAC,YAAc,CAACC,GAAgB,IACrClyB,KAAK+xB,MAAMtC,cAAa,IAAY,kCAChC,IAAKzvB,KAAKqrB,QAAS,OAEnB,GAAIrrB,KAAKmyB,cAAgBnyB,KAAKoyB,YAAa,OACtCF,GAAkBlyB,KAAKmyB,cAAenyB,KAAKoyB,aAAapyB,KAAKqyB,iBAElE,MAAMC,EAAWtyB,KAAKqrB,QAAQkH,MAE9B,GAAIvyB,KAAKoyB,YACL,IACIpyB,KAAKwyB,mBAEC,EAAYxyB,KAAKqrB,QAAQoH,UAE/B31B,QAAQC,IAAI,uB,CACd,MAAOgC,GACLjC,QAAQI,MAAM,qCAAqCo1B,I,MAGvD,UACU,EAAYtyB,KAAKqrB,QAAQqH,WAE/B51B,QAAQC,IAAI,wB,CACd,MAAOgC,GACLjC,QAAQI,MAAM,sCAAsCo1B,I,CAI5Dx1B,QAAQC,IAAI,8BAA8Bu1B,QAAetyB,KAAKqrB,QAAQkH,QAC1E,MAkEI,KAAAI,YAAqBC,GAAwC,kCACjE5yB,KAAK6yB,iBAAmBD,EAEnB5yB,KAAK8yB,cAEN9yB,KAAKoyB,cAAgBpyB,KAAKmyB,aAAkBnyB,KAAKiyB,aAAY,GAE5DjyB,KAAKoyB,aAEVpyB,KAAKqyB,iBACT,IAkDQ,KAAAN,MAAQ,IAAIpB,EAMZ,KAAAmC,aAAc,EACd,KAAAC,OAAQ,EAhNZ/yB,KAAK6xB,iBAAiBmB,eAAepH,WAAW5rB,KAAK2yB,aAErD3yB,KAAK6xB,iBAAiBoB,0BAA0BrH,YAAW,IAAM5rB,KAAKiyB,gBACtEjyB,KAAK6xB,iBAAiBqB,oBAAoBtH,YAAW,IAAM5rB,KAAKiyB,gBAE3DjB,GAAOp3B,SAASu5B,iBAAiB,oBAAoB,IAAMnzB,KAAKiyB,eACzE,CAWA,aAAAmB,GACI,OAAOpzB,KAAK8yB,WAChB,CAEA,IAAAO,CAAKN,GACD/yB,KAAK+yB,MAAQA,EAER/yB,KAAKiyB,aACd,CAEA,OAAAqB,GACI,OAAOtzB,KAAK+yB,KAChB,CAMU,SAAAX,GACN,OACIpyB,KAAK6xB,iBAAiBM,cACrBnyB,KAAK6xB,iBAAiB0B,eACtBvzB,KAAK+yB,OACN/yB,KAAKwzB,OAAS,IACgB,WAA7B55B,SAAS65B,iBAAgCzC,GAAShxB,KAAK0zB,YAEhE,CAkCU,UAAAlB,GACFxyB,KAAK2zB,WACL3zB,KAAK2zB,SAASH,KAAKtV,MAAQle,KAAKwzB,OAExC,CAEc,wBAAAxB,G,yCACV,GAAIhyB,KAAK8yB,YAAa,OAAO,EAE7B,IACI9yB,KAAKqrB,QAAU,IAAI+F,C,CACrB,MAAOryB,GAIL,OAHAjC,QAAQI,MAAM6B,GACdjC,QAAQI,MAAM,4BAEP,C,CAGX,IACI8C,KAAKqrB,QAAQuI,YAAYC,aAAe,C,CAC1C,MAAO90B,GACLjC,QAAQg3B,KAAK,4C,CAGjB,UACU9zB,KAAKqW,O,CACb,MAAOtX,GAIL,OAHAjC,QAAQI,MAAM6B,GACdjC,QAAQI,MAAM,uCAEP,C,CAkBX,OAfA8C,KAAKqrB,QAAQ8H,iBAAiB,eAAe,K,MACD,iBAAvB,QAAZ,EAAAnzB,KAAKqrB,eAAO,eAAEkH,QAAyCvyB,KAAKiyB,aAAa,IAGlFjyB,KAAK2zB,SAAW3zB,KAAKqrB,QAAQ0I,aAC7B/zB,KAAK2zB,SAASE,aAAe,EAC7B7zB,KAAK2zB,SAASK,sBAAwB,WACtCh0B,KAAK2zB,SAASH,KAAKtV,MAAQle,KAAKwzB,OAEhCxzB,KAAK2zB,SAASM,QAAQj0B,KAAKqrB,QAAQuI,aAEnC5zB,KAAKqyB,iBAELryB,KAAK8yB,aAAc,GAEZ,CACX,G,CAEc,KAAAzc,G,yCACLrW,KAAKqrB,gBAEJ,EAAYrrB,KAAKqrB,QAAQoH,UAC1BzyB,KAAKiyB,cAEVn1B,QAAQC,IAAI,6BAChB,G,CAEQ,SAAAo1B,G,MACJ,MAA+B,aAAZ,QAAZ,EAAAnyB,KAAKqrB,eAAO,eAAEkH,MACzB,CAcQ,cAAAF,GACJ,IAAKryB,KAAKqrB,UAAYrrB,KAAK6yB,iBAAkB,OAE7C,MAAM,UAAEqB,EAAS,UAAEC,GAAcn0B,KAAK6yB,iBAChCuB,EAAap0B,KAAKqrB,QAAQ+I,WAIhC,GAFAp0B,KAAK6yB,sBAAmB94B,EAEpBm6B,GAAa,GAAKC,GAAa,GAAKD,GAAaE,EAGjD,YAFAp0B,KAAKq0B,mBAKT,MAAMp2B,EAAS+B,KAAKqrB,QAAQiJ,aAAa,EAAG5vB,KAAKyU,MAAMib,EAAaF,GAAYE,GAC1EjV,EAAOlhB,EAAOs2B,eAAe,GAEnC,IAAK,IAAIxwB,EAAI,EAAGA,EAAIob,EAAK7e,OAAQyD,IAC7Bob,EAAKpb,GAAKA,EAAIob,EAAK7e,OAAS6zB,EAAY,EAAI,EAGhD,MAAMK,EAAmBx0B,KAAKqrB,QAAQoJ,qBACtCD,EAAiBX,aAAe,EAChCW,EAAiBR,sBAAwB,WACzCQ,EAAiBE,MAAO,EACxBF,EAAiBv2B,OAASA,EAE1B+B,KAAKq0B,mBAELG,EAAiBP,QAAQj0B,KAAK2zB,UAC9Ba,EAAiBne,QACjBrW,KAAKw0B,iBAAmBA,EAExBx0B,KAAK6yB,sBAAmB94B,CAC5B,CAEQ,gBAAAs6B,GACAr0B,KAAKw0B,mBACLx0B,KAAKw0B,iBAAiBG,OACtB30B,KAAKw0B,iBAAiBI,aACtB50B,KAAKw0B,sBAAmBz6B,EAEhC,CAEQ,IAAAy5B,GACJ,OAAOxzB,KAAK60B,YAAc,CAC9B,EC9NG,MAAMC,UAA6BlD,EAA1C,c,oBAcY,KAAAmD,OAAS,EACrB,CAdW,SAAAC,CAAUD,GACb/0B,KAAK+0B,OAASrwB,KAAKjH,IAAIiH,KAAK+R,IAAIse,EAAQ,GAAI,GAE5C/0B,KAAKwyB,YACT,CAEO,SAAAqC,GACH,OAAO70B,KAAK+0B,MAChB,CACU,SAAArB,GACN,OAAO,CACX,ECTG,SAASuB,EAAU/N,EAAkCgO,GACxD,IAAIC,EACAC,EACJ,MAAMC,EAASz7B,SAAS07B,cAAc,UAEtC,MAAO,CAAOC,EAAeC,IAAmB,kCAC5C,GAAIL,IAAgBI,GAASH,IAAiBI,EAC1C,OAAOH,EAGXA,EAAOE,MAAQA,EACfF,EAAOG,OAASA,EAEhB,MAAMC,EAAMJ,EAAOK,WAAW,MAC9B,IAAKD,EAAK,MAAM,IAAIx5B,MAAM,qBAa1B,OAXAw5B,EAAIE,gBAAgBzO,EAAO,EAAG,EAAGmO,EAAOE,MAAOF,EAAOG,SAEjDzE,GAAiBC,WAAiBkE,GAAQ3D,QAAQ,eAAiB,UAE9D,IAAI1V,SAASC,GAAYpE,WAAWoE,EAAS,KACnD2Z,EAAIE,gBAAgBzO,EAAO,EAAG,EAAGmO,EAAOE,MAAOF,EAAOG,SAG1DL,EAAcI,EACdH,EAAeI,EAERH,CACX,GACJ,CAEO,SAASO,EAAUx6B,GACtB,OAAO,IAAIygB,SAA0B,CAACC,EAASC,KAC3C,MAAMmL,EAAQ,IAAI2O,MAElB3O,EAAM4O,OAAS,IAAMha,EAAQoL,GAC7BA,EAAM6O,QAAU,IAAMha,IAEtBmL,EAAMptB,IAAMsB,CAAG,GAEvB,CAEO,MAAM46B,EAAYC,GAAwB,6BAA6BC,KAAKD,KC/CnF,IAAY,EAAAE,ECKL,SAASC,EAAiB5V,GAC7B,OAAQA,GACJ,KAAK,EAAS6V,KACd,KAAK,EAASC,KACV,MAAO,CACHC,WAAY,EACZhB,MAAO,IACPC,OAAQ,IACRgB,iBAAkB,KAG1B,KAAK,EAASC,WACd,KAAK,EAASC,YACd,KAAK,EAASC,MACV,MAAO,CACHJ,WAAY,EACZhB,MAAO,IACPC,OAAQ,IACRgB,iBAAkB,GAG1B,KAAK,EAASI,QACd,KAAK,EAASC,QACd,KAAK,EAASC,SACV,MAAO,CACHP,WAAY,EACZhB,MAAO,IACPC,OAAQ,IACRgB,iBAAkB,IAG1B,KAAK,EAASO,SACd,KAAK,EAASC,QACd,KAAK,EAASC,SACV,MAAO,CACHV,WAAY,EACZhB,MAAO,IACPC,OAAQ,IACRgB,iBAAkB,IAClBU,oBAAqB,IAG7B,KAAK,EAASC,SACd,KAAK,EAASC,SACV,MAAO,CACHb,WAAY,EACZhB,MAAO,IACPC,OAAQ,IACRgB,iBAAkB,KAG1B,KAAK,EAASa,QACV,MAAO,CACHd,WAAY,EACZhB,MAAO,IACPC,OAAQ,IACRgB,iBAAkB,GAG1B,KAAK,EAASc,QACV,MAAO,CACHf,WAAY,EACZhB,MAAO,IACPC,OAAQ,IACRgB,iBAAkB,GAClBe,gBAAiB,GAGzB,QACI,MAAO,CACHhB,WAAY,EACZhB,MAAO,IACPC,OAAQ,IACRgB,iBAAkB,IAGlC,CAEO,SAASgB,EAAQhX,GACpB,OAAQA,GACJ,KAAK,EAASiX,MACd,KAAK,EAASC,UACd,KAAK,EAASC,IACd,KAAK,EAASC,MACd,KAAK,EAASC,OACd,KAAK,EAASC,KACd,KAAK,EAASC,MACd,KAAK,EAASC,KACd,KAAK,EAASC,KACd,KAAK,EAASC,KACd,KAAK,EAASC,KACd,KAAK,EAASC,KACd,KAAK,EAASC,QACd,KAAK,EAASC,UACd,KAAK,EAASC,SACd,KAAK,EAASC,KACd,KAAK,EAAS/B,WACd,KAAK,EAASG,QACd,KAAK,EAASC,QACd,KAAK,EAASG,QACd,KAAK,EAASM,QACV,OAAO,EAEX,QACI,OAAO,EAEnB,ED/GYnB,EAAA,MAAQ,KAChB,gBACA,4BACA,c,aEHJ,MAAMsC,EAAa,CAAC,IAAK,IAAK,KACxBC,EAAa,CAAC,EAAK,EAAK,GAEjBC,EAAyB,IAAIlyB,MAAM,IAC3CmyB,KAAK,GACLC,KAAI,CAAChzB,EAAG9B,IAAM20B,EAAWG,KAAI,CAACC,EAAIxwB,IAAM5D,KAAKiU,OAAO5U,EAAI+0B,GAAM,GAAK/0B,GAAK00B,EAAWnwB,IAAM,QACzFuwB,KAAI,EAAEhhB,EAAG+B,EAAG5b,KAAO,WAAcA,GAAK,GAAO4b,GAAK,EAAK/B,IAE/CkhB,EAAwBJ,EAAuBE,KACvD/yB,IAAK,MAAC,WAAkE,QAA3D,GAAI,SAAJA,GAAclF,SAAS,IAAIC,SAAS,EAAG,KAAKqwB,MAAM,iBAAS,eAAE8H,UAAUC,KAAK,IAAG,ICEpFC,EAAiB,EAASC,KACjCC,EAA8BL,EAAsB,GACpDM,EAAoCN,EAAsB,GAI1DO,EAA2B,kBA0CjC,SAASC,EAAgBC,GACrB,MAAMC,EAAarD,EAAiBoD,GAC9BE,GAAmC,IAA1BD,EAAWlD,WAA0C,EAAI,GAAKoD,iBACvEC,EAA8B,CAAEC,YAAa,EAAGC,YAAaJ,GAE7DK,EAAQj0B,IAA8B,CAAG+zB,YAAa/zB,EAAGg0B,YAAah0B,EAAI4zB,IAC1EM,EAASl0B,IAA8B,CAAG+zB,YAAa/zB,EAAGg0B,YAAaF,EAAYE,YAAch0B,EAAI4zB,IAErGO,EAAkBR,EAAWjD,iBAAmB,EAAIuD,EAAK,GAAKA,EAAK,GACnEG,EAAeH,EAvBzB,SAAmCxD,GAC/B,OAAQA,GACJ,KAAK,EACL,KAAK,EACD,OAAO,GAEX,KAAK,EACD,OAAO,GAEX,QACI,OAAO,GAEnB,CAW8B4D,CAA0BV,EAAWlD,aAE/D,MAAO,CACHmD,QACAE,cACApE,OAAQuE,EACJ,EAAIH,EAAYC,YACZJ,EAAWjE,OACXyE,EAAgBJ,YAChBJ,EAAWjD,iBACX0D,EAAaL,aAErBtE,MAAOwE,EAAK,EAAIH,EAAYC,YAAcJ,EAAWlE,OACrD6E,aAAcL,EAAKN,EAAWjE,QAC9B6E,YAAaN,EAAKN,EAAWlE,OAC7B+E,WAAYN,EAAM,GAClBO,UAAWP,EAAM,GACjBQ,aAAcR,EAAMP,EAAWjE,QAC/ByE,kBACAzD,iBAAkBuD,EAAKN,EAAWjD,kBAClCiE,cAAeT,EAAMP,EAAWjE,OAASyE,EAAgBJ,aACzDa,iBAAkBV,EAAMP,EAAWjE,OAASyE,EAAgBJ,YAAcJ,EAAWjD,kBACrFmE,qBAAsBZ,EAAKN,EAAWjD,iBAAmB,EAAI,EAAIiD,EAAWjE,OAASiE,EAAWlE,OAChG2E,eACAU,YAAaV,EACbW,UAAWb,EAAMP,EAAWjE,OAASyE,EAAgBJ,YAAcJ,EAAWjD,kBAC9EsE,aAAcd,EACVP,EAAWjE,OAASyE,EAAgBJ,YAAcJ,EAAWjD,iBAAmB0D,EAAaL,aAGzG,CAEO,MAAekB,EAClB,WAAAh7B,CAAsBi7B,GAAA,KAAAA,WAAAA,EAugBZ,KAAAC,OAAS1B,EAAgBL,GAG1B,KAAAgC,SAAW,IAAI,GA1gBuB,CAE/C,SAAI3F,GACA,OAAQv1B,KAAKm7B,kBACT,KAAKtM,EAAkBuM,SACvB,KAAKvM,EAAkBwM,YACvB,UAAKthC,EACD,OAAOiG,KAAKi7B,OAAO1F,MAAMuE,YAE7B,QACI,OAAO95B,KAAKi7B,OAAOzF,OAAOsE,YAEtC,CAEA,UAAItE,GACA,OAAQx1B,KAAKm7B,kBACT,KAAKtM,EAAkBuM,SACvB,KAAKvM,EAAkBwM,YACvB,UAAKthC,EACD,OAAOiG,KAAKi7B,OAAOzF,OAAOsE,YAE9B,QACI,OAAO95B,KAAKi7B,OAAO1F,MAAMuE,YAErC,CAEA,qBAAAwB,CAAsBjG,GAClBr1B,KAAKu7B,sBACLv7B,KAAKw7B,oBAAoBnG,GAEzBr1B,KAAKy7B,qBACT,CAEA,sBAAAC,CAAuB38B,EAAuB48B,GAAO,GACjD,IAAK37B,KAAKy1B,IAAK,OAEf,MAAMmG,EAAK57B,KAAKy1B,IAAIJ,OAAOwG,wBAE3B,IAAIC,EACAC,EACAC,EACAC,EAIAL,EAAGrG,MAAQqG,EAAGpG,OAASx1B,KAAKu1B,MAAQv1B,KAAKw1B,QACzCyG,EAAgBL,EAAGpG,OACnBwG,EAAgBh8B,KAAKu1B,MAAQv1B,KAAKw1B,OAAUoG,EAAGpG,OAC/CuG,EAAWH,EAAGM,IACdJ,EAAWF,EAAGO,MAAQP,EAAGrG,MAAQyG,GAAgB,IAEjDA,EAAeJ,EAAGrG,MAClB0G,EAAiBj8B,KAAKw1B,OAASx1B,KAAKu1B,MAASqG,EAAGrG,MAChDuG,EAAWF,EAAGO,KACdJ,EAAWH,EAAGM,KAAON,EAAGpG,OAASyG,GAAiB,GAItD,IAAIn2B,GAAO/G,EAAEq9B,QAAUN,GAAYE,EAAgBh8B,KAAKu1B,MAASv1B,KAAKi7B,OAAOvB,MACzE9Y,GAAO7hB,EAAEs9B,QAAUN,GAAYE,EAAiBj8B,KAAKw1B,OAAUx1B,KAAKi7B,OAAOvB,MAG/E,OAAQ15B,KAAKm7B,kBACT,KAAKtM,EAAkByN,YAAa,CAChC,MAAMC,EAAM3b,EACZA,EAAI5gB,KAAKi7B,OAAOzF,OAAOqE,YAAc/zB,EACrCA,EAAIy2B,EAEJ,K,CAGJ,KAAK1N,EAAkB2N,aAAc,CACjC,MAAMD,EAAM3b,EACZA,EAAI9a,EACJA,EAAI9F,KAAKi7B,OAAO1F,MAAMsE,YAAc0C,EACpC,K,CAGJ,KAAK1N,EAAkBwM,YACnBv1B,EAAI9F,KAAKi7B,OAAO1F,MAAMsE,YAAc/zB,EACpC8a,EAAI5gB,KAAKi7B,OAAOzF,OAAOqE,YAAcjZ,EAM7C9a,GAAK9F,KAAKi7B,OAAOrB,YAAYC,YAC7BjZ,GAAK5gB,KAAKi7B,OAAOrB,YAAYC,YAWzBjZ,GAAK5gB,KAAKi7B,OAAOb,aAAaP,cAC1BjZ,GAAK5gB,KAAKi7B,OAAOb,aAAaP,YAAc75B,KAAKi7B,OAAOhB,gBAAgBJ,YACxEjZ,EAAI5gB,KAAKi7B,OAAOb,aAAaP,YAE7BjZ,GAAK5gB,KAAKi7B,OAAOhB,gBAAgBJ,aAIzC,MAAM4C,EACFz8B,KAAKi7B,OAAOb,aAAaP,YACzB75B,KAAKi7B,OAAOzE,iBAAiBqD,YAC7B75B,KAAKi7B,OAAOf,aAAaL,YAE7B,GAAI8B,EACI71B,EAAI,IAAGA,EAAI,GACXA,GAAK9F,KAAKi7B,OAAOZ,YAAYR,cAAa/zB,EAAI9F,KAAKi7B,OAAOZ,YAAYR,YAAc,GACpFjZ,EAAI,IAAGA,EAAI,GACXA,GAAK6b,IAAa7b,EAAI6b,EAAc,QAExC,GAAI32B,EAAI,GAAKA,GAAK9F,KAAKi7B,OAAOZ,YAAYR,aAAejZ,EAAI,GAAKA,GAAK6b,EACnE,OAIR,MAAO,CAAC32B,EAAG8a,EACf,CAEA,YAAA8b,CAAaC,GACT,MAAO,CAAE/b,GAAK+b,EAEd,OAAQ38B,KAAK48B,UAAUD,IAAW/b,GAAK5gB,KAAKi7B,OAAOb,aAAaP,WACpE,CAEA,SAAA+C,EAAW,CAAEhc,IACT,OAAOA,GAAK5gB,KAAKi7B,OAAOb,aAAaP,YAAc75B,KAAKi7B,OAAOzE,iBAAiBqD,WACpF,CAEA,eAAAgD,EAAiB/2B,EAAG8a,IAChB,OAAI9a,GAAK9F,KAAKi7B,OAAOZ,YAAYR,YAAc75B,KAAKi7B,OAAOL,YAAYf,YAAoB,EACvF/zB,GAAK9F,KAAKi7B,OAAOZ,YAAYR,YAAc,EAAI75B,KAAKi7B,OAAOL,YAAYf,YAAoB,EAC3F/zB,GAAK,EAAI9F,KAAKi7B,OAAOL,YAAYf,YAC1BjZ,GACH5gB,KAAKi7B,OAAOb,aAAaP,YACrB75B,KAAKi7B,OAAOzE,iBAAiBqD,YAC7B75B,KAAKi7B,OAAOf,aAAaL,YAAc,EACzC,EACA,EAEN/zB,GAAK9F,KAAKi7B,OAAOL,YAAYf,YAAoB,EAE9C,CACX,CAEgB,cAAAiD,CAAezH,G,0BAAAA,EAAgD,QAAhD,EAAwCr1B,KAAKy1B,WAAG,eAAEJ,Q,kCAC7E,IAAKA,EAAQ,OAEbr1B,KAAKi7B,OAAS1B,EAAgBv5B,KAAK+8B,eAEnC/8B,KAAKk7B,SAAS9O,WAEdiJ,EAAOE,MAAQv1B,KAAKu1B,MACpBF,EAAOG,OAASx1B,KAAKw1B,OAErB,MAAMC,EAAMJ,EAAOK,WAAW,MAC9B,IAAKD,EACD,MAAM,IAAIx5B,MAAM,4CAGpB+D,KAAKy1B,IAAMA,EAEXz1B,KAAKu7B,sBACLv7B,KAAKg9B,eAAe,EAAG,EAAGh9B,KAAKi7B,OAAO1F,MAAMuE,YAAa95B,KAAKi7B,OAAOzF,OAAOsE,YAAa95B,KAAKi9B,cAC9Fj9B,KAAKk9B,SACD,EACA,EACAl9B,KAAKi7B,OAAOZ,YAAYR,YACxB75B,KAAKi7B,OAAOb,aAAaP,YACrB75B,KAAKi7B,OAAOzE,iBAAiBqD,YAC7B75B,KAAKi7B,OAAOhB,gBAAgBJ,YAC5B75B,KAAKi7B,OAAOf,aAAaL,YAC7B75B,KAAKm9B,mBAGTn9B,KAAKw7B,4BACC3f,QAAQuhB,IAAI,CAACp9B,KAAKq9B,iBAAkBr9B,KAAKs9B,e,IAG7C,WAAAA,CAAYC,EAAmC,I,yCAC5Cv9B,KAAKy1B,MACVz1B,KAAKu7B,sBAELv7B,KAAKy1B,IAAI+H,uBAAwB,EACjCx9B,KAAKy1B,IAAIgI,sBAAwB,OAEjCz9B,KAAKy1B,IAAIE,gBACC31B,KAAK09B,cAAL19B,CAAoBA,KAAKi7B,OAAOZ,YAAYP,YAAa95B,KAAKi7B,OAAOf,aAAaJ,aACxF95B,KAAKi7B,OAAOX,WAAWR,YACvB95B,KAAKi7B,OAAOJ,UAAUf,YACtB95B,KAAKi7B,OAAOZ,YAAYP,YACxB95B,KAAKi7B,OAAOf,aAAaJ,aAGzByD,EAAcI,SAAS,IACvB39B,KAAKk9B,SACD,EACAl9B,KAAKi7B,OAAOJ,UAAUhB,YACtB75B,KAAKi7B,OAAOL,YAAYf,YACxB75B,KAAKi7B,OAAOf,aAAaL,YACzBP,GAGJiE,EAAcI,SAAS,IACvB39B,KAAKk9B,SACDl9B,KAAKi7B,OAAOL,YAAYf,YACxB75B,KAAKi7B,OAAOJ,UAAUhB,YACtB75B,KAAKi7B,OAAOL,YAAYf,YACxB75B,KAAKi7B,OAAOf,aAAaL,YACzBP,GAGJiE,EAAcI,SAAS,IACvB39B,KAAKk9B,SACDl9B,KAAKi7B,OAAOZ,YAAYR,YAAc,EAAI75B,KAAKi7B,OAAOL,YAAYf,YAClE75B,KAAKi7B,OAAOJ,UAAUhB,YACtB75B,KAAKi7B,OAAOL,YAAYf,YACxB75B,KAAKi7B,OAAOf,aAAaL,YACzBP,GAGJiE,EAAcI,SAAS,IACvB39B,KAAKk9B,SACDl9B,KAAKi7B,OAAOZ,YAAYR,YAAc75B,KAAKi7B,OAAOL,YAAYf,YAC9D75B,KAAKi7B,OAAOJ,UAAUhB,YACtB75B,KAAKi7B,OAAOL,YAAYf,YACxB75B,KAAKi7B,OAAOf,aAAaL,YACzBP,GAGJiE,EAAcI,SAAS,IACvB39B,KAAKk9B,SACD,EAAIl9B,KAAKi7B,OAAOL,YAAYf,YAC5B75B,KAAKi7B,OAAOJ,UAAUhB,YACtB75B,KAAKi7B,OAAOZ,YAAYR,YAAc,EAAI75B,KAAKi7B,OAAOL,YAAYf,YAClE75B,KAAKi7B,OAAOf,aAAaL,YAAc,EACvCP,GAGJiE,EAAcI,SAAS,IACvB39B,KAAKk9B,SACD,EAAIl9B,KAAKi7B,OAAOL,YAAYf,YAC5B75B,KAAKi7B,OAAOJ,UAAUhB,YAAc75B,KAAKi7B,OAAOf,aAAaL,YAAc,EAC3E75B,KAAKi7B,OAAOZ,YAAYR,YAAc,EAAI75B,KAAKi7B,OAAOL,YAAYf,YAClE75B,KAAKi7B,OAAOf,aAAaL,YAAc,EACvCP,GAGZ,G,CAMU,mBAAAmC,GAA6B,CAE7B,mBAAAF,GACN,GAAKv7B,KAAKy1B,IAIV,OAFAz1B,KAAKy1B,IAAImI,iBAED59B,KAAKm7B,kBACT,KAAKtM,EAAkBuM,SACvB,UAAKrhC,EACD,MAEJ,KAAK80B,EAAkByN,YACnBt8B,KAAKy1B,IAAIoI,UAAU79B,KAAKi7B,OAAOzF,OAAOsE,YAAa,GACnD95B,KAAKy1B,IAAIqI,OAAOp5B,KAAKq5B,GAAK,GAC1B,MAEJ,KAAKlP,EAAkB2N,aACnBx8B,KAAKy1B,IAAIoI,UAAU,EAAG79B,KAAKi7B,OAAO1F,MAAMuE,aACxC95B,KAAKy1B,IAAIqI,OAAQ,EAAIp5B,KAAKq5B,GAAM,GAChC,MAEJ,KAAKlP,EAAkBwM,YACnBr7B,KAAKy1B,IAAIoI,UAAU79B,KAAKi7B,OAAO1F,MAAMuE,YAAa95B,KAAKi7B,OAAOzF,OAAOsE,aACrE95B,KAAKy1B,IAAIqI,OAAOp5B,KAAKq5B,IAGjC,CAEgB,cAAAV,G,yCACqC,IAA7Cr9B,KAAKi7B,OAAOzE,iBAAiBsD,aAAsB95B,KAAKy1B,MAC5Dz1B,KAAKu7B,sBAELv7B,KAAKk9B,SACDl9B,KAAKi7B,OAAOX,WAAWT,YACvB75B,KAAKi7B,OAAOR,cAAcZ,YAC1B75B,KAAKi7B,OAAOZ,YAAYR,YACxB75B,KAAKi7B,OAAOzE,iBAAiBqD,YAC7BT,GAGJp5B,KAAKy1B,IAAI+H,uBAAwB,EACjCx9B,KAAKy1B,IAAIgI,sBAAwB,OAEjCz9B,KAAKy1B,IAAIE,gBACC31B,KAAKg+B,iBAALh+B,CAAuBA,KAAKi7B,OAAOZ,YAAYP,YAAa95B,KAAKi7B,OAAOzE,iBAAiBsD,aAC/F95B,KAAKi7B,OAAOrB,YAAYE,YACxB95B,KAAKi7B,OAAOR,cAAcX,YAC1B95B,KAAKi7B,OAAOZ,YAAYP,YACxB95B,KAAKi7B,OAAOzE,iBAAiBsD,aAErC,G,CAEU,mBAAA0B,CAAoBnG,EAASr1B,KAAKi+B,qBACnC5I,GAAWr1B,KAAKy1B,MACrBz1B,KAAKi+B,oBAAsB5I,EAE3Br1B,KAAKy1B,IAAI+H,uBAAwB,EACjCx9B,KAAKy1B,IAAIE,UACLN,EACAr1B,KAAKi7B,OAAOX,WAAWR,YACvB95B,KAAKi7B,OAAOV,UAAUT,YACtB95B,KAAKi7B,OAAOZ,YAAYP,YACxB95B,KAAKi7B,OAAOb,aAAaN,aAEjC,CAEU,QAAAoD,CAASp3B,EAAW8a,EAAW2U,EAAeC,EAAgB0I,GAC/Dl+B,KAAKy1B,MAEVz1B,KAAKy1B,IAAI0I,YACTn+B,KAAKy1B,IAAI2I,KACLp+B,KAAKi7B,OAAOrB,YAAYE,YAAc95B,KAAKi7B,OAAOvB,MAAQ5zB,EAC1D9F,KAAKi7B,OAAOrB,YAAYE,YAAc95B,KAAKi7B,OAAOvB,MAAQ9Y,EAC1D5gB,KAAKi7B,OAAOvB,MAAQnE,EACpBv1B,KAAKi7B,OAAOvB,MAAQlE,GAExBx1B,KAAKy1B,IAAI4I,UAAYH,EACrBl+B,KAAKy1B,IAAImD,OACb,CAEU,cAAAoE,CAAel3B,EAAW8a,EAAW2U,EAAeC,EAAgB0I,GACrEl+B,KAAKy1B,MAEVz1B,KAAKy1B,IAAI0I,YACTn+B,KAAKy1B,IAAI2I,KAAKt4B,EAAG8a,EAAG2U,EAAOC,GAC3Bx1B,KAAKy1B,IAAI4I,UAAYH,EACrBl+B,KAAKy1B,IAAImD,OACb,CAEU,eAAAoF,GACN,OAAOh+B,KAAKg7B,WAAWsD,gBAAgBt+B,KAAKu+B,wBAChD,CAEU,qBAAAA,GACN,OAAQv+B,KAAK+8B,eACT,KAAK,EAAShG,SACd,KAAK,EAASE,SACV,MAAO,2BAEX,KAAK,EAASG,SACd,KAAK,EAASD,SACV,MAAO,2BAEX,KAAK,EAASN,QACd,KAAK,EAASD,QACV,MAAO,2BAEX,KAAK,EAASE,SACV,MAAO,2BAEX,KAAK,EAASE,QACV,MAAO,2BAEX,KAAK,EAASM,QACV,MAAO,0BAEX,KAAK,EAASI,UACd,KAAK,EAASD,MACd,KAAK,EAASE,IACd,KAAK,EAASU,QACV,MAAO,uBAEX,KAAK,EAASD,KACV,MAAO,sBAEX,KAAK,EAASoG,KACd,KAAK,EAASrF,KACd,KAAK,EAAS7C,KACV,MAAO,sBAEX,KAAK,EAASmI,KACV,MAAO,sBAEX,KAAK,EAASxG,KACd,KAAK,EAASC,KACd,KAAK,EAASC,KACV,MAAO,sBAEX,KAAK,EAASuG,KACV,MAAO,sBAEX,KAAK,EAASrI,KACV,MAAO,2BAEX,KAAK,EAASmC,KACV,MAAO,sBAEX,KAAK,EAASiG,KACd,KAAK,EAAS3G,KACd,KAAK,EAASC,MACd,KAAK,EAASF,OACd,KAAK,EAASD,MACd,KAAK,EAASU,UACd,KAAK,EAASC,SACd,QACI,MAAO,mBAEnB,CAEU,YAAAmF,GACN,OAAO19B,KAAKg7B,WAAWsD,gBAAgBt+B,KAAK2+B,qBAChD,CAEU,kBAAAA,GACN,OAAQ3+B,KAAK+8B,eACT,KAAK,EAASzF,QACV,MAAO,4BAEX,KAAK,EAASD,QACV,MAAO,6BAEX,KAAK,EAASD,SACV,MAAO,6BAEX,KAAK,EAASD,SACV,MAAO,6BAEX,KAAK,EAASP,QACV,MAAO,6BAEX,KAAK,EAASE,SACV,MAAO,6BAEX,KAAK,EAASD,QACV,MAAO,6BAEX,KAAK,EAASG,QACd,KAAK,EAASD,SACd,KAAK,EAASE,SACV,MAAO,6BAEX,KAAK,EAASQ,MACd,KAAK,EAASC,UACV,MAAO,yBAEX,KAAK,EAASU,KACV,MAAO,wBAEX,KAAK,EAASoG,KACd,KAAK,EAASrF,KACd,KAAK,EAAS7C,KACV,MAAO,wBAEX,KAAK,EAASmI,KACV,MAAO,wBAEX,KAAK,EAASxG,KACd,KAAK,EAASC,KACV,MAAO,wBAEX,KAAK,EAASC,KACV,MAAO,wBAEX,KAAK,EAASuG,KACV,MAAO,wBAEX,KAAK,EAASrI,KACV,MAAO,6BAEX,KAAK,EAASsB,IACd,KAAK,EAASG,KACd,KAAK,EAASC,MACd,KAAK,EAASM,QACd,KAAK,EAASC,UACd,KAAK,EAASC,SACV,MAAO,wBAEX,KAAK,EAASP,KACV,MAAO,wBAEX,KAAK,EAASQ,KACV,MAAO,wBAEX,KAAK,EAAS/B,WACV,MAAO,8BAEX,KAAK,EAASC,YACV,MAAO,+BAEX,KAAK,EAASC,MACV,MAAO,yBAEX,KAAK,EAASkB,OACd,KAAK,EAASD,MACd,QACI,MAAO,qBAEnB,CAEU,eAAAuF,GACN,OAAO3F,EAAQx3B,KAAK+8B,eAtlBU,QAslBuC1D,CACzE,CAEU,UAAA4D,GACN,OAAOzF,EAAQx3B,KAAK+8B,eAzlBK,QACI,MAylBjC,ECjmBJ,MAAM6B,EACF,u1BAEEC,EAAwB5J,EAAUW,EAAUI,EAAS4I,IAAiBA,GAErE,MAAME,UAAqC/D,EAAlD,c,oBA4FY,KAAAva,SAAqB,EAAS2Y,KAC9B,KAAA4F,YAAiClQ,EAAkBuM,SAEnD,KAAA4D,0BAA2B,EAC3B,KAAAC,gBAAiB,EACjB,KAAAC,uBAAmDnlC,CAC/D,CAjGU,UAAA+3B,CAAWuD,EAA4B7U,EAAWxgB,KAAKwgB,SAAUue,EAAc/+B,KAAK++B,a,+CACtF/+B,KAAKwgB,SAAWA,EAChBxgB,KAAK++B,YAAcA,EAEnB,MAAMI,EAAY9J,IAAkB,QAAR,EAAAr1B,KAAKy1B,WAAG,eAAEJ,QAClC8J,IACAA,EAAU5J,MAAQv1B,KAAKu1B,MACvB4J,EAAU3J,OAASx1B,KAAKw1B,OAExB2J,EAAUjB,MAAMkB,UAAY,iBAG1Bp/B,KAAK88B,eAAezH,E,IAG9B,iBAAAgK,CAAkBN,GACd/+B,KAAK++B,YAAcA,EACd/+B,KAAK8xB,YACd,CAEA,uBAAAwN,CAAwBL,GACpBj/B,KAAKi/B,eAAiBA,EAEjBj/B,KAAKs9B,YAAYt9B,KAAKk/B,kBAC/B,CAEA,2BAAAK,CAA4BP,GACxBh/B,KAAKg/B,yBAA2BA,EAE3Bh/B,KAAKs9B,YAAYt9B,KAAKk/B,kBAC/B,CAEA,0BAAAM,GACI,OAAOx/B,KAAKg/B,wBAChB,CAEA,SAAAS,G,MACI,OAAe,QAAR,EAAAz/B,KAAKy1B,WAAG,eAAEJ,MACrB,CAEe,WAAAiI,CAAYC,EAAmC,I,+GAC1Dv9B,KAAKk/B,kBAAoB3B,QAEnB,EAAMD,YAAW,UAACC,GAEpBv9B,KAAKi/B,gBAAkBj/B,KAAKg/B,iCACtBh/B,KAAK0/B,wBAEnB,G,CAEU,WAAA3C,GACN,OAAO/8B,KAAKwgB,QAChB,CAEU,cAAA2a,GACN,OAAOn7B,KAAK++B,WAChB,CAEc,qBAAAW,G,yCACV,IAAK1/B,KAAKy1B,IAAK,OAEf,MAAMkK,EAAgBj7B,KAAKiU,MAA4C,GAAtC3Y,KAAKi7B,OAAOZ,YAAYP,aACnD8F,EAAWl7B,KAAKiU,MAAsB,GAAhBgnB,GACtBE,EAAUn7B,KAAKiU,MAAsB,GAAhBgnB,GACrBG,EAAcp7B,KAAKiU,MAAsB,IAAhBgnB,GAE/B3/B,KAAKg9B,eACDh9B,KAAKi7B,OAAOX,WAAWR,YAAc+F,EAAU7/B,KAAKi7B,OAAOZ,YAAYP,YAAc6F,EACrF3/B,KAAKi7B,OAAOJ,UAAUf,YAAc95B,KAAKi7B,OAAOf,aAAaJ,YAAc6F,EAAgBE,EAC3FF,EACAA,EACA,4BAGJ3/B,KAAKy1B,IAAIE,gBACCkJ,EAAsBc,EAAeA,GAC3C3/B,KAAKi7B,OAAOX,WAAWR,YACnB95B,KAAKi7B,OAAOZ,YAAYP,YACxB+F,EACAF,EACAG,EACJ9/B,KAAKi7B,OAAOJ,UAAUf,YAClB95B,KAAKi7B,OAAOf,aAAaJ,YACzB6F,EACAE,EACAC,EACJF,EACAA,EAER,G,eCvGG,MCGDG,ECHkC,EAACC,EAAYC,KACjD,IAAIC,EAAS,KACb,MAAO,KACH,GAAe,OAAXA,EACA,OAAOA,EAEX,MAAMC,EAAO,IAAIC,KAAK,CCLR,87CDKkB,CAAE1lC,KAAM,0CAClCU,EAAMD,IAAIklC,gBAAgBF,GAIhC,OAHAD,EELY,CAAC9kC,IAEjB,MAAMklC,EAA6B,IAAIC,IAAI,CAAC,CAAC,EAAG,UAC1CC,EAA4B,IAAID,IAAI,CAAC,CAAC,EAAG,UACzCE,EAAsB,IAAIF,IAC1BN,EAAS,IAAIS,OAAOtlC,GA8H1B,OA7HA6kC,EAAO9M,iBAAiB,WAAW,EAAGhU,WAClC,QJTsBplB,KADKkG,EIUJkf,GJTZwhB,QAA2C,SAAnB1gC,EAAQ0gC,OISb,CAC1B,MAAQC,QAAQ,QAAEC,EAAO,UAAEC,IAAgB3hB,EAC3C,GAAkB,aAAd2hB,EAA0B,CAC1B,MAAMC,EAAWT,EAA2Bl5B,IAAIy5B,GAChD,GAAwB,iBAAbE,EAAuB,CAC9B,MAAMC,EAAsBP,EAAoBr5B,IAAI25B,GACpD,QAA4BhnC,IAAxBinC,GACAA,EAAoBH,UAAYA,GAChCG,EAAoBF,YAAcA,EAClC,MAAM,IAAI7kC,MAAM,sCAExB,KACK,SAAwB,IAAb8kC,EAIZ,MAAM,IAAI9kC,MAAM,uCAHhB8kC,GAIJ,CACJ,MACK,GAAkB,YAAdD,EAAyB,CAC9B,MAAMC,EAAWP,EAA0Bp5B,IAAIy5B,GAC/C,GAAwB,iBAAbE,EAAuB,CAC9B,MAAMC,EAAsBP,EAAoBr5B,IAAI25B,GACpD,QAA4BhnC,IAAxBinC,GACAA,EAAoBH,UAAYA,GAChCG,EAAoBF,YAAcA,EAClC,MAAM,IAAI7kC,MAAM,sCAExB,KACK,SAAwB,IAAb8kC,EAMZ,MAAM,IAAI9kC,MAAM,uCALhB8kC,IAEAP,EAA0BS,OAAOJ,EAIrC,CACJ,CACJ,KACK,KCjDkB,CAAC5gC,GACH,OAAlBA,EAAQ/C,OAAwC,iBAAf+C,EAAQwX,GDgDnCypB,CAAgB/hB,GAepB,CACD,MAAQjiB,OAAO,QAAE+C,IAAckf,EAC/B,MAAM,IAAIljB,MAAMgE,EACpB,CAlBgC,CAC5B,MAAM,GAAEwX,GAAO0H,EACT6hB,EAAsBP,EAAoBr5B,IAAIqQ,GACpD,QAA4B1d,IAAxBinC,EACA,MAAM,IAAI/kC,MAAM,uCAEpB,MAAM,QAAE4kC,EAAO,UAAEC,GAAcE,EAC/BP,EAAoBQ,OAAOxpB,GACT,aAAdqpB,EACAR,EAA2BW,OAAOJ,GAGlCL,EAA0BS,OAAOJ,EAEzC,CAIA,CJnE0B,IAAC5gC,CImE3B,IAmEG,CACHkhC,cAlEmBN,IACnB,MAAMppB,GAAK,IAAA+S,sBAAqBiW,GAChCA,EAAoBt5B,IAAIsQ,EAAI,CAAEopB,UAASC,UAAW,aAClDR,EAA2Bn5B,IAAI05B,EAASppB,GACxCwoB,EAAOmB,YAAY,CACf3pB,KACAkpB,OAAQ,QACRC,OAAQ,CAAEC,UAASC,UAAW,aAChC,EA2DFtpB,aAzDkBqpB,IAClB,MAAMppB,GAAK,IAAA+S,sBAAqBiW,GAChCA,EAAoBt5B,IAAIsQ,EAAI,CAAEopB,UAASC,UAAW,YAClDN,EAA0Br5B,IAAI05B,EAASppB,GACvCwoB,EAAOmB,YAAY,CACf3pB,KACAkpB,OAAQ,QACRC,OAAQ,CAAEC,UAASC,UAAW,YAChC,EAkDFO,YAhDgB,CAACn6B,EAAMo6B,KACvB,MAAMT,GAAU,IAAArW,sBAAqB8V,GA2BrC,OA1BAA,EAA2Bn5B,IAAI05B,GAAS,KACpC35B,IAEuD,mBAA5Co5B,EAA2Bl5B,IAAIy5B,IACtCZ,EAAOmB,YAAY,CACf3pB,GAAI,KACJkpB,OAAQ,MACRC,OAAQ,CACJU,QACA79B,IAAKD,YAAYC,MACjBo9B,UACAC,UAAW,aAGvB,IAEJb,EAAOmB,YAAY,CACf3pB,GAAI,KACJkpB,OAAQ,MACRC,OAAQ,CACJU,QACA79B,IAAKD,YAAYC,MACjBo9B,UACAC,UAAW,cAGZD,CAAO,EAqBdnpB,WAnBe,CAACxQ,EAAMo6B,KACtB,MAAMT,GAAU,IAAArW,sBAAqBgW,GAYrC,OAXAA,EAA0Br5B,IAAI05B,EAAS35B,GACvC+4B,EAAOmB,YAAY,CACf3pB,GAAI,KACJkpB,OAAQ,MACRC,OAAQ,CACJU,QACA79B,IAAKD,YAAYC,MACjBo9B,UACAC,UAAW,aAGZD,CAAO,EAOjB,EFnIYb,CAAW5kC,GAEpBsc,YAAW,IAAMvc,IAAIomC,gBAAgBnmC,KAC9B8kC,CAAM,CAChB,EDTsBsB,GKD3B,IAAYC,GAAZ,SAAYA,GACR,uCACA,wBACH,CAHD,CAAYA,IAAAA,EAAa,KAalB,MAAMC,EACT,WAAA3hC,CAAoB0b,GAAA,KAAAA,SAAAA,CAAwC,CAE5D,QAAAkmB,QACwB5nC,IAAhBiG,KAAK4hC,SAET5hC,KAAK4hC,OAASC,uBAAuBC,IACjC9hC,KAAK4hC,YAAS7nC,EACdiG,KAAKyb,SAASqmB,EAAU,IAEhC,CAEA,MAAA/R,QACwBh2B,IAAhBiG,KAAK4hC,SAETG,qBAAqB/hC,KAAK4hC,QAC1B5hC,KAAK4hC,YAAS7nC,EAClB,CAEA,WAAAioC,GACI,YAAuBjoC,IAAhBiG,KAAK4hC,MAChB,CAEA,OAAAK,GACI,OAAOR,EAAcS,cACzB,EAKG,MAAMC,EACT,WAAApiC,CACY0b,EACA2mB,EAAM,IADN,KAAA3mB,SAAAA,EACA,KAAA2mB,IAAAA,CACT,CAEH,QAAAT,GACI,QAAoB5nC,IAAhBiG,KAAK4hC,OAAsB,OAE/B,MAAMn+B,EAAMD,YAAYC,MAClB4+B,EAAiD,IAArC39B,KAAKC,KAAMlB,EAAM,IAAQzD,KAAKoiC,KAAepiC,KAAKoiC,ILhDlD,IAACl7B,EAAMo6B,EKkDzBthC,KAAK4hC,QLlDc16B,EKmDf,KACIlH,KAAK4hC,YAAS7nC,EACdiG,KAAKyb,SAASjY,YAAYC,MAAM,ELrDf69B,EKuDrB58B,KAAKjH,IAAI4kC,EAAW5+B,EAAK,GLvDMs8B,IAAqBroB,WAAWxQ,EAAMo6B,GKyD7E,CAEA,MAAAvR,GL7DwB,IAAC8Q,OK8DD9mC,IAAhBiG,KAAK4hC,SL9DYf,EKgER7gC,KAAK4hC,OLhEe7B,IAAqBvoB,aAAaqpB,GKiEnE7gC,KAAK4hC,YAAS7nC,EAClB,CAEA,WAAAioC,GACI,YAAuBjoC,IAAhBiG,KAAK4hC,MAChB,CAEA,OAAAK,GACI,OAAOR,EAAc9P,OACzB,EC/EG,MAAM2Q,EACT,WAAAviC,CAAYwiC,EAAkBC,GAC1BxiC,KAAKiwB,MAAQ,IAAIxpB,MAAM87B,GAAU3J,KAAK,GAEtC54B,KAAKyiC,MAAMD,EACf,CAEA,KAAAC,CAAMD,EAAe,GACjBxiC,KAAKwuB,KAAO,EACZxuB,KAAKwE,KAAO,EAEZxE,KAAKiwB,MAAM,GAAKuS,CACpB,CAEA,IAAAz8B,CAAKmY,GAMD,OALAle,KAAKiwB,MAAMjwB,KAAKwuB,MAAQtQ,EACxBle,KAAKwuB,MAAQxuB,KAAKwuB,KAAO,GAAKxuB,KAAKiwB,MAAM3vB,OAErCN,KAAKwE,KAAOxE,KAAKiwB,MAAM3vB,QAAQN,KAAKwE,OAEjCxE,IACX,CAEA,gBAAA0iC,GACI,IAAIC,EAAM,EAEV,IAAK,IAAI5+B,EAAI,EAAGA,EAAI/D,KAAKwE,KAAMT,IAAK4+B,GAAO3iC,KAAKiwB,MAAMlsB,GAEtD,OAAO4+B,EAAM3iC,KAAKwE,IACtB,EC7BG,MAAMo+B,EACT,WAAA7iC,CAAYyE,GAsDJ,KAAA6R,MAAQ,EACR,KAAA7R,KAAO,EAtDXxE,KAAK/B,OAAS,IAAIwI,MAAMjC,EAC5B,CAEA,IAAAuB,CAAKmY,GASD,OARIle,KAAKwE,KAAOxE,KAAK/B,OAAOqC,OACxBN,KAAK/B,QAAQ+B,KAAKqW,MAAQrW,KAAKwE,QAAUxE,KAAK/B,OAAOqC,QAAU4d,GAE/Dle,KAAKqW,OAASrW,KAAKqW,MAAQ,GAAKrW,KAAK/B,OAAOqC,OAE5CN,KAAK/B,QAAQ+B,KAAKqW,MAAQrW,KAAKwE,KAAO,GAAKxE,KAAK/B,OAAOqC,QAAU4d,GAG9Dle,IACX,CAEA,GAAA+H,GACI,GAAkB,IAAd/H,KAAKwE,KAAY,OAErB,MAAMq+B,EAAM7iC,KAAK/B,OAAO+B,KAAKqW,OAK7B,OAHArW,KAAKqW,OAASrW,KAAKqW,MAAQ,GAAKrW,KAAK/B,OAAOqC,OAC5CN,KAAKwE,OAEEq+B,CACX,CAEA,QAAAC,GACI,GAAkB,IAAd9iC,KAAKwE,KAET,OAAOxE,KAAK/B,QAAQ+B,KAAKqW,MAAQrW,KAAKwE,KAAO,GAAKxE,KAAK/B,OAAOqC,OAClE,CAEA,WAAAyiC,CAAY7kB,GAKR,OAJIle,KAAKwE,KAAO,IACZxE,KAAK/B,QAAQ+B,KAAKqW,MAAQrW,KAAKwE,KAAO,GAAKxE,KAAK/B,OAAOqC,QAAU4d,GAG9Dle,IACX,CAEA,KAAAyH,GACI,OAAOzH,KAAKwE,IAChB,CAEA,KAAAw+B,GAII,OAHAhjC,KAAKqW,MAAQ,EACbrW,KAAKwE,KAAO,EAELxE,IACX,EC3BJ,MAAMijC,EACF,WAAAljC,GA+CQ,KAAAmjC,gBAAkB,KACjBljC,KAAKmjC,WAEVnjC,KAAKojC,aAAahX,SAAS,CACvBjN,KAAMnf,KAAKmjC,UAAU9a,UACrBgb,gBAAiBrjC,KAAKmjC,UAAU7Z,mBAClC,EAGN,KAAA8Z,aAAe,IAAI,IACnB,KAAAE,cAAgB,IAAI,IAGZ,KAAAC,QAAS,CA5DF,CAEf,IAAAvmC,CAAKmmC,GACGnjC,KAAKmjC,YAAcA,IAEnBnjC,KAAKmjC,WAAWnjC,KAAKmjC,UAAUK,mBAAmBxX,cAAchsB,KAAKkjC,iBAEzEC,EAAUK,mBAAmB5X,WAAW5rB,KAAKkjC,iBAC7CC,EAAU/Z,YAAYppB,KAAKujC,QAE3BvjC,KAAKmjC,UAAYA,EACrB,CAEA,IAAA1nC,CAAK0jB,EAA8BkkB,GAC1BrjC,KAAKmjC,YAELnjC,KAAKmjC,UAAU1a,WAAYzoB,KAAKmjC,UAAUha,eAK/CnpB,KAAKmjC,UAAU7a,KAAKnJ,EAAMkkB,GAC1B3rB,YAAW,IAAM1X,KAAKsjC,cAAclX,YAAY,IAL5CpsB,KAAKojC,aAAahX,SAAS,CAAEjN,UAAMplB,EAAWspC,iBAAiB,IAMvE,CAEA,WAAAI,CAAYC,G,MACR1jC,KAAKujC,OAASG,EACA,QAAd,EAAA1jC,KAAKmjC,iBAAS,SAAE/Z,YAAYsa,EAChC,CAEA,WAAAC,G,UACI,OAAsC,QAA/B,EAA2B,QAA3B,EAAc,QAAd,EAAA3jC,KAAKmjC,iBAAS,eAAEha,mBAAW,8BAAI,QAC1C,CAEA,QAAAiD,GACI,IAAKpsB,KAAKmjC,UAAW,OAErB,MAAMS,EAAe5jC,KAAKmjC,UAAU/a,iBACf,IAAjBwb,IACA5jC,KAAKmjC,UAAUha,eAAiBya,EA1Cd,MA4CtB5jC,KAAKojC,aAAahX,SAAS,CACvBjN,KAAMnf,KAAKmjC,UAAU9a,UACrBgb,gBAAiBrjC,KAAKmjC,UAAU7Z,oBAExC,EAkBG,MAAeua,EAClB,WAAA9jC,GAwPU,KAAA4yB,YAAeC,IACjB5yB,KAAK8jC,kBAAkBr8B,QAAU,GAAKzH,KAAK8jC,kBAAkBhB,WAAY5O,UAAY,EACrFl0B,KAAK8jC,kBAAkBf,YAAYnQ,GAEnC5yB,KAAK8jC,kBAAkB/9B,KAAK6sB,E,EAwG1B,KAAAmR,iBAAoBjC,IAE1B,GADA9hC,KAAKgkC,SAAU,GACVhkC,KAAKmyB,UAAW,OAErB,IAAKnyB,KAAKikC,oBAAsBjkC,KAAKkkC,iBAAmBpC,EAAY9hC,KAAKmkC,cAAe,OAGpFnkC,KAAKikC,mBAAmBG,eACqB,IAA7CpkC,KAAKikC,mBAAmBI,kBACxBvC,EAAY9hC,KAAKskC,oBAjbI,MAmbrBxnC,QAAQC,IAAI,wCACZiD,KAAKikC,mBAAmBM,8BAA8Bve,UAG1D,MAAMwe,EAAexkC,KAAKikC,mBAAmBG,cAC7C,IAAIA,GAAc,EAGlBpkC,KAAKikC,mBAAmBQ,eAAezkC,KAAK0kC,eAAiB1kC,KAAK2kC,sBAI9D7C,EAAY9hC,KAAKmkC,cAAgB,IAlc7B,KAkc6CnkC,KAAKmkC,cAAgBrC,EAAY,IAlc9E,IAocR,MAAM8C,GAAgB9C,EAAY9hC,KAAKmkC,eAAiB,IAAQnkC,KAAKikC,mBAAmBY,kBAElFC,EAAuBthC,YAAYC,MAEzC,IAAIwc,EAAS,EACb,KAAOA,EAAS2kB,GAGZ,GAFA3kB,GAAUjgB,KAAKikC,mBAAmBc,aAAargC,KAAKC,KAAKigC,EAAc3kB,IAEnEjgB,KAAKikC,mBAAmBG,cAAe,CACvCA,GAAc,EAEd,K,CAIR,MAAMY,EAAqB/kB,EAASjgB,KAAKikC,mBAAmBY,kBAAqB,IAC3EI,EAAiBzhC,YAAYC,MAAQqhC,EAO3C9kC,KAAKmkC,eAAiBz/B,KAAKjH,IAAIunC,EAAmBC,GAKlDjlC,KAAKklC,aAAan/B,KACbi/B,GAAqBC,EAAiB,EAAIA,EAAiBD,EAhepD,KAieJhlC,KAAK0kC,gBAIb1kC,KAAKmlC,qBAAqBnlC,KAAKklC,aAAaxC,oBAExC0B,IAAgBI,IAEP,IADDxkC,KAAKikC,mBAAmBI,iBAExBrkC,KAAKskC,oBAAsB9gC,YAAYC,MAIvCzD,KAAKolC,iBAKjB,MAAMC,EAAWrlC,KAAKikC,mBAAmB1Q,aACnC+R,EAAgBtlC,KAAKikC,mBAAmBsB,kBAE9C,GAAIF,IAAarlC,KAAKqlC,UAAYC,IAAkBtlC,KAAKslC,cAAe,CACpE,MAAME,EAAcxlC,KAAKqlC,SAEzBrlC,KAAKqlC,SAAWA,EAChBrlC,KAAKslC,cAAgBA,EAEjBE,IAAgBxlC,KAAKqlC,UAAUrlC,KAAKkzB,oBAAoB9G,SAASpsB,KAAKqlC,UAE1ErlC,KAAKgkC,SAAU,C,CAGfsB,IAAkBD,GAAYrlC,KAAKylC,sBAAwBrB,GAC3DpkC,KAAK0lC,4BAGT1lC,KAAK2lC,aAAcvZ,WACnBpsB,KAAK4lC,iBAAkBxZ,WAEvBpsB,KAAK6lC,wBAAwB/D,EAAW7hB,EAAO,EAqLnD,KAAA6lB,cAAgB,IAAI,IACpB,KAAA9S,eAAiB,IAAI,IACrB,KAAAC,0BAA4B,IAAI,IAChC,KAAAC,oBAAsB,IAAI,IAGhB,KAAA1S,SAAW,EAAS2Y,KAEpB,KAAAgL,cAAgB,EAChB,KAAA4B,UAAuB,IAAIrE,GAAyBI,GAAc9hC,KAAKgmC,WAAWlE,KAElF,KAAAzM,OAA4Bz7B,SAAS07B,cAAc,UACnD,KAAA2Q,UAA+BrsC,SAAS07B,cAAc,UAKtD,KAAA4Q,cAAgB,EAChB,KAAAC,SAAU,EAEV,KAAAC,SAAU,EACV,KAAAf,UAAW,EACX,KAAAC,eAAgB,EAIhB,KAAAxB,kBAAoB,IAAIlB,EA3tBhB,IA4tBR,KAAAyD,mBAAqB,EAIrB,KAAA3B,eAAiB,EACjB,KAAAQ,aAAe,IAAI5C,EAhuBT,IAkuBV,KAAAgE,oBAAsB,IAAIhE,EAjuBP,IAkuBnB,KAAAiE,mBAAqB,EAErB,KAAAC,aAAe,EACf,KAAAxC,SAAU,EAEV,KAAA2B,aAAe,IAAI1C,EACnB,KAAA2C,iBAAmB,IAAI3C,EAEvB,KAAAqB,oBAAsB,EAjqB5BtkC,KAAK2lC,aAAarC,cAAc1X,YAAW,IAAM5rB,KAAK+jC,iBAAiBvgC,YAAYC,SACnFzD,KAAK4lC,iBAAiBtC,cAAc1X,YAAW,IAAM5rB,KAAK+jC,iBAAiBvgC,YAAYC,QAC3F,CAEA,iBAAAgjC,CAAkB3gC,EAAW8a,EAAW8b,GACpC,IAAK18B,KAAK0mC,cAAe,OAEzB,MAAMC,EAAKnjC,YAAYC,MAGvB,GAFAzD,KAAKmmC,SAAU,IAEXQ,EAAK3mC,KAAKkmC,cAtFI,KAsFkClmC,KAAKikC,mBAAzD,CAEA,GAAIvH,EAAc,CACd,MAAMjD,EAAarD,EAAiBp2B,KAAKwgB,UAEzC1a,EAAI9F,KAAK4mC,qBAAqB9gC,EAAG2zB,GACjC7Y,EAAI5gB,KAAK6mC,qBAAqBjmB,EAAG6Y,E,CAGrCz5B,KAAKikC,mBAAmB6C,aAAapiC,KAAKiU,MAAM7S,GAAIpB,KAAKiU,MAAMiI,IAC/D5gB,KAAKkmC,cAAgBS,CAV8D,CAWvF,CAEA,eAAAI,GACS/mC,KAAK0mC,gBAEN1mC,KAAKikC,oBAAsBjkC,KAAKmmC,SAASnmC,KAAKikC,mBAAmB+C,aAErEhnC,KAAKkmC,cAAgB,EACrBlmC,KAAKmmC,SAAU,EACnB,CAEA,gBAAAc,CAAiBC,GACRlnC,KAAK0mC,eAEN1mC,KAAKikC,oBAAoBjkC,KAAKikC,mBAAmBkD,gBAAgBD,EACzE,CAEA,cAAAE,CAAeF,GACNlnC,KAAK0mC,eAEN1mC,KAAKikC,oBAAoBjkC,KAAKikC,mBAAmBoD,cAAcH,EACvE,CAEA,aAAAI,CAAc9jB,EAAavC,GAAO,GACzBjhB,KAAK0mC,eAEN1mC,KAAKikC,oBAAoBjkC,KAAKikC,mBAAmBsD,mBAAmB/jB,EAAKvC,EACjF,CAEA,KAAAwhB,GACQziC,KAAKikC,oBAAoBjkC,KAAKikC,mBAAmBxB,OACzD,CAEA,iBAAA+E,GACQxnC,KAAKikC,oBAAoBjkC,KAAKikC,mBAAmBuD,mBACzD,CAEA,SAAAC,GACQznC,KAAKikC,oBAAoBjkC,KAAKikC,mBAAmBwD,WACzD,CAEA,SAAAtV,GACI,OAAOnyB,KAAKomC,OAChB,CAEA,UAAA7S,GACI,OAAOvzB,KAAKqlC,QAChB,CAEA,eAAAE,GACI,OAAOvlC,KAAKslC,aAChB,CAEA,SAAA7F,GACI,OAAOz/B,KAAKq1B,MAChB,CAEA,aAAAqS,GACI,MAAO,CACHC,UAAW3nC,KAAKklC,aAAaxC,mBAC7BgC,eAAgB1kC,KAAK0kC,eACrBkD,WAAY5nC,KAAK6nC,eAEzB,CAEA,iBAAAC,GACI,OAAO9nC,KAAK0kC,cAChB,CAEA,WAAAN,GACI,QAAOpkC,KAAKikC,oBAAqBjkC,KAAKikC,mBAAmBG,aAC7D,CAEA,mBAAA2D,GACI,IAAK/nC,KAAK4lC,iBAAkB,MAAM,IAAI3pC,MAAM,4BAE5C,OAAO+D,KAAK4lC,gBAChB,CAEA,eAAAoC,GACI,IAAKhoC,KAAK2lC,aAAc,MAAM,IAAI1pC,MAAM,4BAExC,OAAO+D,KAAK2lC,YAChB,CAiBU,uBAAAE,CAAwB/D,EAAmB7hB,GAAuB,CAElE,aAAAmlB,GAAuB,CAEvB,aAAA6C,GACNjoC,KAAK+lC,UAAUpE,UACnB,CAEU,WAAA+E,GACN,OAAO,CACX,CAEU,WAAAwB,CACNC,EACAC,EACA5O,EACA6O,EACA9V,GAEA,IAAI+V,GAAe,EAEnB,QAAKH,EAAWI,kBAAkBH,EAAK5O,KAEnC6O,IACIA,EAAO/nC,OAAS,GAAM,EACtBxD,QAAQg3B,KAAK,uDAEbwU,EAAeH,EAAWK,WACtB,IAAIlqC,YAAY+pC,EAAOpqC,OAAQoqC,EAAOI,WAAYJ,EAAO/nC,SAAW,IAGnEgoC,GACDxrC,QAAQg3B,KAAK,2BAKrBwU,GAAgB/V,GAChB4V,EAAWO,UAAUnW,GAGzB4V,EAAWQ,eAEP3oC,KAAKikC,oBAAoBjkC,KAAKikC,mBAAmBjR,eAAehH,cAAchsB,KAAK2yB,aACvFwV,EAAWnV,eAAepH,WAAW5rB,KAAK2yB,aAEtC3yB,KAAKikC,qBAAuBkE,IAC5BnoC,KAAK2lC,aAAa3oC,KAAKmrC,EAAWS,kBAClC5oC,KAAK4lC,iBAAiB5oC,KAAKmrC,EAAWU,uBAG1C7oC,KAAKikC,mBAAqBkE,EAE1BnoC,KAAKwgB,SAAWgZ,EAChBx5B,KAAK8oC,cAEL9oC,KAAK8jC,kBAAkBd,QACvBhjC,KAAKqmC,mBAAqB,EAC1BrmC,KAAK+oC,uBAAoBhvC,EACzBiG,KAAK0kC,eAAiB,EACtB1kC,KAAKwmC,aAAe,EACpBxmC,KAAKklC,aAAazC,MAAM,GACxBziC,KAAKqlC,SAAW8C,EAAW5U,aAC3BvzB,KAAKslC,cAAgB6C,EAAW5C,kBAChCvlC,KAAKwmC,aAAe,GAEb,EACX,CAEU,WAAAsC,GACN,MAAMrP,EAAarD,EAAiBp2B,KAAKwgB,UAEzCxgB,KAAKq1B,OAAOE,MAAQv1B,KAAKimC,UAAU1Q,MAAQkE,EAAWlE,MACtDv1B,KAAKq1B,OAAOG,OAASx1B,KAAKimC,UAAUzQ,OAASiE,EAAWjE,OAExD,MAAMnK,EAAUrrB,KAAKq1B,OAAOK,WAAW,MACvC,IAAKrK,EACD,MAAM,IAAIpvB,MAAM,qBAGpB+D,KAAKqrB,QAAUA,EAEf,MAAM2d,EAAahpC,KAAKimC,UAAUvQ,WAAW,MAC7C,IAAKsT,EACD,MAAM,IAAI/sC,MAAM,qBAGpB+D,KAAKgpC,WAAaA,EAElBhpC,KAAKipC,cAELjpC,KAAKkpC,eAAYnvC,CACrB,CAEU,QAAAovC,GACDnpC,KAAKikC,qBACVjkC,KAAKmkC,cAAgB3gC,YAAYC,MAEjCzD,KAAK2hC,WAEL3hC,KAAKopC,YAAW,GAChBppC,KAAKqpC,WACT,CAEU,OAAAC,GACNtpC,KAAKupC,UACT,CAEU,MAAAC,GACNxpC,KAAKupC,UACT,CAEU,QAAAA,GACDvpC,KAAKomC,UAEVpmC,KAAK+lC,UAAUhW,cAEqBh2B,IAAhCiG,KAAKypC,yBACLtvC,OAAOqd,aAAaxX,KAAKypC,wBAEzBzpC,KAAKypC,4BAAyB1vC,GAGlCiG,KAAKopC,YAAW,GACpB,CAUU,QAAAC,GACNrpC,KAAKsmC,oBAAoB7D,QACzBziC,KAAKumC,mBAAqB/iC,YAAYC,KAC1C,CAEU,YAAAokC,GACN,MAAM6B,EAAe1pC,KAAKsmC,oBAAoB5D,mBAE9C,OAAOgH,GAAgB,IAAOA,CAClC,CAEU,oBAAA9C,CAAqB9gC,EAAW2zB,GACtC,QAAuC1/B,IAAnC0/B,EAAWvC,oBACX,OAAOpxB,EAGX,MAAM6jC,EAASlQ,EAAWlE,OAASkE,EAAWlE,MAAQ,EAAIkE,EAAWvC,qBACrE,OAAQpxB,EAAI2zB,EAAWlE,MAAQ,GAAKoU,EAASlQ,EAAWlE,MAAQ,CACpE,CAEU,oBAAAsR,CAAqBjmB,EAAW6Y,GACtC,YAAmC1/B,IAA/B0/B,EAAWlC,gBACJ3W,EAGJA,EAAI6Y,EAAWlC,eAC1B,CAEU,UAAA6R,CAAWhD,GACbA,IAAYpmC,KAAKomC,UAErBpmC,KAAKomC,QAAUA,EACfpmC,KAAKizB,0BAA0B7G,SAASga,GAC5C,CAEU,oBAAAjB,CAAqByE,GAC3B,GAAIA,GAAgB,GAAK5pC,KAAK0kC,gBAAkB,EAAG,OAGnD,MAAMmF,EAAkBnlC,KAAK+R,IAAI/R,KAAKjH,IAAIiH,KAAKiU,MAAqB,GAAfixB,GAAqB,GAAI,IAAM,GAEhFC,GAAmB7pC,KAAK0kC,eAExB1kC,KAAK0kC,eAAiBmF,EAGtB7pC,KAAK0kC,eAAiBkF,EAAeC,GAAmB,IAAOA,EAAkB7pC,KAAK0kC,cAE9F,CAEU,mBAAAoF,G,OACqB,QAAvB,EAAA9pC,KAAKikC,0BAAkB,eAAE8F,mBACzB/pC,KAAKgqC,eACLhqC,KAAKikC,mBAAmBgG,kBAExBjqC,KAAKwmC,eAEb,CAEU,UAAAR,CAAWlE,GACb9hC,KAAKkkC,kBAEJlkC,KAAKkqC,wBACNlqC,KAAK8pC,sBAGD9pC,KAAK8jC,kBAAkBr8B,QAAU,GACjCq6B,EAAY9hC,KAAKqmC,mBAxYO,KA0YxBrmC,KAAKgzB,eAAe5G,SAASpsB,KAAK8jC,kBAAkB/7B,OACpD/H,KAAKqmC,mBAAqBvE,QAGM/nC,IAAhCiG,KAAKypC,yBACLzpC,KAAKypC,uBAAyBtvC,OAAOud,YAAW,KAC5C1X,KAAKypC,4BAAyB1vC,EAC9BiG,KAAK+jC,iBAAiBjC,EAAU,GACjC,IAGP9hC,KAAKsmC,oBAAoBvgC,KAAKrB,KAAKjH,IAAI,EAAGqkC,EAAY9hC,KAAKumC,qBAC3DvmC,KAAKumC,mBAAqBzE,GAG9B9hC,KAAK2hC,WACT,CAEU,QAAAA,GACN3hC,KAAK+lC,UAAUhW,SAEX/vB,KAAKmqC,gCAAkCnqC,KAAK+lC,UAAU9D,YACtDjiC,KAAK+lC,UACD/lC,KAAKmqC,gCAAkC1I,EAAcS,eAC/C,IAAIR,GAAyBI,GAAc9hC,KAAKgmC,WAAWlE,KAC3D,IAAIK,GAAkBL,GAAc9hC,KAAKgmC,WAAWlE,MAGlE9hC,KAAKioC,eACT,CAmGU,yBAAAvC,GACN,IAAK1lC,KAAKikC,mBAAoB,YAEClqC,IAA3BiG,KAAK+oC,oBACL/oC,KAAK+oC,kBAAoB/oC,KAAKikC,mBAAmBmG,kBAGrD,MAAMC,EAAwBrqC,KAAKsqC,gCAELvwC,IAA1BswC,EACArqC,KAAKuqC,4BAA4BvqC,KAAK+oC,mBAEtCsB,IAA0BrqC,KAAK+oC,mBAC/BsB,EAAsB/pC,QAAU,IAChCN,KAAKikC,mBAAmBuG,oBAExBxqC,KAAKikC,mBAAmBwG,eAAeJ,GACvCrqC,KAAK+oC,kBAAoBsB,EAEjC,CAEU,WAAApB,GACN,MAAMzoB,EAAWxgB,KAAKwgB,SAChBiZ,EAAarD,EAAiB5V,GAEpCxgB,KAAKqrB,QAAQ8S,YACbn+B,KAAKqrB,QAAQ+S,KAAK,EAAG,EAAG3E,EAAWlE,MAAOkE,EAAWjE,QACrDx1B,KAAKqrB,QAAQgT,UAAY7G,EAAQhX,GAAY,QAAUuY,EAAsB,GAC7E/4B,KAAKqrB,QAAQuN,MACjB,CAEU,YAAAoR,GACN,IAAKhqC,KAAKikC,mBAAoB,OAE9B,MAAMyG,EAAQ1qC,KAAKikC,mBAAmB0G,WAEtC,GAAI3qC,KAAKikC,mBAAmB1Q,aAKxB,OAJAvzB,KAAKipC,mBAELjpC,KAAK8lC,cAAc1Z,SAASpsB,KAAKq1B,QAKrC,IAAKqV,EAAME,WACP,OAGJ,GAAIF,EAAMG,MAAQH,EAAMI,SAAW9qC,KAAKq1B,OAAOG,QAAUkV,EAAMK,UAAYL,EAAMM,SAAWhrC,KAAKq1B,OAAOE,MAAO,CACtGv1B,KAAKkpC,WAAalpC,KAAKkpC,UAAU3T,QAAUmV,EAAMK,WAAa/qC,KAAKkpC,UAAU1T,SAAWkV,EAAMG,QAC/F7qC,KAAKkpC,UAAY,IAAI+B,UAAUP,EAAMK,UAAWL,EAAMG,QAG1D,MAAMK,EAAc,IAAI5sC,YAAY0B,KAAKkpC,UAAU/pB,KAAKlhB,QAExD,OAAQysC,EAAMS,KACV,KAAK,EAAG,CACJ,MAAMrS,EAAKH,EAAuB,IAC5ByS,EAAKzS,EAAuB,GAClC,IAAI0S,EAAQ,EAEZ,IAAK,IAAIzqB,EAAI8pB,EAAMY,eAAgB1qB,GAAK8pB,EAAMa,cAAe3qB,IAAK,CAC9D,MAAM4qB,EAAY5qB,EAAI8pB,EAAMe,aAE5B,IAAK,IAAI1nC,EAAI2mC,EAAMgB,OAAQ3nC,EAAI2mC,EAAMK,UAAYL,EAAMgB,OAAQ3nC,IAC3DmnC,EAAYG,KACRX,EAAMzsC,OAAOutC,GAAaznC,IAAM,IAAO,OAAc,EAAJA,GAAa+0B,EAAKsS,C,CAI/E,K,CAGJ,KAAK,EAAG,CACJ,MAAMO,EAAU3rC,KAAKikC,mBAAmB2H,wBAClCC,EAAU,CACZlT,EAAiC,GAAVgT,GACvBhT,EAAwBgT,IAAY,EAAK,IACzChT,EAAwBgT,IAAY,EAAK,IACzChT,EAAwBgT,IAAY,GAAM,KAE9C,IAAIN,EAAQ,EAEZ,IAAK,IAAIzqB,EAAI8pB,EAAMY,eAAgB1qB,GAAK8pB,EAAMa,cAAe3qB,IAAK,CAC9D,MAAM4qB,EAAY5qB,EAAI8pB,EAAMe,aAE5B,IAAK,IAAI1nC,EAAI2mC,EAAMgB,OAAQ3nC,EAAI2mC,EAAMK,UAAYL,EAAMgB,OAAQ3nC,IAC3DmnC,EAAYG,KACRQ,EAASnB,EAAMzsC,OAAOutC,GAAaznC,IAAM,KAAQ,EAAI,GAAS,EAAJA,GAAc,E,CAIpF,K,CAGJ,KAAK,EAAG,CACJ,IAAIsnC,EAAQ,EAEZ,IAAK,IAAIzqB,EAAI8pB,EAAMY,eAAgB1qB,GAAK8pB,EAAMa,cAAe3qB,IAAK,CAC9D,MAAM4qB,EAAY5qB,EAAI8pB,EAAMe,aAE5B,IAAK,IAAI1nC,EAAI2mC,EAAMgB,OAAQ3nC,EAAI2mC,EAAMK,UAAYL,EAAMgB,OAAQ3nC,IAC3DmnC,EAAYG,KACR1S,EACK+R,EAAMzsC,OAAOutC,GAAaznC,IAAM,MAAS,EAAI,GAAS,EAAJA,GAAc,G,CAKjF,K,CAGJ,KAAK,GACD,CACI,MAAM+nC,EAAW,IAAIxtC,YACjBosC,EAAMzsC,OAAOA,OACbysC,EAAMzsC,OAAOwqC,WACbiC,EAAMzsC,OAAO6G,aAAe,GAGhC,GAAqB,IAAjB4lC,EAAMgB,OACNR,EACK1pC,SAAS,EAAGkpC,EAAMK,WAAaL,EAAMa,cAAgBb,EAAMY,eAAiB,IAC5EnkC,IACG2kC,EAAStqC,SACLkpC,EAAMY,eAAiBZ,EAAMK,UAC7BL,EAAMK,WAAaL,EAAMa,cAAgB,SAGlD,CACH,IAAIF,EAAQ,EAEZ,IAAK,IAAIzqB,EAAI8pB,EAAMY,eAAgB1qB,GAAK8pB,EAAMa,cAAe3qB,IAAK,CAC9D,IAAItY,EAAIsY,GAAK8pB,EAAMe,eAAiB,GAAKf,EAAMgB,OAE/C,IAAK,IAAI5lC,EAAI,EAAGA,EAAI4kC,EAAMK,UAAWjlC,IACjColC,EAAYG,KAAWS,EAASxjC,I,KAU5D,IAAKtI,KAAKkpC,UAAW,OAErB,MAAM6C,EAA2B,IAAjBrB,EAAMM,QAAiC,IAAjBN,EAAMI,QAE3CiB,EAAU/rC,KAAKgpC,WAAahpC,KAAKqrB,SAAS2gB,aACvChsC,KAAKkpC,UACL,EACAwB,EAAMY,eACN,EACA,EACAZ,EAAMK,UACNL,EAAMa,cAAgBb,EAAMY,eAAiB,GAG7CS,IACA/rC,KAAKqrB,QAAQmS,uBAAwB,EACrCx9B,KAAKqrB,QAAQsK,UACT31B,KAAKimC,UACL,EACAyE,EAAMY,eACNZ,EAAMK,UACNL,EAAMa,cAAgBb,EAAMY,eAAiB,EAC7C,EACAZ,EAAMY,eAAiBZ,EAAMI,OAC7BJ,EAAMK,UAAYL,EAAMM,QACvBN,EAAMa,cAAgBb,EAAMY,eAAiB,GAAKZ,EAAMI,SAIjE9qC,KAAK8lC,cAAc1Z,SAASpsB,KAAKq1B,OACrC,ECtsBG,MAAM4W,UAAiCpI,EAA9C,c,oBAuGa,KAAAqI,eAAiB,IAAI,GAClC,CAvGI,KAAAC,GACInsC,KAAKspC,SACT,CAEA,MAAA7W,GACIzyB,KAAKmpC,UACT,CAEA,WAAAiD,CAAYjE,EAAwBC,EAAiB5O,EAAkB6S,GAQnE,OAPIrsC,KAAKmyB,cACLnyB,KAAKwpC,SACLxpC,KAAKqsC,aAAUtyC,GAGnBouC,EAAWmE,yBAEPtsC,KAAKkoC,YAAYC,EAAYC,EAAK5O,KAClCx5B,KAAKqsC,QAAUA,GACR,EAIf,CAEA,oBAAAE,CAAqBpE,EAAwBqE,EAAqCH,GAQ9E,OAPIrsC,KAAKmyB,cACLnyB,KAAKwpC,SACLxpC,KAAKqsC,aAAUtyC,GAGnBouC,EAAWmE,yBAGPtsC,KAAKkoC,YACDC,EACAqE,EAAapE,IACboE,EAAahsB,SACbgsB,EAAanE,OACbmE,EAAa5kB,aAGjB5nB,KAAKqsC,QAAUA,GAER,EAIf,CAEA,UAAAI,GACI,OAAOzsC,KAAKqsC,OAChB,CAEA,sBAAAK,GACS1sC,KAAKikC,oBAENjkC,KAAKikC,mBAAmBsB,oBAAsBvlC,KAAKikC,mBAAmB1Q,cACtEvzB,KAAK0lC,2BAEb,CAEU,kBAAAf,G,QACN,OAA0B,QAAnB,EAAY,QAAZ,EAAA3kC,KAAKqsC,eAAO,eAAEM,aAAK,QAAI,CAClC,CAEU,iBAAAlH,GACN,OAAO,CACX,CAEU,wBAAA6E,G,MACN,OAAmB,QAAZ,EAAAtqC,KAAKqsC,eAAO,eAAEO,WACzB,CAEU,2BAAArC,CAA4BqC,GAC9B5sC,KAAKqsC,UACLrsC,KAAKqsC,QAAQO,YAAcA,EAEnC,CAEU,2BAAAzC,G,MACN,OAAmB,QAAZ,EAAAnqC,KAAKqsC,eAAO,eAAEQ,iBAAkBpL,EAAc9P,QAAU8P,EAAcS,cACjF,CAEU,aAAAgC,G,MACN,SAAgC,QAAvB,EAAAlkC,KAAKikC,0BAAkB,eAAEC,gBACtC,CAEU,mBAAAgG,GACN,OAAO,CACX,CAGmB,uBAAArE,CAAwB/D,EAAmB7hB,GAC1DjgB,KAAKksC,eAAe9f,UACxB,CAEmB,WAAAsa,GACf,OAAO1mC,KAAKmyB,WAChB,EChEG,MAAM2a,EACT,WAAA/sC,CACc8xB,EACAkb,GADA,KAAAlb,iBAAAA,EACA,KAAAkb,qBAAAA,EA4FN,KAAAC,gBAAmBjuC,IACvB,GAAiB,IAAbA,EAAEmoC,OAAc,OAEpB,MAAMvK,EAAS38B,KAAK+sC,qBAAqBrR,uBAAuB38B,GAChE,IAAK49B,EAAQ,OAEb,MAAMsQ,EAAOjtC,KAAKktC,cAAcvQ,GAEhC,GAAa,IAATsQ,EAAuB,CACvB,MAAM/F,EAASlnC,KAAK+sC,qBAAqBlQ,gBAAgBF,GACzD38B,KAAKmtC,iBAAmB,CAAEF,OAAMG,cAAelG,GAE/ClnC,KAAKinC,iBAAiBC,E,MAEtBlnC,KAAKmtC,iBAAmB,CAAEF,QAC1BjtC,KAAK6xB,iBAAiB4U,qBAAqB9J,EAAiB,IAATsQ,E,EAInD,KAAAI,gBAAmBtuC,I,QAEvB,KAAkB,EAAZA,EAAEuuC,SAAoBttC,KAAKmtC,kBAA+C,KAAN,QAArB,EAAAntC,KAAKmtC,wBAAgB,eAAEF,OACxE,OAGJ,MAAMtQ,EAAS38B,KAAK+sC,qBAAqBrR,uBAAuB38B,GAAG,GAC9D49B,GAEL38B,KAAK6xB,iBAAiB4U,qBAAqB9J,EAAmC,KAAN,QAArB,EAAA38B,KAAKmtC,wBAAgB,eAAEF,MAAyB,EAG/F,KAAAM,aAAgBxuC,IACpB,GAAiB,IAAbA,EAAEmoC,OAAc,OAEpB,MAAMsG,EAAcxtC,KAAKmtC,iBAGzB,OAFAntC,KAAKmtC,sBAAmBpzC,EAEhByzC,aAAW,EAAXA,EAAaP,MACjB,KAAK,EACDjtC,KAAKonC,eAAeoG,EAAYJ,eAEhC,MAEJ,KAAK,EACL,KAAK,EACDptC,KAAK6xB,iBAAiBkV,kB,EAM1B,KAAA0G,iBAAoB1uC,IACxB,IAAI2uC,GAAU,EAEd,IAAK,IAAI3pC,EAAI,EAAGA,EAAIhF,EAAE4uC,eAAertC,OAAQyD,IAAK,CAC9C,MAAM6pC,EAAQ7uC,EAAE4uC,eAAejmC,KAAK3D,GACpC,IAAK6pC,EAAO,SAEZ,MAAMjR,EAAS38B,KAAK+sC,qBAAqBrR,uBAAuBkS,GAChE,IAAKjR,EAAQ,SAEb+Q,GAAU,EAEV,MAAMT,EAAOjtC,KAAKktC,cAAcvQ,GAChC,GAAa,IAATsQ,EAAuB,CACvB,MAAM/F,EAASlnC,KAAK+sC,qBAAqBlQ,gBAAgBF,GACzD38B,KAAK6tC,kBAAkB1mC,IAAIymC,EAAME,WAAY,CAAEb,OAAMG,cAAelG,IAEpElnC,KAAKinC,iBAAiBC,E,MAEtBlnC,KAAK6tC,kBAAkB1mC,IAAIymC,EAAME,WAAY,CAAEb,SAC/CjtC,KAAK6xB,iBAAiB4U,qBAAqB9J,EAAiB,IAATsQ,E,CAIvDS,IAA4B,IAAjB3uC,EAAEgvC,YAAsBhvC,EAAEivC,gBAAgB,EAGrD,KAAAC,gBAAmBlvC,IACvB,IAAI2uC,GAAU,EAEd,IAAK,IAAI3pC,EAAI,EAAGA,EAAIhF,EAAE4uC,eAAertC,OAAQyD,IAAK,CAC9C,MAAM6pC,EAAQ7uC,EAAE4uC,eAAejmC,KAAK3D,GACpC,IAAK6pC,EAAO,SAEZ,MAAMJ,EAAcxtC,KAAK6tC,kBAAkBzmC,IAAIwmC,EAAME,YACrD,IAAKN,EAAa,SAElBE,GAAU,EAEV,MAAMT,EAAOO,EAAYP,KACzB,OAAQA,GACJ,KAAK,EAAc,CACf,MAAMtQ,EAAS38B,KAAK+sC,qBAAqBrR,uBAAuBkS,GAEhE,IAAKjR,GAAyC,IAA/B38B,KAAKktC,cAAcvQ,GAA0B,CACxD38B,KAAKonC,eAAeoG,EAAYU,iBAChCV,EAAYU,qBAAkBn0C,EAE9B,K,CAGJ,MAAMmtC,EAASlnC,KAAK+sC,qBAAqBlQ,gBAAgBF,GAErDuK,IAAWsG,EAAYJ,eACvBptC,KAAKonC,eAAeoG,EAAYU,iBAChCV,EAAYU,qBAAkBn0C,GACvBmtC,IAAWsG,EAAYU,kBAC9BluC,KAAKonC,eAAeoG,EAAYU,iBAChCV,EAAYU,gBAAkBhH,EAE9BlnC,KAAKinC,iBAAiBC,IAG1B,K,CAGJ,KAAK,EACL,KAAK,EAAiB,CAClB,MAAMvK,EAAS38B,KAAK+sC,qBAAqBrR,uBAAuBkS,GAAO,GACvE,IAAKjR,EAAQ,SAEb38B,KAAK6xB,iBAAiB4U,qBAAqB9J,EAAiB,IAATsQ,GAEnD,K,CAGJ,QACI,S,CAIRS,IAA4B,IAAjB3uC,EAAEgvC,YAAsBhvC,EAAEivC,gBAAgB,EAGrD,KAAAG,eAAkBpvC,IACtB,IAAI2uC,GAAU,EAEd,IAAK,IAAI3pC,EAAI,EAAGA,EAAIhF,EAAE4uC,eAAertC,OAAQyD,IAAK,CAC9C,MAAM6pC,EAAQ7uC,EAAE4uC,eAAejmC,KAAK3D,GACpC,IAAK6pC,EAAO,SAEZ,MAAMJ,EAAcxtC,KAAK6tC,kBAAkBzmC,IAAIwmC,EAAME,YAKrD,OAJIN,IAAaE,GAAU,GAE3B1tC,KAAK6tC,kBAAkB5M,OAAO2M,EAAME,YAE5BN,aAAW,EAAXA,EAAaP,MACjB,KAAK,EACDjtC,KAAKonC,eAAeoG,EAAYJ,eAChCptC,KAAKonC,eAAeoG,EAAYU,iBAEhC,MAEJ,KAAK,EACL,KAAK,EACDluC,KAAK6xB,iBAAiBkV,kB,CAM9B2G,IAA4B,IAAjB3uC,EAAEgvC,YAAsBhvC,EAAEivC,gBAAgB,EAGrD,KAAA1G,cAAiBvoC,IACrB,GAAIiB,KAAK6xB,iBAAiBuS,gBAAkBpkC,KAAKouC,uBAAwB,OAEzE,GAAIpuC,KAAKquC,iBAAiBtvC,GAMtB,OALAA,EAAEivC,iBAEFhuC,KAAKsuC,UAAYtuC,KAAKsuC,cACtBtuC,KAAKuuC,mBAKT,MAAMrH,EAASlnC,KAAKwuC,gBAAgBzvC,GACpC,QAAehF,IAAXmtC,EAIA,OAHAlnC,KAAKinC,iBAAiBC,QACtBnoC,EAAEivC,iBAKN,MAAMS,EAAUzuC,KAAK0uC,iBAAiB3vC,QACtBhF,IAAZ00C,IACAzuC,KAAK6xB,iBAAiByV,cAAcmH,GACpC1vC,EAAEivC,iB,EAIF,KAAAW,YAAe5vC,IACnB,GAAIiB,KAAK6xB,iBAAiBuS,gBAAkBpkC,KAAKouC,uBAAwB,OAEzE,MAAMlH,EAASlnC,KAAKwuC,gBAAgBzvC,GACpC,QAAehF,IAAXmtC,EAIA,OAHAlnC,KAAKonC,eAAeF,QACpBnoC,EAAEivC,iBAKN,GAAc,YAAVjvC,EAAEykB,IAAmB,CACrB,IAAK,MAAMorB,KAAO5uC,KAAKu9B,cACnBv9B,KAAK6xB,iBAAiBuV,eAAewH,GAGzC5uC,KAAKu9B,cAAcsR,QACd7uC,KAAK+sC,qBAAqBzP,YAAY,G,GA4H3C,KAAAwR,eAA8B30C,OAG9B,KAAA0zC,kBAAoB,IAAItN,IACxB,KAAAhD,cAAgB,IAAIwR,IACpB,KAAAT,UAAW,EACX,KAAAU,sBAAuB,CA9a5B,CAEH,IAAAhyC,CAAKiyC,EAAiCH,EAA8B30C,QAC5D6F,KAAKivC,oBACLjvC,KAAK0vB,UAGT1vB,KAAKivC,mBAAqBA,EAC1BjvC,KAAK8uC,eAAiBA,GAAkB30C,OAExC6F,KAAKmzB,iBAAiB8b,EAAoB,YAAajvC,KAAKgtC,iBAC5DhtC,KAAKmzB,iBAAiBh5B,OAAQ,UAAW6F,KAAKutC,cAC9CvtC,KAAKmzB,iBAAiBh5B,OAAQ,YAAa6F,KAAKqtC,iBAEhDrtC,KAAKmzB,iBAAiB8b,EAAoB,aAAcjvC,KAAKytC,kBAC7DztC,KAAKmzB,iBAAiB8b,EAAoB,YAAajvC,KAAKiuC,iBAC5DjuC,KAAKmzB,iBAAiB8b,EAAoB,WAAYjvC,KAAKmuC,gBAC3DnuC,KAAKmzB,iBAAiB8b,EAAoB,cAAejvC,KAAKmuC,gBAE9DnuC,KAAKmzB,iBAAiBnzB,KAAK8uC,eAAgB,UAAW9uC,KAAKsnC,eAC3DtnC,KAAKmzB,iBAAiBnzB,KAAK8uC,eAAgB,QAAS9uC,KAAK2uC,YAC7D,CAEA,OAAAjf,GACI,GAAK1vB,KAAKivC,mBAAV,CAEAjvC,KAAKkvC,oBAAoBlvC,KAAKivC,mBAAoB,YAAajvC,KAAKgtC,iBACpEhtC,KAAKkvC,oBAAoB/0C,OAAQ,UAAW6F,KAAKutC,cACjDvtC,KAAKkvC,oBAAoB/0C,OAAQ,YAAa6F,KAAKqtC,iBAEnDrtC,KAAKkvC,oBAAoBlvC,KAAKivC,mBAAoB,aAAcjvC,KAAKytC,kBACrEztC,KAAKkvC,oBAAoBlvC,KAAKivC,mBAAoB,YAAajvC,KAAKiuC,iBACpEjuC,KAAKkvC,oBAAoBlvC,KAAKivC,mBAAoB,WAAYjvC,KAAKmuC,gBACnEnuC,KAAKkvC,oBAAoBlvC,KAAKivC,mBAAoB,cAAejvC,KAAKmuC,gBAEtEnuC,KAAKkvC,oBAAoBlvC,KAAK8uC,eAAgB,UAAW9uC,KAAKsnC,eAC9DtnC,KAAKkvC,oBAAoBlvC,KAAK8uC,eAAgB,QAAS9uC,KAAK2uC,aAE5D,IAAK,MAAMzH,KAAUlnC,KAAKu9B,cACtBv9B,KAAKonC,eAAeF,GAGxBlnC,KAAKu9B,cAAcsR,QACnB7uC,KAAK6tC,kBAAkBgB,QACvB7uC,KAAKmtC,sBAAmBpzC,EAExBiG,KAAKivC,wBAAqBl1C,CAtBU,CAuBxC,CAEA,UAAAo1C,GACI,OAAOnvC,KAAKsuC,QAChB,CAEA,WAAAc,CAAYC,GACRrvC,KAAKsuC,SAAWe,EAEhBrvC,KAAKuuC,kBACT,CAEA,wBAAAe,CAAyBN,GACrBhvC,KAAKgvC,qBAAuBA,CAChC,CAEA,uBAAAO,GACI,OAAOvvC,KAAKgvC,oBAChB,CAEU,oBAAAZ,GACN,OAAO,CACX,CAEU,gBAAAG,GAA0B,CAE1B,gBAAApb,CACN0P,EACAnoC,EACAmxB,EACA2jB,GAEA3M,EAAI1P,iBAAiBz4B,EAAMmxB,EAAS2jB,EACxC,CAEU,mBAAAN,CACNrM,EACAnoC,EACAmxB,EACA2jB,GAEA3M,EAAIqM,oBAAoBx0C,EAAMmxB,EAAS2jB,EAC3C,CAuNQ,aAAAtC,CAAcvQ,GAClB,OAAI38B,KAAK+sC,qBAAqBnQ,UAAUD,GAC7B,EAGP38B,KAAK+sC,qBAAqBrQ,aAAaC,GAChC,EAGJ,CACX,CAEQ,gBAAAsK,CAAiBC,GACjBlnC,KAAKu9B,cAAc3S,IAAIsc,KAE3BlnC,KAAKu9B,cAActS,IAAIic,GACvBlnC,KAAK6xB,iBAAiBoV,iBAAiBC,GAClClnC,KAAK+sC,qBAAqBzP,YAAY72B,MAAMgpC,KAAKzvC,KAAKu9B,cAAcmS,WAC7E,CAEQ,cAAAtI,CAAeF,QACJntC,IAAXmtC,GAAyBlnC,KAAKu9B,cAAc3S,IAAIsc,KAEpDlnC,KAAKu9B,cAAc0D,OAAOiG,GAC1BlnC,KAAK6xB,iBAAiBuV,eAAeF,GAChClnC,KAAK+sC,qBAAqBzP,YAAY72B,MAAMgpC,KAAKzvC,KAAKu9B,cAAcmS,WAC7E,CAEQ,gBAAArB,CAAiBtvC,GACrB,OACIiB,KAAKuvC,4BAAyC,UAAVxwC,EAAEykB,KAAmBzkB,EAAE4wC,SAAuB,YAAV5wC,EAAEykB,KAAqBzkB,EAAE6wC,SAEzG,CAEQ,gBAAAC,CAAiB9wC,GACrB,OAASiB,KAAKsuC,UAAYvvC,EAAE4wC,SAAa3vC,KAAKsuC,WAAavvC,EAAE4wC,OACjE,CAEQ,eAAAnB,CAAgBzvC,GACpB,OAAQA,EAAEykB,KACN,IAAK,SACD,OAAO,EAEX,IAAK,WACD,OAAO,EAGf,GAAKxjB,KAAK6vC,iBAAiB9wC,GAE3B,OAAQA,EAAEykB,KACN,IAAK,IACL,IAAK,IACL,IAAK,UACD,OAAO,EAEX,IAAK,IACL,IAAK,IACL,IAAK,YACD,OAAO,EAEX,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,YACD,OAAO,EAEX,IAAK,IACL,IAAK,IACL,IAAK,IACD,OAAO,EAEX,IAAK,IACL,IAAK,IACL,IAAK,IACD,OAAO,EAEX,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,aACD,OAAO,EAInB,CAEQ,gBAAAkrB,CAAiB3vC,GACrB,IAAIiB,KAAK6vC,iBAAiB9wC,GAA1B,CAEA,GAAqB,IAAjBA,EAAEykB,IAAIljB,QAAgBvB,EAAEykB,IAAIrd,WAAW,IAAM,IAAK,OAAOpH,EAAEykB,IAAIrd,WAAW,GAE9E,OAAQpH,EAAEykB,KACN,IAAK,YACD,OAAO,GAEX,IAAK,aACD,OAAO,GAEX,IAAK,UACD,OAAO,GAEX,IAAK,YACD,OAAO,GAEX,IAAK,YACD,OAAO,EAEX,IAAK,MACD,OAAO,EAEX,IAAK,QACD,OAAO,GAEX,QACI,OA3B4B,CA6BxC,EC/cG,MAAMssB,UAAoChD,EAC7C,WAAA/sC,CAAY8xB,EAA4Ckb,GACpDgD,MAAMle,EAAkBkb,GAU5B,KAAAiD,oBAAsB,IAAI,IARtBhwC,KAAK+sC,qBAAuBA,CAChC,CAEmB,gBAAAwB,GACfvuC,KAAK+sC,qBAAqBzN,wBAAwBt/B,KAAKmvC,cACvDnvC,KAAKgwC,oBAAoB5jB,SAASpsB,KAAKmvC,aAC3C,EC+BG,MAAMnwB,EACT,WAAAjf,CAAoBooC,GAAA,KAAAA,WAAAA,EAuBZ,KAAA8H,OAAS,IAAI1P,GAvBiC,CAEtD,eAAAjC,CAAgBuE,GACZ,GAAI7iC,KAAKiwC,OAAOrlB,IAAIiY,GAAM,OAAO7iC,KAAKiwC,OAAO7oC,IAAIy7B,GAEjD,MAAMqN,EAA4ClwC,KAAKmoC,WAClDvZ,MAAMuZ,GAAeA,EAAWgI,SAAStN,KACzCjU,MAAMqH,GACHA,EACMpa,QAAQuhB,IAAI,CAACnH,EAAKL,EAAUI,EAASC,MACrCpa,QAAQE,OAAO,IAAI9f,MAAM,uBAAuB4mC,QAGxDuN,EAAmBnb,EACrBib,EAAKthB,MAAK,EAAE,CAAE1H,KAAWA,IACzBgpB,EAAKthB,MAAK,EAAEqH,KAASA,KAKzB,OAFAj2B,KAAKiwC,OAAO9oC,IAAI07B,EAAKuN,GAEdA,CACX,EClEG,MAAMC,EACT,WAAAtwC,CAAoBuwC,GAAA,KAAAA,MAAAA,EAaX,KAAAC,YAAc,IAAI,IAZvBvwC,KAAKwwC,KAAOF,GAChB,CAEA,MAAAG,GACI,MAAMC,EAAU1wC,KAAKswC,QAEjBI,IAAY1wC,KAAKwwC,OACjBxwC,KAAKuwC,YAAYnkB,SAASskB,GAC1B1wC,KAAKwwC,KAAOE,EAEpB,ECMJ,MAAMC,EAA2B,CAC7B/D,iBAAa7yC,EACbglC,YAAalQ,EAAkBuM,SAC/ByR,iBAAiB,EACjBF,MAAO,EACPnsB,SAAU,EAAS2Y,MAGjByX,EAAW,cA+TV,MAAMC,EACT,WAAA9wC,CAAoBooC,GAAA,KAAAA,WAAAA,EAwWZ,KAAA2I,YAAc,KAClB9wC,KAAK+wC,gBAAgBN,SACrBzwC,KAAKgxC,qBAAqBP,SAC1BzwC,KAAKixC,mBAAmBR,QAAQ,EAG3B,KAAAS,sBAAwB,IAAI,IAW7B,KAAA7E,QAAO,iBAAiBsE,GAxX5B3wC,KAAK6xB,iBAAmB,IAAIoa,EAC5BjsC,KAAK+sC,qBAAuB,IAAIjO,EAA6B,IAAI9f,EAAWnD,QAAQC,QAAQqsB,KAC5FnoC,KAAKmxC,qBAAuB,IAAIrB,EAA4B9vC,KAAK6xB,iBAAkB7xB,KAAK+sC,sBACxF/sC,KAAKoxC,aAAe,IAAItc,EAAqB90B,KAAK6xB,kBAElD7xB,KAAK6xB,iBAAiBiU,cAAcla,YAAYyJ,GAC5Cr1B,KAAK+sC,qBAAqBzR,sBAAsBjG,KAGpDr1B,KAAKksC,eAAetgB,WAAW5rB,KAAK8wC,aAEpC9wC,KAAK+wC,gBAAkB,IAAIV,GAAQ,IAAMrwC,KAAKuzB,eAC9CvzB,KAAKgxC,qBAAuB,IAAIX,GAAQ,IAAMrwC,KAAKulC,oBACnDvlC,KAAKixC,mBAAqB,IAAIZ,GAAQ,IAAMrwC,KAAKoqC,kBAAoB,IACzE,CAEA,aAAA1C,GACI,OAAO1nC,KAAK6xB,iBAAiB6V,eACjC,CAEA,OAAA2J,CAAQjJ,EAAiB5nB,GACrB,QAAiBzmB,IAAbymB,EAAwB,CACxB,MAAM8wB,EAAUtxC,KAAKmoC,WAAWoJ,WAAWnJ,GAC3C,IAAKkJ,GAA+C,IAApCA,EAAQE,iBAAiBlxC,OACrC,MAAM,IAAIrE,MAAM,sBAGpBukB,EAAW8wB,EAAQE,iBAAiB,E,CAIxC,GAFAxxC,KAAKqsC,QAAU,OAAH,wBAAQsE,GAAe,CAAEnwB,aAEjCxgB,KAAK6xB,iBAAiBua,YAAYpsC,KAAKmoC,WAAYC,EAAK5nB,EAAUxgB,KAAKqsC,SAEvE,OADKrsC,KAAK+sC,qBAAqBjb,gBAAW/3B,EAAWymB,EAAUxgB,KAAKqsC,QAAQtN,aACrE/+B,KAGX,MAAM,IAAI/D,MAAM,+BACpB,CAEA,WAAAw1C,CAAYpF,G,cACR,MAAMG,EAAexsC,KAAKmoC,WAAWuJ,wBAAyCrF,GAC9E,IAAKG,EAAc,MAAM,IAAIvwC,MAAM,qBAUnC,GARA+D,KAAKqsC,QAAU,CACXO,YAAkC,QAArB,EAAAJ,EAAa/kB,gBAAQ,eAAEmlB,YACpCD,MAAmC,QAA5B,EAAqB,QAArB,EAAAH,EAAa/kB,gBAAQ,eAAEklB,aAAK,QAAI,EACvC5N,YAAqD,QAAxC,EAAqB,QAArB,EAAAyN,EAAa/kB,gBAAQ,eAAEkqB,yBAAiB,QAAI9iB,EAAkBuM,SAC3EyR,iBAAiB,EACjBrsB,SAAUgsB,EAAahsB,UAGvBxgB,KAAK6xB,iBAAiB0a,qBAAqBvsC,KAAKmoC,WAAYqE,EAAcxsC,KAAKqsC,SAE/E,OADKrsC,KAAK+sC,qBAAqBjb,gBAAW/3B,EAAWyyC,EAAahsB,SAAUxgB,KAAKqsC,QAAQtN,aAClF/+B,KAGX,MAAM,IAAI/D,MAAM,+BACpB,CAEA,yBAAA21C,CAA0BC,GACtB,IAAK7xC,KAAKmoC,WAAW2J,eAAelB,EAAUiB,GAC1C,MAAM,IAAI51C,MAAM,6CAGpB,IAAK+D,KAAKmoC,WAAW4J,UAAUnB,GAC3B,MAAM,IAAI30C,MAAM,8BAGpB,OAAO+D,IACX,CAEA,eAAAgyC,CAAgBH,GACZ,GAAIA,EAAUvxC,OAAS,KAAQ,EAC3B,MAAM,IAAIrE,MAAM,6CAGpB,IAAK+D,KAAKmoC,WAAW8J,aAAarB,EAAUiB,EAAUvxC,QAClD,MAAM,IAAIrE,MAAM,iCAGpB,MAAMi2C,EAAWlyC,KAAKmoC,WAAWgK,YAAYvB,GAC7C,IAAKsB,EACD,MAAM,IAAIj2C,MAAM,iCAKpB,GAFAi2C,EAAS/qC,IAAI,IAAI7I,YAAYuzC,EAAU5zC,OAAQ4zC,EAAUpJ,WAAYoJ,EAAU/sC,aAAe,KAEzF9E,KAAKmoC,WAAW4J,UAAUnB,GAC3B,MAAM,IAAI30C,MAAM,8BAGpB,OAAO+D,IACX,CAEA,SAAAoyC,GACI,IAAKpyC,KAAKqyC,gBAAiB,OAAOryC,KAElC,IAAKA,KAAKmoC,WAAWmK,WAAW1B,GAC5B,MAAM,IAAI30C,MAAM,wBAGpB,OAAO+D,IACX,CAEA,aAAAqyC,GACI,OAAOryC,KAAKmoC,WAAWoK,kBAAoB3B,CAC/C,CAEA,SAAA4B,CAAUnd,GAGN,OAFKr1B,KAAK+sC,qBAAqBjb,WAAWuD,EAAQr1B,KAAKqsC,QAAQ7rB,SAAUxgB,KAAKqsC,QAAQtN,aAE/E/+B,IACX,CAEA,SAAAyyC,CAAU3D,GACN,MAAMzZ,EAASr1B,KAAK+sC,qBAAqBtN,YACzC,IAAKpK,EACD,MAAM,IAAIp5B,MAAM,iEAIpB,OAFA+D,KAAKmxC,qBAAqBn0C,KAAKq4B,EAAQyZ,GAEhC9uC,IACX,CAEA,YAAA0yC,GAGI,OAFA1yC,KAAKmxC,qBAAqBzhB,UAEnB1vB,IACX,CAEA,eAAA2yC,CAAgBnzC,GACZ,GAAIQ,KAAKmoC,WAAWyK,UAAUpzC,GAAQ,EAAG,MAAM,IAAIvD,MAAM,8BAEzD,OAAO+D,IACX,CAEA,wBAAA6yC,CAAyBrzC,GACrB,OAAOQ,KAAK2yC,gBAAgBnzC,GAAMszC,eAAetzC,EACrD,CAEA,kBAAAuzC,CAAmBvzC,GACf,OAAOQ,KAAKgzC,4BAA4BxzC,EAC5C,CAEA,2BAAAwzC,CAA4BxzC,EAAkByzC,GAC1C,IAAIC,EAuBJ,GArBAlzC,KAAKmoC,WAAWgL,sBAAsB3zC,GAAO4zC,IACzC,KAA6B,IAAtBA,EAAO5pB,YAAwC,CAClD,MAAM6pB,EAAUD,EAAOlpB,yBACjBpqB,EAAOszC,EAAOnpB,sBAEpB,IAAKopB,EACD,MAAM,IAAIp3C,MAAM,kBAAkB6D,kBAGtCE,KAAK2yC,gBAAgBU,GAEjBvzC,EAAKwxB,iBAAkB2hB,aAAU,EAAVA,EAAY3hB,iBAAe4hB,EAASG,EAAQ7xC,SAAS,EAAG,IAAIuH,SAEvFqqC,EAAOtpB,M,CAGX,IAAqB,IAAjBspB,EAAO5pB,WACP,MAAM,IAAIvtB,MAAM,wB,SAILlC,IAAfk5C,IAA6BC,EAAQ,MAAM,IAAIj3C,MAAM,YAAYg3C,gBAGrE,OAFIC,GAAQlzC,KAAK8yC,eAAeI,GAEzBlzC,IACX,CAEA,YAAAszC,CAAaxzC,GACT,IAAKE,KAAKmoC,WAAWoL,gBAAgBzzC,GAAO,MAAM,IAAI7D,MAAM,oBAAoB6D,KAEhF,OAAOE,IACX,CAEA,cAAA8yC,CAAeU,GACX,IAAKxzC,KAAKmoC,WAAWsL,oBAAoBD,GAAW,MAAM,IAAIv3C,MAAM,6BAEpE,OAAO+D,IACX,CAEA,KAAAyiC,GAGI,OAFAziC,KAAK6xB,iBAAiB4Q,QAEfziC,IACX,CAEA,iBAAAwnC,GAGI,OAFAxnC,KAAK6xB,iBAAiB2V,oBAEfxnC,IACX,CAEA,SAAAynC,GAGI,OAFAznC,KAAK6xB,iBAAiB4V,YAEfznC,IACX,CAEA,SAAAmyB,GACI,OAAOnyB,KAAK6xB,iBAAiBM,WACjC,CAEA,UAAAoB,GACI,OAAOvzB,KAAK6xB,iBAAiB0B,YACjC,CAEA,eAAAgS,GACI,OAAOvlC,KAAK6xB,iBAAiB0T,iBACjC,CAEA,MAAA9S,GAGI,OAFAzyB,KAAK6xB,iBAAiBY,SAEfzyB,IACX,CAEA,KAAAmsC,GAGI,OAFAnsC,KAAK6xB,iBAAiBsa,QAEfnsC,IACX,CAEA,UAAA0zC,CAAWxM,GAGP,OAFAlnC,KAAK6xB,iBAAiBoV,iBAAiBC,GAEhClnC,IACX,CAEA,QAAA2zC,CAASzM,GAGL,OAFAlnC,KAAK6xB,iBAAiBuV,eAAeF,GAE9BlnC,IACX,CAEA,QAAA4zC,CAASjH,GAGL,OAFA3sC,KAAKqsC,QAAQM,MAAQA,EAEd3sC,IACX,CAEA,QAAA6zC,GACI,OAAO7zC,KAAKqsC,QAAQM,KACxB,CAEA,SAAA3X,CAAUD,GAGN,OAFA/0B,KAAKoxC,aAAapc,UAAUD,GAErB/0B,IACX,CAEA,SAAA60B,GACI,OAAO70B,KAAKoxC,aAAavc,WAC7B,CAEM,eAAAif,G,yCAEF,aADM9zC,KAAKoxC,aAAatf,aACjB9xB,KAAKoxC,aAAahe,eAC7B,G,CAEA,kBAAA2gB,GACI,OAAO/zC,KAAKoxC,aAAahe,eAC7B,CAEA,cAAA4gB,CAAejV,GAIX,OAHA/+B,KAAKqsC,QAAQtN,YAAcA,EAC3B/+B,KAAK+sC,qBAAqB1N,kBAAkBr/B,KAAKqsC,QAAQtN,aAElD/+B,IACX,CAEA,cAAAm7B,GACI,OAAOn7B,KAAKqsC,QAAQtN,WACxB,CAEA,cAAA0L,CAAemC,GAIX,OAHA5sC,KAAKqsC,QAAQO,YAAcA,EAC3B5sC,KAAK6xB,iBAAiB6a,yBAEf1sC,IACX,CAEA,cAAAoqC,GACI,OAAOpqC,KAAKqsC,QAAQO,WACxB,CAEA,YAAAqH,CAAatxB,GAGT,OAFA3iB,KAAKqsC,QAAQQ,gBAAkBlqB,EAExB3iB,IACX,CAEA,YAAAk0C,GACI,OAAOl0C,KAAKqsC,QAAQQ,eACxB,CAEA,UAAAsC,GACI,OAAOnvC,KAAKmxC,qBAAqBhC,YACrC,CAEA,WAAAC,CAAYnQ,GAGR,OAFAj/B,KAAKmxC,qBAAqB/B,YAAYnQ,GAE/Bj/B,IACX,CAEA,uBAAAuvC,GACI,OAAOvvC,KAAKmxC,qBAAqB5B,yBACrC,CAEA,wBAAAD,CAAyBN,GAGrB,OAFAhvC,KAAKmxC,qBAAqB7B,yBAAyBN,GAE5ChvC,IACX,CAEA,0BAAAw/B,GACI,OAAOx/B,KAAK+sC,qBAAqBvN,4BACrC,CAEA,2BAAAD,CAA4BP,GAGxB,OAFAh/B,KAAK+sC,qBAAqBxN,4BAA4BP,GAE/Ch/B,IACX,CAEA,eAAAgoC,GACI,OAAOhoC,KAAK6xB,iBAAiBmW,iBACjC,CAEA,mBAAAD,GACI,OAAO/nC,KAAK6xB,iBAAiBkW,qBACjC,CAEA,uBAAI7U,GACA,OAAOlzB,KAAK+wC,gBAAgBR,WAChC,CAEA,8BAAI4D,GACA,OAAOn0C,KAAKgxC,qBAAqBT,WACrC,CAEA,0BAAI6D,GACA,OAAOp0C,KAAKixC,mBAAmBV,WACnC,CAEA,uBAAIP,GACA,OAAOhwC,KAAKmxC,qBAAqBnB,mBACrC,CAEA,kBAAI9D,GACA,OAAOlsC,KAAK6xB,iBAAiBqa,cACjC,E,yBCnqBJ,IAAImI,GAAS,EAoDN,MAAMC,GAAoB,CAC7B,EAAS5c,UACT,EAASD,MACT,EAASE,IACT,EAASE,OACT,EAASD,MACT,EAASS,QACT,EAASC,UACT,EAASC,SACT,EAASR,MACT,EAASD,KACT,EAASE,KACT,EAASI,KACT,EAASoG,KACT,EAASrF,KACT,EAAS7C,KACT,EAASmI,KACT,EAASxG,KACT,EAASC,KACT,EAASC,KACT,EAASuG,KACT,EAASlG,KACT,EAASnC,KACT,EAASI,WACT,EAASC,YACT,EAASE,QACT,EAASC,QACT,EAASC,SACT,EAASE,QACT,EAASG,SACT,EAASJ,SACT,EAASK,SACT,EAASH,SACT,EAASI,QACT,EAASC,QACT,EAASX,OAUb,SAAS4d,KACL,MAAO,CAACztC,EAAiB0tC,EAA8B5mB,KACnD,MAAM6mB,EAAY7mB,EAAK1P,MAMvB,OAJA0P,EAAK1P,MAAQ,SAA4Bw2B,EAAaC,GAClD,OAAO30C,KAAKu0C,OAAM,IAAME,EAAUxnB,KAAKjtB,KAAM00C,EAAIC,IACrD,EAEO/mB,CAAI,CAEnB,CAEO,MAAMvP,GACT,YAA4B/kB,GAAA,KAAAA,OAAAA,EA4uB5B,KAAAs7C,gBAAkB,IAAI,IACtB,KAAA5hB,eAAiB,IAAI,IACrB,KAAA6hB,qBAAuB,IAAI,IAOnB,KAAAC,SAAU,EApvBd90C,KAAKmoC,WAAa,IAAI7uC,EAAO+kB,WAE7Bre,KAAKmoC,WAAW5lB,mBACZjpB,EAAOy7C,aACH,CAAC7gB,EAAmBC,IAAsBn0B,KAAKgzB,eAAe5G,SAAS,CAAE8H,YAAWC,eACpF,QAIRn0B,KAAKmoC,WAAWllB,+BACZ3pB,EAAOy7C,aAAY,IAAM/0C,KAAK60C,qBAAqBzoB,YAAY,MAGnEpsB,KAAKg1C,YAAch1C,KAAKi1C,cAAcj1C,KAAKmoC,WAAWhkB,kBACtDnkB,KAAKk1C,gBAAkBl1C,KAAKi1C,cAAcj1C,KAAKmoC,WAAW/jB,qBAC9D,CAIA,aAAa1H,CAAOy4B,G,yCAChB,MAAM19B,EAAK48B,KAEX,OAAO,IAAIh2B,SACD,KAAa,OAAD,sBACd+2B,MAAQtvC,GAAchJ,QAAQC,IAAI,GAAG0a,MAAO3R,KAC5CuvC,SAAWvvC,GAAchJ,QAAQI,MAAM,GAAGua,MAAO3R,MACpB,iBAAlBqvC,EAA6B,CAAEG,WAAY,IAAMH,GAAkB,CAAC,GAClD,mBAAlBA,EAA+B,CAAEI,gBAAiBJ,GAAkB,CAAC,IAG5F,G,CAEA,OAAAK,GACIx1C,KAAK1G,OAAOk8C,QAAQx1C,KAAKmoC,WAC7B,CAEA,aAAAjE,GACI,OAAOlkC,KAAK80C,OAChB,CAGA,aAAAW,CAAc71B,GACV5f,KAAKmoC,WAAWxoB,cAAcC,EAClC,CAGA,UAAA2xB,CAAWnJ,GACP,MAAMnqC,EAAS+B,KAAK01C,OAAOtN,GAErBuN,EAAgB,IAAI31C,KAAK1G,OAAOglB,QAAQrgB,EAAQmqC,EAAI9nC,QAC1D,IAAIs1C,EAeJ,OAbID,EAActxB,YACduxB,EAAU,CACNC,YAAaF,EAAcrxB,cAC3BwxB,SAAUH,EAAcpxB,WACxBwxB,WAAYJ,EAAcnxB,aAC1BwxB,iBAAkBL,EAAclxB,mBAChC+sB,iBAAkB8C,GAAkB2B,OAAON,EAAcjxB,SAAS1nB,KAAK24C,MAI/E31C,KAAKmoC,WAAW1oB,KAAKxhB,GACrB+B,KAAK1G,OAAOk8C,QAAQG,GAEbC,CACX,CAGA,iBAAArN,CAAkBH,EAAiBtoB,GAC/B,MAAM7hB,EAAS+B,KAAK01C,OAAOtN,GAErB1Z,EAAS1uB,KAAKmoC,WAAWtoB,kBAAkB5hB,EAAQmqC,EAAI9nC,OAAQwf,GAIrE,OAFA9f,KAAKmoC,WAAW1oB,KAAKxhB,GAEdywB,CACX,CAGA,eAAAmW,GACI,OAAO7kC,KAAKmoC,WAAWpoB,oBAC3B,CAGA,YAAAglB,CAAa9kB,GACT,OAAOjgB,KAAKmoC,WAAWnoB,aAAaC,EACxC,CAGA,QAAA0qB,GACI,MAAMuL,EAAcl2C,KAAKmoC,WAAW/nB,YAE9B+1B,EAAYn2C,KAAK1G,OAAO88C,WAAWF,EAAY/wB,aAErD,MAAO,CACHgmB,IAAK+K,EAAYtxB,SACjB6mB,aAAcyK,EAAYnxB,kBAC1B8lB,MAAOqL,EAAYrxB,WACnBkmB,UAAWmL,EAAYvxB,eACvB+mB,OAAQwK,EAAYpxB,YACpBwmB,eAAgB4K,EAAYlxB,oBAC5BumB,cAAe2K,EAAYjxB,mBAC3B2lB,WAAYsL,EAAYhxB,gBACxB8lB,OAAQkL,EAAY7wB,YACpBylB,OAAQoL,EAAY5wB,YACpBrnB,OAAQ+B,KAAK1G,OAAOkD,OAAOgF,SAAS20C,EAAWA,EAAYD,EAAY9wB,iBAE/E,CAGA,aAAA2kB,GACI,OAAO/pC,KAAKmoC,WAAW9nB,eAC3B,CAGA,eAAA4pB,GACIjqC,KAAKmoC,WAAW7nB,iBACpB,CAGA,eAAA+1B,CAAgB5+B,GACZ,OAAgD,KAAzCzX,KAAKmoC,WAAW5nB,mBAAmB9I,EAC9C,CAGA,wBAAA6+B,CAAyB7+B,GACrB,OAAsD,KAA/CzX,KAAKmoC,WAAW1nB,yBAAyBhJ,EACpD,CAGA,wBAAA8+B,CAAyB9+B,GACrB,OAAkD,KAA3CzX,KAAKmoC,WAAWznB,qBAAqBjJ,EAChD,CAGA,YAAAqvB,CAAahhC,EAAW8a,GACpB5gB,KAAKmoC,WAAWxnB,aAAa7a,EAAG8a,EACpC,CAGA,UAAAomB,GACIhnC,KAAKmoC,WAAWtnB,YACpB,CAGA,eAAAsmB,CAAgBD,GACZlnC,KAAKmoC,WAAWrnB,gBAAgBomB,EACpC,CAGA,aAAAG,CAAcH,GACVlnC,KAAKmoC,WAAWpnB,cAAcmmB,EAClC,CAGA,kBAAAK,CAAmBiP,EAAcv1B,GAC7BjhB,KAAKmoC,WAAWnnB,mBAAmBw1B,EAAMv1B,EAC7C,CAGA,UAAAsS,GACI,QAASvzB,KAAKmoC,WAAWjnB,YAC7B,CAGA,eAAAqkB,GACI,QAASvlC,KAAKmoC,WAAWhnB,iBAC7B,CAGA,eAAAqpB,GACI,QAASxqC,KAAKmoC,WAAW9mB,iBAC7B,CAGA,YAAAo1B,GACI,OAAOz2C,KAAKmoC,WAAW/mB,cAC3B,CAGA,KAAAqhB,GACIziC,KAAKmoC,WAAW7mB,OACpB,CAGA,iBAAAkmB,GACIxnC,KAAKmoC,WAAW5mB,mBACpB,CAGA,SAAAkmB,GACIznC,KAAKmoC,WAAW3mB,WACpB,CAGA,SAAAoxB,CAAUzzB,GACN,MAAMlhB,EAAS+B,KAAK01C,OAAOv2B,GAErBuP,EAAS1uB,KAAKmoC,WAAW1mB,UAAUxjB,EAAQkhB,EAAK7e,QAItD,OAFAN,KAAKmoC,WAAW1oB,KAAKxhB,GAEdywB,CACX,CAGA,qBAAAkd,GACI,OAAO5rC,KAAKmoC,WAAWzmB,uBAC3B,CAGA,SAAAg1B,GACI,MAAM/1C,EAAMX,KAAK1G,OAAO88C,WAAWp2C,KAAKmoC,WAAWxmB,gBAEnD,OAAO3hB,KAAK1G,OAAOkD,OAAOgF,SAASb,EAAKA,EAAMX,KAAKmoC,WAAWtmB,gBAClE,CAGA,WAAA80B,GACI,IAAIh2C,EAAMX,KAAK1G,OAAO88C,WAAWp2C,KAAKmoC,WAAWxmB,gBAEjD,GAAU,EAANhhB,EACA,MAAM,IAAI1E,MAAM,qBAKpB,OAFA0E,KAAS,EAEFX,KAAK1G,OAAOoD,QAAQ8E,SAASb,EAAKA,GAAOX,KAAKmoC,WAAWtmB,kBAAoB,GACxF,CAGA,aAAA+0B,GACI,MAAMj2C,EAAMX,KAAK1G,OAAO88C,WAAWp2C,KAAKmoC,WAAWvmB,oBAC7Ci1B,EAAa72C,KAAKmoC,WAAWtmB,gBAE7Brd,GAAQqyC,IAAe,KAAOA,EAAa,MAAS,EAAI,EAAI,GAElE,OAAO72C,KAAK1G,OAAOkD,OAAOgF,SAASb,EAAKA,EAAM6D,EAClD,CAGA,UAAAgkC,CAAWH,GACP,MAAMyO,EAAW92C,KAAK22C,cAatB,GAXoB,MAChB,GAAItO,EAAO/nC,SAAWw2C,EAASx2C,QAAU+nC,EAAO/nC,OAAS,IAAK,OAAO,EAErE,IAAK,IAAIyD,EAAI,IAAKA,EAAI,EAAGA,IAAK,CAC1B,GAAIskC,EAAOA,EAAO/nC,OAASyD,KAAO+yC,EAASA,EAASx2C,OAASyD,GAAI,OAAO,EACxE,GAAsC,aAAlC+yC,EAASA,EAASx2C,OAASyD,GAAmB,K,CAGtD,OAAO,CAAI,EAGXgzC,GAEA,OADAD,EAAS3vC,IAAIkhC,IACN,EACJ,CACH,MAAM1nC,EAAMX,KAAKg3C,SAAS3O,GACpB3Z,EAAS1uB,KAAKmoC,WAAWrmB,kBAAkBnhB,EAAK0nC,EAAO/nC,QAAU,GAGvE,OAFAN,KAAKmoC,WAAW1oB,KAAK9e,GAEd+tB,C,CAEf,CAGA,WAAAuoB,GACI,MAAMt2C,EAAMX,KAAK1G,OAAO88C,WAAWp2C,KAAKmoC,WAAWpmB,aAEnD,OAAO/hB,KAAK1G,OAAOkD,OAAOgF,SAASb,EAAKA,EAAMX,KAAKmoC,WAAWnmB,aAClE,CAGA,YAAAk1B,GACI,MAAMv2C,EAAMX,KAAK1G,OAAO88C,WAAWp2C,KAAKmoC,WAAWlmB,mBAEnD,OAAOjiB,KAAK1G,OAAOkD,OAAOgF,SAASb,EAAKA,EAAMX,KAAKmoC,WAAWjmB,mBAClE,CAGA,SAAAi1B,GACI,QAASn3C,KAAKmoC,WAAWhmB,WAC7B,CAGA,SAAAumB,CAAUnW,GACN,MAAM5xB,EAAMX,KAAK01C,OAAOnjB,GAElB7D,EAAS1uB,KAAKmoC,WAAW/lB,UAAUzhB,EAAK4xB,EAAMjyB,QAIpD,OAFAN,KAAKmoC,WAAW1oB,KAAK9e,GAEd+tB,CACX,CAGA,cAAA0b,GACI,OAAOpqC,KAAKmoC,WAAW9lB,gBAC3B,CAGA,cAAAoiB,CAAekF,GACX3pC,KAAKmoC,WAAWjoB,eAAeypB,EACnC,CAGA,cAAAc,CAAe3qC,GACXE,KAAKmoC,WAAW7lB,eAAexiB,EACnC,CAEM,MAAAs3C,CAAUnX,G,yCACZ,MAAMoX,EAAWr3C,KAAKu0C,OAAM,IAAMv0C,KAAKmoC,WAAW1lB,gBAElD,IACI,aAAawd,EAAOjgC,KAAKs3C,KAAKD,G,SAE9Br3C,KAAK1G,OAAOk8C,QAAQ6B,E,CAE5B,G,CAEA,UAAAE,CAAWF,GACP,MAAM7yC,EAAO6yC,EAAStxB,iBAEtB,OAAO/lB,KAAKw3C,QAAQH,EAASvxB,gBAAiBthB,EAClD,CAGA,uBAAAizC,CAAwB90B,GACpB3iB,KAAKmoC,WAAWzlB,wBAAwBC,EAC5C,CAGA,uBAAA+0B,GACI,OAAO13C,KAAKmoC,WAAWvlB,yBAC3B,CAGA,WAAAwhB,GACI,OAAOpkC,KAAKmoC,WAAWtlB,aAC3B,CAGA,cAAAwhB,GACI,OAAOrkC,KAAKmoC,WAAWtlB,cAAgB7iB,KAAKmoC,WAAWrlB,oBAAoByD,eAAYxsB,CAC3F,CAGA,aAAA49C,GACI33C,KAAKmoC,WAAWrlB,oBAAoBkD,QACxC,CAGA,8BAAA4xB,GACI,OAAO53C,KAAKs3C,KAAKt3C,KAAKmoC,WAAWrlB,oBAAoB0D,yBACzD,CAGA,+BAAAqxB,GACI,OAAO73C,KAAKs3C,KAAKt3C,KAAKmoC,WAAWrlB,oBAAoB2D,0BACzD,CAGA,qBAAAqxB,CAAsBn1B,GAClB3iB,KAAKmoC,WAAWplB,sBAAsBJ,EAC1C,CAGA,qBAAAo1B,GACI,OAAO/3C,KAAKmoC,WAAWnlB,uBAC3B,CAGA,+BAAAg1B,GACI,OAAOh4C,KAAKs3C,KAAKt3C,KAAKmoC,WAAWrlB,oBAAoB4D,0BACzD,CAGA,2BAAAuxB,GACI,OAAOj4C,KAAKs3C,KAAKt3C,KAAKmoC,WAAWrlB,oBAAoB6D,sBACzD,CAGA,2BAAA4d,GACI,OAAOvkC,KAAKs3C,KAAKt3C,KAAKmoC,WAAWrlB,oBAAoB8D,sBACzD,CAGA,UAAAsxB,CAAW/4B,GACP,OAAOnf,KAAK01C,OAAOv2B,EACvB,CAGA,UAAAg5B,CAAWx3C,GACPX,KAAKmoC,WAAW1oB,KAAK9e,EACzB,CAGA,wBAAAy3C,CAAyBz1B,GACrB3iB,KAAKmoC,WAAWjlB,yBAAyBP,EAC7C,CAGA,aAAA01B,CAAc13C,EAAc6D,GACxB,MAAM2xC,EAAYn2C,KAAK1G,OAAO88C,WAAWz1C,GAEzC,OAAOX,KAAK1G,OAAOkD,OAAOgF,SAAS20C,EAAWA,EAAY3xC,EAC9D,CAEM,iBAAA8zC,CAAqBr6C,EAAoBwd,G,yCAC3C,MAAM23B,EAASpzC,KAAKu0C,OAAM,KACtB,MAAM5zC,EAAMX,KAAK01C,OAAOz3C,GAClBs6C,EAAY,IAAIv4C,KAAK1G,OAAO+lB,cAAcphB,EAAOqC,OAAQK,GAI/D,OAFAX,KAAKmoC,WAAW1oB,KAAK9e,GAEd43C,CAAS,IAGpB,IACI,aAAa98B,ECviBlB,SACH+8B,EACAl/C,GAEA,OAAOmjB,OAAOg8B,eACV,CACIvuB,uBAAwB,KACpB,MAAMvpB,EAAMrH,EAAO88C,WAAWoC,EAAatuB,0BACrC1lB,EAAOg0C,EAAaxuB,sBAE1B,OAAOrpB,EAAM,GAAK6D,EAAO,EAAIlL,EAAOkD,OAAOgF,SAASb,EAAKA,EAAM6D,QAAQzK,CAAS,GAGxFy+C,EAER,CDwhBkCE,CAAsB14C,KAAKs3C,KAAKlE,GAASpzC,KAAK1G,Q,SAEpE0G,KAAK1G,OAAOk8C,QAAQpC,E,CAE5B,G,CAEA,qBAAAD,CAAyBl1C,EAAoBwd,GACzC,MAAM23B,EAASpzC,KAAKu0C,OAAM,KACtB,MAAM5zC,EAAMX,KAAK01C,OAAOz3C,GAClBs6C,EAAY,IAAIv4C,KAAK1G,OAAO+lB,cAAcphB,EAAOqC,OAAQK,GAI/D,OAFAX,KAAKmoC,WAAW1oB,KAAK9e,GAEd43C,CAAS,IAGpB,IACI,OAAO98B,EACHzb,KAAKs3C,KACD76B,OAAOg8B,eACH,CACIvuB,uBAAwB,IACpBlqB,KAAKw3C,QAAQpE,EAAOlpB,yBAA0BkpB,EAAOppB,wBAE7DopB,I,SAKZpzC,KAAK1G,OAAOk8C,QAAQpC,E,CAE5B,CAGA,qBAAAuF,CAAyBnM,G,QACrB,MAAMoM,EAAc,IAAI54C,KAAK1G,OAAOylB,aAC9B85B,EAAU74C,KAAKmoC,WAAWzoB,UAE1Bo5B,EAAW94C,KAAK01C,OAAOlJ,EAAapE,KACpC2Q,EAAcvM,EAAanE,OAASroC,KAAK01C,OAAOlJ,EAAanE,QAAUwQ,EACvEjxB,OAAuC7tB,IAA3ByyC,EAAa5kB,UAA0B5nB,KAAK01C,OAAOlJ,EAAa5kB,WAAaixB,EAE/F,IAAIpxB,EAAWoxB,EACXG,EAAiB,EACrB,QAA8Bj/C,IAA1ByyC,EAAa/kB,SAAwB,CACrC,MAAMwxB,GAAqB,IAAIC,aAAcC,OAAOC,KAAKC,UAAU7M,EAAa/kB,WAEhFuxB,EAAiBC,EAAmB34C,OACpCmnB,EAAWznB,KAAK01C,OAAOuD,E,CAG3BL,EAAY3xB,YAAY6xB,EAAUtM,EAAapE,IAAI9nC,QACnDs4C,EAAYvxB,eAAe0xB,GAAgC,QAAnB,EAAAvM,EAAanE,cAAM,eAAE/nC,SAAU,GACvEs4C,EAAY9xB,YAAY0lB,EAAahsB,UACrCo4B,EAAYjxB,aAAaC,GAAiC,QAAtB,EAAA4kB,EAAa5kB,iBAAS,eAAEtnB,SAAU,GACtEs4C,EAAYpxB,YAAYC,EAAUuxB,GAElC,MAAMtqB,EAASkqB,EAAY9wB,YACrB9nB,KAAKw3C,QAAQoB,EAAY7wB,qBAAsB6wB,EAAY5wB,+BAC3DjuB,EAKN,OAHAiG,KAAK1G,OAAOk8C,QAAQoD,GACpB,CAACE,EAAUC,EAAanxB,EAAWH,GAAUuI,SAAS/xB,GAAW+B,KAAKmoC,WAAW1oB,KAAKxhB,KAE/EywB,CACX,CAGA,uBAAAgjB,CAA2BzzC,GACvB,IAAKA,EAAQ,OAEb,MAAM26C,EAAc,IAAI54C,KAAK1G,OAAOylB,aAC9Bo3B,EAAYn2C,KAAK01C,OAAOz3C,GAExBywB,EAAS,MACX,IAAKkqB,EAAY3wB,YAAYkuB,EAAWl4C,EAAOqC,QAAS,OAExD,MAAM8nC,EAAMpoC,KAAKw3C,QAAQoB,EAAY7xB,cAAe6xB,EAAY5xB,mBAC1DqhB,EAASroC,KAAKw3C,QAAQoB,EAAYzxB,iBAAkByxB,EAAYxxB,sBAChEQ,EAAY5nB,KAAKw3C,QAAQoB,EAAYlxB,eAAgBkxB,EAAY12B,oBAEjE1B,EAAWo4B,EAAY/xB,cAC7B,IAAKytB,GAAkB3W,SAASnd,GAE5B,YADA1jB,QAAQg3B,KAAK,sBAAsBtT,KAIvC,IAAIiH,EACJ,MAAMwxB,EAAqBj5C,KAAKw3C,QAAQoB,EAAYtxB,cAAesxB,EAAYrxB,mBAE/E,GAAI0xB,EACA,IACIxxB,EAAW2xB,KAAKE,OAAM,IAAIv4C,aAAcQ,OAAO03C,G,CACjD,MAAOl6C,GACLjC,QAAQg3B,KAAK,mBAAoB/0B,E,CAIzC,MAAO,CACHyhB,WACA4nB,MACAC,SACAzgB,YACAH,WACA8xB,QAASX,EAAY/wB,aAE5B,EAhCc,GAqCf,OAHA7nB,KAAK1G,OAAOk8C,QAAQoD,GACpB54C,KAAKmoC,WAAW1oB,KAAK02B,GAEdznB,CACX,CAGA,eAAA6kB,CAAgBzzC,GACZ,OAAOE,KAAKmoC,WAAWhlB,gBAAgBrjB,EAC3C,CAGA,mBAAA2zC,CAAoB+F,GAChB,GAAIA,EAAOl5C,OAAS,GAAI,OAAO,EAE/B,MAAMm5C,EAAYz5C,KAAK01C,OAAO8D,EAAOh4C,SAAS,EAAG,KAC3CktB,EAAS1uB,KAAKmoC,WAAW/kB,oBAAoBq2B,EAAW,IAG9D,OAFAz5C,KAAKmoC,WAAW1oB,KAAKg6B,GAEd/qB,CACX,CAGA,sBAAAgrB,CAAuBl1C,GACnB,OAAOxE,KAAKmoC,WAAW9kB,uBAAuB7e,EAClD,CAGA,oBAAA8nC,GACItsC,KAAKmoC,WAAW7kB,sBACpB,CAGA,YAAA2uB,CAAazuB,EAAahf,GACtB,OAAOxE,KAAKmoC,WAAW5kB,aAAaC,EAAKhf,IAAS,EACtD,CAGA,cAAAstC,CAAetuB,EAAam2B,GACxB,MAAM17C,EAAS+B,KAAK01C,OAAOiE,GAC3B,IAAIC,EACJ,IAGI,IAFAA,EAAgB,IAAI55C,KAAK1G,OAAO4lB,cAAcjhB,EAAQ07C,EAAer5C,OAAQ,QAEzC,IAA7Bs5C,EAAcpwB,YACjBowB,EAAcnwB,WAGlB,OAA4B,IAAxBmwB,EAAcpwB,YACd1sB,QAAQI,MAAM,kBAAkB08C,EAAc/vB,eACvC,GAGP+vB,EAAchwB,sBAAwB,KAAQ,GAC9C9sB,QAAQI,MAAM,gEACP,GAGJ8C,KAAKmoC,WAAWzkB,UACnBF,EACAo2B,EAAcjwB,0BACdiwB,EAAchwB,wBAA0B,E,SAG5C5pB,KAAKmoC,WAAW1oB,KAAKxhB,GACjB27C,GAAe55C,KAAK1G,OAAOk8C,QAAQoE,E,CAE/C,CAGA,WAAAzH,CAAY3uB,GACR,MAAMq2B,EAAU75C,KAAK1G,OAAO88C,WAAWp2C,KAAKmoC,WAAWtkB,YAAYL,IACnE,GAAgB,IAAZq2B,EAEJ,OAAO75C,KAAK1G,OAAOoD,QAAQ8E,SAASq4C,IAAY,EAAIA,EAAU75C,KAAKmoC,WAAWpkB,YAAYP,IAAS,EACvG,CAGA,iBAAAs2B,CAAkBt2B,GACd,MAAMu2B,EAAgB/5C,KAAK1G,OAAO88C,WAAWp2C,KAAKmoC,WAAWrkB,kBAAkBN,IAC/E,GAAsB,IAAlBu2B,EAAqB,OAEzB,MAAMz6B,EElvBP,SAAwB06B,GAC3B,MAAMn1C,GAASm1C,IAAc,KAAOA,EAAY,KAAO,EAAI,EAAI,GAC/D,OAAQn1C,IAAU,IAAMA,EAAQ,EAAI,EAAI,EAAI,EAChD,CF+uB2Bo1C,CAAej6C,KAAKmoC,WAAWpkB,YAAYP,IAC9D,OAAOxjB,KAAK1G,OAAOkD,OAAOgF,SAASu4C,EAAeA,EAAgBz6B,EACtE,CAGA,aAAAizB,GACI,OAAOvyC,KAAKmoC,WAAWjkB,eAC3B,CAGA,SAAA6tB,CAAUvuB,GACN,OAAOxjB,KAAKmoC,WAAWxkB,UAAUH,EACrC,CAGA,UAAA8uB,CAAW9uB,GACP,OAAOxjB,KAAKmoC,WAAWvkB,WAAWJ,EACtC,CAGA,YAAAmlB,GACI3oC,KAAKmoC,WAAWnkB,cACpB,CAGA,mBAAAk2B,CAAoB11C,GAChB,OAAOxE,KAAKmoC,WAAWlkB,gBAAgBzf,EAC3C,CAGA,QAAA2rC,CAASrwC,GACL,MAAMk7B,EAAa,IAAIh7B,KAAK1G,OAAO0lB,WAAWlf,GAE9C,IACI,MAAM+5C,EAAU75C,KAAK1G,OAAO88C,WAAWpb,EAAW9S,WAClD,GAAgB,IAAZ2xB,EAAe,OAGnB,OADgB,IAAI94C,aACLQ,OAAOvB,KAAK1G,OAAOkD,OAAOgF,SAASq4C,EAASA,EAAU7e,EAAW7S,W,SAEhFnoB,KAAK1G,OAAOk8C,QAAQxa,E,CAE5B,CAEA,cAAA4N,GACI,OAAO5oC,KAAKg1C,WAChB,CAEA,kBAAAnM,GACI,OAAO7oC,KAAKk1C,eAChB,CAEO,KAAAX,CAAS4F,GACZ,GAAIn6C,KAAK80C,QAAS,MAAM,IAAI74C,MAAM,+BAElC,IACI,OAAOk+C,G,CACT,MAAOp7C,GAOL,MANAiB,KAAK80C,SAAU,EAEf90C,KAAKmoC,gBAAapuC,EAElBiG,KAAK40C,gBAAgBxoB,SAASrtB,aAAa9C,MAAQ8C,EAAI,IAAI9C,MAAM,kBAE3D8C,C,CAEd,CAEQ,MAAA22C,CAAOv2B,GACX,MAAMlhB,EAAS+B,KAAKmoC,WAAW3oB,OAAOL,EAAK7e,QACrC61C,EAAYn2C,KAAK1G,OAAO88C,WAAWn4C,GAIzC,OAFA+B,KAAK1G,OAAOkD,OAAOgF,SAAS20C,EAAWA,EAAYh3B,EAAK7e,QAAQ6G,IAAIgY,GAE7DlhB,CACX,CAEQ,QAAA+4C,CAAS73B,GACb,MAAMlhB,EAAS+B,KAAKmoC,WAAW3oB,OAAOL,EAAK7e,QAAU,GAC/C61C,EAAYn2C,KAAK1G,OAAO88C,WAAWn4C,GAIzC,OAFA+B,KAAK1G,OAAOoD,QAAQ8E,SAAS20C,IAAc,GAAIA,IAAc,GAAKh3B,EAAK7e,QAAQ6G,IAAIgY,GAE5ElhB,CACX,CAEQ,OAAAu5C,CAAQ72C,EAAc6D,GAC1B,MAAMiE,EAAIzI,KAAK1G,OAAO88C,WAAWz1C,GAEjC,OAAO8H,EAAI,GAAKjE,EAAO,EAAIxE,KAAK1G,OAAOkD,OAAOgF,SAASiH,EAAGA,EAAIjE,GAAMuE,aAAUhP,CAClF,CAEQ,IAAAu9C,CAAuB8C,GAC3B,OAAO,IAAIC,MAASD,EAAW,CAC3BhzC,IAAK,CAACN,EAAW2B,KACb,MAAM6xC,EAAMxzC,EAAO2B,GAEnB,MAAmB,mBAAR6xC,EACAA,EAIJ,IAAI/gC,IAAyBvZ,KAAKu0C,OAAM,IAAO+F,EAAiB/tB,MAAMzlB,EAAQyS,IAAM,GAGvG,CAEQ,aAAA07B,CAAc9R,GAClB,MAAMK,EAAqB,IAAI,IAG/B,OAFAL,EAAU5Z,2BAA2BvpB,KAAK1G,OAAOy7C,aAAY,IAAMvR,EAAmBpX,YAAY,MAE3FpsB,KAAKs3C,KACR76B,OAAOg8B,eACH,CACIpwB,QAAS,KACL,MAAM5gB,EAAQ07B,EAAU/a,iBAExB,OAAOpoB,KAAKw3C,QAAQrU,EAAU9a,UAAW5gB,EAAM,EAGnD6gB,KAAM,CAACnJ,EAA8BqJ,K,MACjC,MAAMvqB,EAASkhB,GAAQnf,KAAK01C,OAAOv2B,GAEnCgkB,EAAU7a,KAAiB,QAAZ,EAAAnJ,aAAI,EAAJA,EAAM7e,cAAM,QAAI,EAAGrC,QAAAA,EAAU+B,KAAKmoC,WAAWzoB,UAAW8I,GAEnEvqB,GAAQ+B,KAAKmoC,WAAW1oB,KAAKxhB,EAAO,EAG5CulC,sBAEJL,GAGZ,EGl3BJ,IAAYoX,GHkLR,GADChG,M,mCAMD,GADCA,M,gCAwBD,GADCA,M,uCAYD,GADCA,M,qCAMD,GADCA,M,kCAMD,GADCA,M,8BAsBD,GADCA,M,mCAMD,GADCA,M,qCAMD,GADCA,M,qCAMD,GADCA,M,8CAMD,GADCA,M,8CAMD,GADCA,M,kCAMD,GADCA,M,gCAMD,GADCA,M,qCAMD,GADCA,M,mCAMD,GADCA,M,wCAMD,GADCA,M,gCAMD,GADCA,M,qCAMD,GADCA,M,qCAMD,GADCA,M,kCAMD,GADCA,M,2BAMD,GADCA,M,uCAMD,GADCA,M,+BAMD,GADCA,M,+BAYD,GADCA,M,2CAMD,GADCA,M,+BAQD,GADCA,M,iCAcD,GADCA,M,mCAWD,GADCA,M,gCA4BD,GADCA,M,iCAQD,GADCA,M,kCAQD,GADCA,M,+BAMD,GADCA,M,+BAYD,GADCA,M,oCAMD,GADCA,M,oCAMD,GADCA,M,oCAsBD,GADCA,M,6CAMD,GADCA,M,6CAMD,GADCA,M,iCAMD,GADCA,M,oCAMD,GADCA,M,mCAMD,GADCA,M,oDAMD,GADCA,M,qDAMD,GADCA,M,2CAMD,GADCA,M,2CAMD,GADCA,M,qDAMD,GADCA,M,iDAMD,GADCA,M,iDAMD,GADCA,M,gCAMD,GADCA,M,gCAMD,GADCA,M,8CAMD,GADCA,M,mCAoDD,GADCA,M,2CAmCD,GADCA,M,6CAgDD,GADCA,M,qCAMD,GADCA,M,yCAYD,GADCA,M,4CAMD,GADCA,M,0CAMD,GADCA,M,kCAMD,GADCA,M,oCAiCD,GADCA,M,iCASD,GADCA,M,uCAUD,GADCA,M,mCAMD,GADCA,M,+BAMD,GADCA,M,gCAMD,GADCA,M,kCAMD,GADCA,M,yCAMD,GADCA,M,8BG1wBL,SAAYgG,GACR,iBACA,qBACA,mBACA,qBACA,eACA,mBACA,qBACA,sBACH,CATD,CAAYA,KAAAA,GAAM,KCSX,MAAMC,GAAU,UAShB,SAAeC,GAAeC,G,yCACjC,OAAO,IAAI7J,QAAmBxyB,GAAW3B,OAAOg+B,GACpD,G,CASO,SAASC,GAAsBD,GAClC,MAAM/6C,EC9BH,SAA2Bi7C,GAC9B,MAAMC,EAAa77C,YAAY87C,iBACzB97C,YAAY87C,iBAAiBj/C,MAAM++C,IACnC/+C,MAAM++C,GACDhsB,MAAMjzB,GAAaA,EAASK,gBAC5B4yB,MAAMzvB,GAAWH,YAAY+7C,QAAQ57C,KAEhD,MAAO,CAAOE,EAASoc,IAAa,yCAAAA,QAAezc,YAAYW,kBAAkBk7C,EAAYx7C,GAAS,GAC1G,CDsBwB27C,CAAkBN,QAAAA,EAAiB,uBAEvD,MAAO,IAAMr8B,GAAW3B,OAAO/c,GAAaivB,MAAMuZ,GAAe,IAAI0I,EAAa1I,IACtF,C","sources":["webpack://cloudpilot/webpack/universalModuleDefinition","webpack://cloudpilot/../src/cloudpilot/cloudpilot_web.js","webpack://cloudpilot/./node_modules/fast-unique-numbers/build/es5/bundle.js","webpack://cloudpilot/./node_modules/microevent.ts/lib/Event.js","webpack://cloudpilot/./node_modules/microevent.ts/lib/index.js","webpack://cloudpilot/webpack/bootstrap","webpack://cloudpilot/webpack/runtime/compat get default export","webpack://cloudpilot/webpack/runtime/define property getters","webpack://cloudpilot/webpack/runtime/hasOwnProperty shorthand","webpack://cloudpilot/webpack/runtime/make namespace object","webpack://cloudpilot/./node_modules/tslib/tslib.es6.mjs","webpack://cloudpilot/./common/model/DeviceId.ts","webpack://cloudpilot/./common/model/DeviceOrientation.ts","webpack://cloudpilot/./node_modules/async-mutex/index.mjs","webpack://cloudpilot/./common/helper/browser.ts","webpack://cloudpilot/./common/service/AbstractAudioService.ts","webpack://cloudpilot/./embedded/src/service/EmbeddedAudioService.ts","webpack://cloudpilot/./common/helper/image.ts","webpack://cloudpilot/./common/model/SlotType.ts","webpack://cloudpilot/./common/helper/deviceProperties.ts","webpack://cloudpilot/./common/helper/palette.ts","webpack://cloudpilot/./common/service/AbstractCanvasDisplayService.ts","webpack://cloudpilot/./embedded/src/service/EmbeddedCanvasDisplayService.ts","webpack://cloudpilot/./node_modules/worker-timers-broker/build/es2019/guards/call-notification.js","webpack://cloudpilot/./node_modules/worker-timers/build/es2019/module.js","webpack://cloudpilot/./node_modules/worker-timers/build/es2019/factories/load-or-return-broker.js","webpack://cloudpilot/./node_modules/worker-timers/build/es2019/worker/worker.js","webpack://cloudpilot/./node_modules/worker-timers-broker/build/es2019/module.js","webpack://cloudpilot/./node_modules/worker-timers-broker/build/es2019/guards/clear-response.js","webpack://cloudpilot/./common/helper/scheduler.ts","webpack://cloudpilot/./common/helper/Average.ts","webpack://cloudpilot/./common/helper/Fifo.ts","webpack://cloudpilot/./common/service/AbstractEmulationService.ts","webpack://cloudpilot/./embedded/src/service/EmbeddedEmulationService.ts","webpack://cloudpilot/./common/service/GenericEventHandlingService.ts","webpack://cloudpilot/./embedded/src/service/EmbeddedEventHandlingService.ts","webpack://cloudpilot/./common/service/SkinLoader.ts","webpack://cloudpilot/./embedded/src/Watcher.ts","webpack://cloudpilot/./embedded/src/Emulator.ts","webpack://cloudpilot/./common/bridge/Cloudpilot.ts","webpack://cloudpilot/./common/bridge/ZipfileWalker.ts","webpack://cloudpilot/./common/bridge/util.ts","webpack://cloudpilot/./embedded/src/button.ts","webpack://cloudpilot/./embedded/src/index.ts","webpack://cloudpilot/./common/helper/wasm.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cloudpilot\"] = factory();\n\telse\n\t\troot[\"cloudpilot\"] = factory();\n})(self, () => {\nreturn ","var createModule = (() => {\n  var _scriptName = typeof document != 'undefined' ? document.currentScript?.src : undefined;\n  return (\nasync function(moduleArg = {}) {\n  var moduleRtn;\n\nvar Module=moduleArg;var ENVIRONMENT_IS_WEB=typeof window==\"object\";var ENVIRONMENT_IS_WORKER=typeof WorkerGlobalScope!=\"undefined\";var ENVIRONMENT_IS_NODE=typeof process==\"object\"&&process.versions?.node&&process.type!=\"renderer\";var arguments_=[];var thisProgram=\"./this.program\";var quit_=(status,toThrow)=>{throw toThrow};if(ENVIRONMENT_IS_WORKER){_scriptName=self.location.href}var scriptDirectory=\"\";function locateFile(path){if(Module[\"locateFile\"]){return Module[\"locateFile\"](path,scriptDirectory)}return scriptDirectory+path}var readAsync,readBinary;if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){try{scriptDirectory=new URL(\".\",_scriptName).href}catch{}{if(ENVIRONMENT_IS_WORKER){readBinary=url=>{var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.responseType=\"arraybuffer\";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=async url=>{var response=await fetch(url,{credentials:\"same-origin\"});if(response.ok){return response.arrayBuffer()}throw new Error(response.status+\" : \"+response.url)}}}else{}var out=console.log.bind(console);var err=console.error.bind(console);var wasmBinary;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort(text)}}function writeStackCookie(){var max=_emscripten_stack_get_end();if(max==0){max+=4}HEAPU32[max>>2]=34821223;HEAPU32[max+4>>2]=2310721022;HEAPU32[0>>2]=1668509029}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end();if(max==0){max+=4}var cookie1=HEAPU32[max>>2];var cookie2=HEAPU32[max+4>>2];if(cookie1!=34821223||cookie2!=2310721022){abort(`Stack overflow! Stack cookie has been overwritten at ${ptrToString(max)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${ptrToString(cookie2)} ${ptrToString(cookie1)}`)}if(HEAPU32[0>>2]!=1668509029){abort(\"Runtime error: The application has corrupted its heap memory area (address zero)!\")}}var readyPromiseResolve,readyPromiseReject;var wasmMemory;var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;var HEAP64,HEAPU64;var runtimeInitialized=false;function updateMemoryViews(){var b=wasmMemory.buffer;HEAP8=new Int8Array(b);HEAP16=new Int16Array(b);Module[\"HEAPU8\"]=HEAPU8=new Uint8Array(b);HEAPU16=new Uint16Array(b);HEAP32=new Int32Array(b);Module[\"HEAPU32\"]=HEAPU32=new Uint32Array(b);HEAPF32=new Float32Array(b);HEAPF64=new Float64Array(b);HEAP64=new BigInt64Array(b);HEAPU64=new BigUint64Array(b)}function preRun(){if(Module[\"preRun\"]){if(typeof Module[\"preRun\"]==\"function\")Module[\"preRun\"]=[Module[\"preRun\"]];while(Module[\"preRun\"].length){addOnPreRun(Module[\"preRun\"].shift())}}callRuntimeCallbacks(onPreRuns)}function initRuntime(){runtimeInitialized=true;checkStackCookie();callRuntimeCallbacks(onInits);wasmExports[\"v\"]()}function preMain(){checkStackCookie()}function postRun(){checkStackCookie();if(Module[\"postRun\"]){if(typeof Module[\"postRun\"]==\"function\")Module[\"postRun\"]=[Module[\"postRun\"]];while(Module[\"postRun\"].length){addOnPostRun(Module[\"postRun\"].shift())}}callRuntimeCallbacks(onPostRuns)}var runDependencies=0;var dependenciesFulfilled=null;function addRunDependency(id){runDependencies++;Module[\"monitorRunDependencies\"]?.(runDependencies)}function removeRunDependency(id){runDependencies--;Module[\"monitorRunDependencies\"]?.(runDependencies);if(runDependencies==0){if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}function abort(what){Module[\"onAbort\"]?.(what);what=\"Aborted(\"+what+\")\";err(what);ABORT=true;what+=\". Build with -sASSERTIONS for more info.\";var e=new WebAssembly.RuntimeError(what);readyPromiseReject?.(e);throw e}var wasmBinaryFile;function findWasmBinary(){return locateFile(\"cloudpilot_web.wasm\")}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(file)}throw\"both async and sync fetching of the wasm failed\"}async function getWasmBinary(binaryFile){if(!wasmBinary){try{var response=await readAsync(binaryFile);return new Uint8Array(response)}catch{}}return getBinarySync(binaryFile)}async function instantiateArrayBuffer(binaryFile,imports){try{var binary=await getWasmBinary(binaryFile);var instance=await WebAssembly.instantiate(binary,imports);return instance}catch(reason){err(`failed to asynchronously prepare wasm: ${reason}`);abort(reason)}}async function instantiateAsync(binary,binaryFile,imports){if(!binary&&typeof WebAssembly.instantiateStreaming==\"function\"){try{var response=fetch(binaryFile,{credentials:\"same-origin\"});var instantiationResult=await WebAssembly.instantiateStreaming(response,imports);return instantiationResult}catch(reason){err(`wasm streaming compile failed: ${reason}`);err(\"falling back to ArrayBuffer instantiation\")}}return instantiateArrayBuffer(binaryFile,imports)}function getWasmImports(){return{a:wasmImports}}async function createWasm(){function receiveInstance(instance,module){wasmExports=instance.exports;wasmMemory=wasmExports[\"u\"];updateMemoryViews();wasmTable=wasmExports[\"Xc\"];assignWasmExports(wasmExports);removeRunDependency(\"wasm-instantiate\");return wasmExports}addRunDependency(\"wasm-instantiate\");function receiveInstantiationResult(result){return receiveInstance(result[\"instance\"])}var info=getWasmImports();if(Module[\"instantiateWasm\"]){return new Promise((resolve,reject)=>{Module[\"instantiateWasm\"](info,(mod,inst)=>{resolve(receiveInstance(mod,inst))})})}wasmBinaryFile??=findWasmBinary();var result=await instantiateAsync(wasmBinary,wasmBinaryFile,info);var exports=receiveInstantiationResult(result);return exports}class ExitStatus{name=\"ExitStatus\";constructor(status){this.message=`Program terminated with exit(${status})`;this.status=status}}var callRuntimeCallbacks=callbacks=>{while(callbacks.length>0){callbacks.shift()(Module)}};var onPostRuns=[];var addOnPostRun=cb=>onPostRuns.push(cb);var onPreRuns=[];var addOnPreRun=cb=>onPreRuns.push(cb);var noExitRuntime=true;var ptrToString=ptr=>{ptr>>>=0;return\"0x\"+ptr.toString(16).padStart(8,\"0\")};var UTF8Decoder=typeof TextDecoder!=\"undefined\"?new TextDecoder:undefined;var UTF8ArrayToString=(heapOrArray,idx=0,maxBytesToRead=NaN)=>{var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr))}var str=\"\";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}return str};var UTF8ToString=(ptr,maxBytesToRead)=>ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):\"\";var ___assert_fail=(condition,filename,line,func)=>abort(`Assertion failed: ${UTF8ToString(condition)}, at: `+[filename?UTF8ToString(filename):\"unknown filename\",line,func?UTF8ToString(func):\"unknown function\"]);var INT53_MAX=9007199254740992;var INT53_MIN=-9007199254740992;var bigintToI53Checked=num=>num<INT53_MIN||num>INT53_MAX?NaN:Number(num);function ___syscall_ftruncate64(fd,length){length=bigintToI53Checked(length)}var __abort_js=()=>abort(\"\");var runtimeKeepaliveCounter=0;var __emscripten_runtime_keepalive_clear=()=>{noExitRuntime=false;runtimeKeepaliveCounter=0};var isLeapYear=year=>year%4===0&&(year%100!==0||year%400===0);var MONTH_DAYS_LEAP_CUMULATIVE=[0,31,60,91,121,152,182,213,244,274,305,335];var MONTH_DAYS_REGULAR_CUMULATIVE=[0,31,59,90,120,151,181,212,243,273,304,334];var ydayFromDate=date=>{var leap=isLeapYear(date.getFullYear());var monthDaysCumulative=leap?MONTH_DAYS_LEAP_CUMULATIVE:MONTH_DAYS_REGULAR_CUMULATIVE;var yday=monthDaysCumulative[date.getMonth()]+date.getDate()-1;return yday};function __localtime_js(time,tmPtr){time=bigintToI53Checked(time);var date=new Date(time*1e3);HEAP32[tmPtr>>2]=date.getSeconds();HEAP32[tmPtr+4>>2]=date.getMinutes();HEAP32[tmPtr+8>>2]=date.getHours();HEAP32[tmPtr+12>>2]=date.getDate();HEAP32[tmPtr+16>>2]=date.getMonth();HEAP32[tmPtr+20>>2]=date.getFullYear()-1900;HEAP32[tmPtr+24>>2]=date.getDay();var yday=ydayFromDate(date)|0;HEAP32[tmPtr+28>>2]=yday;HEAP32[tmPtr+36>>2]=-(date.getTimezoneOffset()*60);var start=new Date(date.getFullYear(),0,1);var summerOffset=new Date(date.getFullYear(),6,1).getTimezoneOffset();var winterOffset=start.getTimezoneOffset();var dst=(summerOffset!=winterOffset&&date.getTimezoneOffset()==Math.min(winterOffset,summerOffset))|0;HEAP32[tmPtr+32>>2]=dst}var __mktime_js=function(tmPtr){var ret=(()=>{var date=new Date(HEAP32[tmPtr+20>>2]+1900,HEAP32[tmPtr+16>>2],HEAP32[tmPtr+12>>2],HEAP32[tmPtr+8>>2],HEAP32[tmPtr+4>>2],HEAP32[tmPtr>>2],0);var dst=HEAP32[tmPtr+32>>2];var guessedOffset=date.getTimezoneOffset();var start=new Date(date.getFullYear(),0,1);var summerOffset=new Date(date.getFullYear(),6,1).getTimezoneOffset();var winterOffset=start.getTimezoneOffset();var dstOffset=Math.min(winterOffset,summerOffset);if(dst<0){HEAP32[tmPtr+32>>2]=Number(summerOffset!=winterOffset&&dstOffset==guessedOffset)}else if(dst>0!=(dstOffset==guessedOffset)){var nonDstOffset=Math.max(winterOffset,summerOffset);var trueOffset=dst>0?dstOffset:nonDstOffset;date.setTime(date.getTime()+(trueOffset-guessedOffset)*6e4)}HEAP32[tmPtr+24>>2]=date.getDay();var yday=ydayFromDate(date)|0;HEAP32[tmPtr+28>>2]=yday;HEAP32[tmPtr>>2]=date.getSeconds();HEAP32[tmPtr+4>>2]=date.getMinutes();HEAP32[tmPtr+8>>2]=date.getHours();HEAP32[tmPtr+12>>2]=date.getDate();HEAP32[tmPtr+16>>2]=date.getMonth();HEAP32[tmPtr+20>>2]=date.getYear();var timeMs=date.getTime();if(isNaN(timeMs)){return-1}return timeMs/1e3})();return BigInt(ret)};var timers={};var handleException=e=>{if(e instanceof ExitStatus||e==\"unwind\"){return EXITSTATUS}checkStackCookie();if(e instanceof WebAssembly.RuntimeError){if(_emscripten_stack_get_current()<=0){err(\"Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)\")}}quit_(1,e)};var keepRuntimeAlive=()=>noExitRuntime||runtimeKeepaliveCounter>0;var _proc_exit=code=>{EXITSTATUS=code;if(!keepRuntimeAlive()){Module[\"onExit\"]?.(code);ABORT=true}quit_(code,new ExitStatus(code))};var exitJS=(status,implicit)=>{EXITSTATUS=status;_proc_exit(status)};var _exit=exitJS;var maybeExit=()=>{if(!keepRuntimeAlive()){try{_exit(EXITSTATUS)}catch(e){handleException(e)}}};var callUserCallback=func=>{if(ABORT){return}try{func();maybeExit()}catch(e){handleException(e)}};var _emscripten_get_now=()=>performance.now();var __setitimer_js=(which,timeout_ms)=>{if(timers[which]){clearTimeout(timers[which].id);delete timers[which]}if(!timeout_ms)return 0;var id=setTimeout(()=>{delete timers[which];callUserCallback(()=>__emscripten_timeout(which,_emscripten_get_now()))},timeout_ms);timers[which]={id,timeout_ms};return 0};var stringToUTF8Array=(str,heap,outIdx,maxBytesToWrite)=>{if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.codePointAt(i);if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;i++}}heap[outIdx]=0;return outIdx-startIdx};var stringToUTF8=(str,outPtr,maxBytesToWrite)=>stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);var __tzset_js=(timezone,daylight,std_name,dst_name)=>{var currentYear=(new Date).getFullYear();var winter=new Date(currentYear,0,1);var summer=new Date(currentYear,6,1);var winterOffset=winter.getTimezoneOffset();var summerOffset=summer.getTimezoneOffset();var stdTimezoneOffset=Math.max(winterOffset,summerOffset);HEAPU32[timezone>>2]=stdTimezoneOffset*60;HEAP32[daylight>>2]=Number(winterOffset!=summerOffset);var extractZone=timezoneOffset=>{var sign=timezoneOffset>=0?\"-\":\"+\";var absOffset=Math.abs(timezoneOffset);var hours=String(Math.floor(absOffset/60)).padStart(2,\"0\");var minutes=String(absOffset%60).padStart(2,\"0\");return`UTC${sign}${hours}${minutes}`};var winterName=extractZone(winterOffset);var summerName=extractZone(summerOffset);if(summerOffset<winterOffset){stringToUTF8(winterName,std_name,17);stringToUTF8(summerName,dst_name,17)}else{stringToUTF8(winterName,dst_name,17);stringToUTF8(summerName,std_name,17)}};var _emscripten_date_now=()=>Date.now();var nowIsMonotonic=1;var checkWasiClock=clock_id=>clock_id>=0&&clock_id<=3;function _clock_time_get(clk_id,ignored_precision,ptime){ignored_precision=bigintToI53Checked(ignored_precision);if(!checkWasiClock(clk_id)){return 28}var now;if(clk_id===0){now=_emscripten_date_now()}else if(nowIsMonotonic){now=_emscripten_get_now()}else{return 52}var nsec=Math.round(now*1e3*1e3);HEAP64[ptime>>3]=BigInt(nsec);return 0}var readEmAsmArgsArray=[];var readEmAsmArgs=(sigPtr,buf)=>{readEmAsmArgsArray.length=0;var ch;while(ch=HEAPU8[sigPtr++]){var wide=ch!=105;wide&=ch!=112;buf+=wide&&buf%8?4:0;readEmAsmArgsArray.push(ch==112?HEAPU32[buf>>2]:ch==106?HEAP64[buf>>3]:ch==105?HEAP32[buf>>2]:HEAPF64[buf>>3]);buf+=wide?8:4}return readEmAsmArgsArray};var runEmAsmFunction=(code,sigPtr,argbuf)=>{var args=readEmAsmArgs(sigPtr,argbuf);return ASM_CONSTS[code](...args)};var _emscripten_asm_const_int=(code,sigPtr,argbuf)=>runEmAsmFunction(code,sigPtr,argbuf);var getHeapMax=()=>2147483648;var alignMemory=(size,alignment)=>Math.ceil(size/alignment)*alignment;var growMemory=size=>{var b=wasmMemory.buffer;var pages=(size-b.byteLength+65535)/65536|0;try{wasmMemory.grow(pages);updateMemoryViews();return 1}catch(e){}};var _emscripten_resize_heap=requestedSize=>{var oldSize=HEAPU8.length;requestedSize>>>=0;var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){return false}for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignMemory(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true}}return false};var ENV={};var getExecutableName=()=>thisProgram||\"./this.program\";var getEnvStrings=()=>{if(!getEnvStrings.strings){var lang=(typeof navigator==\"object\"&&navigator.language||\"C\").replace(\"-\",\"_\")+\".UTF-8\";var env={USER:\"web_user\",LOGNAME:\"web_user\",PATH:\"/\",PWD:\"/\",HOME:\"/home/web_user\",LANG:lang,_:getExecutableName()};for(var x in ENV){if(ENV[x]===undefined)delete env[x];else env[x]=ENV[x]}var strings=[];for(var x in env){strings.push(`${x}=${env[x]}`)}getEnvStrings.strings=strings}return getEnvStrings.strings};var _environ_get=(__environ,environ_buf)=>{var bufSize=0;var envp=0;for(var string of getEnvStrings()){var ptr=environ_buf+bufSize;HEAPU32[__environ+envp>>2]=ptr;bufSize+=stringToUTF8(string,ptr,Infinity)+1;envp+=4}return 0};var lengthBytesUTF8=str=>{var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++}else if(c<=2047){len+=2}else if(c>=55296&&c<=57343){len+=4;++i}else{len+=3}}return len};var _environ_sizes_get=(penviron_count,penviron_buf_size)=>{var strings=getEnvStrings();HEAPU32[penviron_count>>2]=strings.length;var bufSize=0;for(var string of strings){bufSize+=lengthBytesUTF8(string)+1}HEAPU32[penviron_buf_size>>2]=bufSize;return 0};var _fd_close=fd=>52;var _fd_read=(fd,iov,iovcnt,pnum)=>52;function _fd_seek(fd,offset,whence,newOffset){offset=bigintToI53Checked(offset);return 70}var printCharBuffers=[null,[],[]];var printChar=(stream,curr)=>{var buffer=printCharBuffers[stream];if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer));buffer.length=0}else{buffer.push(curr)}};var _fd_write=(fd,iov,iovcnt,pnum)=>{var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;for(var j=0;j<len;j++){printChar(fd,HEAPU8[ptr+j])}num+=len}HEAPU32[pnum>>2]=num;return 0};var intArrayFromString=(stringy,dontAddNull,length)=>{var len=length>0?length:lengthBytesUTF8(stringy)+1;var u8array=new Array(len);var numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);if(dontAddNull)u8array.length=numBytesWritten;return u8array};var onInits=[];var uleb128Encode=(n,target)=>{if(n<128){target.push(n)}else{target.push(n%128|128,n>>7)}};var sigToWasmTypes=sig=>{var typeNames={i:\"i32\",j:\"i64\",f:\"f32\",d:\"f64\",e:\"externref\",p:\"i32\"};var type={parameters:[],results:sig[0]==\"v\"?[]:[typeNames[sig[0]]]};for(var i=1;i<sig.length;++i){type.parameters.push(typeNames[sig[i]])}return type};var generateFuncType=(sig,target)=>{var sigRet=sig.slice(0,1);var sigParam=sig.slice(1);var typeCodes={i:127,p:127,j:126,f:125,d:124,e:111};target.push(96);uleb128Encode(sigParam.length,target);for(var paramType of sigParam){target.push(typeCodes[paramType])}if(sigRet==\"v\"){target.push(0)}else{target.push(1,typeCodes[sigRet])}};var convertJsFunctionToWasm=(func,sig)=>{if(typeof WebAssembly.Function==\"function\"){return new WebAssembly.Function(sigToWasmTypes(sig),func)}var typeSectionBody=[1];generateFuncType(sig,typeSectionBody);var bytes=[0,97,115,109,1,0,0,0,1];uleb128Encode(typeSectionBody.length,bytes);bytes.push(...typeSectionBody);bytes.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var module=new WebAssembly.Module(new Uint8Array(bytes));var instance=new WebAssembly.Instance(module,{e:{f:func}});var wrappedFunc=instance.exports[\"f\"];return wrappedFunc};var wasmTableMirror=[];var wasmTable;var getWasmTableEntry=funcPtr=>{var func=wasmTableMirror[funcPtr];if(!func){wasmTableMirror[funcPtr]=func=wasmTable.get(funcPtr)}return func};var updateTableMap=(offset,count)=>{if(functionsInTableMap){for(var i=offset;i<offset+count;i++){var item=getWasmTableEntry(i);if(item){functionsInTableMap.set(item,i)}}}};var functionsInTableMap;var getFunctionAddress=func=>{if(!functionsInTableMap){functionsInTableMap=new WeakMap;updateTableMap(0,wasmTable.length)}return functionsInTableMap.get(func)||0};var freeTableIndexes=[];var getEmptyTableSlot=()=>{if(freeTableIndexes.length){return freeTableIndexes.pop()}try{wasmTable.grow(1)}catch(err){if(!(err instanceof RangeError)){throw err}throw\"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.\"}return wasmTable.length-1};var setWasmTableEntry=(idx,func)=>{wasmTable.set(idx,func);wasmTableMirror[idx]=wasmTable.get(idx)};var addFunction=(func,sig)=>{var rtn=getFunctionAddress(func);if(rtn){return rtn}var ret=getEmptyTableSlot();try{setWasmTableEntry(ret,func)}catch(err){if(!(err instanceof TypeError)){throw err}var wrapped=convertJsFunctionToWasm(func,sig);setWasmTableEntry(ret,wrapped)}functionsInTableMap.set(func,ret);return ret};{if(Module[\"noExitRuntime\"])noExitRuntime=Module[\"noExitRuntime\"];if(Module[\"print\"])out=Module[\"print\"];if(Module[\"printErr\"])err=Module[\"printErr\"];if(Module[\"wasmBinary\"])wasmBinary=Module[\"wasmBinary\"];if(Module[\"arguments\"])arguments_=Module[\"arguments\"];if(Module[\"thisProgram\"])thisProgram=Module[\"thisProgram\"]}Module[\"addFunction\"]=addFunction;Module[\"UTF8ToString\"]=UTF8ToString;var ASM_CONSTS={428784:$0=>{wasmTable.grow(65536);for(let i=0;i<=65535;i++)wasmTable.set(wasmTable.length-65535-1+i,wasmTable.get(HEAPU32[($0>>>2)+i]));return wasmTable.length-65535-1}};function __jsAssertThrow(msg){const err=new Error(UTF8ToString(msg));err.isAssert=true;throw err}var _malloc,_free,_main,_webidl_free,_webidl_malloc,_emscripten_bind_VoidPtr___destroy___0,_emscripten_bind_Cloudpilot_Cloudpilot_0,_emscripten_bind_Cloudpilot_Malloc_1,_emscripten_bind_Cloudpilot_Free_1,_emscripten_bind_Cloudpilot_Nullptr_0,_emscripten_bind_Cloudpilot_EnableLogging_1,_emscripten_bind_Cloudpilot_InitializeSession_3,_emscripten_bind_Cloudpilot_GetCyclesPerSecond_0,_emscripten_bind_Cloudpilot_RunEmulation_1,_emscripten_bind_Cloudpilot_SetClockFactor_1,_emscripten_bind_Cloudpilot_CopyFrame_0,_emscripten_bind_Cloudpilot_IsScreenDirty_0,_emscripten_bind_Cloudpilot_MarkScreenClean_0,_emscripten_bind_Cloudpilot_MinMemoryForDevice_1,_emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1,_emscripten_bind_Cloudpilot_TotalMemoryForDevice_1,_emscripten_bind_Cloudpilot_QueuePenMove_2,_emscripten_bind_Cloudpilot_QueuePenUp_0,_emscripten_bind_Cloudpilot_QueueButtonDown_1,_emscripten_bind_Cloudpilot_QueueButtonUp_1,_emscripten_bind_Cloudpilot_QueueKeyboardEvent_2,_emscripten_bind_Cloudpilot_IsPowerOff_0,_emscripten_bind_Cloudpilot_IsUIInitialized_0,_emscripten_bind_Cloudpilot_GetOSVersion_0,_emscripten_bind_Cloudpilot_IsSetupComplete_0,_emscripten_bind_Cloudpilot_Reset_0,_emscripten_bind_Cloudpilot_ResetNoExtensions_0,_emscripten_bind_Cloudpilot_ResetHard_0,_emscripten_bind_Cloudpilot_InstallDb_2,_emscripten_bind_Cloudpilot_GetPalette2bitMapping_0,_emscripten_bind_Cloudpilot_GetMemoryPtr_0,_emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0,_emscripten_bind_Cloudpilot_GetMemorySize_0,_emscripten_bind_Cloudpilot_ImportMemoryImage_2,_emscripten_bind_Cloudpilot_GetRomPtr_0,_emscripten_bind_Cloudpilot_GetRomSize_0,_emscripten_bind_Cloudpilot_GetSavestatePtr_0,_emscripten_bind_Cloudpilot_GetSavestateSize_0,_emscripten_bind_Cloudpilot_SaveState_0,_emscripten_bind_Cloudpilot_LoadState_2,_emscripten_bind_Cloudpilot_GetHotsyncName_0,_emscripten_bind_Cloudpilot_SetHotsyncName_1,_emscripten_bind_Cloudpilot_RegisterPwmHandler_1,_emscripten_bind_Cloudpilot_StartBackup_0,_emscripten_bind_Cloudpilot_SetClipboardIntegration_1,_emscripten_bind_Cloudpilot_GetClipboardIntegration_0,_emscripten_bind_Cloudpilot_IsSuspended_0,_emscripten_bind_Cloudpilot_GetSuspendContext_0,_emscripten_bind_Cloudpilot_SetNetworkRedirection_1,_emscripten_bind_Cloudpilot_GetNetworkRedirection_0,_emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1,_emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1,_emscripten_bind_Cloudpilot_LaunchAppByName_1,_emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2,_emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1,_emscripten_bind_Cloudpilot_ClearExternalStorage_0,_emscripten_bind_Cloudpilot_AllocateCard_2,_emscripten_bind_Cloudpilot_AdoptCard_3,_emscripten_bind_Cloudpilot_MountCard_1,_emscripten_bind_Cloudpilot_RemoveCard_1,_emscripten_bind_Cloudpilot_GetCardData_1,_emscripten_bind_Cloudpilot_GetCardDirtyPages_1,_emscripten_bind_Cloudpilot_GetCardSize_1,_emscripten_bind_Cloudpilot_RemountCards_0,_emscripten_bind_Cloudpilot_GetSupportLevel_1,_emscripten_bind_Cloudpilot_GetMountedKey_0,_emscripten_bind_Cloudpilot_GetTransportIR_0,_emscripten_bind_Cloudpilot_GetTransportSerial_0,_emscripten_bind_Cloudpilot___destroy___0,_emscripten_bind_RomInfo_RomInfo_2,_emscripten_bind_RomInfo_IsValid_0,_emscripten_bind_RomInfo_CardVersion_0,_emscripten_bind_RomInfo_CardName_0,_emscripten_bind_RomInfo_RomVersion_0,_emscripten_bind_RomInfo_RomVersionString_0,_emscripten_bind_RomInfo_Supports_1,_emscripten_bind_RomInfo___destroy___0,_emscripten_bind_Frame_GetLineWidth_0,_emscripten_bind_Frame_GetBpp_0,_emscripten_bind_Frame_GetLines_0,_emscripten_bind_Frame_GetMargin_0,_emscripten_bind_Frame_GetBytesPerLine_0,_emscripten_bind_Frame_GetFirstDirtyLine_0,_emscripten_bind_Frame_GetLastDirtyLine_0,_emscripten_bind_Frame_GetHasChanges_0,_emscripten_bind_Frame_GetBuffer_0,_emscripten_bind_Frame_GetBufferSize_0,_emscripten_bind_Frame_GetScaleX_0,_emscripten_bind_Frame_GetScaleY_0,_emscripten_bind_Frame___destroy___0,_emscripten_bind_DbBackup_Init_1,_emscripten_bind_DbBackup_IsInProgress_0,_emscripten_bind_DbBackup_IsDone_0,_emscripten_bind_DbBackup_GetCurrentDatabase_0,_emscripten_bind_DbBackup_Save_0,_emscripten_bind_DbBackup_Skip_0,_emscripten_bind_DbBackup_GetArchivePtr_0,_emscripten_bind_DbBackup_GetArchiveSize_0,_emscripten_bind_DbBackup___destroy___0,_emscripten_bind_SuspendContextClipboardCopy_Cancel_0,_emscripten_bind_SuspendContextClipboardCopy_Resume_0,_emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0,_emscripten_bind_SuspendContextClipboardCopy___destroy___0,_emscripten_bind_SuspendContextClipboardPaste_Cancel_0,_emscripten_bind_SuspendContextClipboardPaste_Resume_1,_emscripten_bind_SuspendContextClipboardPaste___destroy___0,_emscripten_bind_SuspendContextNetworkConnect_Cancel_0,_emscripten_bind_SuspendContextNetworkConnect_Resume_0,_emscripten_bind_SuspendContextNetworkConnect___destroy___0,_emscripten_bind_SuspendContextNetworkRpc_Cancel_0,_emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0,_emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0,_emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2,_emscripten_bind_SuspendContextNetworkRpc___destroy___0,_emscripten_bind_SuspendContextSerialSync_Cancel_0,_emscripten_bind_SuspendContextSerialSync_Resume_0,_emscripten_bind_SuspendContextSerialSync___destroy___0,_emscripten_bind_SuspendContext_GetKind_0,_emscripten_bind_SuspendContext_Cancel_0,_emscripten_bind_SuspendContext_AsContextClipboardCopy_0,_emscripten_bind_SuspendContext_AsContextClipboardPaste_0,_emscripten_bind_SuspendContext_AsContextNetworkConnect_0,_emscripten_bind_SuspendContext_AsContextNetworkRpc_0,_emscripten_bind_SuspendContext_AsContextSerialSync_0,_emscripten_bind_SuspendContext___destroy___0,_emscripten_bind_SessionImage_SessionImage_0,_emscripten_bind_SessionImage_GetDeviceId_0,_emscripten_bind_SessionImage_SetDeviceId_1,_emscripten_bind_SessionImage_GetRomImage_0,_emscripten_bind_SessionImage_GetRomImageSize_0,_emscripten_bind_SessionImage_SetRomImage_2,_emscripten_bind_SessionImage_GetMemoryImage_0,_emscripten_bind_SessionImage_GetMemoryImageSize_0,_emscripten_bind_SessionImage_SetMemoryImage_2,_emscripten_bind_SessionImage_GetMetadata_0,_emscripten_bind_SessionImage_GetMetadataSize_0,_emscripten_bind_SessionImage_SetMetadata_2,_emscripten_bind_SessionImage_GetSavestate_0,_emscripten_bind_SessionImage_GetSavestateSize_0,_emscripten_bind_SessionImage_SetSavestate_2,_emscripten_bind_SessionImage_GetVersion_0,_emscripten_bind_SessionImage_Serialize_0,_emscripten_bind_SessionImage_GetSerializedImage_0,_emscripten_bind_SessionImage_GetSerializedImageSize_0,_emscripten_bind_SessionImage_Deserialize_2,_emscripten_bind_SessionImage___destroy___0,_emscripten_bind_SkinLoader_SkinLoader_1,_emscripten_bind_SkinLoader_GetData_0,_emscripten_bind_SkinLoader_GetSize_0,_emscripten_bind_SkinLoader___destroy___0,_emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0,_emscripten_bind_EmTransportSerialBuffer_Receive_0,_emscripten_bind_EmTransportSerialBuffer_Send_3,_emscripten_bind_EmTransportSerialBuffer_IsOpen_0,_emscripten_bind_EmTransportSerialBuffer_Rts_0,_emscripten_bind_EmTransportSerialBuffer_Dtr_0,_emscripten_bind_EmTransportSerialBuffer_IsBreak_0,_emscripten_bind_EmTransportSerialBuffer_BufferSize_0,_emscripten_bind_EmTransportSerialBuffer_GetBaud_0,_emscripten_bind_EmTransportSerialBuffer_GetParity_0,_emscripten_bind_EmTransportSerialBuffer_GetStopBits_0,_emscripten_bind_EmTransportSerialBuffer_GetDataBits_0,_emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0,_emscripten_bind_EmTransportSerialBuffer_GetModeSync_0,_emscripten_bind_EmTransportSerialBuffer_SetModeSync_1,_emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0,_emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1,_emscripten_bind_EmTransportSerialBuffer___destroy___0,_emscripten_bind_GunzipContext_GunzipContext_3,_emscripten_bind_GunzipContext_GetState_0,_emscripten_bind_GunzipContext_Continue_0,_emscripten_bind_GunzipContext_GetUncompressedData_0,_emscripten_bind_GunzipContext_ReleaseUncompressedData_0,_emscripten_bind_GunzipContext_GetUncompressedSize_0,_emscripten_bind_GunzipContext_GetError_0,_emscripten_bind_GunzipContext___destroy___0,_emscripten_bind_ZipfileWalker_ZipfileWalker_2,_emscripten_bind_ZipfileWalker_GetState_0,_emscripten_bind_ZipfileWalker_Next_0,_emscripten_bind_ZipfileWalker_GetTotalEntries_0,_emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0,_emscripten_bind_ZipfileWalker_GetCurrentEntryName_0,_emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0,_emscripten_bind_ZipfileWalker___destroy___0,_emscripten_stack_get_end,__emscripten_timeout,_emscripten_stack_init,_emscripten_stack_get_current,___original_main;function assignWasmExports(wasmExports){Module[\"_malloc\"]=_malloc=wasmExports[\"w\"];Module[\"_free\"]=_free=wasmExports[\"x\"];Module[\"_main\"]=_main=wasmExports[\"y\"];Module[\"_webidl_free\"]=_webidl_free=wasmExports[\"z\"];Module[\"_webidl_malloc\"]=_webidl_malloc=wasmExports[\"A\"];Module[\"_emscripten_bind_VoidPtr___destroy___0\"]=_emscripten_bind_VoidPtr___destroy___0=wasmExports[\"B\"];Module[\"_emscripten_bind_Cloudpilot_Cloudpilot_0\"]=_emscripten_bind_Cloudpilot_Cloudpilot_0=wasmExports[\"C\"];Module[\"_emscripten_bind_Cloudpilot_Malloc_1\"]=_emscripten_bind_Cloudpilot_Malloc_1=wasmExports[\"D\"];Module[\"_emscripten_bind_Cloudpilot_Free_1\"]=_emscripten_bind_Cloudpilot_Free_1=wasmExports[\"E\"];Module[\"_emscripten_bind_Cloudpilot_Nullptr_0\"]=_emscripten_bind_Cloudpilot_Nullptr_0=wasmExports[\"F\"];Module[\"_emscripten_bind_Cloudpilot_EnableLogging_1\"]=_emscripten_bind_Cloudpilot_EnableLogging_1=wasmExports[\"G\"];Module[\"_emscripten_bind_Cloudpilot_InitializeSession_3\"]=_emscripten_bind_Cloudpilot_InitializeSession_3=wasmExports[\"H\"];Module[\"_emscripten_bind_Cloudpilot_GetCyclesPerSecond_0\"]=_emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=wasmExports[\"I\"];Module[\"_emscripten_bind_Cloudpilot_RunEmulation_1\"]=_emscripten_bind_Cloudpilot_RunEmulation_1=wasmExports[\"J\"];Module[\"_emscripten_bind_Cloudpilot_SetClockFactor_1\"]=_emscripten_bind_Cloudpilot_SetClockFactor_1=wasmExports[\"K\"];Module[\"_emscripten_bind_Cloudpilot_CopyFrame_0\"]=_emscripten_bind_Cloudpilot_CopyFrame_0=wasmExports[\"L\"];Module[\"_emscripten_bind_Cloudpilot_IsScreenDirty_0\"]=_emscripten_bind_Cloudpilot_IsScreenDirty_0=wasmExports[\"M\"];Module[\"_emscripten_bind_Cloudpilot_MarkScreenClean_0\"]=_emscripten_bind_Cloudpilot_MarkScreenClean_0=wasmExports[\"N\"];Module[\"_emscripten_bind_Cloudpilot_MinMemoryForDevice_1\"]=_emscripten_bind_Cloudpilot_MinMemoryForDevice_1=wasmExports[\"O\"];Module[\"_emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1\"]=_emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=wasmExports[\"P\"];Module[\"_emscripten_bind_Cloudpilot_TotalMemoryForDevice_1\"]=_emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=wasmExports[\"Q\"];Module[\"_emscripten_bind_Cloudpilot_QueuePenMove_2\"]=_emscripten_bind_Cloudpilot_QueuePenMove_2=wasmExports[\"R\"];Module[\"_emscripten_bind_Cloudpilot_QueuePenUp_0\"]=_emscripten_bind_Cloudpilot_QueuePenUp_0=wasmExports[\"S\"];Module[\"_emscripten_bind_Cloudpilot_QueueButtonDown_1\"]=_emscripten_bind_Cloudpilot_QueueButtonDown_1=wasmExports[\"T\"];Module[\"_emscripten_bind_Cloudpilot_QueueButtonUp_1\"]=_emscripten_bind_Cloudpilot_QueueButtonUp_1=wasmExports[\"U\"];Module[\"_emscripten_bind_Cloudpilot_QueueKeyboardEvent_2\"]=_emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=wasmExports[\"V\"];Module[\"_emscripten_bind_Cloudpilot_IsPowerOff_0\"]=_emscripten_bind_Cloudpilot_IsPowerOff_0=wasmExports[\"W\"];Module[\"_emscripten_bind_Cloudpilot_IsUIInitialized_0\"]=_emscripten_bind_Cloudpilot_IsUIInitialized_0=wasmExports[\"X\"];Module[\"_emscripten_bind_Cloudpilot_GetOSVersion_0\"]=_emscripten_bind_Cloudpilot_GetOSVersion_0=wasmExports[\"Y\"];Module[\"_emscripten_bind_Cloudpilot_IsSetupComplete_0\"]=_emscripten_bind_Cloudpilot_IsSetupComplete_0=wasmExports[\"Z\"];Module[\"_emscripten_bind_Cloudpilot_Reset_0\"]=_emscripten_bind_Cloudpilot_Reset_0=wasmExports[\"_\"];Module[\"_emscripten_bind_Cloudpilot_ResetNoExtensions_0\"]=_emscripten_bind_Cloudpilot_ResetNoExtensions_0=wasmExports[\"$\"];Module[\"_emscripten_bind_Cloudpilot_ResetHard_0\"]=_emscripten_bind_Cloudpilot_ResetHard_0=wasmExports[\"aa\"];Module[\"_emscripten_bind_Cloudpilot_InstallDb_2\"]=_emscripten_bind_Cloudpilot_InstallDb_2=wasmExports[\"ba\"];Module[\"_emscripten_bind_Cloudpilot_GetPalette2bitMapping_0\"]=_emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=wasmExports[\"ca\"];Module[\"_emscripten_bind_Cloudpilot_GetMemoryPtr_0\"]=_emscripten_bind_Cloudpilot_GetMemoryPtr_0=wasmExports[\"da\"];Module[\"_emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0\"]=_emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=wasmExports[\"ea\"];Module[\"_emscripten_bind_Cloudpilot_GetMemorySize_0\"]=_emscripten_bind_Cloudpilot_GetMemorySize_0=wasmExports[\"fa\"];Module[\"_emscripten_bind_Cloudpilot_ImportMemoryImage_2\"]=_emscripten_bind_Cloudpilot_ImportMemoryImage_2=wasmExports[\"ga\"];Module[\"_emscripten_bind_Cloudpilot_GetRomPtr_0\"]=_emscripten_bind_Cloudpilot_GetRomPtr_0=wasmExports[\"ha\"];Module[\"_emscripten_bind_Cloudpilot_GetRomSize_0\"]=_emscripten_bind_Cloudpilot_GetRomSize_0=wasmExports[\"ia\"];Module[\"_emscripten_bind_Cloudpilot_GetSavestatePtr_0\"]=_emscripten_bind_Cloudpilot_GetSavestatePtr_0=wasmExports[\"ja\"];Module[\"_emscripten_bind_Cloudpilot_GetSavestateSize_0\"]=_emscripten_bind_Cloudpilot_GetSavestateSize_0=wasmExports[\"ka\"];Module[\"_emscripten_bind_Cloudpilot_SaveState_0\"]=_emscripten_bind_Cloudpilot_SaveState_0=wasmExports[\"la\"];Module[\"_emscripten_bind_Cloudpilot_LoadState_2\"]=_emscripten_bind_Cloudpilot_LoadState_2=wasmExports[\"ma\"];Module[\"_emscripten_bind_Cloudpilot_GetHotsyncName_0\"]=_emscripten_bind_Cloudpilot_GetHotsyncName_0=wasmExports[\"na\"];Module[\"_emscripten_bind_Cloudpilot_SetHotsyncName_1\"]=_emscripten_bind_Cloudpilot_SetHotsyncName_1=wasmExports[\"oa\"];Module[\"_emscripten_bind_Cloudpilot_RegisterPwmHandler_1\"]=_emscripten_bind_Cloudpilot_RegisterPwmHandler_1=wasmExports[\"pa\"];Module[\"_emscripten_bind_Cloudpilot_StartBackup_0\"]=_emscripten_bind_Cloudpilot_StartBackup_0=wasmExports[\"qa\"];Module[\"_emscripten_bind_Cloudpilot_SetClipboardIntegration_1\"]=_emscripten_bind_Cloudpilot_SetClipboardIntegration_1=wasmExports[\"ra\"];Module[\"_emscripten_bind_Cloudpilot_GetClipboardIntegration_0\"]=_emscripten_bind_Cloudpilot_GetClipboardIntegration_0=wasmExports[\"sa\"];Module[\"_emscripten_bind_Cloudpilot_IsSuspended_0\"]=_emscripten_bind_Cloudpilot_IsSuspended_0=wasmExports[\"ta\"];Module[\"_emscripten_bind_Cloudpilot_GetSuspendContext_0\"]=_emscripten_bind_Cloudpilot_GetSuspendContext_0=wasmExports[\"ua\"];Module[\"_emscripten_bind_Cloudpilot_SetNetworkRedirection_1\"]=_emscripten_bind_Cloudpilot_SetNetworkRedirection_1=wasmExports[\"va\"];Module[\"_emscripten_bind_Cloudpilot_GetNetworkRedirection_0\"]=_emscripten_bind_Cloudpilot_GetNetworkRedirection_0=wasmExports[\"wa\"];Module[\"_emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1\"]=_emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=wasmExports[\"xa\"];Module[\"_emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1\"]=_emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=wasmExports[\"ya\"];Module[\"_emscripten_bind_Cloudpilot_LaunchAppByName_1\"]=_emscripten_bind_Cloudpilot_LaunchAppByName_1=wasmExports[\"za\"];Module[\"_emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2\"]=_emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=wasmExports[\"Aa\"];Module[\"_emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1\"]=_emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=wasmExports[\"Ba\"];Module[\"_emscripten_bind_Cloudpilot_ClearExternalStorage_0\"]=_emscripten_bind_Cloudpilot_ClearExternalStorage_0=wasmExports[\"Ca\"];Module[\"_emscripten_bind_Cloudpilot_AllocateCard_2\"]=_emscripten_bind_Cloudpilot_AllocateCard_2=wasmExports[\"Da\"];Module[\"_emscripten_bind_Cloudpilot_AdoptCard_3\"]=_emscripten_bind_Cloudpilot_AdoptCard_3=wasmExports[\"Ea\"];Module[\"_emscripten_bind_Cloudpilot_MountCard_1\"]=_emscripten_bind_Cloudpilot_MountCard_1=wasmExports[\"Fa\"];Module[\"_emscripten_bind_Cloudpilot_RemoveCard_1\"]=_emscripten_bind_Cloudpilot_RemoveCard_1=wasmExports[\"Ga\"];Module[\"_emscripten_bind_Cloudpilot_GetCardData_1\"]=_emscripten_bind_Cloudpilot_GetCardData_1=wasmExports[\"Ha\"];Module[\"_emscripten_bind_Cloudpilot_GetCardDirtyPages_1\"]=_emscripten_bind_Cloudpilot_GetCardDirtyPages_1=wasmExports[\"Ia\"];Module[\"_emscripten_bind_Cloudpilot_GetCardSize_1\"]=_emscripten_bind_Cloudpilot_GetCardSize_1=wasmExports[\"Ja\"];Module[\"_emscripten_bind_Cloudpilot_RemountCards_0\"]=_emscripten_bind_Cloudpilot_RemountCards_0=wasmExports[\"Ka\"];Module[\"_emscripten_bind_Cloudpilot_GetSupportLevel_1\"]=_emscripten_bind_Cloudpilot_GetSupportLevel_1=wasmExports[\"La\"];Module[\"_emscripten_bind_Cloudpilot_GetMountedKey_0\"]=_emscripten_bind_Cloudpilot_GetMountedKey_0=wasmExports[\"Ma\"];Module[\"_emscripten_bind_Cloudpilot_GetTransportIR_0\"]=_emscripten_bind_Cloudpilot_GetTransportIR_0=wasmExports[\"Na\"];Module[\"_emscripten_bind_Cloudpilot_GetTransportSerial_0\"]=_emscripten_bind_Cloudpilot_GetTransportSerial_0=wasmExports[\"Oa\"];Module[\"_emscripten_bind_Cloudpilot___destroy___0\"]=_emscripten_bind_Cloudpilot___destroy___0=wasmExports[\"Pa\"];Module[\"_emscripten_bind_RomInfo_RomInfo_2\"]=_emscripten_bind_RomInfo_RomInfo_2=wasmExports[\"Qa\"];Module[\"_emscripten_bind_RomInfo_IsValid_0\"]=_emscripten_bind_RomInfo_IsValid_0=wasmExports[\"Ra\"];Module[\"_emscripten_bind_RomInfo_CardVersion_0\"]=_emscripten_bind_RomInfo_CardVersion_0=wasmExports[\"Sa\"];Module[\"_emscripten_bind_RomInfo_CardName_0\"]=_emscripten_bind_RomInfo_CardName_0=wasmExports[\"Ta\"];Module[\"_emscripten_bind_RomInfo_RomVersion_0\"]=_emscripten_bind_RomInfo_RomVersion_0=wasmExports[\"Ua\"];Module[\"_emscripten_bind_RomInfo_RomVersionString_0\"]=_emscripten_bind_RomInfo_RomVersionString_0=wasmExports[\"Va\"];Module[\"_emscripten_bind_RomInfo_Supports_1\"]=_emscripten_bind_RomInfo_Supports_1=wasmExports[\"Wa\"];Module[\"_emscripten_bind_RomInfo___destroy___0\"]=_emscripten_bind_RomInfo___destroy___0=wasmExports[\"Xa\"];Module[\"_emscripten_bind_Frame_GetLineWidth_0\"]=_emscripten_bind_Frame_GetLineWidth_0=wasmExports[\"Ya\"];Module[\"_emscripten_bind_Frame_GetBpp_0\"]=_emscripten_bind_Frame_GetBpp_0=wasmExports[\"Za\"];Module[\"_emscripten_bind_Frame_GetLines_0\"]=_emscripten_bind_Frame_GetLines_0=wasmExports[\"_a\"];Module[\"_emscripten_bind_Frame_GetMargin_0\"]=_emscripten_bind_Frame_GetMargin_0=wasmExports[\"$a\"];Module[\"_emscripten_bind_Frame_GetBytesPerLine_0\"]=_emscripten_bind_Frame_GetBytesPerLine_0=wasmExports[\"ab\"];Module[\"_emscripten_bind_Frame_GetFirstDirtyLine_0\"]=_emscripten_bind_Frame_GetFirstDirtyLine_0=wasmExports[\"bb\"];Module[\"_emscripten_bind_Frame_GetLastDirtyLine_0\"]=_emscripten_bind_Frame_GetLastDirtyLine_0=wasmExports[\"cb\"];Module[\"_emscripten_bind_Frame_GetHasChanges_0\"]=_emscripten_bind_Frame_GetHasChanges_0=wasmExports[\"db\"];Module[\"_emscripten_bind_Frame_GetBuffer_0\"]=_emscripten_bind_Frame_GetBuffer_0=wasmExports[\"eb\"];Module[\"_emscripten_bind_Frame_GetBufferSize_0\"]=_emscripten_bind_Frame_GetBufferSize_0=wasmExports[\"fb\"];Module[\"_emscripten_bind_Frame_GetScaleX_0\"]=_emscripten_bind_Frame_GetScaleX_0=wasmExports[\"gb\"];Module[\"_emscripten_bind_Frame_GetScaleY_0\"]=_emscripten_bind_Frame_GetScaleY_0=wasmExports[\"hb\"];Module[\"_emscripten_bind_Frame___destroy___0\"]=_emscripten_bind_Frame___destroy___0=wasmExports[\"ib\"];Module[\"_emscripten_bind_DbBackup_Init_1\"]=_emscripten_bind_DbBackup_Init_1=wasmExports[\"jb\"];Module[\"_emscripten_bind_DbBackup_IsInProgress_0\"]=_emscripten_bind_DbBackup_IsInProgress_0=wasmExports[\"kb\"];Module[\"_emscripten_bind_DbBackup_IsDone_0\"]=_emscripten_bind_DbBackup_IsDone_0=wasmExports[\"lb\"];Module[\"_emscripten_bind_DbBackup_GetCurrentDatabase_0\"]=_emscripten_bind_DbBackup_GetCurrentDatabase_0=wasmExports[\"mb\"];Module[\"_emscripten_bind_DbBackup_Save_0\"]=_emscripten_bind_DbBackup_Save_0=wasmExports[\"nb\"];Module[\"_emscripten_bind_DbBackup_Skip_0\"]=_emscripten_bind_DbBackup_Skip_0=wasmExports[\"ob\"];Module[\"_emscripten_bind_DbBackup_GetArchivePtr_0\"]=_emscripten_bind_DbBackup_GetArchivePtr_0=wasmExports[\"pb\"];Module[\"_emscripten_bind_DbBackup_GetArchiveSize_0\"]=_emscripten_bind_DbBackup_GetArchiveSize_0=wasmExports[\"qb\"];Module[\"_emscripten_bind_DbBackup___destroy___0\"]=_emscripten_bind_DbBackup___destroy___0=wasmExports[\"rb\"];Module[\"_emscripten_bind_SuspendContextClipboardCopy_Cancel_0\"]=_emscripten_bind_SuspendContextClipboardCopy_Cancel_0=wasmExports[\"sb\"];Module[\"_emscripten_bind_SuspendContextClipboardCopy_Resume_0\"]=_emscripten_bind_SuspendContextClipboardCopy_Resume_0=wasmExports[\"tb\"];Module[\"_emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0\"]=_emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=wasmExports[\"ub\"];Module[\"_emscripten_bind_SuspendContextClipboardCopy___destroy___0\"]=_emscripten_bind_SuspendContextClipboardCopy___destroy___0=wasmExports[\"vb\"];Module[\"_emscripten_bind_SuspendContextClipboardPaste_Cancel_0\"]=_emscripten_bind_SuspendContextClipboardPaste_Cancel_0=wasmExports[\"wb\"];Module[\"_emscripten_bind_SuspendContextClipboardPaste_Resume_1\"]=_emscripten_bind_SuspendContextClipboardPaste_Resume_1=wasmExports[\"xb\"];Module[\"_emscripten_bind_SuspendContextClipboardPaste___destroy___0\"]=_emscripten_bind_SuspendContextClipboardPaste___destroy___0=wasmExports[\"yb\"];Module[\"_emscripten_bind_SuspendContextNetworkConnect_Cancel_0\"]=_emscripten_bind_SuspendContextNetworkConnect_Cancel_0=wasmExports[\"zb\"];Module[\"_emscripten_bind_SuspendContextNetworkConnect_Resume_0\"]=_emscripten_bind_SuspendContextNetworkConnect_Resume_0=wasmExports[\"Ab\"];Module[\"_emscripten_bind_SuspendContextNetworkConnect___destroy___0\"]=_emscripten_bind_SuspendContextNetworkConnect___destroy___0=wasmExports[\"Bb\"];Module[\"_emscripten_bind_SuspendContextNetworkRpc_Cancel_0\"]=_emscripten_bind_SuspendContextNetworkRpc_Cancel_0=wasmExports[\"Cb\"];Module[\"_emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0\"]=_emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=wasmExports[\"Db\"];Module[\"_emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0\"]=_emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=wasmExports[\"Eb\"];Module[\"_emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2\"]=_emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=wasmExports[\"Fb\"];Module[\"_emscripten_bind_SuspendContextNetworkRpc___destroy___0\"]=_emscripten_bind_SuspendContextNetworkRpc___destroy___0=wasmExports[\"Gb\"];Module[\"_emscripten_bind_SuspendContextSerialSync_Cancel_0\"]=_emscripten_bind_SuspendContextSerialSync_Cancel_0=wasmExports[\"Hb\"];Module[\"_emscripten_bind_SuspendContextSerialSync_Resume_0\"]=_emscripten_bind_SuspendContextSerialSync_Resume_0=wasmExports[\"Ib\"];Module[\"_emscripten_bind_SuspendContextSerialSync___destroy___0\"]=_emscripten_bind_SuspendContextSerialSync___destroy___0=wasmExports[\"Jb\"];Module[\"_emscripten_bind_SuspendContext_GetKind_0\"]=_emscripten_bind_SuspendContext_GetKind_0=wasmExports[\"Kb\"];Module[\"_emscripten_bind_SuspendContext_Cancel_0\"]=_emscripten_bind_SuspendContext_Cancel_0=wasmExports[\"Lb\"];Module[\"_emscripten_bind_SuspendContext_AsContextClipboardCopy_0\"]=_emscripten_bind_SuspendContext_AsContextClipboardCopy_0=wasmExports[\"Mb\"];Module[\"_emscripten_bind_SuspendContext_AsContextClipboardPaste_0\"]=_emscripten_bind_SuspendContext_AsContextClipboardPaste_0=wasmExports[\"Nb\"];Module[\"_emscripten_bind_SuspendContext_AsContextNetworkConnect_0\"]=_emscripten_bind_SuspendContext_AsContextNetworkConnect_0=wasmExports[\"Ob\"];Module[\"_emscripten_bind_SuspendContext_AsContextNetworkRpc_0\"]=_emscripten_bind_SuspendContext_AsContextNetworkRpc_0=wasmExports[\"Pb\"];Module[\"_emscripten_bind_SuspendContext_AsContextSerialSync_0\"]=_emscripten_bind_SuspendContext_AsContextSerialSync_0=wasmExports[\"Qb\"];Module[\"_emscripten_bind_SuspendContext___destroy___0\"]=_emscripten_bind_SuspendContext___destroy___0=wasmExports[\"Rb\"];Module[\"_emscripten_bind_SessionImage_SessionImage_0\"]=_emscripten_bind_SessionImage_SessionImage_0=wasmExports[\"Sb\"];Module[\"_emscripten_bind_SessionImage_GetDeviceId_0\"]=_emscripten_bind_SessionImage_GetDeviceId_0=wasmExports[\"Tb\"];Module[\"_emscripten_bind_SessionImage_SetDeviceId_1\"]=_emscripten_bind_SessionImage_SetDeviceId_1=wasmExports[\"Ub\"];Module[\"_emscripten_bind_SessionImage_GetRomImage_0\"]=_emscripten_bind_SessionImage_GetRomImage_0=wasmExports[\"Vb\"];Module[\"_emscripten_bind_SessionImage_GetRomImageSize_0\"]=_emscripten_bind_SessionImage_GetRomImageSize_0=wasmExports[\"Wb\"];Module[\"_emscripten_bind_SessionImage_SetRomImage_2\"]=_emscripten_bind_SessionImage_SetRomImage_2=wasmExports[\"Xb\"];Module[\"_emscripten_bind_SessionImage_GetMemoryImage_0\"]=_emscripten_bind_SessionImage_GetMemoryImage_0=wasmExports[\"Yb\"];Module[\"_emscripten_bind_SessionImage_GetMemoryImageSize_0\"]=_emscripten_bind_SessionImage_GetMemoryImageSize_0=wasmExports[\"Zb\"];Module[\"_emscripten_bind_SessionImage_SetMemoryImage_2\"]=_emscripten_bind_SessionImage_SetMemoryImage_2=wasmExports[\"_b\"];Module[\"_emscripten_bind_SessionImage_GetMetadata_0\"]=_emscripten_bind_SessionImage_GetMetadata_0=wasmExports[\"$b\"];Module[\"_emscripten_bind_SessionImage_GetMetadataSize_0\"]=_emscripten_bind_SessionImage_GetMetadataSize_0=wasmExports[\"ac\"];Module[\"_emscripten_bind_SessionImage_SetMetadata_2\"]=_emscripten_bind_SessionImage_SetMetadata_2=wasmExports[\"bc\"];Module[\"_emscripten_bind_SessionImage_GetSavestate_0\"]=_emscripten_bind_SessionImage_GetSavestate_0=wasmExports[\"cc\"];Module[\"_emscripten_bind_SessionImage_GetSavestateSize_0\"]=_emscripten_bind_SessionImage_GetSavestateSize_0=wasmExports[\"dc\"];Module[\"_emscripten_bind_SessionImage_SetSavestate_2\"]=_emscripten_bind_SessionImage_SetSavestate_2=wasmExports[\"ec\"];Module[\"_emscripten_bind_SessionImage_GetVersion_0\"]=_emscripten_bind_SessionImage_GetVersion_0=wasmExports[\"fc\"];Module[\"_emscripten_bind_SessionImage_Serialize_0\"]=_emscripten_bind_SessionImage_Serialize_0=wasmExports[\"gc\"];Module[\"_emscripten_bind_SessionImage_GetSerializedImage_0\"]=_emscripten_bind_SessionImage_GetSerializedImage_0=wasmExports[\"hc\"];Module[\"_emscripten_bind_SessionImage_GetSerializedImageSize_0\"]=_emscripten_bind_SessionImage_GetSerializedImageSize_0=wasmExports[\"ic\"];Module[\"_emscripten_bind_SessionImage_Deserialize_2\"]=_emscripten_bind_SessionImage_Deserialize_2=wasmExports[\"jc\"];Module[\"_emscripten_bind_SessionImage___destroy___0\"]=_emscripten_bind_SessionImage___destroy___0=wasmExports[\"kc\"];Module[\"_emscripten_bind_SkinLoader_SkinLoader_1\"]=_emscripten_bind_SkinLoader_SkinLoader_1=wasmExports[\"lc\"];Module[\"_emscripten_bind_SkinLoader_GetData_0\"]=_emscripten_bind_SkinLoader_GetData_0=wasmExports[\"mc\"];Module[\"_emscripten_bind_SkinLoader_GetSize_0\"]=_emscripten_bind_SkinLoader_GetSize_0=wasmExports[\"nc\"];Module[\"_emscripten_bind_SkinLoader___destroy___0\"]=_emscripten_bind_SkinLoader___destroy___0=wasmExports[\"oc\"];Module[\"_emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0\"]=_emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=wasmExports[\"pc\"];Module[\"_emscripten_bind_EmTransportSerialBuffer_Receive_0\"]=_emscripten_bind_EmTransportSerialBuffer_Receive_0=wasmExports[\"qc\"];Module[\"_emscripten_bind_EmTransportSerialBuffer_Send_3\"]=_emscripten_bind_EmTransportSerialBuffer_Send_3=wasmExports[\"rc\"];Module[\"_emscripten_bind_EmTransportSerialBuffer_IsOpen_0\"]=_emscripten_bind_EmTransportSerialBuffer_IsOpen_0=wasmExports[\"sc\"];Module[\"_emscripten_bind_EmTransportSerialBuffer_Rts_0\"]=_emscripten_bind_EmTransportSerialBuffer_Rts_0=wasmExports[\"tc\"];Module[\"_emscripten_bind_EmTransportSerialBuffer_Dtr_0\"]=_emscripten_bind_EmTransportSerialBuffer_Dtr_0=wasmExports[\"uc\"];Module[\"_emscripten_bind_EmTransportSerialBuffer_IsBreak_0\"]=_emscripten_bind_EmTransportSerialBuffer_IsBreak_0=wasmExports[\"vc\"];Module[\"_emscripten_bind_EmTransportSerialBuffer_BufferSize_0\"]=_emscripten_bind_EmTransportSerialBuffer_BufferSize_0=wasmExports[\"wc\"];Module[\"_emscripten_bind_EmTransportSerialBuffer_GetBaud_0\"]=_emscripten_bind_EmTransportSerialBuffer_GetBaud_0=wasmExports[\"xc\"];Module[\"_emscripten_bind_EmTransportSerialBuffer_GetParity_0\"]=_emscripten_bind_EmTransportSerialBuffer_GetParity_0=wasmExports[\"yc\"];Module[\"_emscripten_bind_EmTransportSerialBuffer_GetStopBits_0\"]=_emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=wasmExports[\"zc\"];Module[\"_emscripten_bind_EmTransportSerialBuffer_GetDataBits_0\"]=_emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=wasmExports[\"Ac\"];Module[\"_emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0\"]=_emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=wasmExports[\"Bc\"];Module[\"_emscripten_bind_EmTransportSerialBuffer_GetModeSync_0\"]=_emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=wasmExports[\"Cc\"];Module[\"_emscripten_bind_EmTransportSerialBuffer_SetModeSync_1\"]=_emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=wasmExports[\"Dc\"];Module[\"_emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0\"]=_emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=wasmExports[\"Ec\"];Module[\"_emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1\"]=_emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=wasmExports[\"Fc\"];Module[\"_emscripten_bind_EmTransportSerialBuffer___destroy___0\"]=_emscripten_bind_EmTransportSerialBuffer___destroy___0=wasmExports[\"Gc\"];Module[\"_emscripten_bind_GunzipContext_GunzipContext_3\"]=_emscripten_bind_GunzipContext_GunzipContext_3=wasmExports[\"Hc\"];Module[\"_emscripten_bind_GunzipContext_GetState_0\"]=_emscripten_bind_GunzipContext_GetState_0=wasmExports[\"Ic\"];Module[\"_emscripten_bind_GunzipContext_Continue_0\"]=_emscripten_bind_GunzipContext_Continue_0=wasmExports[\"Jc\"];Module[\"_emscripten_bind_GunzipContext_GetUncompressedData_0\"]=_emscripten_bind_GunzipContext_GetUncompressedData_0=wasmExports[\"Kc\"];Module[\"_emscripten_bind_GunzipContext_ReleaseUncompressedData_0\"]=_emscripten_bind_GunzipContext_ReleaseUncompressedData_0=wasmExports[\"Lc\"];Module[\"_emscripten_bind_GunzipContext_GetUncompressedSize_0\"]=_emscripten_bind_GunzipContext_GetUncompressedSize_0=wasmExports[\"Mc\"];Module[\"_emscripten_bind_GunzipContext_GetError_0\"]=_emscripten_bind_GunzipContext_GetError_0=wasmExports[\"Nc\"];Module[\"_emscripten_bind_GunzipContext___destroy___0\"]=_emscripten_bind_GunzipContext___destroy___0=wasmExports[\"Oc\"];Module[\"_emscripten_bind_ZipfileWalker_ZipfileWalker_2\"]=_emscripten_bind_ZipfileWalker_ZipfileWalker_2=wasmExports[\"Pc\"];Module[\"_emscripten_bind_ZipfileWalker_GetState_0\"]=_emscripten_bind_ZipfileWalker_GetState_0=wasmExports[\"Qc\"];Module[\"_emscripten_bind_ZipfileWalker_Next_0\"]=_emscripten_bind_ZipfileWalker_Next_0=wasmExports[\"Rc\"];Module[\"_emscripten_bind_ZipfileWalker_GetTotalEntries_0\"]=_emscripten_bind_ZipfileWalker_GetTotalEntries_0=wasmExports[\"Sc\"];Module[\"_emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0\"]=_emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=wasmExports[\"Tc\"];Module[\"_emscripten_bind_ZipfileWalker_GetCurrentEntryName_0\"]=_emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=wasmExports[\"Uc\"];Module[\"_emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0\"]=_emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=wasmExports[\"Vc\"];Module[\"_emscripten_bind_ZipfileWalker___destroy___0\"]=_emscripten_bind_ZipfileWalker___destroy___0=wasmExports[\"Wc\"];_emscripten_stack_get_end=wasmExports[\"Yc\"];__emscripten_timeout=wasmExports[\"Zc\"];_emscripten_stack_init=wasmExports[\"_c\"];_emscripten_stack_get_current=wasmExports[\"$c\"];Module[\"___original_main\"]=___original_main=wasmExports[\"ad\"]}var wasmImports={a:___assert_fail,s:__jsAssertThrow,c:___syscall_ftruncate64,h:__abort_js,j:__emscripten_runtime_keepalive_clear,p:__localtime_js,q:__mktime_js,k:__setitimer_js,r:__tzset_js,n:_clock_time_get,t:_emscripten_asm_const_int,g:_emscripten_date_now,o:_emscripten_resize_heap,l:_environ_get,m:_environ_sizes_get,d:_fd_close,f:_fd_read,b:_fd_seek,e:_fd_write,i:_proc_exit};var wasmExports=await createWasm();function callMain(){var entryFunction=_main;var argc=0;var argv=0;try{var ret=entryFunction(argc,argv);exitJS(ret,true);return ret}catch(e){return handleException(e)}}function stackCheckInit(){_emscripten_stack_init();writeStackCookie()}function run(){if(runDependencies>0){dependenciesFulfilled=run;return}stackCheckInit();preRun();if(runDependencies>0){dependenciesFulfilled=run;return}function doRun(){Module[\"calledRun\"]=true;if(ABORT)return;initRuntime();preMain();readyPromiseResolve?.(Module);Module[\"onRuntimeInitialized\"]?.();var noInitialRun=Module[\"noInitialRun\"]||false;if(!noInitialRun)callMain();postRun()}if(Module[\"setStatus\"]){Module[\"setStatus\"](\"Running...\");setTimeout(()=>{setTimeout(()=>Module[\"setStatus\"](\"\"),1);doRun()},1)}else{doRun()}checkStackCookie()}function preInit(){if(Module[\"preInit\"]){if(typeof Module[\"preInit\"]==\"function\")Module[\"preInit\"]=[Module[\"preInit\"]];while(Module[\"preInit\"].length>0){Module[\"preInit\"].shift()()}}}preInit();run();function WrapperObject(){}WrapperObject.prototype=Object.create(WrapperObject.prototype);WrapperObject.prototype.constructor=WrapperObject;WrapperObject.prototype.__class__=WrapperObject;WrapperObject.__cache__={};Module[\"WrapperObject\"]=WrapperObject;function getCache(__class__){return(__class__||WrapperObject).__cache__}Module[\"getCache\"]=getCache;function wrapPointer(ptr,__class__){var cache=getCache(__class__);var ret=cache[ptr];if(ret)return ret;ret=Object.create((__class__||WrapperObject).prototype);ret.ptr=ptr;return cache[ptr]=ret}Module[\"wrapPointer\"]=wrapPointer;function castObject(obj,__class__){return wrapPointer(obj.ptr,__class__)}Module[\"castObject\"]=castObject;Module[\"NULL\"]=wrapPointer(0);function destroy(obj){if(!obj[\"__destroy__\"])throw\"Error: Cannot destroy object. (Did you create it yourself?)\";obj[\"__destroy__\"]();delete getCache(obj.__class__)[obj.ptr]}Module[\"destroy\"]=destroy;function compare(obj1,obj2){return obj1.ptr===obj2.ptr}Module[\"compare\"]=compare;function getPointer(obj){return obj.ptr}Module[\"getPointer\"]=getPointer;function getClass(obj){return obj.__class__}Module[\"getClass\"]=getClass;var ensureCache={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(ensureCache.needed){for(var i=0;i<ensureCache.temps.length;i++){Module[\"_webidl_free\"](ensureCache.temps[i])}ensureCache.temps.length=0;Module[\"_webidl_free\"](ensureCache.buffer);ensureCache.buffer=0;ensureCache.size+=ensureCache.needed;ensureCache.needed=0}if(!ensureCache.buffer){ensureCache.size+=128;ensureCache.buffer=Module[\"_webidl_malloc\"](ensureCache.size);assert(ensureCache.buffer)}ensureCache.pos=0},alloc(array,view){assert(ensureCache.buffer);var bytes=view.BYTES_PER_ELEMENT;var len=array.length*bytes;len=alignMemory(len,8);var ret;if(ensureCache.pos+len>=ensureCache.size){assert(len>0);ensureCache.needed+=len;ret=Module[\"_webidl_malloc\"](len);ensureCache.temps.push(ret)}else{ret=ensureCache.buffer+ensureCache.pos;ensureCache.pos+=len}return ret},copy(array,view,offset){offset/=view.BYTES_PER_ELEMENT;for(var i=0;i<array.length;i++){view[offset+i]=array[i]}}};function ensureString(value){if(typeof value===\"string\"){var intArray=intArrayFromString(value);var offset=ensureCache.alloc(intArray,HEAP8);ensureCache.copy(intArray,HEAP8,offset);return offset}return value}function VoidPtr(){throw\"cannot construct a VoidPtr, no constructor in IDL\"}VoidPtr.prototype=Object.create(WrapperObject.prototype);VoidPtr.prototype.constructor=VoidPtr;VoidPtr.prototype.__class__=VoidPtr;VoidPtr.__cache__={};Module[\"VoidPtr\"]=VoidPtr;VoidPtr.prototype[\"__destroy__\"]=VoidPtr.prototype.__destroy__=function(){var self=this.ptr;_emscripten_bind_VoidPtr___destroy___0(self)};function Cloudpilot(){this.ptr=_emscripten_bind_Cloudpilot_Cloudpilot_0();getCache(Cloudpilot)[this.ptr]=this}Cloudpilot.prototype=Object.create(WrapperObject.prototype);Cloudpilot.prototype.constructor=Cloudpilot;Cloudpilot.prototype.__class__=Cloudpilot;Cloudpilot.__cache__={};Module[\"Cloudpilot\"]=Cloudpilot;Cloudpilot.prototype[\"Malloc\"]=Cloudpilot.prototype.Malloc=function(size){var self=this.ptr;if(size&&typeof size===\"object\")size=size.ptr;return wrapPointer(_emscripten_bind_Cloudpilot_Malloc_1(self,size),VoidPtr)};Cloudpilot.prototype[\"Free\"]=Cloudpilot.prototype.Free=function(buffer){var self=this.ptr;if(buffer&&typeof buffer===\"object\")buffer=buffer.ptr;_emscripten_bind_Cloudpilot_Free_1(self,buffer)};Cloudpilot.prototype[\"Nullptr\"]=Cloudpilot.prototype.Nullptr=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_Cloudpilot_Nullptr_0(self),VoidPtr)};Cloudpilot.prototype[\"EnableLogging\"]=Cloudpilot.prototype.EnableLogging=function(logging){var self=this.ptr;if(logging&&typeof logging===\"object\")logging=logging.ptr;_emscripten_bind_Cloudpilot_EnableLogging_1(self,logging)};Cloudpilot.prototype[\"InitializeSession\"]=Cloudpilot.prototype.InitializeSession=function(buffer,size,deviceType){var self=this.ptr;ensureCache.prepare();if(buffer&&typeof buffer===\"object\")buffer=buffer.ptr;if(size&&typeof size===\"object\")size=size.ptr;if(deviceType&&typeof deviceType===\"object\")deviceType=deviceType.ptr;else deviceType=ensureString(deviceType);return!!_emscripten_bind_Cloudpilot_InitializeSession_3(self,buffer,size,deviceType)};Cloudpilot.prototype[\"GetCyclesPerSecond\"]=Cloudpilot.prototype.GetCyclesPerSecond=function(){var self=this.ptr;return _emscripten_bind_Cloudpilot_GetCyclesPerSecond_0(self)};Cloudpilot.prototype[\"RunEmulation\"]=Cloudpilot.prototype.RunEmulation=function(cycles){var self=this.ptr;if(cycles&&typeof cycles===\"object\")cycles=cycles.ptr;return _emscripten_bind_Cloudpilot_RunEmulation_1(self,cycles)};Cloudpilot.prototype[\"SetClockFactor\"]=Cloudpilot.prototype.SetClockFactor=function(clockFactor){var self=this.ptr;if(clockFactor&&typeof clockFactor===\"object\")clockFactor=clockFactor.ptr;_emscripten_bind_Cloudpilot_SetClockFactor_1(self,clockFactor)};Cloudpilot.prototype[\"CopyFrame\"]=Cloudpilot.prototype.CopyFrame=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_Cloudpilot_CopyFrame_0(self),Frame)};Cloudpilot.prototype[\"IsScreenDirty\"]=Cloudpilot.prototype.IsScreenDirty=function(){var self=this.ptr;return!!_emscripten_bind_Cloudpilot_IsScreenDirty_0(self)};Cloudpilot.prototype[\"MarkScreenClean\"]=Cloudpilot.prototype.MarkScreenClean=function(){var self=this.ptr;_emscripten_bind_Cloudpilot_MarkScreenClean_0(self)};Cloudpilot.prototype[\"MinMemoryForDevice\"]=Cloudpilot.prototype.MinMemoryForDevice=function(deviceId){var self=this.ptr;ensureCache.prepare();if(deviceId&&typeof deviceId===\"object\")deviceId=deviceId.ptr;else deviceId=ensureString(deviceId);return _emscripten_bind_Cloudpilot_MinMemoryForDevice_1(self,deviceId)};Cloudpilot.prototype[\"FramebufferSizeForDevice\"]=Cloudpilot.prototype.FramebufferSizeForDevice=function(deviceId){var self=this.ptr;ensureCache.prepare();if(deviceId&&typeof deviceId===\"object\")deviceId=deviceId.ptr;else deviceId=ensureString(deviceId);return _emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1(self,deviceId)};Cloudpilot.prototype[\"TotalMemoryForDevice\"]=Cloudpilot.prototype.TotalMemoryForDevice=function(deviceId){var self=this.ptr;ensureCache.prepare();if(deviceId&&typeof deviceId===\"object\")deviceId=deviceId.ptr;else deviceId=ensureString(deviceId);return _emscripten_bind_Cloudpilot_TotalMemoryForDevice_1(self,deviceId)};Cloudpilot.prototype[\"QueuePenMove\"]=Cloudpilot.prototype.QueuePenMove=function(x,y){var self=this.ptr;if(x&&typeof x===\"object\")x=x.ptr;if(y&&typeof y===\"object\")y=y.ptr;_emscripten_bind_Cloudpilot_QueuePenMove_2(self,x,y)};Cloudpilot.prototype[\"QueuePenUp\"]=Cloudpilot.prototype.QueuePenUp=function(){var self=this.ptr;_emscripten_bind_Cloudpilot_QueuePenUp_0(self)};Cloudpilot.prototype[\"QueueButtonDown\"]=Cloudpilot.prototype.QueueButtonDown=function(id){var self=this.ptr;if(id&&typeof id===\"object\")id=id.ptr;_emscripten_bind_Cloudpilot_QueueButtonDown_1(self,id)};Cloudpilot.prototype[\"QueueButtonUp\"]=Cloudpilot.prototype.QueueButtonUp=function(id){var self=this.ptr;if(id&&typeof id===\"object\")id=id.ptr;_emscripten_bind_Cloudpilot_QueueButtonUp_1(self,id)};Cloudpilot.prototype[\"QueueKeyboardEvent\"]=Cloudpilot.prototype.QueueKeyboardEvent=function(c,ctrl){var self=this.ptr;if(c&&typeof c===\"object\")c=c.ptr;if(ctrl&&typeof ctrl===\"object\")ctrl=ctrl.ptr;_emscripten_bind_Cloudpilot_QueueKeyboardEvent_2(self,c,ctrl)};Cloudpilot.prototype[\"IsPowerOff\"]=Cloudpilot.prototype.IsPowerOff=function(){var self=this.ptr;return!!_emscripten_bind_Cloudpilot_IsPowerOff_0(self)};Cloudpilot.prototype[\"IsUIInitialized\"]=Cloudpilot.prototype.IsUIInitialized=function(){var self=this.ptr;return!!_emscripten_bind_Cloudpilot_IsUIInitialized_0(self)};Cloudpilot.prototype[\"GetOSVersion\"]=Cloudpilot.prototype.GetOSVersion=function(){var self=this.ptr;return _emscripten_bind_Cloudpilot_GetOSVersion_0(self)};Cloudpilot.prototype[\"IsSetupComplete\"]=Cloudpilot.prototype.IsSetupComplete=function(){var self=this.ptr;return!!_emscripten_bind_Cloudpilot_IsSetupComplete_0(self)};Cloudpilot.prototype[\"Reset\"]=Cloudpilot.prototype.Reset=function(){var self=this.ptr;_emscripten_bind_Cloudpilot_Reset_0(self)};Cloudpilot.prototype[\"ResetNoExtensions\"]=Cloudpilot.prototype.ResetNoExtensions=function(){var self=this.ptr;_emscripten_bind_Cloudpilot_ResetNoExtensions_0(self)};Cloudpilot.prototype[\"ResetHard\"]=Cloudpilot.prototype.ResetHard=function(){var self=this.ptr;_emscripten_bind_Cloudpilot_ResetHard_0(self)};Cloudpilot.prototype[\"InstallDb\"]=Cloudpilot.prototype.InstallDb=function(buffer,len){var self=this.ptr;if(buffer&&typeof buffer===\"object\")buffer=buffer.ptr;if(len&&typeof len===\"object\")len=len.ptr;return _emscripten_bind_Cloudpilot_InstallDb_2(self,buffer,len)};Cloudpilot.prototype[\"GetPalette2bitMapping\"]=Cloudpilot.prototype.GetPalette2bitMapping=function(){var self=this.ptr;return _emscripten_bind_Cloudpilot_GetPalette2bitMapping_0(self)};Cloudpilot.prototype[\"GetMemoryPtr\"]=Cloudpilot.prototype.GetMemoryPtr=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_Cloudpilot_GetMemoryPtr_0(self),VoidPtr)};Cloudpilot.prototype[\"GetDirtyPagesPtr\"]=Cloudpilot.prototype.GetDirtyPagesPtr=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0(self),VoidPtr)};Cloudpilot.prototype[\"GetMemorySize\"]=Cloudpilot.prototype.GetMemorySize=function(){var self=this.ptr;return _emscripten_bind_Cloudpilot_GetMemorySize_0(self)};Cloudpilot.prototype[\"ImportMemoryImage\"]=Cloudpilot.prototype.ImportMemoryImage=function(buffer,len){var self=this.ptr;if(buffer&&typeof buffer===\"object\")buffer=buffer.ptr;if(len&&typeof len===\"object\")len=len.ptr;return!!_emscripten_bind_Cloudpilot_ImportMemoryImage_2(self,buffer,len)};Cloudpilot.prototype[\"GetRomPtr\"]=Cloudpilot.prototype.GetRomPtr=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_Cloudpilot_GetRomPtr_0(self),VoidPtr)};Cloudpilot.prototype[\"GetRomSize\"]=Cloudpilot.prototype.GetRomSize=function(){var self=this.ptr;return _emscripten_bind_Cloudpilot_GetRomSize_0(self)};Cloudpilot.prototype[\"GetSavestatePtr\"]=Cloudpilot.prototype.GetSavestatePtr=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_Cloudpilot_GetSavestatePtr_0(self),VoidPtr)};Cloudpilot.prototype[\"GetSavestateSize\"]=Cloudpilot.prototype.GetSavestateSize=function(){var self=this.ptr;return _emscripten_bind_Cloudpilot_GetSavestateSize_0(self)};Cloudpilot.prototype[\"SaveState\"]=Cloudpilot.prototype.SaveState=function(){var self=this.ptr;return!!_emscripten_bind_Cloudpilot_SaveState_0(self)};Cloudpilot.prototype[\"LoadState\"]=Cloudpilot.prototype.LoadState=function(buffer,len){var self=this.ptr;if(buffer&&typeof buffer===\"object\")buffer=buffer.ptr;if(len&&typeof len===\"object\")len=len.ptr;return!!_emscripten_bind_Cloudpilot_LoadState_2(self,buffer,len)};Cloudpilot.prototype[\"GetHotsyncName\"]=Cloudpilot.prototype.GetHotsyncName=function(){var self=this.ptr;return UTF8ToString(_emscripten_bind_Cloudpilot_GetHotsyncName_0(self))};Cloudpilot.prototype[\"SetHotsyncName\"]=Cloudpilot.prototype.SetHotsyncName=function(name){var self=this.ptr;ensureCache.prepare();if(name&&typeof name===\"object\")name=name.ptr;else name=ensureString(name);_emscripten_bind_Cloudpilot_SetHotsyncName_1(self,name)};Cloudpilot.prototype[\"RegisterPwmHandler\"]=Cloudpilot.prototype.RegisterPwmHandler=function(handlerPtr){var self=this.ptr;if(handlerPtr&&typeof handlerPtr===\"object\")handlerPtr=handlerPtr.ptr;_emscripten_bind_Cloudpilot_RegisterPwmHandler_1(self,handlerPtr)};Cloudpilot.prototype[\"StartBackup\"]=Cloudpilot.prototype.StartBackup=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_Cloudpilot_StartBackup_0(self),DbBackup)};Cloudpilot.prototype[\"SetClipboardIntegration\"]=Cloudpilot.prototype.SetClipboardIntegration=function(toggle){var self=this.ptr;if(toggle&&typeof toggle===\"object\")toggle=toggle.ptr;_emscripten_bind_Cloudpilot_SetClipboardIntegration_1(self,toggle)};Cloudpilot.prototype[\"GetClipboardIntegration\"]=Cloudpilot.prototype.GetClipboardIntegration=function(){var self=this.ptr;return!!_emscripten_bind_Cloudpilot_GetClipboardIntegration_0(self)};Cloudpilot.prototype[\"IsSuspended\"]=Cloudpilot.prototype.IsSuspended=function(){var self=this.ptr;return!!_emscripten_bind_Cloudpilot_IsSuspended_0(self)};Cloudpilot.prototype[\"GetSuspendContext\"]=Cloudpilot.prototype.GetSuspendContext=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_Cloudpilot_GetSuspendContext_0(self),SuspendContext)};Cloudpilot.prototype[\"SetNetworkRedirection\"]=Cloudpilot.prototype.SetNetworkRedirection=function(toggle){var self=this.ptr;if(toggle&&typeof toggle===\"object\")toggle=toggle.ptr;_emscripten_bind_Cloudpilot_SetNetworkRedirection_1(self,toggle)};Cloudpilot.prototype[\"GetNetworkRedirection\"]=Cloudpilot.prototype.GetNetworkRedirection=function(){var self=this.ptr;return!!_emscripten_bind_Cloudpilot_GetNetworkRedirection_0(self)};Cloudpilot.prototype[\"RegisterProxyDisconnectHandler\"]=Cloudpilot.prototype.RegisterProxyDisconnectHandler=function(handlerPtr){var self=this.ptr;if(handlerPtr&&typeof handlerPtr===\"object\")handlerPtr=handlerPtr.ptr;_emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1(self,handlerPtr)};Cloudpilot.prototype[\"SetHotsyncNameManagement\"]=Cloudpilot.prototype.SetHotsyncNameManagement=function(toggle){var self=this.ptr;if(toggle&&typeof toggle===\"object\")toggle=toggle.ptr;_emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1(self,toggle)};Cloudpilot.prototype[\"LaunchAppByName\"]=Cloudpilot.prototype.LaunchAppByName=function(name){var self=this.ptr;ensureCache.prepare();if(name&&typeof name===\"object\")name=name.ptr;else name=ensureString(name);return!!_emscripten_bind_Cloudpilot_LaunchAppByName_1(self,name)};Cloudpilot.prototype[\"LaunchAppByDbHeader\"]=Cloudpilot.prototype.LaunchAppByDbHeader=function(buffer,len){var self=this.ptr;if(buffer&&typeof buffer===\"object\")buffer=buffer.ptr;if(len&&typeof len===\"object\")len=len.ptr;return!!_emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2(self,buffer,len)};Cloudpilot.prototype[\"DeviceSupportsCardSize\"]=Cloudpilot.prototype.DeviceSupportsCardSize=function(size){var self=this.ptr;if(size&&typeof size===\"object\")size=size.ptr;return!!_emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1(self,size)};Cloudpilot.prototype[\"ClearExternalStorage\"]=Cloudpilot.prototype.ClearExternalStorage=function(){var self=this.ptr;_emscripten_bind_Cloudpilot_ClearExternalStorage_0(self)};Cloudpilot.prototype[\"AllocateCard\"]=Cloudpilot.prototype.AllocateCard=function(key,blockCount){var self=this.ptr;ensureCache.prepare();if(key&&typeof key===\"object\")key=key.ptr;else key=ensureString(key);if(blockCount&&typeof blockCount===\"object\")blockCount=blockCount.ptr;return!!_emscripten_bind_Cloudpilot_AllocateCard_2(self,key,blockCount)};Cloudpilot.prototype[\"AdoptCard\"]=Cloudpilot.prototype.AdoptCard=function(key,data,blockCount){var self=this.ptr;ensureCache.prepare();if(key&&typeof key===\"object\")key=key.ptr;else key=ensureString(key);if(data&&typeof data===\"object\")data=data.ptr;if(blockCount&&typeof blockCount===\"object\")blockCount=blockCount.ptr;return!!_emscripten_bind_Cloudpilot_AdoptCard_3(self,key,data,blockCount)};Cloudpilot.prototype[\"MountCard\"]=Cloudpilot.prototype.MountCard=function(key){var self=this.ptr;ensureCache.prepare();if(key&&typeof key===\"object\")key=key.ptr;else key=ensureString(key);return!!_emscripten_bind_Cloudpilot_MountCard_1(self,key)};Cloudpilot.prototype[\"RemoveCard\"]=Cloudpilot.prototype.RemoveCard=function(key){var self=this.ptr;ensureCache.prepare();if(key&&typeof key===\"object\")key=key.ptr;else key=ensureString(key);return!!_emscripten_bind_Cloudpilot_RemoveCard_1(self,key)};Cloudpilot.prototype[\"GetCardData\"]=Cloudpilot.prototype.GetCardData=function(key){var self=this.ptr;ensureCache.prepare();if(key&&typeof key===\"object\")key=key.ptr;else key=ensureString(key);return wrapPointer(_emscripten_bind_Cloudpilot_GetCardData_1(self,key),VoidPtr)};Cloudpilot.prototype[\"GetCardDirtyPages\"]=Cloudpilot.prototype.GetCardDirtyPages=function(key){var self=this.ptr;ensureCache.prepare();if(key&&typeof key===\"object\")key=key.ptr;else key=ensureString(key);return wrapPointer(_emscripten_bind_Cloudpilot_GetCardDirtyPages_1(self,key),VoidPtr)};Cloudpilot.prototype[\"GetCardSize\"]=Cloudpilot.prototype.GetCardSize=function(key){var self=this.ptr;ensureCache.prepare();if(key&&typeof key===\"object\")key=key.ptr;else key=ensureString(key);return _emscripten_bind_Cloudpilot_GetCardSize_1(self,key)};Cloudpilot.prototype[\"RemountCards\"]=Cloudpilot.prototype.RemountCards=function(){var self=this.ptr;_emscripten_bind_Cloudpilot_RemountCards_0(self)};Cloudpilot.prototype[\"GetSupportLevel\"]=Cloudpilot.prototype.GetSupportLevel=function(size){var self=this.ptr;if(size&&typeof size===\"object\")size=size.ptr;return _emscripten_bind_Cloudpilot_GetSupportLevel_1(self,size)};Cloudpilot.prototype[\"GetMountedKey\"]=Cloudpilot.prototype.GetMountedKey=function(){var self=this.ptr;return UTF8ToString(_emscripten_bind_Cloudpilot_GetMountedKey_0(self))};Cloudpilot.prototype[\"GetTransportIR\"]=Cloudpilot.prototype.GetTransportIR=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_Cloudpilot_GetTransportIR_0(self),EmTransportSerialBuffer)};Cloudpilot.prototype[\"GetTransportSerial\"]=Cloudpilot.prototype.GetTransportSerial=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_Cloudpilot_GetTransportSerial_0(self),EmTransportSerialBuffer)};Cloudpilot.prototype[\"__destroy__\"]=Cloudpilot.prototype.__destroy__=function(){var self=this.ptr;_emscripten_bind_Cloudpilot___destroy___0(self)};function RomInfo(buffer,size){if(buffer&&typeof buffer===\"object\")buffer=buffer.ptr;if(size&&typeof size===\"object\")size=size.ptr;this.ptr=_emscripten_bind_RomInfo_RomInfo_2(buffer,size);getCache(RomInfo)[this.ptr]=this}RomInfo.prototype=Object.create(WrapperObject.prototype);RomInfo.prototype.constructor=RomInfo;RomInfo.prototype.__class__=RomInfo;RomInfo.__cache__={};Module[\"RomInfo\"]=RomInfo;RomInfo.prototype[\"IsValid\"]=RomInfo.prototype.IsValid=function(){var self=this.ptr;return!!_emscripten_bind_RomInfo_IsValid_0(self)};RomInfo.prototype[\"CardVersion\"]=RomInfo.prototype.CardVersion=function(){var self=this.ptr;return _emscripten_bind_RomInfo_CardVersion_0(self)};RomInfo.prototype[\"CardName\"]=RomInfo.prototype.CardName=function(){var self=this.ptr;return UTF8ToString(_emscripten_bind_RomInfo_CardName_0(self))};RomInfo.prototype[\"RomVersion\"]=RomInfo.prototype.RomVersion=function(){var self=this.ptr;return _emscripten_bind_RomInfo_RomVersion_0(self)};RomInfo.prototype[\"RomVersionString\"]=RomInfo.prototype.RomVersionString=function(){var self=this.ptr;return UTF8ToString(_emscripten_bind_RomInfo_RomVersionString_0(self))};RomInfo.prototype[\"Supports\"]=RomInfo.prototype.Supports=function(deviceId){var self=this.ptr;ensureCache.prepare();if(deviceId&&typeof deviceId===\"object\")deviceId=deviceId.ptr;else deviceId=ensureString(deviceId);return!!_emscripten_bind_RomInfo_Supports_1(self,deviceId)};RomInfo.prototype[\"__destroy__\"]=RomInfo.prototype.__destroy__=function(){var self=this.ptr;_emscripten_bind_RomInfo___destroy___0(self)};function Frame(){throw\"cannot construct a Frame, no constructor in IDL\"}Frame.prototype=Object.create(WrapperObject.prototype);Frame.prototype.constructor=Frame;Frame.prototype.__class__=Frame;Frame.__cache__={};Module[\"Frame\"]=Frame;Frame.prototype[\"GetLineWidth\"]=Frame.prototype.GetLineWidth=function(){var self=this.ptr;return _emscripten_bind_Frame_GetLineWidth_0(self)};Frame.prototype[\"GetBpp\"]=Frame.prototype.GetBpp=function(){var self=this.ptr;return _emscripten_bind_Frame_GetBpp_0(self)};Frame.prototype[\"GetLines\"]=Frame.prototype.GetLines=function(){var self=this.ptr;return _emscripten_bind_Frame_GetLines_0(self)};Frame.prototype[\"GetMargin\"]=Frame.prototype.GetMargin=function(){var self=this.ptr;return _emscripten_bind_Frame_GetMargin_0(self)};Frame.prototype[\"GetBytesPerLine\"]=Frame.prototype.GetBytesPerLine=function(){var self=this.ptr;return _emscripten_bind_Frame_GetBytesPerLine_0(self)};Frame.prototype[\"GetFirstDirtyLine\"]=Frame.prototype.GetFirstDirtyLine=function(){var self=this.ptr;return _emscripten_bind_Frame_GetFirstDirtyLine_0(self)};Frame.prototype[\"GetLastDirtyLine\"]=Frame.prototype.GetLastDirtyLine=function(){var self=this.ptr;return _emscripten_bind_Frame_GetLastDirtyLine_0(self)};Frame.prototype[\"GetHasChanges\"]=Frame.prototype.GetHasChanges=function(){var self=this.ptr;return!!_emscripten_bind_Frame_GetHasChanges_0(self)};Frame.prototype[\"GetBuffer\"]=Frame.prototype.GetBuffer=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_Frame_GetBuffer_0(self),VoidPtr)};Frame.prototype[\"GetBufferSize\"]=Frame.prototype.GetBufferSize=function(){var self=this.ptr;return _emscripten_bind_Frame_GetBufferSize_0(self)};Frame.prototype[\"GetScaleX\"]=Frame.prototype.GetScaleX=function(){var self=this.ptr;return _emscripten_bind_Frame_GetScaleX_0(self)};Frame.prototype[\"GetScaleY\"]=Frame.prototype.GetScaleY=function(){var self=this.ptr;return _emscripten_bind_Frame_GetScaleY_0(self)};Frame.prototype[\"__destroy__\"]=Frame.prototype.__destroy__=function(){var self=this.ptr;_emscripten_bind_Frame___destroy___0(self)};function DbBackup(){throw\"cannot construct a DbBackup, no constructor in IDL\"}DbBackup.prototype=Object.create(WrapperObject.prototype);DbBackup.prototype.constructor=DbBackup;DbBackup.prototype.__class__=DbBackup;DbBackup.__cache__={};Module[\"DbBackup\"]=DbBackup;DbBackup.prototype[\"Init\"]=DbBackup.prototype.Init=function(includeRomDatabases){var self=this.ptr;if(includeRomDatabases&&typeof includeRomDatabases===\"object\")includeRomDatabases=includeRomDatabases.ptr;return!!_emscripten_bind_DbBackup_Init_1(self,includeRomDatabases)};DbBackup.prototype[\"IsInProgress\"]=DbBackup.prototype.IsInProgress=function(){var self=this.ptr;return!!_emscripten_bind_DbBackup_IsInProgress_0(self)};DbBackup.prototype[\"IsDone\"]=DbBackup.prototype.IsDone=function(){var self=this.ptr;return!!_emscripten_bind_DbBackup_IsDone_0(self)};DbBackup.prototype[\"GetCurrentDatabase\"]=DbBackup.prototype.GetCurrentDatabase=function(){var self=this.ptr;return UTF8ToString(_emscripten_bind_DbBackup_GetCurrentDatabase_0(self))};DbBackup.prototype[\"Save\"]=DbBackup.prototype.Save=function(){var self=this.ptr;return!!_emscripten_bind_DbBackup_Save_0(self)};DbBackup.prototype[\"Skip\"]=DbBackup.prototype.Skip=function(){var self=this.ptr;_emscripten_bind_DbBackup_Skip_0(self)};DbBackup.prototype[\"GetArchivePtr\"]=DbBackup.prototype.GetArchivePtr=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_DbBackup_GetArchivePtr_0(self),VoidPtr)};DbBackup.prototype[\"GetArchiveSize\"]=DbBackup.prototype.GetArchiveSize=function(){var self=this.ptr;return _emscripten_bind_DbBackup_GetArchiveSize_0(self)};DbBackup.prototype[\"__destroy__\"]=DbBackup.prototype.__destroy__=function(){var self=this.ptr;_emscripten_bind_DbBackup___destroy___0(self)};function SuspendContextClipboardCopy(){throw\"cannot construct a SuspendContextClipboardCopy, no constructor in IDL\"}SuspendContextClipboardCopy.prototype=Object.create(WrapperObject.prototype);SuspendContextClipboardCopy.prototype.constructor=SuspendContextClipboardCopy;SuspendContextClipboardCopy.prototype.__class__=SuspendContextClipboardCopy;SuspendContextClipboardCopy.__cache__={};Module[\"SuspendContextClipboardCopy\"]=SuspendContextClipboardCopy;SuspendContextClipboardCopy.prototype[\"Cancel\"]=SuspendContextClipboardCopy.prototype.Cancel=function(){var self=this.ptr;_emscripten_bind_SuspendContextClipboardCopy_Cancel_0(self)};SuspendContextClipboardCopy.prototype[\"Resume\"]=SuspendContextClipboardCopy.prototype.Resume=function(){var self=this.ptr;_emscripten_bind_SuspendContextClipboardCopy_Resume_0(self)};SuspendContextClipboardCopy.prototype[\"GetClipboardContent\"]=SuspendContextClipboardCopy.prototype.GetClipboardContent=function(){var self=this.ptr;return UTF8ToString(_emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0(self))};SuspendContextClipboardCopy.prototype[\"__destroy__\"]=SuspendContextClipboardCopy.prototype.__destroy__=function(){var self=this.ptr;_emscripten_bind_SuspendContextClipboardCopy___destroy___0(self)};function SuspendContextClipboardPaste(){throw\"cannot construct a SuspendContextClipboardPaste, no constructor in IDL\"}SuspendContextClipboardPaste.prototype=Object.create(WrapperObject.prototype);SuspendContextClipboardPaste.prototype.constructor=SuspendContextClipboardPaste;SuspendContextClipboardPaste.prototype.__class__=SuspendContextClipboardPaste;SuspendContextClipboardPaste.__cache__={};Module[\"SuspendContextClipboardPaste\"]=SuspendContextClipboardPaste;SuspendContextClipboardPaste.prototype[\"Cancel\"]=SuspendContextClipboardPaste.prototype.Cancel=function(){var self=this.ptr;_emscripten_bind_SuspendContextClipboardPaste_Cancel_0(self)};SuspendContextClipboardPaste.prototype[\"Resume\"]=SuspendContextClipboardPaste.prototype.Resume=function(clipboardContent){var self=this.ptr;ensureCache.prepare();if(clipboardContent&&typeof clipboardContent===\"object\")clipboardContent=clipboardContent.ptr;else clipboardContent=ensureString(clipboardContent);_emscripten_bind_SuspendContextClipboardPaste_Resume_1(self,clipboardContent)};SuspendContextClipboardPaste.prototype[\"__destroy__\"]=SuspendContextClipboardPaste.prototype.__destroy__=function(){var self=this.ptr;_emscripten_bind_SuspendContextClipboardPaste___destroy___0(self)};function SuspendContextNetworkConnect(){throw\"cannot construct a SuspendContextNetworkConnect, no constructor in IDL\"}SuspendContextNetworkConnect.prototype=Object.create(WrapperObject.prototype);SuspendContextNetworkConnect.prototype.constructor=SuspendContextNetworkConnect;SuspendContextNetworkConnect.prototype.__class__=SuspendContextNetworkConnect;SuspendContextNetworkConnect.__cache__={};Module[\"SuspendContextNetworkConnect\"]=SuspendContextNetworkConnect;SuspendContextNetworkConnect.prototype[\"Cancel\"]=SuspendContextNetworkConnect.prototype.Cancel=function(){var self=this.ptr;_emscripten_bind_SuspendContextNetworkConnect_Cancel_0(self)};SuspendContextNetworkConnect.prototype[\"Resume\"]=SuspendContextNetworkConnect.prototype.Resume=function(){var self=this.ptr;_emscripten_bind_SuspendContextNetworkConnect_Resume_0(self)};SuspendContextNetworkConnect.prototype[\"__destroy__\"]=SuspendContextNetworkConnect.prototype.__destroy__=function(){var self=this.ptr;_emscripten_bind_SuspendContextNetworkConnect___destroy___0(self)};function SuspendContextNetworkRpc(){throw\"cannot construct a SuspendContextNetworkRpc, no constructor in IDL\"}SuspendContextNetworkRpc.prototype=Object.create(WrapperObject.prototype);SuspendContextNetworkRpc.prototype.constructor=SuspendContextNetworkRpc;SuspendContextNetworkRpc.prototype.__class__=SuspendContextNetworkRpc;SuspendContextNetworkRpc.__cache__={};Module[\"SuspendContextNetworkRpc\"]=SuspendContextNetworkRpc;SuspendContextNetworkRpc.prototype[\"Cancel\"]=SuspendContextNetworkRpc.prototype.Cancel=function(){var self=this.ptr;_emscripten_bind_SuspendContextNetworkRpc_Cancel_0(self)};SuspendContextNetworkRpc.prototype[\"GetRequestSize\"]=SuspendContextNetworkRpc.prototype.GetRequestSize=function(){var self=this.ptr;return _emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0(self)};SuspendContextNetworkRpc.prototype[\"GetRequestData\"]=SuspendContextNetworkRpc.prototype.GetRequestData=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0(self),VoidPtr)};SuspendContextNetworkRpc.prototype[\"ReceiveResponse\"]=SuspendContextNetworkRpc.prototype.ReceiveResponse=function(data,size){var self=this.ptr;if(data&&typeof data===\"object\")data=data.ptr;if(size&&typeof size===\"object\")size=size.ptr;_emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2(self,data,size)};SuspendContextNetworkRpc.prototype[\"__destroy__\"]=SuspendContextNetworkRpc.prototype.__destroy__=function(){var self=this.ptr;_emscripten_bind_SuspendContextNetworkRpc___destroy___0(self)};function SuspendContextSerialSync(){throw\"cannot construct a SuspendContextSerialSync, no constructor in IDL\"}SuspendContextSerialSync.prototype=Object.create(WrapperObject.prototype);SuspendContextSerialSync.prototype.constructor=SuspendContextSerialSync;SuspendContextSerialSync.prototype.__class__=SuspendContextSerialSync;SuspendContextSerialSync.__cache__={};Module[\"SuspendContextSerialSync\"]=SuspendContextSerialSync;SuspendContextSerialSync.prototype[\"Cancel\"]=SuspendContextSerialSync.prototype.Cancel=function(){var self=this.ptr;_emscripten_bind_SuspendContextSerialSync_Cancel_0(self)};SuspendContextSerialSync.prototype[\"Resume\"]=SuspendContextSerialSync.prototype.Resume=function(){var self=this.ptr;_emscripten_bind_SuspendContextSerialSync_Resume_0(self)};SuspendContextSerialSync.prototype[\"__destroy__\"]=SuspendContextSerialSync.prototype.__destroy__=function(){var self=this.ptr;_emscripten_bind_SuspendContextSerialSync___destroy___0(self)};function SuspendContext(){throw\"cannot construct a SuspendContext, no constructor in IDL\"}SuspendContext.prototype=Object.create(WrapperObject.prototype);SuspendContext.prototype.constructor=SuspendContext;SuspendContext.prototype.__class__=SuspendContext;SuspendContext.__cache__={};Module[\"SuspendContext\"]=SuspendContext;SuspendContext.prototype[\"GetKind\"]=SuspendContext.prototype.GetKind=function(){var self=this.ptr;return _emscripten_bind_SuspendContext_GetKind_0(self)};SuspendContext.prototype[\"Cancel\"]=SuspendContext.prototype.Cancel=function(){var self=this.ptr;_emscripten_bind_SuspendContext_Cancel_0(self)};SuspendContext.prototype[\"AsContextClipboardCopy\"]=SuspendContext.prototype.AsContextClipboardCopy=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_SuspendContext_AsContextClipboardCopy_0(self),SuspendContextClipboardCopy)};SuspendContext.prototype[\"AsContextClipboardPaste\"]=SuspendContext.prototype.AsContextClipboardPaste=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_SuspendContext_AsContextClipboardPaste_0(self),SuspendContextClipboardPaste)};SuspendContext.prototype[\"AsContextNetworkConnect\"]=SuspendContext.prototype.AsContextNetworkConnect=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_SuspendContext_AsContextNetworkConnect_0(self),SuspendContextNetworkConnect)};SuspendContext.prototype[\"AsContextNetworkRpc\"]=SuspendContext.prototype.AsContextNetworkRpc=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_SuspendContext_AsContextNetworkRpc_0(self),SuspendContextNetworkRpc)};SuspendContext.prototype[\"AsContextSerialSync\"]=SuspendContext.prototype.AsContextSerialSync=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_SuspendContext_AsContextSerialSync_0(self),SuspendContextSerialSync)};SuspendContext.prototype[\"__destroy__\"]=SuspendContext.prototype.__destroy__=function(){var self=this.ptr;_emscripten_bind_SuspendContext___destroy___0(self)};function SessionImage(){this.ptr=_emscripten_bind_SessionImage_SessionImage_0();getCache(SessionImage)[this.ptr]=this}SessionImage.prototype=Object.create(WrapperObject.prototype);SessionImage.prototype.constructor=SessionImage;SessionImage.prototype.__class__=SessionImage;SessionImage.__cache__={};Module[\"SessionImage\"]=SessionImage;SessionImage.prototype[\"GetDeviceId\"]=SessionImage.prototype.GetDeviceId=function(){var self=this.ptr;return UTF8ToString(_emscripten_bind_SessionImage_GetDeviceId_0(self))};SessionImage.prototype[\"SetDeviceId\"]=SessionImage.prototype.SetDeviceId=function(deviceId){var self=this.ptr;ensureCache.prepare();if(deviceId&&typeof deviceId===\"object\")deviceId=deviceId.ptr;else deviceId=ensureString(deviceId);return wrapPointer(_emscripten_bind_SessionImage_SetDeviceId_1(self,deviceId),SessionImage)};SessionImage.prototype[\"GetRomImage\"]=SessionImage.prototype.GetRomImage=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_SessionImage_GetRomImage_0(self),VoidPtr)};SessionImage.prototype[\"GetRomImageSize\"]=SessionImage.prototype.GetRomImageSize=function(){var self=this.ptr;return _emscripten_bind_SessionImage_GetRomImageSize_0(self)};SessionImage.prototype[\"SetRomImage\"]=SessionImage.prototype.SetRomImage=function(image,size){var self=this.ptr;if(image&&typeof image===\"object\")image=image.ptr;if(size&&typeof size===\"object\")size=size.ptr;return wrapPointer(_emscripten_bind_SessionImage_SetRomImage_2(self,image,size),SessionImage)};SessionImage.prototype[\"GetMemoryImage\"]=SessionImage.prototype.GetMemoryImage=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_SessionImage_GetMemoryImage_0(self),VoidPtr)};SessionImage.prototype[\"GetMemoryImageSize\"]=SessionImage.prototype.GetMemoryImageSize=function(){var self=this.ptr;return _emscripten_bind_SessionImage_GetMemoryImageSize_0(self)};SessionImage.prototype[\"SetMemoryImage\"]=SessionImage.prototype.SetMemoryImage=function(image,size){var self=this.ptr;if(image&&typeof image===\"object\")image=image.ptr;if(size&&typeof size===\"object\")size=size.ptr;return wrapPointer(_emscripten_bind_SessionImage_SetMemoryImage_2(self,image,size),SessionImage)};SessionImage.prototype[\"GetMetadata\"]=SessionImage.prototype.GetMetadata=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_SessionImage_GetMetadata_0(self),VoidPtr)};SessionImage.prototype[\"GetMetadataSize\"]=SessionImage.prototype.GetMetadataSize=function(){var self=this.ptr;return _emscripten_bind_SessionImage_GetMetadataSize_0(self)};SessionImage.prototype[\"SetMetadata\"]=SessionImage.prototype.SetMetadata=function(metadata,size){var self=this.ptr;if(metadata&&typeof metadata===\"object\")metadata=metadata.ptr;if(size&&typeof size===\"object\")size=size.ptr;return wrapPointer(_emscripten_bind_SessionImage_SetMetadata_2(self,metadata,size),SessionImage)};SessionImage.prototype[\"GetSavestate\"]=SessionImage.prototype.GetSavestate=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_SessionImage_GetSavestate_0(self),VoidPtr)};SessionImage.prototype[\"GetSavestateSize\"]=SessionImage.prototype.GetSavestateSize=function(){var self=this.ptr;return _emscripten_bind_SessionImage_GetSavestateSize_0(self)};SessionImage.prototype[\"SetSavestate\"]=SessionImage.prototype.SetSavestate=function(savestate,size){var self=this.ptr;if(savestate&&typeof savestate===\"object\")savestate=savestate.ptr;if(size&&typeof size===\"object\")size=size.ptr;return wrapPointer(_emscripten_bind_SessionImage_SetSavestate_2(self,savestate,size),SessionImage)};SessionImage.prototype[\"GetVersion\"]=SessionImage.prototype.GetVersion=function(){var self=this.ptr;return _emscripten_bind_SessionImage_GetVersion_0(self)};SessionImage.prototype[\"Serialize\"]=SessionImage.prototype.Serialize=function(){var self=this.ptr;return!!_emscripten_bind_SessionImage_Serialize_0(self)};SessionImage.prototype[\"GetSerializedImage\"]=SessionImage.prototype.GetSerializedImage=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_SessionImage_GetSerializedImage_0(self),VoidPtr)};SessionImage.prototype[\"GetSerializedImageSize\"]=SessionImage.prototype.GetSerializedImageSize=function(){var self=this.ptr;return _emscripten_bind_SessionImage_GetSerializedImageSize_0(self)};SessionImage.prototype[\"Deserialize\"]=SessionImage.prototype.Deserialize=function(buffer,size){var self=this.ptr;if(buffer&&typeof buffer===\"object\")buffer=buffer.ptr;if(size&&typeof size===\"object\")size=size.ptr;return!!_emscripten_bind_SessionImage_Deserialize_2(self,buffer,size)};SessionImage.prototype[\"__destroy__\"]=SessionImage.prototype.__destroy__=function(){var self=this.ptr;_emscripten_bind_SessionImage___destroy___0(self)};function SkinLoader(name){ensureCache.prepare();if(name&&typeof name===\"object\")name=name.ptr;else name=ensureString(name);this.ptr=_emscripten_bind_SkinLoader_SkinLoader_1(name);getCache(SkinLoader)[this.ptr]=this}SkinLoader.prototype=Object.create(WrapperObject.prototype);SkinLoader.prototype.constructor=SkinLoader;SkinLoader.prototype.__class__=SkinLoader;SkinLoader.__cache__={};Module[\"SkinLoader\"]=SkinLoader;SkinLoader.prototype[\"GetData\"]=SkinLoader.prototype.GetData=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_SkinLoader_GetData_0(self),VoidPtr)};SkinLoader.prototype[\"GetSize\"]=SkinLoader.prototype.GetSize=function(){var self=this.ptr;return _emscripten_bind_SkinLoader_GetSize_0(self)};SkinLoader.prototype[\"__destroy__\"]=SkinLoader.prototype.__destroy__=function(){var self=this.ptr;_emscripten_bind_SkinLoader___destroy___0(self)};function EmTransportSerialBuffer(){throw\"cannot construct a EmTransportSerialBuffer, no constructor in IDL\"}EmTransportSerialBuffer.prototype=Object.create(WrapperObject.prototype);EmTransportSerialBuffer.prototype.constructor=EmTransportSerialBuffer;EmTransportSerialBuffer.prototype.__class__=EmTransportSerialBuffer;EmTransportSerialBuffer.__cache__={};Module[\"EmTransportSerialBuffer\"]=EmTransportSerialBuffer;EmTransportSerialBuffer.prototype[\"RxBytesPending\"]=EmTransportSerialBuffer.prototype.RxBytesPending=function(){var self=this.ptr;return _emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0(self)};EmTransportSerialBuffer.prototype[\"Receive\"]=EmTransportSerialBuffer.prototype.Receive=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_EmTransportSerialBuffer_Receive_0(self),VoidPtr)};EmTransportSerialBuffer.prototype[\"Send\"]=EmTransportSerialBuffer.prototype.Send=function(Count,data,frameComplete){var self=this.ptr;if(Count&&typeof Count===\"object\")Count=Count.ptr;if(data&&typeof data===\"object\")data=data.ptr;if(frameComplete&&typeof frameComplete===\"object\")frameComplete=frameComplete.ptr;return _emscripten_bind_EmTransportSerialBuffer_Send_3(self,Count,data,frameComplete)};EmTransportSerialBuffer.prototype[\"IsOpen\"]=EmTransportSerialBuffer.prototype.IsOpen=function(){var self=this.ptr;return!!_emscripten_bind_EmTransportSerialBuffer_IsOpen_0(self)};EmTransportSerialBuffer.prototype[\"Rts\"]=EmTransportSerialBuffer.prototype.Rts=function(){var self=this.ptr;return _emscripten_bind_EmTransportSerialBuffer_Rts_0(self)};EmTransportSerialBuffer.prototype[\"Dtr\"]=EmTransportSerialBuffer.prototype.Dtr=function(){var self=this.ptr;return!!_emscripten_bind_EmTransportSerialBuffer_Dtr_0(self)};EmTransportSerialBuffer.prototype[\"IsBreak\"]=EmTransportSerialBuffer.prototype.IsBreak=function(){var self=this.ptr;return!!_emscripten_bind_EmTransportSerialBuffer_IsBreak_0(self)};EmTransportSerialBuffer.prototype[\"BufferSize\"]=EmTransportSerialBuffer.prototype.BufferSize=function(){var self=this.ptr;return _emscripten_bind_EmTransportSerialBuffer_BufferSize_0(self)};EmTransportSerialBuffer.prototype[\"GetBaud\"]=EmTransportSerialBuffer.prototype.GetBaud=function(){var self=this.ptr;return _emscripten_bind_EmTransportSerialBuffer_GetBaud_0(self)};EmTransportSerialBuffer.prototype[\"GetParity\"]=EmTransportSerialBuffer.prototype.GetParity=function(){var self=this.ptr;return _emscripten_bind_EmTransportSerialBuffer_GetParity_0(self)};EmTransportSerialBuffer.prototype[\"GetStopBits\"]=EmTransportSerialBuffer.prototype.GetStopBits=function(){var self=this.ptr;return _emscripten_bind_EmTransportSerialBuffer_GetStopBits_0(self)};EmTransportSerialBuffer.prototype[\"GetDataBits\"]=EmTransportSerialBuffer.prototype.GetDataBits=function(){var self=this.ptr;return _emscripten_bind_EmTransportSerialBuffer_GetDataBits_0(self)};EmTransportSerialBuffer.prototype[\"GetHwrHandshake\"]=EmTransportSerialBuffer.prototype.GetHwrHandshake=function(){var self=this.ptr;return _emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0(self)};EmTransportSerialBuffer.prototype[\"GetModeSync\"]=EmTransportSerialBuffer.prototype.GetModeSync=function(){var self=this.ptr;return!!_emscripten_bind_EmTransportSerialBuffer_GetModeSync_0(self)};EmTransportSerialBuffer.prototype[\"SetModeSync\"]=EmTransportSerialBuffer.prototype.SetModeSync=function(sync){var self=this.ptr;if(sync&&typeof sync===\"object\")sync=sync.ptr;_emscripten_bind_EmTransportSerialBuffer_SetModeSync_1(self,sync)};EmTransportSerialBuffer.prototype[\"IsFrameComplete\"]=EmTransportSerialBuffer.prototype.IsFrameComplete=function(){var self=this.ptr;return!!_emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0(self)};EmTransportSerialBuffer.prototype[\"SetRequestTransferCallback\"]=EmTransportSerialBuffer.prototype.SetRequestTransferCallback=function(cb){var self=this.ptr;if(cb&&typeof cb===\"object\")cb=cb.ptr;_emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1(self,cb)};EmTransportSerialBuffer.prototype[\"__destroy__\"]=EmTransportSerialBuffer.prototype.__destroy__=function(){var self=this.ptr;_emscripten_bind_EmTransportSerialBuffer___destroy___0(self)};function GunzipContext(data,size,slizeSize){if(data&&typeof data===\"object\")data=data.ptr;if(size&&typeof size===\"object\")size=size.ptr;if(slizeSize&&typeof slizeSize===\"object\")slizeSize=slizeSize.ptr;this.ptr=_emscripten_bind_GunzipContext_GunzipContext_3(data,size,slizeSize);getCache(GunzipContext)[this.ptr]=this}GunzipContext.prototype=Object.create(WrapperObject.prototype);GunzipContext.prototype.constructor=GunzipContext;GunzipContext.prototype.__class__=GunzipContext;GunzipContext.__cache__={};Module[\"GunzipContext\"]=GunzipContext;GunzipContext.prototype[\"GetState\"]=GunzipContext.prototype.GetState=function(){var self=this.ptr;return _emscripten_bind_GunzipContext_GetState_0(self)};GunzipContext.prototype[\"Continue\"]=GunzipContext.prototype.Continue=function(){var self=this.ptr;return _emscripten_bind_GunzipContext_Continue_0(self)};GunzipContext.prototype[\"GetUncompressedData\"]=GunzipContext.prototype.GetUncompressedData=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_GunzipContext_GetUncompressedData_0(self),VoidPtr)};GunzipContext.prototype[\"ReleaseUncompressedData\"]=GunzipContext.prototype.ReleaseUncompressedData=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_GunzipContext_ReleaseUncompressedData_0(self),VoidPtr)};GunzipContext.prototype[\"GetUncompressedSize\"]=GunzipContext.prototype.GetUncompressedSize=function(){var self=this.ptr;return _emscripten_bind_GunzipContext_GetUncompressedSize_0(self)};GunzipContext.prototype[\"GetError\"]=GunzipContext.prototype.GetError=function(){var self=this.ptr;return UTF8ToString(_emscripten_bind_GunzipContext_GetError_0(self))};GunzipContext.prototype[\"__destroy__\"]=GunzipContext.prototype.__destroy__=function(){var self=this.ptr;_emscripten_bind_GunzipContext___destroy___0(self)};function ZipfileWalker(bufferSize,buffer){if(bufferSize&&typeof bufferSize===\"object\")bufferSize=bufferSize.ptr;if(buffer&&typeof buffer===\"object\")buffer=buffer.ptr;this.ptr=_emscripten_bind_ZipfileWalker_ZipfileWalker_2(bufferSize,buffer);getCache(ZipfileWalker)[this.ptr]=this}ZipfileWalker.prototype=Object.create(WrapperObject.prototype);ZipfileWalker.prototype.constructor=ZipfileWalker;ZipfileWalker.prototype.__class__=ZipfileWalker;ZipfileWalker.__cache__={};Module[\"ZipfileWalker\"]=ZipfileWalker;ZipfileWalker.prototype[\"GetState\"]=ZipfileWalker.prototype.GetState=function(){var self=this.ptr;return _emscripten_bind_ZipfileWalker_GetState_0(self)};ZipfileWalker.prototype[\"Next\"]=ZipfileWalker.prototype.Next=function(){var self=this.ptr;return _emscripten_bind_ZipfileWalker_Next_0(self)};ZipfileWalker.prototype[\"GetTotalEntries\"]=ZipfileWalker.prototype.GetTotalEntries=function(){var self=this.ptr;return _emscripten_bind_ZipfileWalker_GetTotalEntries_0(self)};ZipfileWalker.prototype[\"GetCurrentEntrySize\"]=ZipfileWalker.prototype.GetCurrentEntrySize=function(){var self=this.ptr;return _emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0(self)};ZipfileWalker.prototype[\"GetCurrentEntryName\"]=ZipfileWalker.prototype.GetCurrentEntryName=function(){var self=this.ptr;return UTF8ToString(_emscripten_bind_ZipfileWalker_GetCurrentEntryName_0(self))};ZipfileWalker.prototype[\"GetCurrentEntryContent\"]=ZipfileWalker.prototype.GetCurrentEntryContent=function(){var self=this.ptr;return wrapPointer(_emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0(self),VoidPtr)};ZipfileWalker.prototype[\"__destroy__\"]=ZipfileWalker.prototype.__destroy__=function(){var self=this.ptr;_emscripten_bind_ZipfileWalker___destroy___0(self)};if(runtimeInitialized){moduleRtn=Module}else{moduleRtn=new Promise((resolve,reject)=>{readyPromiseResolve=resolve;readyPromiseReject=reject})}\n\n\n  return moduleRtn;\n}\n);\n})();\nif (typeof exports === 'object' && typeof module === 'object') {\n  module.exports = createModule;\n  // This default export looks redundant, but it allows TS to import this\n  // commonjs style module.\n  module.exports.default = createModule;\n} else if (typeof define === 'function' && define['amd'])\n  define([], () => createModule);\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.fastUniqueNumbers = {}));\n})(this, (function (exports) { 'use strict';\n\n    var createAddUniqueNumber = function createAddUniqueNumber(generateUniqueNumber) {\n      return function (set) {\n        var number = generateUniqueNumber(set);\n        set.add(number);\n        return number;\n      };\n    };\n\n    var createCache = function createCache(lastNumberWeakMap) {\n      return function (collection, nextNumber) {\n        lastNumberWeakMap.set(collection, nextNumber);\n        return nextNumber;\n      };\n    };\n\n    /*\n     * The value of the constant Number.MAX_SAFE_INTEGER equals (2 ** 53 - 1) but it\n     * is fairly new.\n     */\n    var MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER === undefined ? 9007199254740991 : Number.MAX_SAFE_INTEGER;\n    var TWO_TO_THE_POWER_OF_TWENTY_NINE = 536870912;\n    var TWO_TO_THE_POWER_OF_THIRTY = TWO_TO_THE_POWER_OF_TWENTY_NINE * 2;\n    var createGenerateUniqueNumber = function createGenerateUniqueNumber(cache, lastNumberWeakMap) {\n      return function (collection) {\n        var lastNumber = lastNumberWeakMap.get(collection);\n        /*\n         * Let's try the cheapest algorithm first. It might fail to produce a new\n         * number, but it is so cheap that it is okay to take the risk. Just\n         * increase the last number by one or reset it to 0 if we reached the upper\n         * bound of SMIs (which stands for small integers). When the last number is\n         * unknown it is assumed that the collection contains zero based consecutive\n         * numbers.\n         */\n        var nextNumber = lastNumber === undefined ? collection.size : lastNumber < TWO_TO_THE_POWER_OF_THIRTY ? lastNumber + 1 : 0;\n        if (!collection.has(nextNumber)) {\n          return cache(collection, nextNumber);\n        }\n        /*\n         * If there are less than half of 2 ** 30 numbers stored in the collection,\n         * the chance to generate a new random number in the range from 0 to 2 ** 30\n         * is at least 50%. It's benifitial to use only SMIs because they perform\n         * much better in any environment based on V8.\n         */\n        if (collection.size < TWO_TO_THE_POWER_OF_TWENTY_NINE) {\n          while (collection.has(nextNumber)) {\n            nextNumber = Math.floor(Math.random() * TWO_TO_THE_POWER_OF_THIRTY);\n          }\n          return cache(collection, nextNumber);\n        }\n        // Quickly check if there is a theoretical chance to generate a new number.\n        if (collection.size > MAX_SAFE_INTEGER) {\n          throw new Error('Congratulations, you created a collection of unique numbers which uses all available integers!');\n        }\n        // Otherwise use the full scale of safely usable integers.\n        while (collection.has(nextNumber)) {\n          nextNumber = Math.floor(Math.random() * MAX_SAFE_INTEGER);\n        }\n        return cache(collection, nextNumber);\n      };\n    };\n\n    var LAST_NUMBER_WEAK_MAP = new WeakMap();\n    var cache = createCache(LAST_NUMBER_WEAK_MAP);\n    var generateUniqueNumber = createGenerateUniqueNumber(cache, LAST_NUMBER_WEAK_MAP);\n    var addUniqueNumber = createAddUniqueNumber(generateUniqueNumber);\n\n    exports.addUniqueNumber = addUniqueNumber;\n    exports.generateUniqueNumber = generateUniqueNumber;\n\n}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar factories = [];\nfactories[0] = function () {\n    return function dispatcher0() { };\n};\nfactories[1] = function (callback, context) {\n    if (typeof (context) === 'undefined')\n        return callback;\n    return function dispatcher1(payload) {\n        callback(payload, context);\n    };\n};\nfunction getFactory(handlerCount) {\n    if (!factories[handlerCount])\n        factories[handlerCount] = compileFactory(handlerCount);\n    return factories[handlerCount];\n}\nfunction compileFactory(handlerCount) {\n    var src = 'return function dispatcher' + handlerCount + '(payload) {\\n';\n    var argsHandlers = [], argsContexts = [];\n    for (var i = 0; i < handlerCount; i++) {\n        argsHandlers.push('cb' + i);\n        argsContexts.push('ctx' + i);\n        src += '    cb' + i + '(payload, ctx' + i + ');\\n';\n    }\n    src += '};';\n    return new (Function.bind.apply(Function, [void 0].concat(argsHandlers.concat(argsContexts), [src])))();\n}\nvar Event = /** @class */ (function () {\n    function Event() {\n        this.hasHandlers = false;\n        this._handlers = [];\n        this._contexts = [];\n        this._createDispatcher();\n    }\n    Event.prototype.addHandler = function (handler, context) {\n        if (!this.isHandlerAttached(handler, context)) {\n            this._handlers.push(handler);\n            this._contexts.push(context);\n            this._createDispatcher();\n            this._updateHasHandlers();\n        }\n        return this;\n    };\n    Event.prototype.removeHandler = function (handler, context) {\n        var idx = this._getHandlerIndex(handler, context);\n        if (typeof (idx) !== 'undefined') {\n            this._handlers.splice(idx, 1);\n            this._contexts.splice(idx, 1);\n            this._createDispatcher();\n            this._updateHasHandlers();\n        }\n        return this;\n    };\n    Event.prototype.isHandlerAttached = function (handler, context) {\n        return typeof (this._getHandlerIndex(handler, context)) !== 'undefined';\n    };\n    Event.prototype._updateHasHandlers = function () {\n        this.hasHandlers = !!this._handlers.length;\n    };\n    Event.prototype._getHandlerIndex = function (handler, context) {\n        var handlerCount = this._handlers.length;\n        var idx;\n        for (idx = 0; idx < handlerCount; idx++) {\n            if (this._handlers[idx] === handler && this._contexts[idx] === context)\n                break;\n        }\n        return idx < handlerCount ? idx : undefined;\n    };\n    Event.prototype._createDispatcher = function () {\n        this.dispatch = getFactory(this._handlers.length).apply(this, this._handlers.concat(this._contexts));\n    };\n    return Event;\n}());\nexports.default = Event;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Event_1 = require(\"./Event\");\nexports.Event = Event_1.default;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","/**\n * This enumerates all supported devices.\n */\nexport enum DeviceId {\n    palmPilot = 'PalmPilot',\n    pilot = 'Pilot',\n    iii = 'PalmIII',\n    palmVx = 'PalmVx',\n    palmV = 'PalmV',\n    palmVII = 'PalmVII',\n    palmVIIEZ = 'PalmVIIEZ',\n    palmVIIx = 'PalmVIIx',\n    iiic = 'PalmIIIc',\n    iiix = 'PalmIIIx',\n    iiixe = 'PalmIIIxe',\n    iiie = 'PalmIIIe',\n    m500 = 'PalmM500',\n    m505 = 'PalmM505',\n    m515 = 'PalmM515',\n    m520 = 'PalmM520',\n    m100 = 'PalmM100',\n    m105 = 'PalmM105',\n    m125 = 'PalmM125',\n    m130 = 'PalmM130',\n    i705 = 'Palmi705',\n    i710 = 'PalmI710',\n    handera330 = 'HandEra330',\n    handera330c = 'HandEra330c',\n    pegS300 = 'PEG-S300',\n    pegS320 = 'PEG-S320',\n    pegS500c = 'PEG-S500C',\n    pegT400 = 'PEG-T400',\n    pegN600c = 'PEG-N600C/N610C',\n    pegT600c = 'PEG-T600',\n    pegN700c = 'PEG-N700C/N710C',\n    pegT650c = 'YSX1230',\n    pegNR70 = 'NR70',\n    acerS11 = 'Acer-S11',\n    lp168 = 'Legend-P168',\n}\n","/**\n * The four different orientation settings.\n */\nexport enum DeviceOrientation {\n    portrait = 'portrait',\n    landscape90 = 'landscape90',\n    landscape270 = 'landscape270',\n    portrait180 = 'portrait180',\n}\n","const E_TIMEOUT = new Error('timeout while waiting for mutex to become available');\nconst E_ALREADY_LOCKED = new Error('mutex already locked');\nconst E_CANCELED = new Error('request for lock canceled');\n\nvar __awaiter$2 = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nclass Semaphore {\n    constructor(_value, _cancelError = E_CANCELED) {\n        this._value = _value;\n        this._cancelError = _cancelError;\n        this._weightedQueues = [];\n        this._weightedWaiters = [];\n    }\n    acquire(weight = 1) {\n        if (weight <= 0)\n            throw new Error(`invalid weight ${weight}: must be positive`);\n        return new Promise((resolve, reject) => {\n            if (!this._weightedQueues[weight - 1])\n                this._weightedQueues[weight - 1] = [];\n            this._weightedQueues[weight - 1].push({ resolve, reject });\n            this._dispatch();\n        });\n    }\n    runExclusive(callback, weight = 1) {\n        return __awaiter$2(this, void 0, void 0, function* () {\n            const [value, release] = yield this.acquire(weight);\n            try {\n                return yield callback(value);\n            }\n            finally {\n                release();\n            }\n        });\n    }\n    waitForUnlock(weight = 1) {\n        if (weight <= 0)\n            throw new Error(`invalid weight ${weight}: must be positive`);\n        return new Promise((resolve) => {\n            if (!this._weightedWaiters[weight - 1])\n                this._weightedWaiters[weight - 1] = [];\n            this._weightedWaiters[weight - 1].push(resolve);\n            this._dispatch();\n        });\n    }\n    isLocked() {\n        return this._value <= 0;\n    }\n    getValue() {\n        return this._value;\n    }\n    setValue(value) {\n        this._value = value;\n        this._dispatch();\n    }\n    release(weight = 1) {\n        if (weight <= 0)\n            throw new Error(`invalid weight ${weight}: must be positive`);\n        this._value += weight;\n        this._dispatch();\n    }\n    cancel() {\n        this._weightedQueues.forEach((queue) => queue.forEach((entry) => entry.reject(this._cancelError)));\n        this._weightedQueues = [];\n    }\n    _dispatch() {\n        var _a;\n        for (let weight = this._value; weight > 0; weight--) {\n            const queueEntry = (_a = this._weightedQueues[weight - 1]) === null || _a === void 0 ? void 0 : _a.shift();\n            if (!queueEntry)\n                continue;\n            const previousValue = this._value;\n            const previousWeight = weight;\n            this._value -= weight;\n            weight = this._value + 1;\n            queueEntry.resolve([previousValue, this._newReleaser(previousWeight)]);\n        }\n        this._drainUnlockWaiters();\n    }\n    _newReleaser(weight) {\n        let called = false;\n        return () => {\n            if (called)\n                return;\n            called = true;\n            this.release(weight);\n        };\n    }\n    _drainUnlockWaiters() {\n        for (let weight = this._value; weight > 0; weight--) {\n            if (!this._weightedWaiters[weight - 1])\n                continue;\n            this._weightedWaiters[weight - 1].forEach((waiter) => waiter());\n            this._weightedWaiters[weight - 1] = [];\n        }\n    }\n}\n\nvar __awaiter$1 = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nclass Mutex {\n    constructor(cancelError) {\n        this._semaphore = new Semaphore(1, cancelError);\n    }\n    acquire() {\n        return __awaiter$1(this, void 0, void 0, function* () {\n            const [, releaser] = yield this._semaphore.acquire();\n            return releaser;\n        });\n    }\n    runExclusive(callback) {\n        return this._semaphore.runExclusive(() => callback());\n    }\n    isLocked() {\n        return this._semaphore.isLocked();\n    }\n    waitForUnlock() {\n        return this._semaphore.waitForUnlock();\n    }\n    release() {\n        if (this._semaphore.isLocked())\n            this._semaphore.release();\n    }\n    cancel() {\n        return this._semaphore.cancel();\n    }\n}\n\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nfunction withTimeout(sync, timeout, timeoutError = E_TIMEOUT) {\n    return {\n        acquire: (weight) => {\n            if (weight !== undefined && weight <= 0) {\n                throw new Error(`invalid weight ${weight}: must be positive`);\n            }\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                let isTimeout = false;\n                const handle = setTimeout(() => {\n                    isTimeout = true;\n                    reject(timeoutError);\n                }, timeout);\n                try {\n                    const ticket = yield sync.acquire(weight);\n                    if (isTimeout) {\n                        const release = Array.isArray(ticket) ? ticket[1] : ticket;\n                        release();\n                    }\n                    else {\n                        clearTimeout(handle);\n                        resolve(ticket);\n                    }\n                }\n                catch (e) {\n                    if (!isTimeout) {\n                        clearTimeout(handle);\n                        reject(e);\n                    }\n                }\n            }));\n        },\n        runExclusive(callback, weight) {\n            return __awaiter(this, void 0, void 0, function* () {\n                let release = () => undefined;\n                try {\n                    const ticket = yield this.acquire(weight);\n                    if (Array.isArray(ticket)) {\n                        release = ticket[1];\n                        return yield callback(ticket[0]);\n                    }\n                    else {\n                        release = ticket;\n                        return yield callback();\n                    }\n                }\n                finally {\n                    release();\n                }\n            });\n        },\n        release(weight) {\n            sync.release(weight);\n        },\n        cancel() {\n            return sync.cancel();\n        },\n        waitForUnlock: (weight) => {\n            if (weight !== undefined && weight <= 0) {\n                throw new Error(`invalid weight ${weight}: must be positive`);\n            }\n            return new Promise((resolve, reject) => {\n                sync.waitForUnlock(weight).then(resolve);\n                setTimeout(() => reject(timeoutError), timeout);\n            });\n        },\n        isLocked: () => sync.isLocked(),\n        getValue: () => sync.getValue(),\n        setValue: (value) => sync.setValue(value),\n    };\n}\n\n// eslint-disable-next-lisne @typescript-eslint/explicit-module-boundary-types\nfunction tryAcquire(sync, alreadyAcquiredError = E_ALREADY_LOCKED) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return withTimeout(sync, 0, alreadyAcquiredError);\n}\n\nexport { E_ALREADY_LOCKED, E_CANCELED, E_TIMEOUT, Mutex, Semaphore, tryAcquire, withTimeout };\n","export const isMacOSSafari = 'safari' in window;\nexport const isIOS =\n    !!navigator.platform.match(/iPhone|iPad|iPod/) ||\n    (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);\nexport const isIOSSafari = isIOS && !navigator.userAgent.match(/(crios)|(fxios)/i);\nexport const isIOSNative = !!navigator.userAgent.match(/pwashell/i);\n\nexport const isAndroid = !!navigator.userAgent.match(/android/i);\n\nexport const isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') >= 0;\n","import { AbstractEmulationService } from '@common/service/AbstractEmulationService';\nimport { Mutex } from 'async-mutex';\nimport { PwmUpdate } from '@common/bridge/Cloudpilot';\nimport { isIOS } from '@common/helper/browser';\n\ntype AudioContextType = typeof AudioContext;\n\ndeclare global {\n    interface Window {\n        webkitAudioContext: AudioContextType;\n        AudioContext: AudioContextType;\n    }\n}\n\nconst audioContextCtor = window.AudioContext || window.webkitAudioContext;\n\nfunction withTimeout<T>(v: Promise<T>, timeout = 100): Promise<T> {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => reject(new Error('timeout')), timeout);\n\n        v.then(resolve, reject);\n    });\n}\nexport abstract class AbstractAudioService {\n    constructor(private emulationService: AbstractEmulationService) {\n        this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate);\n\n        this.emulationService.emulationStateChangeEvent.addHandler(() => this.updateState());\n        this.emulationService.powerOffChangeEvent.addHandler(() => this.updateState());\n\n        if (!isIOS) document.addEventListener('visibilitychange', () => this.updateState());\n    }\n\n    initialize = (): Promise<boolean> =>\n        this.mutex.runExclusive(async () => {\n            for (let i = 0; i < 3; i++) {\n                if (await this.initializeAudioUnguarded()) return false;\n            }\n\n            return true;\n        });\n\n    isInitialized(): boolean {\n        return this.initialized;\n    }\n\n    mute(muted: boolean): void {\n        this.muted = muted;\n\n        void this.updateState();\n    }\n\n    isMuted(): boolean {\n        return this.muted;\n    }\n\n    protected abstract getVolume(): number;\n\n    protected abstract runHidden(): boolean;\n\n    protected shouldRun(): boolean {\n        return (\n            this.emulationService.isRunning() &&\n            !this.emulationService.isPowerOff() &&\n            !this.muted &&\n            this.gain() > 0 &&\n            (document.visibilityState !== 'hidden' || isIOS || this.runHidden())\n        );\n    }\n\n    protected updateState = (skipPwmUpdate = false) =>\n        this.mutex.runExclusive(async () => {\n            if (!this.context) return;\n\n            if (this.isRunning() === this.shouldRun()) return;\n            if (!skipPwmUpdate && !this.isRunning() && this.shouldRun()) this.applyPwmUpdate();\n\n            const oldState = this.context.state;\n\n            if (this.shouldRun()) {\n                try {\n                    this.updateGain();\n\n                    await withTimeout(this.context.resume());\n\n                    console.log('resume audio context');\n                } catch (e) {\n                    console.error(`failed to resume audio from state ${oldState}`);\n                }\n            } else {\n                try {\n                    await withTimeout(this.context.suspend());\n\n                    console.log('suspend audio context');\n                } catch (e) {\n                    console.error(`failed to suspend audio from state ${oldState}`);\n                }\n            }\n\n            console.log(`audio context state change ${oldState} -> ${this.context.state}`);\n        });\n\n    protected updateGain(): void {\n        if (this.gainNode) {\n            this.gainNode.gain.value = this.gain();\n        }\n    }\n\n    private async initializeAudioUnguarded(): Promise<boolean> {\n        if (this.initialized) return true;\n\n        try {\n            this.context = new audioContextCtor();\n        } catch (e) {\n            console.error(e);\n            console.error('web audio not available');\n\n            return false;\n        }\n\n        try {\n            this.context.destination.channelCount = 1;\n        } catch (e) {\n            console.warn('audio driver: failed to set channel count');\n        }\n\n        try {\n            await this.start();\n        } catch (e) {\n            console.error(e);\n            console.error('failed to initialize audio context');\n\n            return false;\n        }\n\n        this.context.addEventListener('statechange', () => {\n            if ((this.context?.state as string) === 'interrupted') void this.updateState();\n        });\n\n        this.gainNode = this.context.createGain();\n        this.gainNode.channelCount = 1;\n        this.gainNode.channelInterpretation = 'speakers';\n        this.gainNode.gain.value = this.gain();\n\n        this.gainNode.connect(this.context.destination);\n\n        this.applyPwmUpdate();\n\n        this.initialized = true;\n\n        return true;\n    }\n\n    private async start(): Promise<void> {\n        if (!this.context) return;\n\n        await withTimeout(this.context.resume());\n        void this.updateState();\n\n        console.log('audio context initialized');\n    }\n\n    private isRunning(): boolean {\n        return this.context?.state === 'running';\n    }\n\n    private onPwmUpdate = async (pwmUpdate: PwmUpdate): Promise<void> => {\n        this.pendingPwmUpdate = pwmUpdate;\n\n        if (!this.initialized) return;\n\n        if (this.shouldRun() !== this.isRunning()) void this.updateState(true);\n\n        if (!this.shouldRun()) return;\n\n        this.applyPwmUpdate();\n    };\n\n    private applyPwmUpdate(): void {\n        if (!this.context || !this.pendingPwmUpdate) return;\n\n        const { frequency, dutyCycle } = this.pendingPwmUpdate;\n        const sampleRate = this.context.sampleRate;\n\n        this.pendingPwmUpdate = undefined;\n\n        if (frequency <= 0 || dutyCycle <= 0 || frequency >= sampleRate) {\n            this.disconnectSource();\n\n            return;\n        }\n\n        const buffer = this.context.createBuffer(1, Math.round(sampleRate / frequency), sampleRate);\n        const data = buffer.getChannelData(0);\n\n        for (let i = 0; i < data.length; i++) {\n            data[i] = i / data.length < dutyCycle ? 1 : 0;\n        }\n\n        const bufferSourceNode = this.context.createBufferSource();\n        bufferSourceNode.channelCount = 1;\n        bufferSourceNode.channelInterpretation = 'speakers';\n        bufferSourceNode.loop = true;\n        bufferSourceNode.buffer = buffer;\n\n        this.disconnectSource();\n\n        bufferSourceNode.connect(this.gainNode);\n        bufferSourceNode.start();\n        this.bufferSourceNode = bufferSourceNode;\n\n        this.pendingPwmUpdate = undefined;\n    }\n\n    private disconnectSource(): void {\n        if (this.bufferSourceNode) {\n            this.bufferSourceNode.stop();\n            this.bufferSourceNode.disconnect();\n            this.bufferSourceNode = undefined;\n        }\n    }\n\n    private gain(): number {\n        return this.getVolume() / 2;\n    }\n\n    private mutex = new Mutex();\n    private context: AudioContext | undefined;\n\n    private bufferSourceNode: AudioBufferSourceNode | undefined;\n    private gainNode!: GainNode;\n\n    private initialized = false;\n    private muted = false;\n\n    private pendingPwmUpdate: PwmUpdate | undefined;\n}\n","import { AbstractAudioService } from '@common/service/AbstractAudioService';\n\nexport class EmbeddedAudioService extends AbstractAudioService {\n    public setVolume(volume: number): void {\n        this.volume = Math.max(Math.min(volume, 1), 0);\n\n        this.updateGain();\n    }\n\n    public getVolume(): number {\n        return this.volume;\n    }\n    protected runHidden(): boolean {\n        return false;\n    }\n\n    private volume = 0.5;\n}\n","import { isIOS, isMacOSSafari } from './browser';\n\nexport type LazyLoadingImage = () => Promise<HTMLImageElement>;\nexport type PrerenderedImage = (width: number, height: number) => Promise<HTMLCanvasElement>;\n\nexport function prerender(image: Promise<HTMLImageElement>, source: string | Promise<string>): PrerenderedImage {\n    let cachedWidth: number;\n    let cachedHeight: number;\n    const canvas = document.createElement('canvas');\n\n    return async (width: number, height: number) => {\n        if (cachedWidth === width && cachedHeight === height) {\n            return canvas;\n        }\n\n        canvas.width = width;\n        canvas.height = height;\n\n        const ctx = canvas.getContext('2d');\n        if (!ctx) throw new Error('get a new browser');\n\n        ctx.drawImage(await image, 0, 0, canvas.width, canvas.height);\n\n        if ((isMacOSSafari || isIOS) && (await source).indexOf('data:image') >= 0) {\n            // Safari has a bug that renders embedded PNGs only on second draw.\n            await new Promise((resolve) => setTimeout(resolve, 0));\n            ctx.drawImage(await image, 0, 0, canvas.width, canvas.height);\n        }\n\n        cachedWidth = width;\n        cachedHeight = height;\n\n        return canvas;\n    };\n}\n\nexport function loadImage(url: string): Promise<HTMLImageElement> {\n    return new Promise<HTMLImageElement>((resolve, reject) => {\n        const image = new Image();\n\n        image.onload = () => resolve(image);\n        image.onerror = () => reject();\n\n        image.src = url;\n    });\n}\n\nexport const svgToUrl = (svg: string): string => `data:image/svg+xml;base64,${btoa(svg)}`;\n","export enum SlotType {\n    sdcard = 'sdcard',\n    memorystick = 'memorystick',\n    none = 'none',\n}\n","import { Dimensions, ScreenSize } from '@common/model/Dimensions';\n\nimport { DeviceId } from '@common/model/DeviceId';\nimport { SlotType } from '../model/SlotType';\n\nexport function deviceDimensions(deviceId: DeviceId): Dimensions {\n    switch (deviceId) {\n        case DeviceId.i710:\n        case DeviceId.m520:\n            return {\n                screenSize: ScreenSize.screen320x320,\n                width: 320,\n                height: 320,\n                silkscreenHeight: 120,\n            };\n\n        case DeviceId.handera330:\n        case DeviceId.handera330c:\n        case DeviceId.lp168:\n            return {\n                screenSize: ScreenSize.screen240x320,\n                width: 240,\n                height: 320,\n                silkscreenHeight: 0,\n            };\n\n        case DeviceId.pegS300:\n        case DeviceId.pegS320:\n        case DeviceId.pegS500c:\n            return {\n                screenSize: ScreenSize.screen160x160,\n                width: 160,\n                height: 160,\n                silkscreenHeight: 76,\n            };\n\n        case DeviceId.pegT600c:\n        case DeviceId.pegT400:\n        case DeviceId.pegT650c:\n            return {\n                screenSize: ScreenSize.screen320x320,\n                width: 320,\n                height: 320,\n                silkscreenHeight: 140,\n                silkscreenOvershoot: 10,\n            };\n\n        case DeviceId.pegN600c:\n        case DeviceId.pegN700c:\n            return {\n                screenSize: ScreenSize.screen320x320,\n                width: 320,\n                height: 320,\n                silkscreenHeight: 120,\n            };\n\n        case DeviceId.pegNR70:\n            return {\n                screenSize: ScreenSize.screen320x480,\n                width: 320,\n                height: 480,\n                silkscreenHeight: 0,\n            };\n\n        case DeviceId.acerS11:\n            return {\n                screenSize: ScreenSize.screen160x160,\n                width: 160,\n                height: 160,\n                silkscreenHeight: 60,\n                siklscreenShift: 8,\n            };\n\n        default:\n            return {\n                screenSize: ScreenSize.screen160x160,\n                width: 160,\n                height: 160,\n                silkscreenHeight: 60,\n            };\n    }\n}\n\nexport function isColor(deviceId: DeviceId | undefined): boolean {\n    switch (deviceId) {\n        case DeviceId.pilot:\n        case DeviceId.palmPilot:\n        case DeviceId.iii:\n        case DeviceId.palmV:\n        case DeviceId.palmVx:\n        case DeviceId.iiix:\n        case DeviceId.iiixe:\n        case DeviceId.iiie:\n        case DeviceId.m100:\n        case DeviceId.m105:\n        case DeviceId.m125:\n        case DeviceId.m500:\n        case DeviceId.palmVII:\n        case DeviceId.palmVIIEZ:\n        case DeviceId.palmVIIx:\n        case DeviceId.i705:\n        case DeviceId.handera330:\n        case DeviceId.pegS300:\n        case DeviceId.pegS320:\n        case DeviceId.pegT400:\n        case DeviceId.acerS11:\n            return false;\n\n        default:\n            return true;\n    }\n}\n\nexport function cpuClock(deviceId: DeviceId): number {\n    switch (deviceId) {\n        case DeviceId.palmPilot:\n        case DeviceId.pilot:\n        case DeviceId.iii:\n        case DeviceId.palmVII:\n            return 16;\n\n        case DeviceId.palmVx:\n        case DeviceId.palmV:\n        case DeviceId.palmVIIEZ:\n        case DeviceId.palmVIIx:\n        case DeviceId.iiic:\n        case DeviceId.iiix:\n        case DeviceId.iiixe:\n        case DeviceId.iiie:\n        case DeviceId.m100:\n        case DeviceId.m105:\n        case DeviceId.pegS300:\n        case DeviceId.pegS500c:\n            return 16;\n\n        case DeviceId.m500:\n        case DeviceId.m505:\n        case DeviceId.m515:\n        case DeviceId.m520:\n        case DeviceId.m125:\n        case DeviceId.m130:\n        case DeviceId.i705:\n        case DeviceId.i710:\n        case DeviceId.handera330:\n        case DeviceId.handera330c:\n        case DeviceId.pegS320:\n        case DeviceId.pegT400:\n        case DeviceId.pegN600c:\n        case DeviceId.pegT600c:\n        case DeviceId.pegN700c:\n        case DeviceId.acerS11:\n            return 33;\n\n        case DeviceId.pegT650c:\n        case DeviceId.pegNR70:\n        case DeviceId.lp168:\n            return 66;\n    }\n}\n\nexport function deviceName(deviceId: DeviceId): string {\n    switch (deviceId) {\n        case DeviceId.pilot:\n            return 'Pilot';\n\n        case DeviceId.palmPilot:\n            return 'Palm Pilot';\n\n        case DeviceId.iii:\n            return 'Palm III';\n\n        case DeviceId.m500:\n            return 'Palm m500';\n\n        case DeviceId.m505:\n            return 'Palm m505';\n\n        case DeviceId.m515:\n            return 'Palm m515';\n\n        case DeviceId.m520:\n            return 'Palm m520';\n\n        case DeviceId.palmVx:\n            return 'Palm Vx';\n\n        case DeviceId.iiix:\n            return 'Palm IIIx';\n\n        case DeviceId.iiixe:\n            return 'Palm IIIxe';\n\n        case DeviceId.iiie:\n            return 'Palm IIIe';\n\n        case DeviceId.palmV:\n            return 'Palm V';\n\n        case DeviceId.palmVII:\n            return 'Palm VII';\n\n        case DeviceId.palmVIIEZ:\n            return 'Palm VII EZ';\n\n        case DeviceId.palmVIIx:\n            return 'Palm VIIx';\n\n        case DeviceId.iiic:\n            return 'Palm IIIc';\n\n        case DeviceId.m100:\n            return 'Palm m100';\n\n        case DeviceId.m105:\n            return 'Palm m105';\n\n        case DeviceId.m125:\n            return 'Palm m125';\n\n        case DeviceId.m130:\n            return 'Palm m130';\n\n        case DeviceId.i705:\n            return 'Palm i705';\n\n        case DeviceId.i710:\n            return 'Tungsten W';\n\n        case DeviceId.handera330:\n            return 'Handera 330';\n\n        case DeviceId.handera330c:\n            return 'Handera 330c';\n\n        case DeviceId.pegS300:\n            return 'Sony PEG-S300';\n\n        case DeviceId.pegS320:\n            return 'Sony PEG-S320';\n\n        case DeviceId.pegT400:\n            return 'Sony PEG-T400 series';\n\n        case DeviceId.pegN600c:\n            return 'Sony PEG-N600C series';\n\n        case DeviceId.pegT600c:\n            return 'Sony PEG-T600C series';\n\n        case DeviceId.pegN700c:\n            return 'Sony PEG-N700C series';\n\n        case DeviceId.pegT650c:\n            return 'Sony PEG-T650C series';\n\n        case DeviceId.pegNR70:\n            return 'Sony PEG-NR70 series';\n\n        case DeviceId.pegS500c:\n            return 'Sony PEG-S500C series';\n\n        case DeviceId.acerS11:\n            return 'Acer S1x series';\n\n        case DeviceId.lp168:\n            return 'Legend P168';\n\n        default:\n            throw new Error('bad device ID');\n    }\n}\n\nexport function quirkNoPoweroff(deviceId: DeviceId) {\n    switch (deviceId) {\n        case DeviceId.i705:\n        case DeviceId.i710:\n        case DeviceId.pegNR70:\n        case DeviceId.pegT650c:\n        case DeviceId.lp168:\n            return true;\n\n        default:\n            return false;\n    }\n}\n\nexport function slotType(deviceId: DeviceId) {\n    switch (deviceId) {\n        case DeviceId.m500:\n        case DeviceId.m505:\n        case DeviceId.m515:\n        case DeviceId.m520:\n        case DeviceId.m125:\n        case DeviceId.m130:\n        case DeviceId.i705:\n        case DeviceId.i710:\n        case DeviceId.handera330:\n        case DeviceId.handera330c:\n            return SlotType.sdcard;\n\n        case DeviceId.pegS300:\n        case DeviceId.pegS500c:\n        case DeviceId.pegS320:\n        case DeviceId.pegT400:\n        case DeviceId.pegN600c:\n        case DeviceId.pegT600c:\n        case DeviceId.pegN700c:\n        case DeviceId.pegT650c:\n        case DeviceId.pegNR70:\n        case DeviceId.acerS11:\n            return SlotType.memorystick;\n\n        default:\n            return SlotType.none;\n    }\n}\n","const BACKGROUND = [135, 135, 105];\nconst FOREGROUND = [0x0, 0x0, 0x0];\n\nexport const GRAYSCALE_PALETTE_RGBA = new Array(16)\n    .fill(0)\n    .map((_, i) => FOREGROUND.map((fg, j) => Math.floor((i * fg + (15 - i) * BACKGROUND[j]) / 15)))\n    .map(([r, g, b]) => 0xff000000 | (b << 16) | (g << 8) | r);\n\nexport const GRAYSCALE_PALETTE_HEX = GRAYSCALE_PALETTE_RGBA.map(\n    (x) => '#' + (x & 0xffffff).toString(16).padStart(6, '0').match(/(..?)/g)?.reverse().join(''),\n);\n","import { SkinElement, SkinLoader } from './SkinLoader';\nimport { deviceDimensions, isColor } from '@common/helper/deviceProperties';\n\nimport { DeviceId } from '@common/model/DeviceId';\nimport { DeviceOrientation } from '@common/model/DeviceOrientation';\nimport { Event } from 'microevent.ts';\nimport { GRAYSCALE_PALETTE_HEX } from '@common/helper/palette';\nimport { PalmButton } from '@common/bridge/Cloudpilot';\nimport { PrerenderedImage } from '@common/helper/image';\nimport { ScreenSize } from '@common/model/Dimensions';\n\nexport const DEFAULT_DEVICE = DeviceId.m515;\nconst BACKGROUND_COLOR_SILKSCREEN = GRAYSCALE_PALETTE_HEX[2];\nconst BACKGROUND_COLOR_GRAYSCALE_DEVICE = GRAYSCALE_PALETTE_HEX[0];\nconst BACKGROUND_COLOR_COLOR_DEVICE = 'white';\nconst FRAME_COLOR_COLOR_DEVICE = 'white';\nconst FRAME_COLOR_GRAYSCALE_DEVICE = '#ccc';\nconst BACKGROUND_ACTIVE_BUTTON = 'rgba(0,0,0,0.2)';\n\ninterface FrameDependent {\n    frameDevice: number;\n    frameCanvas: number;\n}\n\ninterface Layout {\n    scale: number;\n    borderWidth: FrameDependent;\n    width: FrameDependent;\n    height: FrameDependent;\n    screenHeight: FrameDependent;\n    screenWidth: FrameDependent;\n    screenLeft: FrameDependent;\n    screenTop: FrameDependent;\n    screenBottom: FrameDependent;\n    separatorHeight: FrameDependent;\n    silkscreenHeight: FrameDependent;\n    silkscreenTop: FrameDependent;\n    silkscreenBottom: FrameDependent;\n    softSilkscreenHeight: FrameDependent;\n    buttonHeight: FrameDependent;\n    buttonWidth: FrameDependent;\n    buttonTop: FrameDependent;\n    buttonBottom: FrameDependent;\n}\n\nfunction buttonHeightForScreenSize(screenSize: ScreenSize) {\n    switch (screenSize) {\n        case ScreenSize.screen320x480:\n        case ScreenSize.screen320x320:\n            return 60;\n\n        case ScreenSize.screen240x320:\n            return 45;\n\n        default:\n            return 30;\n    }\n}\n\nfunction calculateLayout(device: DeviceId): Layout {\n    const dimensions = deviceDimensions(device);\n    const scale = (dimensions.screenSize === ScreenSize.screen160x160 ? 3 : 2) * devicePixelRatio;\n    const borderWidth: FrameDependent = { frameDevice: 1, frameCanvas: scale };\n\n    const dist = (x: number): FrameDependent => ({ frameDevice: x, frameCanvas: x * scale });\n    const coord = (x: number): FrameDependent => ({ frameDevice: x, frameCanvas: borderWidth.frameCanvas + x * scale });\n\n    const separatorHeight = dimensions.silkscreenHeight > 0 ? dist(1) : dist(0);\n    const buttonHeight = dist(buttonHeightForScreenSize(dimensions.screenSize));\n\n    return {\n        scale,\n        borderWidth,\n        height: dist(\n            2 * borderWidth.frameDevice +\n                dimensions.height +\n                separatorHeight.frameDevice +\n                dimensions.silkscreenHeight +\n                buttonHeight.frameDevice,\n        ),\n        width: dist(2 * borderWidth.frameDevice + dimensions.width),\n        screenHeight: dist(dimensions.height),\n        screenWidth: dist(dimensions.width),\n        screenLeft: coord(0),\n        screenTop: coord(0),\n        screenBottom: coord(dimensions.height),\n        separatorHeight,\n        silkscreenHeight: dist(dimensions.silkscreenHeight),\n        silkscreenTop: coord(dimensions.height + separatorHeight.frameDevice),\n        silkscreenBottom: coord(dimensions.height + separatorHeight.frameDevice + dimensions.silkscreenHeight),\n        softSilkscreenHeight: dist(dimensions.silkscreenHeight > 0 ? 0 : dimensions.height - dimensions.width),\n        buttonHeight,\n        buttonWidth: buttonHeight,\n        buttonTop: coord(dimensions.height + separatorHeight.frameDevice + dimensions.silkscreenHeight),\n        buttonBottom: coord(\n            dimensions.height + separatorHeight.frameDevice + dimensions.silkscreenHeight + buttonHeight.frameDevice,\n        ),\n    };\n}\n\nexport abstract class AbstractCanvasDisplayService {\n    constructor(protected skinLoader: SkinLoader) {}\n\n    get width(): number {\n        switch (this.getOrientation()) {\n            case DeviceOrientation.portrait:\n            case DeviceOrientation.portrait180:\n            case undefined:\n                return this.layout.width.frameCanvas;\n\n            default:\n                return this.layout.height.frameCanvas;\n        }\n    }\n\n    get height(): number {\n        switch (this.getOrientation()) {\n            case DeviceOrientation.portrait:\n            case DeviceOrientation.portrait180:\n            case undefined:\n                return this.layout.height.frameCanvas;\n\n            default:\n                return this.layout.width.frameCanvas;\n        }\n    }\n\n    updateEmulationCanvas(canvas?: HTMLCanvasElement) {\n        this.setupTransformation();\n        this.drawEmulationCanvas(canvas);\n\n        this.onAfterUpdateCanvas();\n    }\n\n    eventToPalmCoordinates(e: MouseEvent | Touch, clip = false): [number, number] | undefined {\n        if (!this.ctx) return;\n\n        const bb = this.ctx.canvas.getBoundingClientRect();\n\n        let contentX: number;\n        let contentY: number;\n        let contentWidth: number;\n        let contentHeight: number;\n\n        // CSS object-fit keeps the aspect ratio of the canvas content, but the canvas itself\n        // looses aspect and fills the container -> manually calculate the metrics for the content\n        if (bb.width / bb.height > this.width / this.height) {\n            contentHeight = bb.height;\n            contentWidth = (this.width / this.height) * bb.height;\n            contentY = bb.top;\n            contentX = bb.left + (bb.width - contentWidth) / 2;\n        } else {\n            contentWidth = bb.width;\n            contentHeight = (this.height / this.width) * bb.width;\n            contentX = bb.left;\n            contentY = bb.top + (bb.height - contentHeight) / 2;\n        }\n\n        // Transform coordinate to device frame\n        let x = (((e.clientX - contentX) / contentWidth) * this.width) / this.layout.scale;\n        let y = (((e.clientY - contentY) / contentHeight) * this.height) / this.layout.scale;\n\n        // Rotate if applicable\n        switch (this.getOrientation()) {\n            case DeviceOrientation.landscape90: {\n                const tmp = y;\n                y = this.layout.height.frameDevice - x;\n                x = tmp;\n\n                break;\n            }\n\n            case DeviceOrientation.landscape270: {\n                const tmp = y;\n                y = x;\n                x = this.layout.width.frameDevice - tmp;\n                break;\n            }\n\n            case DeviceOrientation.portrait180: {\n                x = this.layout.width.frameDevice - x;\n                y = this.layout.height.frameDevice - y;\n                break;\n            }\n        }\n\n        // Compensate for the border\n        x -= this.layout.borderWidth.frameDevice;\n        y -= this.layout.borderWidth.frameDevice;\n\n        // The canvas layout inside the border is as follows:\n        //\n        // * 0 .. 159   : LCD\n        // * 160        : separator\n        // * 161 .. 220 : silkscreen\n        // * 221 .. 250 : buttons\n        //\n        // we map this to 160x250 lines by mapping the separator to the silkscreen\n\n        if (y >= this.layout.screenHeight.frameDevice) {\n            if (y <= this.layout.screenHeight.frameDevice + this.layout.separatorHeight.frameDevice) {\n                y = this.layout.screenHeight.frameDevice;\n            } else {\n                y -= this.layout.separatorHeight.frameDevice;\n            }\n        }\n\n        const totalHeight =\n            this.layout.screenHeight.frameDevice +\n            this.layout.silkscreenHeight.frameDevice +\n            this.layout.buttonHeight.frameDevice;\n\n        if (clip) {\n            if (x < 0) x = 0;\n            if (x >= this.layout.screenWidth.frameDevice) x = this.layout.screenWidth.frameDevice - 1;\n            if (y < 0) y = 0;\n            if (y >= totalHeight) y = totalHeight - 1;\n        } else {\n            if (x < 0 || x >= this.layout.screenWidth.frameDevice || y < 0 || y >= totalHeight) {\n                return undefined;\n            }\n        }\n\n        return [x, y];\n    }\n\n    isSilkscreen(coords: [number, number]): boolean {\n        const [, y] = coords;\n\n        return !this.isButtons(coords) && y >= this.layout.screenHeight.frameDevice;\n    }\n\n    isButtons([, y]: [number, number]): boolean {\n        return y >= this.layout.screenHeight.frameDevice + this.layout.silkscreenHeight.frameDevice;\n    }\n\n    determineButton([x, y]: [number, number]): PalmButton {\n        if (x >= this.layout.screenWidth.frameDevice - this.layout.buttonWidth.frameDevice) return PalmButton.notes;\n        if (x >= this.layout.screenWidth.frameDevice - 2 * this.layout.buttonWidth.frameDevice) return PalmButton.todo;\n        if (x >= 2 * this.layout.buttonWidth.frameDevice) {\n            return y >=\n                this.layout.screenHeight.frameDevice +\n                    this.layout.silkscreenHeight.frameDevice +\n                    this.layout.buttonHeight.frameDevice / 2\n                ? PalmButton.down\n                : PalmButton.up;\n        }\n        if (x >= this.layout.buttonWidth.frameDevice) return PalmButton.phone;\n\n        return PalmButton.cal;\n    }\n\n    protected async initWithCanvas(canvas: HTMLCanvasElement | undefined = this.ctx?.canvas): Promise<void> {\n        if (!canvas) return;\n\n        this.layout = calculateLayout(this.getDeviceId());\n\n        this.onResize.dispatch();\n\n        canvas.width = this.width;\n        canvas.height = this.height;\n\n        const ctx = canvas.getContext('2d');\n        if (!ctx) {\n            throw new Error('canvas not supported - get a new browser');\n        }\n\n        this.ctx = ctx;\n\n        this.setupTransformation();\n        this.fillCanvasRect(0, 0, this.layout.width.frameCanvas, this.layout.height.frameCanvas, this.frameColor());\n        this.fillRect(\n            0,\n            0,\n            this.layout.screenWidth.frameDevice,\n            this.layout.screenHeight.frameDevice +\n                this.layout.silkscreenHeight.frameDevice +\n                this.layout.separatorHeight.frameDevice +\n                this.layout.buttonHeight.frameDevice,\n            this.backgroundColor(),\n        );\n\n        this.drawEmulationCanvas();\n        await Promise.all([this.drawSilkscreen(), this.drawButtons()]);\n    }\n\n    async drawButtons(activeButtons: Array<PalmButton> = []): Promise<void> {\n        if (!this.ctx) return;\n        this.setupTransformation();\n\n        this.ctx.imageSmoothingEnabled = true;\n        this.ctx.imageSmoothingQuality = 'high';\n\n        this.ctx.drawImage(\n            await this.buttonsImage()(this.layout.screenWidth.frameCanvas, this.layout.buttonHeight.frameCanvas),\n            this.layout.screenLeft.frameCanvas,\n            this.layout.buttonTop.frameCanvas,\n            this.layout.screenWidth.frameCanvas,\n            this.layout.buttonHeight.frameCanvas,\n        );\n\n        if (activeButtons.includes(PalmButton.cal)) {\n            this.fillRect(\n                0,\n                this.layout.buttonTop.frameDevice,\n                this.layout.buttonWidth.frameDevice,\n                this.layout.buttonHeight.frameDevice,\n                BACKGROUND_ACTIVE_BUTTON,\n            );\n        }\n        if (activeButtons.includes(PalmButton.phone)) {\n            this.fillRect(\n                this.layout.buttonWidth.frameDevice,\n                this.layout.buttonTop.frameDevice,\n                this.layout.buttonWidth.frameDevice,\n                this.layout.buttonHeight.frameDevice,\n                BACKGROUND_ACTIVE_BUTTON,\n            );\n        }\n        if (activeButtons.includes(PalmButton.todo)) {\n            this.fillRect(\n                this.layout.screenWidth.frameDevice - 2 * this.layout.buttonWidth.frameDevice,\n                this.layout.buttonTop.frameDevice,\n                this.layout.buttonWidth.frameDevice,\n                this.layout.buttonHeight.frameDevice,\n                BACKGROUND_ACTIVE_BUTTON,\n            );\n        }\n        if (activeButtons.includes(PalmButton.notes)) {\n            this.fillRect(\n                this.layout.screenWidth.frameDevice - this.layout.buttonWidth.frameDevice,\n                this.layout.buttonTop.frameDevice,\n                this.layout.buttonWidth.frameDevice,\n                this.layout.buttonHeight.frameDevice,\n                BACKGROUND_ACTIVE_BUTTON,\n            );\n        }\n        if (activeButtons.includes(PalmButton.up)) {\n            this.fillRect(\n                2 * this.layout.buttonWidth.frameDevice,\n                this.layout.buttonTop.frameDevice,\n                this.layout.screenWidth.frameDevice - 4 * this.layout.buttonWidth.frameDevice,\n                this.layout.buttonHeight.frameDevice / 2,\n                BACKGROUND_ACTIVE_BUTTON,\n            );\n        }\n        if (activeButtons.includes(PalmButton.down)) {\n            this.fillRect(\n                2 * this.layout.buttonWidth.frameDevice,\n                this.layout.buttonTop.frameDevice + this.layout.buttonHeight.frameDevice / 2,\n                this.layout.screenWidth.frameDevice - 4 * this.layout.buttonWidth.frameDevice,\n                this.layout.buttonHeight.frameDevice / 2,\n                BACKGROUND_ACTIVE_BUTTON,\n            );\n        }\n    }\n\n    protected abstract getDeviceId(): DeviceId;\n\n    protected abstract getOrientation(): DeviceOrientation;\n\n    protected onAfterUpdateCanvas(): void {}\n\n    protected setupTransformation(): void {\n        if (!this.ctx) return;\n\n        this.ctx.resetTransform();\n\n        switch (this.getOrientation()) {\n            case DeviceOrientation.portrait:\n            case undefined:\n                break;\n\n            case DeviceOrientation.landscape90:\n                this.ctx.translate(this.layout.height.frameCanvas, 0);\n                this.ctx.rotate(Math.PI / 2);\n                break;\n\n            case DeviceOrientation.landscape270:\n                this.ctx.translate(0, this.layout.width.frameCanvas);\n                this.ctx.rotate((3 * Math.PI) / 2);\n                break;\n\n            case DeviceOrientation.portrait180:\n                this.ctx.translate(this.layout.width.frameCanvas, this.layout.height.frameCanvas);\n                this.ctx.rotate(Math.PI);\n                break;\n        }\n    }\n\n    protected async drawSilkscreen(): Promise<void> {\n        if (this.layout.silkscreenHeight.frameCanvas === 0 || !this.ctx) return;\n        this.setupTransformation();\n\n        this.fillRect(\n            this.layout.screenLeft.frameDevice,\n            this.layout.silkscreenTop.frameDevice,\n            this.layout.screenWidth.frameDevice,\n            this.layout.silkscreenHeight.frameDevice,\n            BACKGROUND_COLOR_SILKSCREEN,\n        );\n\n        this.ctx.imageSmoothingEnabled = true;\n        this.ctx.imageSmoothingQuality = 'high';\n\n        this.ctx.drawImage(\n            await this.silkscreenImage()(this.layout.screenWidth.frameCanvas, this.layout.silkscreenHeight.frameCanvas),\n            this.layout.borderWidth.frameCanvas,\n            this.layout.silkscreenTop.frameCanvas,\n            this.layout.screenWidth.frameCanvas,\n            this.layout.silkscreenHeight.frameCanvas,\n        );\n    }\n\n    protected drawEmulationCanvas(canvas = this.lastEmulationCanvas): void {\n        if (!canvas || !this.ctx) return;\n        this.lastEmulationCanvas = canvas;\n\n        this.ctx.imageSmoothingEnabled = false;\n        this.ctx.drawImage(\n            canvas,\n            this.layout.screenLeft.frameCanvas,\n            this.layout.screenTop.frameCanvas,\n            this.layout.screenWidth.frameCanvas,\n            this.layout.screenHeight.frameCanvas,\n        );\n    }\n\n    protected fillRect(x: number, y: number, width: number, height: number, style: string): void {\n        if (!this.ctx) return;\n\n        this.ctx.beginPath();\n        this.ctx.rect(\n            this.layout.borderWidth.frameCanvas + this.layout.scale * x,\n            this.layout.borderWidth.frameCanvas + this.layout.scale * y,\n            this.layout.scale * width,\n            this.layout.scale * height,\n        );\n        this.ctx.fillStyle = style;\n        this.ctx.fill();\n    }\n\n    protected fillCanvasRect(x: number, y: number, width: number, height: number, style: string): void {\n        if (!this.ctx) return;\n\n        this.ctx.beginPath();\n        this.ctx.rect(x, y, width, height);\n        this.ctx.fillStyle = style;\n        this.ctx.fill();\n    }\n\n    protected silkscreenImage(): PrerenderedImage {\n        return this.skinLoader.loadSkinElement(this.silkscreenSkinElement());\n    }\n\n    protected silkscreenSkinElement(): SkinElement {\n        switch (this.getDeviceId()) {\n            case DeviceId.pegT600c:\n            case DeviceId.pegT650c:\n                return SkinElement.SILKSCREEN_PEG_T600;\n\n            case DeviceId.pegN700c:\n            case DeviceId.pegN600c:\n                return SkinElement.SILKSCREEN_PEG_N610;\n\n            case DeviceId.pegS320:\n            case DeviceId.pegS300:\n                return SkinElement.SILKSCREEN_PEG_S300;\n\n            case DeviceId.pegS500c:\n                return SkinElement.SILKSCREEN_PEG_S500;\n\n            case DeviceId.pegT400:\n                return SkinElement.SILKSCREEN_PEG_T415;\n\n            case DeviceId.acerS11:\n                return SkinElement.SILKSCREEN_ACER_S10;\n\n            case DeviceId.palmPilot:\n            case DeviceId.pilot:\n            case DeviceId.iii:\n            case DeviceId.palmVII:\n                return SkinElement.SILKSCREEN_PILOT;\n\n            case DeviceId.m500:\n                return SkinElement.SILKSCREEN_M500;\n\n            case DeviceId.m505:\n            case DeviceId.m515:\n            case DeviceId.m520:\n                return SkinElement.SILKSCREEN_M515;\n\n            case DeviceId.iiic:\n                return SkinElement.SILKSCREEN_IIIC;\n\n            case DeviceId.m100:\n            case DeviceId.m105:\n            case DeviceId.m125:\n                return SkinElement.SILKSCREEN_M100;\n\n            case DeviceId.m130:\n                return SkinElement.SILKSCREEN_M130;\n\n            case DeviceId.i710:\n                return SkinElement.SILKSCREEN_TUNGSTEN_W;\n\n            case DeviceId.i705:\n                return SkinElement.SILKSCREEN_I705;\n\n            case DeviceId.iiic:\n            case DeviceId.iiix:\n            case DeviceId.iiixe:\n            case DeviceId.palmVx:\n            case DeviceId.palmV:\n            case DeviceId.palmVIIEZ:\n            case DeviceId.palmVIIx:\n            default:\n                return SkinElement.SILKSCREEN_V;\n        }\n    }\n\n    protected buttonsImage(): PrerenderedImage {\n        return this.skinLoader.loadSkinElement(this.buttonsSkinElement());\n    }\n\n    protected buttonsSkinElement(): SkinElement {\n        switch (this.getDeviceId()) {\n            case DeviceId.acerS11:\n                return SkinElement.HARD_BUTTONS_ACER_S10;\n\n            case DeviceId.pegNR70:\n                return SkinElement.HARD_BUTTONS_PEG_NR70;\n\n            case DeviceId.pegN700c:\n                return SkinElement.HARD_BUTTONS_PEG_N700;\n\n            case DeviceId.pegN600c:\n                return SkinElement.HARD_BUTTONS_PEG_N610;\n\n            case DeviceId.pegS300:\n                return SkinElement.HARD_BUTTONS_PEG_S300;\n\n            case DeviceId.pegS500c:\n                return SkinElement.HARD_BUTTONS_PEG_S500;\n\n            case DeviceId.pegS320:\n                return SkinElement.HARD_BUTTONS_PEG_S320;\n\n            case DeviceId.pegT400:\n            case DeviceId.pegT600c:\n            case DeviceId.pegT650c:\n                return SkinElement.HARD_BUTTONS_PEG_T415;\n\n            case DeviceId.pilot:\n            case DeviceId.palmPilot:\n                return SkinElement.HARD_BUTTONS_PILOT;\n\n            case DeviceId.m500:\n                return SkinElement.HARD_BUTTONS_M500;\n\n            case DeviceId.m505:\n            case DeviceId.m515:\n            case DeviceId.m520:\n                return SkinElement.HARD_BUTTONS_M515;\n\n            case DeviceId.iiic:\n                return SkinElement.HARD_BUTTONS_IIIC;\n\n            case DeviceId.m100:\n            case DeviceId.m105:\n                return SkinElement.HARD_BUTTONS_M100;\n\n            case DeviceId.m125:\n                return SkinElement.HARD_BUTTONS_M125;\n\n            case DeviceId.m130:\n                return SkinElement.HARD_BUTTONS_M130;\n\n            case DeviceId.i710:\n                return SkinElement.HARD_BUTTONS_TUNGSTEN_W;\n\n            case DeviceId.iii:\n            case DeviceId.iiix:\n            case DeviceId.iiixe:\n            case DeviceId.palmVII:\n            case DeviceId.palmVIIEZ:\n            case DeviceId.palmVIIx:\n                return SkinElement.HARD_BUTTONS_IIIX;\n\n            case DeviceId.iiie:\n                return SkinElement.HARD_BUTTONS_IIIE;\n\n            case DeviceId.i705:\n                return SkinElement.HARD_BUTTONS_I705;\n\n            case DeviceId.handera330:\n                return SkinElement.HARD_BUTTONS_HANDERA330;\n\n            case DeviceId.handera330c:\n                return SkinElement.HARD_BUTTONS_HANDERA330C;\n\n            case DeviceId.lp168:\n                return SkinElement.HARD_BUTTONS_LEGEND_P168;\n\n            case DeviceId.palmVx:\n            case DeviceId.palmV:\n            default:\n                return SkinElement.HARD_BUTTONS_PALM_V;\n        }\n    }\n\n    protected backgroundColor(): string {\n        return isColor(this.getDeviceId()) ? BACKGROUND_COLOR_COLOR_DEVICE : BACKGROUND_COLOR_GRAYSCALE_DEVICE;\n    }\n\n    protected frameColor(): string {\n        return isColor(this.getDeviceId()) ? FRAME_COLOR_COLOR_DEVICE : FRAME_COLOR_GRAYSCALE_DEVICE;\n    }\n\n    protected ctx: CanvasRenderingContext2D | undefined;\n    protected layout = calculateLayout(DEFAULT_DEVICE);\n    protected lastEmulationCanvas: HTMLCanvasElement | undefined;\n\n    readonly onResize = new Event<void>();\n\n    // protected dimensions = DEFAULT_DIMENSIONS;\n}\n","import { loadImage, prerender } from '@common/helper/image';\n\nimport { AbstractCanvasDisplayService } from '@common/service/AbstractCanvasDisplayService';\nimport { DeviceId } from '@common/model/DeviceId';\nimport { DeviceOrientation } from '@common/model/DeviceOrientation';\nimport { PalmButton } from '@native/cloudpilot_web';\nimport { svgToUrl } from './../../../common/helper/image';\n\nconst GAME_ICON_SVG =\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"ionicon\" viewBox=\"0 0 512 512\"><title>Game Controller</title><path d=\"M467.51 248.83c-18.4-83.18-45.69-136.24-89.43-149.17A91.5 91.5 0 00352 96c-26.89 0-48.11 16-96 16s-69.15-16-96-16a99.09 99.09 0 00-27.2 3.66C89 112.59 61.94 165.7 43.33 248.83c-19 84.91-15.56 152 21.58 164.88 26 9 49.25-9.61 71.27-37 25-31.2 55.79-40.8 119.82-40.8s93.62 9.6 118.66 40.8c22 27.41 46.11 45.79 71.42 37.16 41.02-14.01 40.44-79.13 21.43-165.04z\" fill=\"none\" stroke=\"currentColor\" stroke-miterlimit=\"10\" stroke-width=\"32\"/><circle cx=\"292\" cy=\"224\" r=\"20\"/><path d=\"M336 288a20 20 0 1120-19.95A20 20 0 01336 288z\"/><circle cx=\"336\" cy=\"180\" r=\"20\"/><circle cx=\"380\" cy=\"224\" r=\"20\"/><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M160 176v96M208 224h-96\"/></svg>';\n\nconst GAME_ICON_PRERENDERED = prerender(loadImage(svgToUrl(GAME_ICON_SVG)), GAME_ICON_SVG);\n\nexport class EmbeddedCanvasDisplayService extends AbstractCanvasDisplayService {\n    async initialize(canvas?: HTMLCanvasElement, deviceId = this.deviceId, orientation = this.orientation) {\n        this.deviceId = deviceId;\n        this.orientation = orientation;\n\n        const theCanvas = canvas || this.ctx?.canvas;\n        if (theCanvas) {\n            theCanvas.width = this.width;\n            theCanvas.height = this.height;\n\n            theCanvas.style.objectFit = 'contain';\n        }\n\n        await this.initWithCanvas(canvas);\n    }\n\n    updateOrientation(orientation: DeviceOrientation) {\n        this.orientation = orientation;\n        void this.initialize();\n    }\n\n    toggleGameModeIndicator(gameModeActive: boolean): void {\n        this.gameModeActive = gameModeActive;\n\n        void this.drawButtons(this.lastActiveButtons);\n    }\n\n    setGameModeIndicatorEnabled(gameModeIndicatorEnabled: boolean) {\n        this.gameModeIndicatorEnabled = gameModeIndicatorEnabled;\n\n        void this.drawButtons(this.lastActiveButtons);\n    }\n\n    isGameModeIndicatorEnabled(): boolean {\n        return this.gameModeIndicatorEnabled;\n    }\n\n    getCanvas(): HTMLCanvasElement | undefined {\n        return this.ctx?.canvas;\n    }\n\n    override async drawButtons(activeButtons: Array<PalmButton> = []): Promise<void> {\n        this.lastActiveButtons = activeButtons;\n\n        await super.drawButtons(activeButtons);\n\n        if (this.gameModeActive && this.gameModeIndicatorEnabled) {\n            await this.drawGameModeIndicator();\n        }\n    }\n\n    protected getDeviceId(): DeviceId {\n        return this.deviceId;\n    }\n\n    protected getOrientation(): DeviceOrientation {\n        return this.orientation;\n    }\n\n    private async drawGameModeIndicator(): Promise<void> {\n        if (!this.ctx) return;\n\n        const indicatorSize = Math.floor(this.layout.screenWidth.frameCanvas * 0.1);\n        const iconSize = Math.floor(indicatorSize * 0.8);\n        const padding = Math.floor(indicatorSize * 0.1);\n        const iconPadding = Math.floor(indicatorSize * 0.11);\n\n        this.fillCanvasRect(\n            this.layout.screenLeft.frameCanvas - padding + this.layout.screenWidth.frameCanvas - indicatorSize,\n            this.layout.buttonTop.frameCanvas + this.layout.buttonHeight.frameCanvas - indicatorSize - padding,\n            indicatorSize,\n            indicatorSize,\n            'rgba(200, 200, 200, 0.7)',\n        );\n\n        this.ctx.drawImage(\n            await GAME_ICON_PRERENDERED(indicatorSize, indicatorSize),\n            this.layout.screenLeft.frameCanvas +\n                this.layout.screenWidth.frameCanvas -\n                padding -\n                indicatorSize +\n                iconPadding,\n            this.layout.buttonTop.frameCanvas +\n                this.layout.buttonHeight.frameCanvas -\n                indicatorSize -\n                padding +\n                iconPadding,\n            iconSize,\n            iconSize,\n        );\n    }\n\n    private deviceId: DeviceId = DeviceId.m515;\n    private orientation: DeviceOrientation = DeviceOrientation.portrait;\n\n    private gameModeIndicatorEnabled = true;\n    private gameModeActive = false;\n    private lastActiveButtons: Array<PalmButton> | undefined = undefined;\n}\n","export const isCallNotification = (message) => {\n    return message.method !== undefined && message.method === 'call';\n};\n//# sourceMappingURL=call-notification.js.map","import { load } from 'worker-timers-broker';\nimport { createLoadOrReturnBroker } from './factories/load-or-return-broker';\nimport { worker } from './worker/worker';\nconst loadOrReturnBroker = createLoadOrReturnBroker(load, worker);\nexport const clearInterval = (timerId) => loadOrReturnBroker().clearInterval(timerId);\nexport const clearTimeout = (timerId) => loadOrReturnBroker().clearTimeout(timerId);\nexport const setInterval = (func, delay) => loadOrReturnBroker().setInterval(func, delay);\nexport const setTimeout = (func, delay) => loadOrReturnBroker().setTimeout(func, delay);\n//# sourceMappingURL=module.js.map","export const createLoadOrReturnBroker = (loadBroker, worker) => {\n    let broker = null;\n    return () => {\n        if (broker !== null) {\n            return broker;\n        }\n        const blob = new Blob([worker], { type: 'application/javascript; charset=utf-8' });\n        const url = URL.createObjectURL(blob);\n        broker = loadBroker(url);\n        // Bug #1: Edge up until v18 didn't like the URL to be revoked directly.\n        setTimeout(() => URL.revokeObjectURL(url));\n        return broker;\n    };\n};\n//# sourceMappingURL=load-or-return-broker.js.map","// This is the minified and stringified code of the worker-timers-worker package.\nexport const worker = `(()=>{\"use strict\";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:\"call\",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener(\"message\",(i=>{let{data:s}=i;try{if(\"clear\"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if(\"interval\"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id \"'.concat(t,'\".'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if(\"timeout\"!==i)throw new Error('The given type \"'.concat(i,'\" is not supported'));(e=>{const r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id \"'.concat(e,'\".'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if(\"set\"!==s.method)throw new Error('The given method \"'.concat(s.method,'\" is not supported'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if(\"interval\"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,\"interval\"))})(i,a,n);else{if(\"timeout\"!==d)throw new Error('The given type \"'.concat(d,'\" is not supported'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,\"timeout\"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();`; // tslint:disable-line:max-line-length\n//# sourceMappingURL=worker.js.map","import { generateUniqueNumber } from 'fast-unique-numbers';\nimport { isCallNotification } from './guards/call-notification';\nimport { isClearResponse } from './guards/clear-response';\nexport const load = (url) => {\n    // Prefilling the Maps with a function indexed by zero is necessary to be compliant with the specification.\n    const scheduledIntervalFunctions = new Map([[0, () => { }]]); // tslint:disable-line no-empty\n    const scheduledTimeoutFunctions = new Map([[0, () => { }]]); // tslint:disable-line no-empty\n    const unrespondedRequests = new Map();\n    const worker = new Worker(url);\n    worker.addEventListener('message', ({ data }) => {\n        if (isCallNotification(data)) {\n            const { params: { timerId, timerType } } = data;\n            if (timerType === 'interval') {\n                const idOrFunc = scheduledIntervalFunctions.get(timerId);\n                if (typeof idOrFunc === 'number') {\n                    const timerIdAndTimerType = unrespondedRequests.get(idOrFunc);\n                    if (timerIdAndTimerType === undefined ||\n                        timerIdAndTimerType.timerId !== timerId ||\n                        timerIdAndTimerType.timerType !== timerType) {\n                        throw new Error('The timer is in an undefined state.');\n                    }\n                }\n                else if (typeof idOrFunc !== 'undefined') {\n                    idOrFunc();\n                }\n                else {\n                    throw new Error('The timer is in an undefined state.');\n                }\n            }\n            else if (timerType === 'timeout') {\n                const idOrFunc = scheduledTimeoutFunctions.get(timerId);\n                if (typeof idOrFunc === 'number') {\n                    const timerIdAndTimerType = unrespondedRequests.get(idOrFunc);\n                    if (timerIdAndTimerType === undefined ||\n                        timerIdAndTimerType.timerId !== timerId ||\n                        timerIdAndTimerType.timerType !== timerType) {\n                        throw new Error('The timer is in an undefined state.');\n                    }\n                }\n                else if (typeof idOrFunc !== 'undefined') {\n                    idOrFunc();\n                    // A timeout can be savely deleted because it is only called once.\n                    scheduledTimeoutFunctions.delete(timerId);\n                }\n                else {\n                    throw new Error('The timer is in an undefined state.');\n                }\n            }\n        }\n        else if (isClearResponse(data)) {\n            const { id } = data;\n            const timerIdAndTimerType = unrespondedRequests.get(id);\n            if (timerIdAndTimerType === undefined) {\n                throw new Error('The timer is in an undefined state.');\n            }\n            const { timerId, timerType } = timerIdAndTimerType;\n            unrespondedRequests.delete(id);\n            if (timerType === 'interval') {\n                scheduledIntervalFunctions.delete(timerId);\n            }\n            else {\n                scheduledTimeoutFunctions.delete(timerId);\n            }\n        }\n        else {\n            const { error: { message } } = data;\n            throw new Error(message);\n        }\n    });\n    const clearInterval = (timerId) => {\n        const id = generateUniqueNumber(unrespondedRequests);\n        unrespondedRequests.set(id, { timerId, timerType: 'interval' });\n        scheduledIntervalFunctions.set(timerId, id);\n        worker.postMessage({\n            id,\n            method: 'clear',\n            params: { timerId, timerType: 'interval' }\n        });\n    };\n    const clearTimeout = (timerId) => {\n        const id = generateUniqueNumber(unrespondedRequests);\n        unrespondedRequests.set(id, { timerId, timerType: 'timeout' });\n        scheduledTimeoutFunctions.set(timerId, id);\n        worker.postMessage({\n            id,\n            method: 'clear',\n            params: { timerId, timerType: 'timeout' }\n        });\n    };\n    const setInterval = (func, delay) => {\n        const timerId = generateUniqueNumber(scheduledIntervalFunctions);\n        scheduledIntervalFunctions.set(timerId, () => {\n            func();\n            // Doublecheck if the interval should still be rescheduled because it could have been cleared inside of func().\n            if (typeof scheduledIntervalFunctions.get(timerId) === 'function') {\n                worker.postMessage({\n                    id: null,\n                    method: 'set',\n                    params: {\n                        delay,\n                        now: performance.now(),\n                        timerId,\n                        timerType: 'interval'\n                    }\n                });\n            }\n        });\n        worker.postMessage({\n            id: null,\n            method: 'set',\n            params: {\n                delay,\n                now: performance.now(),\n                timerId,\n                timerType: 'interval'\n            }\n        });\n        return timerId;\n    };\n    const setTimeout = (func, delay) => {\n        const timerId = generateUniqueNumber(scheduledTimeoutFunctions);\n        scheduledTimeoutFunctions.set(timerId, func);\n        worker.postMessage({\n            id: null,\n            method: 'set',\n            params: {\n                delay,\n                now: performance.now(),\n                timerId,\n                timerType: 'timeout'\n            }\n        });\n        return timerId;\n    };\n    return {\n        clearInterval,\n        clearTimeout,\n        setInterval,\n        setTimeout\n    };\n};\n//# sourceMappingURL=module.js.map","export const isClearResponse = (message) => {\n    return message.error === null && typeof message.id === 'number';\n};\n//# sourceMappingURL=clear-response.js.map","import { clearTimeout, setTimeout } from 'worker-timers';\n\nexport enum SchedulerKind {\n    animationFrame,\n    timeout,\n}\n\nexport interface Scheduler {\n    schedule(): void;\n    cancel(): void;\n\n    isScheduled(): boolean;\n    getKind(): SchedulerKind;\n}\n\nexport class AnimationFrameScheduler implements Scheduler {\n    constructor(private callback: (timestamp: number) => void) {}\n\n    schedule(): void {\n        if (this.handle !== undefined) return;\n\n        this.handle = requestAnimationFrame((timestamp) => {\n            this.handle = undefined;\n            this.callback(timestamp);\n        });\n    }\n\n    cancel(): void {\n        if (this.handle === undefined) return;\n\n        cancelAnimationFrame(this.handle);\n        this.handle = undefined;\n    }\n\n    isScheduled(): boolean {\n        return this.handle !== undefined;\n    }\n\n    getKind(): SchedulerKind {\n        return SchedulerKind.animationFrame;\n    }\n\n    private handle: number | undefined;\n}\n\nexport class TimeoutScheduler implements Scheduler {\n    constructor(\n        private callback: (timestamp: number) => void,\n        private fps = 60,\n    ) {}\n\n    schedule(): void {\n        if (this.handle !== undefined) return;\n\n        const now = performance.now();\n        const nextTick = (Math.ceil((now / 1000) * this.fps) * 1000) / this.fps;\n\n        this.handle = setTimeout(\n            () => {\n                this.handle = undefined;\n                this.callback(performance.now());\n            },\n            Math.max(nextTick - now, 0),\n        );\n    }\n\n    cancel(): void {\n        if (this.handle === undefined) return;\n\n        clearTimeout(this.handle);\n        this.handle = undefined;\n    }\n\n    isScheduled(): boolean {\n        return this.handle !== undefined;\n    }\n\n    getKind(): SchedulerKind {\n        return SchedulerKind.timeout;\n    }\n\n    private handle: number | undefined;\n}\n","export class Average {\n    constructor(capacity: number, initialValue?: number) {\n        this.queue = new Array(capacity).fill(0);\n\n        this.reset(initialValue);\n    }\n\n    reset(initialValue = 0) {\n        this.next = 1;\n        this.size = 1;\n\n        this.queue[0] = initialValue;\n    }\n\n    push(value: number): this {\n        this.queue[this.next] = value;\n        this.next = (this.next + 1) % this.queue.length;\n\n        if (this.size < this.queue.length) this.size++;\n\n        return this;\n    }\n\n    calculateAverage(): number {\n        let acc = 0;\n\n        for (let i = 0; i < this.size; i++) acc += this.queue[i];\n\n        return acc / this.size;\n    }\n\n    private queue: Array<number>;\n    private next!: number;\n    private size!: number;\n}\n","export class Fifo<T> {\n    constructor(size: number) {\n        this.buffer = new Array(size);\n    }\n\n    push(value: T): this {\n        if (this.size < this.buffer.length) {\n            this.buffer[(this.start + this.size++) % this.buffer.length] = value;\n        } else {\n            this.start = (this.start + 1) % this.buffer.length;\n\n            this.buffer[(this.start + this.size - 1) % this.buffer.length] = value;\n        }\n\n        return this;\n    }\n\n    pop(): T | undefined {\n        if (this.size === 0) return undefined;\n\n        const elt = this.buffer[this.start];\n\n        this.start = (this.start + 1) % this.buffer.length;\n        this.size--;\n\n        return elt;\n    }\n\n    peekLast(): T | undefined {\n        if (this.size === 0) return undefined;\n\n        return this.buffer[(this.start + this.size - 1) % this.buffer.length];\n    }\n\n    replaceLast(value: T): this {\n        if (this.size > 0) {\n            this.buffer[(this.start + this.size - 1) % this.buffer.length] = value;\n        }\n\n        return this;\n    }\n\n    count(): number {\n        return this.size;\n    }\n\n    flush(): this {\n        this.start = 0;\n        this.size = 0;\n\n        return this;\n    }\n\n    private buffer: Array<T>;\n\n    private start = 0;\n    private size = 0;\n}\n","import { ReceivePayload, SerialPort } from './SerialPort';\nimport { AnimationFrameScheduler, Scheduler, SchedulerKind } from '@common/helper/scheduler';\nimport { Cloudpilot, PalmButton, PwmUpdate, SerialTransport, SuspendKind } from '@common/bridge/Cloudpilot';\nimport { GRAYSCALE_PALETTE_HEX, GRAYSCALE_PALETTE_RGBA } from '@common/helper/palette';\nimport { deviceDimensions, isColor } from '@common/helper/deviceProperties';\n\nimport { Average } from '@common/helper/Average';\nimport { DeviceId } from '@common/model/DeviceId';\nimport { Dimensions } from '@common/model/Dimensions';\nimport { EmulationStatistics } from '@common/model/EmulationStatistics';\nimport { Event } from 'microevent.ts';\nimport { Fifo } from '@common/helper/Fifo';\nimport { TimeoutScheduler } from '@common/helper/scheduler';\n\nconst PEN_MOVE_THROTTLE = 25;\nconst PWM_FIFO_SIZE = 10;\nconst SPEED_AVERAGE_N = 20;\nconst TIME_PER_FRAME_AVERAGE_N = 60;\nconst MIN_FPS = 30;\nconst DUMMY_SPEED = 1000;\nconst MIN_MILLISECONDS_PER_PWD_UPDATE = 10;\nconst SERIAL_SYNC_TIMEOUT_MSEC = 250;\nconst MAX_IRDA_FRAME_BUFFER = 1024;\n\nclass SerialPortImpl implements SerialPort {\n    constructor() {}\n\n    bind(transport: SerialTransport): void {\n        if (this.transport === transport) return;\n\n        if (this.transport) this.transport.frameCompleteEvent.removeHandler(this.onFrameComplete);\n\n        transport.frameCompleteEvent.addHandler(this.onFrameComplete);\n        transport.SetModeSync(this.isSync);\n\n        this.transport = transport;\n    }\n\n    send(data: Uint8Array | undefined, isFrameComplete: boolean): void {\n        if (!this.transport) return;\n\n        if (!this.transport.IsOpen() && this.transport.GetModeSync()) {\n            this.receiveEvent.dispatch({ data: undefined, isFrameComplete: true });\n            return;\n        }\n\n        this.transport.Send(data, isFrameComplete);\n        setTimeout(() => this.dispatchEvent.dispatch(), 0);\n    }\n\n    setModeSync(modeSync: boolean): void {\n        this.isSync = modeSync;\n        this.transport?.SetModeSync(modeSync);\n    }\n\n    getModeSync(): boolean {\n        return this.transport?.GetModeSync?.() ?? false;\n    }\n\n    dispatch(): void {\n        if (!this.transport) return;\n\n        const bytesPending = this.transport.RxBytesPending();\n        if (bytesPending === 0) return;\n        if (this.transport.GetModeSync() && bytesPending < MAX_IRDA_FRAME_BUFFER) return;\n\n        this.receiveEvent.dispatch({\n            data: this.transport.Receive(),\n            isFrameComplete: this.transport.IsFrameComplete(),\n        });\n    }\n\n    private onFrameComplete = () => {\n        if (!this.transport) return;\n\n        this.receiveEvent.dispatch({\n            data: this.transport.Receive(),\n            isFrameComplete: this.transport.IsFrameComplete(),\n        });\n    };\n\n    receiveEvent = new Event<ReceivePayload>();\n    dispatchEvent = new Event<void>();\n\n    private transport: SerialTransport | undefined;\n    private isSync = false;\n}\n\nexport abstract class AbstractEmulationService {\n    constructor() {\n        this.serialPortIR.dispatchEvent.addHandler(() => this.advanceEmulation(performance.now()));\n        this.serialPortSerial.dispatchEvent.addHandler(() => this.advanceEmulation(performance.now()));\n    }\n\n    handlePointerMove(x: number, y: number, isSilkscreen: boolean): void {\n        if (!this.handleInput()) return;\n\n        const ts = performance.now();\n        this.penDown = true;\n\n        if (ts - this.lastPenUpdate < PEN_MOVE_THROTTLE || !this.cloudpilotInstance) return;\n\n        if (isSilkscreen) {\n            const dimensions = deviceDimensions(this.deviceId);\n\n            x = this.transformSilkscreenX(x, dimensions);\n            y = this.transformSilkscreenY(y, dimensions);\n        }\n\n        this.cloudpilotInstance.queuePenMove(Math.floor(x), Math.floor(y));\n        this.lastPenUpdate = ts;\n    }\n\n    handlePointerUp(): void {\n        if (!this.handleInput()) return;\n\n        if (this.cloudpilotInstance && this.penDown) this.cloudpilotInstance.queuePenUp();\n\n        this.lastPenUpdate = 0;\n        this.penDown = false;\n    }\n\n    handleButtonDown(button: PalmButton): void {\n        if (!this.handleInput()) return;\n\n        if (this.cloudpilotInstance) this.cloudpilotInstance.queueButtonDown(button);\n    }\n\n    handleButtonUp(button: PalmButton): void {\n        if (!this.handleInput()) return;\n\n        if (this.cloudpilotInstance) this.cloudpilotInstance.queueButtonUp(button);\n    }\n\n    handleKeyDown(key: number, ctrl = false) {\n        if (!this.handleInput()) return;\n\n        if (this.cloudpilotInstance) this.cloudpilotInstance.queueKeyboardEvent(key, ctrl);\n    }\n\n    reset(): void {\n        if (this.cloudpilotInstance) this.cloudpilotInstance.reset();\n    }\n\n    resetNoExtensions(): void {\n        if (this.cloudpilotInstance) this.cloudpilotInstance.resetNoExtensions();\n    }\n\n    resetHard(): void {\n        if (this.cloudpilotInstance) this.cloudpilotInstance.resetHard();\n    }\n\n    isRunning(): boolean {\n        return this.running;\n    }\n\n    isPowerOff(): boolean {\n        return this.powerOff;\n    }\n\n    isUiInitialized(): boolean {\n        return this.uiInitialized;\n    }\n\n    getCanvas(): HTMLCanvasElement {\n        return this.canvas;\n    }\n\n    getStatistics(): EmulationStatistics {\n        return {\n            hostSpeed: this.speedAverage.calculateAverage(),\n            emulationSpeed: this.emulationSpeed,\n            averageFps: this.calculateFPS(),\n        };\n    }\n\n    getEmulationSpeed(): number {\n        return this.emulationSpeed;\n    }\n\n    isSuspended(): boolean {\n        return this.cloudpilotInstance ? this.cloudpilotInstance.isSuspended() : false;\n    }\n\n    getSerialPortSerial(): SerialPort {\n        if (!this.serialPortSerial) throw new Error('emulator not initialized');\n\n        return this.serialPortSerial;\n    }\n\n    getSerialPortIR(): SerialPort {\n        if (!this.serialPortIR) throw new Error('emulator not initialized');\n\n        return this.serialPortIR;\n    }\n\n    protected abstract getConfiguredSpeed(): number;\n\n    protected abstract manageHotsyncName(): boolean;\n\n    protected abstract getConfiguredHotsyncName(): string | undefined;\n\n    protected abstract updateConfiguredHotsyncName(hotsyncName: string): void;\n\n    protected abstract getConfiguredSchdedulerKind(): SchedulerKind;\n\n    protected abstract hasFatalError(): boolean;\n\n    protected abstract skipEmulationUpdate(): boolean;\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    protected onAfterAdvanceEmulation(timestamp: number, cycles: number): void {}\n\n    protected handleSuspend(): void {}\n\n    protected callScheduler(): void {\n        this.scheduler.schedule();\n    }\n\n    protected handleInput(): boolean {\n        return true;\n    }\n\n    protected openSession(\n        cloudpilot: Cloudpilot,\n        rom: Uint8Array,\n        device: DeviceId,\n        memory?: Uint8Array,\n        state?: Uint8Array,\n    ): boolean {\n        let memoryLoaded = false;\n\n        if (!cloudpilot.initializeSession(rom, device)) return false;\n\n        if (memory) {\n            if (memory.length % 4 !== 0) {\n                console.warn(`memory size is not a multiple of 4; ignoring image`);\n            } else {\n                memoryLoaded = cloudpilot.loadMemory(\n                    new Uint32Array(memory.buffer, memory.byteOffset, memory.length >>> 2),\n                );\n\n                if (!memoryLoaded) {\n                    console.warn('failed to load memory');\n                }\n            }\n        }\n\n        if (memoryLoaded && state) {\n            cloudpilot.loadState(state);\n        }\n\n        cloudpilot.remountCards();\n\n        if (this.cloudpilotInstance) this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate);\n        cloudpilot.pwmUpdateEvent.addHandler(this.onPwmUpdate);\n\n        if (this.cloudpilotInstance !== cloudpilot) {\n            this.serialPortIR.bind(cloudpilot.getTransportIR());\n            this.serialPortSerial.bind(cloudpilot.getTransportSerial());\n        }\n\n        this.cloudpilotInstance = cloudpilot;\n\n        this.deviceId = device;\n        this.resetCanvas();\n\n        this.pendingPwmUpdates.flush();\n        this.lastPwmUpdateEvent = 0;\n        this.deviceHotsyncName = undefined;\n        this.emulationSpeed = 1;\n        this.frameCounter = 0;\n        this.speedAverage.reset(1);\n        this.powerOff = cloudpilot.isPowerOff();\n        this.uiInitialized = cloudpilot.isUiInitialized();\n        this.frameCounter = 0;\n\n        return true;\n    }\n\n    protected resetCanvas(): void {\n        const dimensions = deviceDimensions(this.deviceId);\n\n        this.canvas.width = this.canvasTmp.width = dimensions.width;\n        this.canvas.height = this.canvasTmp.height = dimensions.height;\n\n        const context = this.canvas.getContext('2d');\n        if (!context) {\n            throw new Error('get a new browser');\n        }\n\n        this.context = context;\n\n        const contextTmp = this.canvasTmp.getContext('2d');\n        if (!contextTmp) {\n            throw new Error('get a new browser');\n        }\n\n        this.contextTmp = contextTmp;\n\n        this.clearCanvas();\n\n        this.imageData = undefined;\n    }\n\n    protected doResume(): void {\n        if (!this.cloudpilotInstance) return;\n        this.clockEmulator = performance.now();\n\n        this.schedule();\n\n        this.setRunning(true);\n        this.resetFPS();\n    }\n\n    protected doPause(): void {\n        this.stopLoop();\n    }\n\n    protected doStop(): void {\n        this.stopLoop();\n    }\n\n    protected stopLoop(): void {\n        if (!this.running) return;\n\n        this.scheduler.cancel();\n\n        if (this.advanceEmulationHandle !== undefined) {\n            window.clearTimeout(this.advanceEmulationHandle);\n\n            this.advanceEmulationHandle = undefined;\n        }\n\n        this.setRunning(false);\n    }\n\n    protected onPwmUpdate = (pwmUpdate: PwmUpdate) => {\n        if (this.pendingPwmUpdates.count() > 0 && this.pendingPwmUpdates.peekLast()!.frequency < 0) {\n            this.pendingPwmUpdates.replaceLast(pwmUpdate);\n        } else {\n            this.pendingPwmUpdates.push(pwmUpdate);\n        }\n    };\n\n    protected resetFPS(): void {\n        this.timePerFrameAverage.reset();\n        this.timestampLastFrame = performance.now();\n    }\n\n    protected calculateFPS(): number {\n        const timePerFrame = this.timePerFrameAverage.calculateAverage();\n\n        return timePerFrame && 1000 / timePerFrame;\n    }\n\n    protected transformSilkscreenX(x: number, dimensions: Dimensions): number {\n        if (dimensions.silkscreenOvershoot === undefined) {\n            return x;\n        }\n\n        const factor = dimensions.width / (dimensions.width + 2 * dimensions.silkscreenOvershoot);\n        return (x - dimensions.width / 2) / factor + dimensions.width / 2;\n    }\n\n    protected transformSilkscreenY(y: number, dimensions: Dimensions): number {\n        if (dimensions.siklscreenShift === undefined) {\n            return y;\n        }\n\n        return y + dimensions.siklscreenShift;\n    }\n\n    protected setRunning(running: boolean): void {\n        if (running === this.running) return;\n\n        this.running = running;\n        this.emulationStateChangeEvent.dispatch(running);\n    }\n\n    protected updateEmulationSpeed(currentSpeed: number) {\n        if (currentSpeed >= 1 && this.emulationSpeed >= 1) return;\n\n        // Speed < 1 ? -> bin it in 0.1 .. 0.9\n        const normalizedSpeed = Math.min(Math.max(Math.floor(currentSpeed * 10) / 10, 0.1), 1);\n\n        if (normalizedSpeed <= this.emulationSpeed) {\n            // speed decline is accepted directly\n            this.emulationSpeed = normalizedSpeed;\n        } else {\n            // speed increase is subject to 5% hysteresis\n            this.emulationSpeed = currentSpeed - normalizedSpeed >= 0.05 ? normalizedSpeed : this.emulationSpeed;\n        }\n    }\n\n    protected performScreenUpdate(): void {\n        if (this.cloudpilotInstance?.isScreenDirty()) {\n            this.updateScreen();\n            this.cloudpilotInstance.markScreenClean();\n\n            this.frameCounter++;\n        }\n    }\n\n    protected onSchedule(timestamp: number): void {\n        if (this.hasFatalError()) return;\n\n        if (!this.skipEmulationUpdate()) {\n            this.performScreenUpdate();\n\n            if (\n                this.pendingPwmUpdates.count() > 0 &&\n                timestamp - this.lastPwmUpdateEvent > MIN_MILLISECONDS_PER_PWD_UPDATE\n            ) {\n                this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()!);\n                this.lastPwmUpdateEvent = timestamp;\n            }\n\n            if (this.advanceEmulationHandle === undefined) {\n                this.advanceEmulationHandle = window.setTimeout(() => {\n                    this.advanceEmulationHandle = undefined;\n                    this.advanceEmulation(timestamp);\n                }, 0);\n            }\n\n            this.timePerFrameAverage.push(Math.max(0, timestamp - this.timestampLastFrame));\n            this.timestampLastFrame = timestamp;\n        }\n\n        this.schedule();\n    }\n\n    protected schedule() {\n        this.scheduler.cancel();\n\n        if (this.getConfiguredSchdedulerKind() !== this.scheduler.getKind()) {\n            this.scheduler =\n                this.getConfiguredSchdedulerKind() === SchedulerKind.animationFrame\n                    ? new AnimationFrameScheduler((timestamp) => this.onSchedule(timestamp))\n                    : new TimeoutScheduler((timestamp) => this.onSchedule(timestamp));\n        }\n\n        this.callScheduler();\n    }\n\n    protected advanceEmulation = (timestamp: number): void => {\n        this.isDirty = false;\n        if (!this.isRunning) return;\n\n        if (!this.cloudpilotInstance || this.hasFatalError() || timestamp < this.clockEmulator) return;\n\n        if (\n            this.cloudpilotInstance.isSuspended() &&\n            this.cloudpilotInstance.getSuspendKind() === SuspendKind.serialSync &&\n            timestamp - this.serialSyncStartedAt > SERIAL_SYNC_TIMEOUT_MSEC\n        ) {\n            console.log('serial sync timeout, waking emulator');\n            this.cloudpilotInstance.getSuspendContextSerialSync().Cancel();\n        }\n\n        const wasSuspended = this.cloudpilotInstance.isSuspended();\n        let isSuspended = false;\n\n        // Scale the clock by the calculated emulation speed\n        this.cloudpilotInstance.setClockFactor(this.emulationSpeed * this.getConfiguredSpeed());\n\n        // Limit the time that we try to catch up. This will avoid that we lock onto a low\n        // FPS if the emulation cannot run at full speed\n        if (timestamp - this.clockEmulator > 1000 / MIN_FPS) this.clockEmulator = timestamp - 1000 / MIN_FPS;\n\n        const cyclesToRun = ((timestamp - this.clockEmulator) / 1000) * this.cloudpilotInstance.cyclesPerSecond();\n\n        const timestampBeforeCycle = performance.now();\n\n        let cycles = 0;\n        while (cycles < cyclesToRun) {\n            cycles += this.cloudpilotInstance.runEmulation(Math.ceil(cyclesToRun - cycles));\n\n            if (this.cloudpilotInstance.isSuspended()) {\n                isSuspended = true;\n\n                break;\n            }\n        }\n\n        const virtualTimePassed = (cycles / this.cloudpilotInstance.cyclesPerSecond()) * 1000;\n        const realTimePassed = performance.now() - timestampBeforeCycle;\n\n        // If the emulation runs too slowly the amount of real time that passed will exceed the\n        // emulated time difference. In this case we compensate by advancing the emulated clock\n        // by the actual time difference; otherwise, the differences will pile up,\n        // resulting in jerky emulation. Our dynamic speed correction will make sure that\n        // this does not happen too often.\n        this.clockEmulator += Math.max(virtualTimePassed, realTimePassed);\n\n        // Update the speed average. Note that we need to compensate this for the factor\n        // by which we scaled the clock --- the factor represents the ratio for a device\n        // running at ful speed\n        this.speedAverage.push(\n            (virtualTimePassed / (realTimePassed > 0 ? realTimePassed : virtualTimePassed / DUMMY_SPEED)) *\n                this.emulationSpeed,\n        );\n\n        // Normalize the speed an apply hysteresis\n        this.updateEmulationSpeed(this.speedAverage.calculateAverage());\n\n        if (isSuspended && !wasSuspended) {\n            switch (this.cloudpilotInstance.getSuspendKind()) {\n                case SuspendKind.serialSync:\n                    this.serialSyncStartedAt = performance.now();\n                    break;\n\n                default:\n                    this.handleSuspend();\n                    break;\n            }\n        }\n\n        const powerOff = this.cloudpilotInstance.isPowerOff();\n        const uiInitialized = this.cloudpilotInstance.isUiInitialized();\n\n        if (powerOff !== this.powerOff || uiInitialized !== this.uiInitialized) {\n            const oldPowerOff = this.powerOff;\n\n            this.powerOff = powerOff;\n            this.uiInitialized = uiInitialized;\n\n            if (oldPowerOff !== this.powerOff) this.powerOffChangeEvent.dispatch(this.powerOff);\n\n            this.isDirty = true;\n        }\n\n        if (uiInitialized && !powerOff && this.manageHotsyncName() && !isSuspended) {\n            this.checkAndUpdateHotsyncName();\n        }\n\n        this.serialPortIR!.dispatch();\n        this.serialPortSerial!.dispatch();\n\n        this.onAfterAdvanceEmulation(timestamp, cycles);\n    };\n\n    protected checkAndUpdateHotsyncName(): void {\n        if (!this.cloudpilotInstance) return;\n\n        if (this.deviceHotsyncName === undefined) {\n            this.deviceHotsyncName = this.cloudpilotInstance.getHotsyncName();\n        }\n\n        const configuredHotsyncName = this.getConfiguredHotsyncName();\n\n        if (configuredHotsyncName === undefined) {\n            this.updateConfiguredHotsyncName(this.deviceHotsyncName);\n        } else if (\n            configuredHotsyncName !== this.deviceHotsyncName &&\n            configuredHotsyncName.length <= 40 &&\n            this.cloudpilotInstance.isSetupComplete()\n        ) {\n            this.cloudpilotInstance.setHotsyncName(configuredHotsyncName);\n            this.deviceHotsyncName = configuredHotsyncName;\n        }\n    }\n\n    protected clearCanvas(): void {\n        const deviceId = this.deviceId;\n        const dimensions = deviceDimensions(deviceId);\n\n        this.context.beginPath();\n        this.context.rect(0, 0, dimensions.width, dimensions.height);\n        this.context.fillStyle = isColor(deviceId) ? 'white' : GRAYSCALE_PALETTE_HEX[0];\n        this.context.fill();\n    }\n\n    protected updateScreen(): void {\n        if (!this.cloudpilotInstance) return;\n\n        const frame = this.cloudpilotInstance.getFrame();\n\n        if (this.cloudpilotInstance.isPowerOff()) {\n            this.clearCanvas();\n\n            this.newFrameEvent.dispatch(this.canvas);\n\n            return;\n        }\n\n        if (!frame.hasChanges) {\n            return;\n        }\n\n        if (frame.lines * frame.scaleY === this.canvas.height && frame.lineWidth * frame.scaleX === this.canvas.width) {\n            if (!this.imageData || this.imageData.width !== frame.lineWidth || this.imageData.height !== frame.lines) {\n                this.imageData = new ImageData(frame.lineWidth, frame.lines);\n            }\n\n            const imageData32 = new Uint32Array(this.imageData.data.buffer);\n\n            switch (frame.bpp) {\n                case 1: {\n                    const fg = GRAYSCALE_PALETTE_RGBA[15];\n                    const bg = GRAYSCALE_PALETTE_RGBA[0];\n                    let iDest = 0;\n\n                    for (let y = frame.firstDirtyLine; y <= frame.lastDirtyLine; y++) {\n                        const offsetSrc = y * frame.bytesPerLine;\n\n                        for (let i = frame.margin; i < frame.lineWidth + frame.margin; i++) {\n                            imageData32[iDest++] =\n                                frame.buffer[offsetSrc + (i >>> 3)] & (0x80 >>> (i & 0x07)) ? fg : bg;\n                        }\n                    }\n\n                    break;\n                }\n\n                case 2: {\n                    const mapping = this.cloudpilotInstance.getPalette2bitMapping();\n                    const palette = [\n                        GRAYSCALE_PALETTE_RGBA[mapping & 0x000f],\n                        GRAYSCALE_PALETTE_RGBA[(mapping >>> 4) & 0x000f],\n                        GRAYSCALE_PALETTE_RGBA[(mapping >>> 8) & 0x000f],\n                        GRAYSCALE_PALETTE_RGBA[(mapping >>> 12) & 0x000f],\n                    ];\n                    let iDest = 0;\n\n                    for (let y = frame.firstDirtyLine; y <= frame.lastDirtyLine; y++) {\n                        const offsetSrc = y * frame.bytesPerLine;\n\n                        for (let i = frame.margin; i < frame.lineWidth + frame.margin; i++) {\n                            imageData32[iDest++] =\n                                palette[(frame.buffer[offsetSrc + (i >>> 2)] >> (6 - 2 * (i & 0x03))) & 0x03];\n                        }\n                    }\n\n                    break;\n                }\n\n                case 4: {\n                    let iDest = 0;\n\n                    for (let y = frame.firstDirtyLine; y <= frame.lastDirtyLine; y++) {\n                        const offsetSrc = y * frame.bytesPerLine;\n\n                        for (let i = frame.margin; i < frame.lineWidth + frame.margin; i++) {\n                            imageData32[iDest++] =\n                                GRAYSCALE_PALETTE_RGBA[\n                                    (frame.buffer[offsetSrc + (i >>> 1)] >>> (4 - 4 * (i & 0x01))) & 0x0f\n                                ];\n                        }\n                    }\n\n                    break;\n                }\n\n                case 24:\n                    {\n                        const buffer32 = new Uint32Array(\n                            frame.buffer.buffer,\n                            frame.buffer.byteOffset,\n                            frame.buffer.byteLength >>> 2,\n                        );\n\n                        if (frame.margin === 0) {\n                            imageData32\n                                .subarray(0, frame.lineWidth * (frame.lastDirtyLine - frame.firstDirtyLine + 1))\n                                .set(\n                                    buffer32.subarray(\n                                        frame.firstDirtyLine * frame.lineWidth,\n                                        frame.lineWidth * (frame.lastDirtyLine + 1),\n                                    ),\n                                );\n                        } else {\n                            let iDest = 0;\n\n                            for (let y = frame.firstDirtyLine; y <= frame.lastDirtyLine; y++) {\n                                let j = y * (frame.bytesPerLine >>> 2) + frame.margin;\n\n                                for (let x = 0; x < frame.lineWidth; x++) {\n                                    imageData32[iDest++] = buffer32[j++];\n                                }\n                            }\n                        }\n                    }\n\n                    break;\n            }\n        }\n\n        if (!this.imageData) return;\n\n        const scaling = frame.scaleX !== 1 || frame.scaleY !== 1;\n\n        (scaling ? this.contextTmp : this.context).putImageData(\n            this.imageData,\n            0,\n            frame.firstDirtyLine,\n            0,\n            0,\n            frame.lineWidth,\n            frame.lastDirtyLine - frame.firstDirtyLine + 1,\n        );\n\n        if (scaling) {\n            this.context.imageSmoothingEnabled = false;\n            this.context.drawImage(\n                this.canvasTmp,\n                0,\n                frame.firstDirtyLine,\n                frame.lineWidth,\n                frame.lastDirtyLine - frame.firstDirtyLine + 1,\n                0,\n                frame.firstDirtyLine * frame.scaleY,\n                frame.lineWidth * frame.scaleX,\n                (frame.lastDirtyLine - frame.firstDirtyLine + 1) * frame.scaleY,\n            );\n        }\n\n        this.newFrameEvent.dispatch(this.canvas);\n    }\n\n    newFrameEvent = new Event<HTMLCanvasElement>();\n    pwmUpdateEvent = new Event<PwmUpdate>();\n    emulationStateChangeEvent = new Event<boolean>();\n    powerOffChangeEvent = new Event<boolean>();\n\n    protected cloudpilotInstance: Cloudpilot | undefined;\n    protected deviceId = DeviceId.m515;\n\n    protected clockEmulator = 0;\n    protected scheduler: Scheduler = new AnimationFrameScheduler((timestamp) => this.onSchedule(timestamp));\n\n    protected canvas: HTMLCanvasElement = document.createElement('canvas');\n    protected canvasTmp: HTMLCanvasElement = document.createElement('canvas');\n    protected context!: CanvasRenderingContext2D;\n    protected contextTmp!: CanvasRenderingContext2D;\n    protected imageData: ImageData | undefined;\n\n    protected lastPenUpdate = 0;\n    protected penDown = false;\n\n    protected running = false;\n    protected powerOff = false;\n    protected uiInitialized = false;\n\n    protected deviceHotsyncName: string | undefined;\n\n    protected pendingPwmUpdates = new Fifo<PwmUpdate>(PWM_FIFO_SIZE);\n    protected lastPwmUpdateEvent = 0;\n\n    protected advanceEmulationHandle: number | undefined;\n\n    protected emulationSpeed = 1;\n    protected speedAverage = new Average(SPEED_AVERAGE_N);\n\n    protected timePerFrameAverage = new Average(TIME_PER_FRAME_AVERAGE_N);\n    protected timestampLastFrame = 0;\n\n    protected frameCounter = 0;\n    protected isDirty = false;\n\n    protected serialPortIR = new SerialPortImpl();\n    protected serialPortSerial = new SerialPortImpl();\n\n    protected serialSyncStartedAt = 0;\n}\n","import { Cloudpilot, SessionImage } from '@common/bridge/Cloudpilot';\n\nimport { AbstractEmulationService } from '@common/service/AbstractEmulationService';\nimport { DeviceId } from '@common/model/DeviceId';\nimport { Event } from 'microevent.ts';\nimport { SchedulerKind } from '@common/helper/scheduler';\nimport { Session } from '@embedded/model/Session';\n\nexport class EmbeddedEmulationService extends AbstractEmulationService {\n    pause(): void {\n        this.doPause();\n    }\n\n    resume(): void {\n        this.doResume();\n    }\n\n    initWithRom(cloudpilot: Cloudpilot, rom: Uint8Array, device: DeviceId, session: Session): boolean {\n        if (this.isRunning()) {\n            this.doStop();\n            this.session = undefined;\n        }\n\n        cloudpilot.clearExternalStorage();\n\n        if (this.openSession(cloudpilot, rom, device)) {\n            this.session = session;\n            return true;\n        }\n\n        return false;\n    }\n\n    initWithSessionImage(cloudpilot: Cloudpilot, sessionImage: SessionImage<unknown>, session: Session): boolean {\n        if (this.isRunning()) {\n            this.doStop();\n            this.session = undefined;\n        }\n\n        cloudpilot.clearExternalStorage();\n\n        if (\n            this.openSession(\n                cloudpilot,\n                sessionImage.rom,\n                sessionImage.deviceId,\n                sessionImage.memory,\n                sessionImage.savestate,\n            )\n        ) {\n            this.session = session;\n\n            return true;\n        }\n\n        return false;\n    }\n\n    getSession(): Session | undefined {\n        return this.session;\n    }\n\n    forceUpdateHotsyncName(): void {\n        if (!this.cloudpilotInstance) return;\n\n        if (this.cloudpilotInstance.isUiInitialized() && !this.cloudpilotInstance.isPowerOff()) {\n            this.checkAndUpdateHotsyncName();\n        }\n    }\n\n    protected getConfiguredSpeed(): number {\n        return this.session?.speed ?? 1;\n    }\n\n    protected manageHotsyncName(): boolean {\n        return true;\n    }\n\n    protected getConfiguredHotsyncName(): string | undefined {\n        return this.session?.hotsyncName;\n    }\n\n    protected updateConfiguredHotsyncName(hotsyncName: string): void {\n        if (this.session) {\n            this.session.hotsyncName = hotsyncName;\n        }\n    }\n\n    protected getConfiguredSchdedulerKind(): SchedulerKind {\n        return this.session?.runInBackground ? SchedulerKind.timeout : SchedulerKind.animationFrame;\n    }\n\n    protected hasFatalError(): boolean {\n        return !!this.cloudpilotInstance?.hasFatalError();\n    }\n\n    protected skipEmulationUpdate(): boolean {\n        return false;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    protected override onAfterAdvanceEmulation(timestamp: number, cycles: number): void {\n        this.timesliceEvent.dispatch();\n    }\n\n    protected override handleInput(): boolean {\n        return this.isRunning();\n    }\n\n    private session: Session | undefined;\n\n    readonly timesliceEvent = new Event<void>();\n}\n","import { AbstractCanvasDisplayService } from '@common/service/AbstractCanvasDisplayService';\nimport { AbstractEmulationService } from '@common/service/AbstractEmulationService';\nimport { PalmButton } from '@common/bridge/Cloudpilot';\n\nconst enum Area {\n    screen,\n    silkscreen,\n    buttons,\n}\n\ninterface InteractionScreen {\n    area: Area.screen | Area.silkscreen;\n}\n\ninterface InteractionButton {\n    area: Area.buttons;\n    buttonPrimary: PalmButton;\n    buttonSecondary?: PalmButton;\n}\n\ntype Interaction = InteractionScreen | InteractionButton;\n\n/**\n * DOM event handler callback.\n */\nexport type EventHandler<K extends keyof HTMLElementEventMap> = (ev: HTMLElementEventMap[K]) => void;\n\n/**\n * A DOM event target.\n */\nexport interface EventTarget {\n    addEventListener<K extends keyof HTMLElementEventMap>(\n        type: K,\n        handler: EventHandler<K>,\n        options?: boolean | AddEventListenerOptions,\n    ): void;\n    removeEventListener<K extends keyof HTMLElementEventMap>(\n        type: K,\n        listener: EventHandler<K>,\n        options?: boolean | EventListenerOptions,\n    ): void;\n}\n\nexport class GenericEventHandlingService {\n    constructor(\n        protected emulationService: AbstractEmulationService,\n        protected canvasDisplayService: AbstractCanvasDisplayService,\n    ) {}\n\n    bind(pointerEventTarget: EventTarget, keyEventTarget: EventTarget = window): void {\n        if (this.pointerEventTarget) {\n            this.release();\n        }\n\n        this.pointerEventTarget = pointerEventTarget;\n        this.keyEventTarget = keyEventTarget || window;\n\n        this.addEventListener(pointerEventTarget, 'mousedown', this.handleMouseDown);\n        this.addEventListener(window, 'mouseup', this.handeMouseUp);\n        this.addEventListener(window, 'mousemove', this.handleMouseMove);\n\n        this.addEventListener(pointerEventTarget, 'touchstart', this.handleTouchStart);\n        this.addEventListener(pointerEventTarget, 'touchmove', this.handleTouchMove);\n        this.addEventListener(pointerEventTarget, 'touchend', this.handleTouchEnd);\n        this.addEventListener(pointerEventTarget, 'touchcancel', this.handleTouchEnd);\n\n        this.addEventListener(this.keyEventTarget, 'keydown', this.handleKeyDown);\n        this.addEventListener(this.keyEventTarget, 'keyup', this.handleKeyUp);\n    }\n\n    release(): void {\n        if (!this.pointerEventTarget) return;\n\n        this.removeEventListener(this.pointerEventTarget, 'mousedown', this.handleMouseDown);\n        this.removeEventListener(window, 'mouseup', this.handeMouseUp);\n        this.removeEventListener(window, 'mousemove', this.handleMouseMove);\n\n        this.removeEventListener(this.pointerEventTarget, 'touchstart', this.handleTouchStart);\n        this.removeEventListener(this.pointerEventTarget, 'touchmove', this.handleTouchMove);\n        this.removeEventListener(this.pointerEventTarget, 'touchend', this.handleTouchEnd);\n        this.removeEventListener(this.pointerEventTarget, 'touchcancel', this.handleTouchEnd);\n\n        this.removeEventListener(this.keyEventTarget, 'keydown', this.handleKeyDown);\n        this.removeEventListener(this.keyEventTarget, 'keyup', this.handleKeyUp);\n\n        for (const button of this.activeButtons) {\n            this.handleButtonUp(button);\n        }\n\n        this.activeButtons.clear();\n        this.interactionsTouch.clear();\n        this.interactionMouse = undefined;\n\n        this.pointerEventTarget = undefined;\n    }\n\n    isGameMode(): boolean {\n        return this.gameMode;\n    }\n\n    setGameMode(enableGameMode: boolean): void {\n        this.gameMode = enableGameMode;\n\n        this.onToggleGameMode();\n    }\n\n    setGameModeHotkeyEnabled(enableGamemodeHotkey: boolean): void {\n        this.enableGamemodeHotkey = enableGamemodeHotkey;\n    }\n\n    isGameModeHotkeyEnabled(): boolean {\n        return this.enableGamemodeHotkey;\n    }\n\n    protected enableKeyboardEvents(): boolean {\n        return true;\n    }\n\n    protected onToggleGameMode(): void {}\n\n    protected addEventListener<K extends keyof HTMLElementEventMap, E extends EventTarget>(\n        elt: E,\n        type: K,\n        handler: EventHandler<K>,\n        caputure?: boolean,\n    ) {\n        elt.addEventListener(type, handler, caputure);\n    }\n\n    protected removeEventListener<K extends keyof HTMLElementEventMap, E extends EventTarget>(\n        elt: E,\n        type: K,\n        handler: EventHandler<K>,\n        caputure?: boolean,\n    ) {\n        elt.removeEventListener(type, handler, caputure);\n    }\n\n    private handleMouseDown = (e: MouseEvent): void => {\n        if (e.button !== 0) return;\n\n        const coords = this.canvasDisplayService.eventToPalmCoordinates(e);\n        if (!coords) return;\n\n        const area = this.determineArea(coords);\n\n        if (area === Area.buttons) {\n            const button = this.canvasDisplayService.determineButton(coords);\n            this.interactionMouse = { area, buttonPrimary: button };\n\n            this.handleButtonDown(button);\n        } else {\n            this.interactionMouse = { area };\n            this.emulationService.handlePointerMove(...coords, area === Area.silkscreen);\n        }\n    };\n\n    private handleMouseMove = (e: MouseEvent): void => {\n        // tslint:disable-next-line: no-bitwise\n        if (!(e.buttons & 0x01) || !this.interactionMouse || this.interactionMouse?.area === Area.buttons) {\n            return;\n        }\n\n        const coords = this.canvasDisplayService.eventToPalmCoordinates(e, true);\n        if (!coords) return;\n\n        this.emulationService.handlePointerMove(...coords, this.interactionMouse?.area === Area.silkscreen);\n    };\n\n    private handeMouseUp = (e: MouseEvent): void => {\n        if (e.button !== 0) return;\n\n        const interaction = this.interactionMouse;\n        this.interactionMouse = undefined;\n\n        switch (interaction?.area) {\n            case Area.buttons:\n                this.handleButtonUp(interaction.buttonPrimary);\n\n                break;\n\n            case Area.screen:\n            case Area.silkscreen:\n                this.emulationService.handlePointerUp();\n\n                break;\n        }\n    };\n\n    private handleTouchStart = (e: TouchEvent): void => {\n        let handled = false;\n\n        for (let i = 0; i < e.changedTouches.length; i++) {\n            const touch = e.changedTouches.item(i);\n            if (!touch) continue;\n\n            const coords = this.canvasDisplayService.eventToPalmCoordinates(touch);\n            if (!coords) continue;\n\n            handled = true;\n\n            const area = this.determineArea(coords);\n            if (area === Area.buttons) {\n                const button = this.canvasDisplayService.determineButton(coords);\n                this.interactionsTouch.set(touch.identifier, { area, buttonPrimary: button });\n\n                this.handleButtonDown(button);\n            } else {\n                this.interactionsTouch.set(touch.identifier, { area });\n                this.emulationService.handlePointerMove(...coords, area === Area.silkscreen);\n            }\n        }\n\n        if (handled && e.cancelable !== false) e.preventDefault();\n    };\n\n    private handleTouchMove = (e: TouchEvent): void => {\n        let handled = false;\n\n        for (let i = 0; i < e.changedTouches.length; i++) {\n            const touch = e.changedTouches.item(i);\n            if (!touch) continue;\n\n            const interaction = this.interactionsTouch.get(touch.identifier);\n            if (!interaction) continue;\n\n            handled = true;\n\n            const area = interaction.area;\n            switch (area) {\n                case Area.buttons: {\n                    const coords = this.canvasDisplayService.eventToPalmCoordinates(touch);\n\n                    if (!coords || this.determineArea(coords) !== Area.buttons) {\n                        this.handleButtonUp(interaction.buttonSecondary);\n                        interaction.buttonSecondary = undefined;\n\n                        break;\n                    }\n\n                    const button = this.canvasDisplayService.determineButton(coords);\n\n                    if (button === interaction.buttonPrimary) {\n                        this.handleButtonUp(interaction.buttonSecondary);\n                        interaction.buttonSecondary = undefined;\n                    } else if (button !== interaction.buttonSecondary) {\n                        this.handleButtonUp(interaction.buttonSecondary);\n                        interaction.buttonSecondary = button;\n\n                        this.handleButtonDown(button);\n                    }\n\n                    break;\n                }\n\n                case Area.screen:\n                case Area.silkscreen: {\n                    const coords = this.canvasDisplayService.eventToPalmCoordinates(touch, true);\n                    if (!coords) continue;\n\n                    this.emulationService.handlePointerMove(...coords, area === Area.silkscreen);\n\n                    break;\n                }\n\n                default:\n                    continue;\n            }\n        }\n\n        if (handled && e.cancelable !== false) e.preventDefault();\n    };\n\n    private handleTouchEnd = (e: TouchEvent): void => {\n        let handled = false;\n\n        for (let i = 0; i < e.changedTouches.length; i++) {\n            const touch = e.changedTouches.item(i);\n            if (!touch) continue;\n\n            const interaction = this.interactionsTouch.get(touch.identifier);\n            if (interaction) handled = true;\n\n            this.interactionsTouch.delete(touch.identifier);\n\n            switch (interaction?.area) {\n                case Area.buttons:\n                    this.handleButtonUp(interaction.buttonPrimary);\n                    this.handleButtonUp(interaction.buttonSecondary);\n\n                    break;\n\n                case Area.screen:\n                case Area.silkscreen:\n                    this.emulationService.handlePointerUp();\n\n                    break;\n            }\n        }\n\n        if (handled && e.cancelable !== false) e.preventDefault();\n    };\n\n    private handleKeyDown = (e: KeyboardEvent): void => {\n        if (this.emulationService.isSuspended() || !this.enableKeyboardEvents()) return;\n\n        if (this.isToggleGameMode(e)) {\n            e.preventDefault();\n\n            this.gameMode = !this.gameMode;\n            this.onToggleGameMode();\n\n            return;\n        }\n\n        const button = this.buttonFromEvent(e);\n        if (button !== undefined) {\n            this.handleButtonDown(button);\n            e.preventDefault();\n\n            return;\n        }\n\n        const keyCode = this.keyCodeFromEvent(e);\n        if (keyCode !== undefined) {\n            this.emulationService.handleKeyDown(keyCode);\n            e.preventDefault();\n        }\n    };\n\n    private handleKeyUp = (e: KeyboardEvent): void => {\n        if (this.emulationService.isSuspended() || !this.enableKeyboardEvents()) return;\n\n        const button = this.buttonFromEvent(e);\n        if (button !== undefined) {\n            this.handleButtonUp(button);\n            e.preventDefault();\n\n            return;\n        }\n\n        if (e.key === 'Control') {\n            for (const btn of this.activeButtons) {\n                this.emulationService.handleButtonUp(btn);\n            }\n\n            this.activeButtons.clear();\n            void this.canvasDisplayService.drawButtons([]);\n        }\n    };\n\n    private determineArea(coords: [number, number]): Area {\n        if (this.canvasDisplayService.isButtons(coords)) {\n            return Area.buttons;\n        }\n\n        if (this.canvasDisplayService.isSilkscreen(coords)) {\n            return Area.silkscreen;\n        }\n\n        return Area.screen;\n    }\n\n    private handleButtonDown(button: PalmButton): void {\n        if (this.activeButtons.has(button)) return;\n\n        this.activeButtons.add(button);\n        this.emulationService.handleButtonDown(button);\n        void this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values()));\n    }\n\n    private handleButtonUp(button: PalmButton | undefined): void {\n        if (button === undefined || !this.activeButtons.has(button)) return;\n\n        this.activeButtons.delete(button);\n        this.emulationService.handleButtonUp(button);\n        void this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values()));\n    }\n\n    private isToggleGameMode(e: KeyboardEvent): boolean {\n        return (\n            this.isGameModeHotkeyEnabled() && ((e.key === 'Shift' && e.ctrlKey) || (e.key === 'Control' && e.shiftKey))\n        );\n    }\n\n    private isGameModeActive(e: KeyboardEvent): boolean {\n        return (!this.gameMode && e.ctrlKey) || (this.gameMode && !e.ctrlKey);\n    }\n\n    private buttonFromEvent(e: KeyboardEvent): PalmButton | undefined {\n        switch (e.key) {\n            case 'PageUp':\n                return PalmButton.up;\n\n            case 'PageDown':\n                return PalmButton.down;\n        }\n\n        if (!this.isGameModeActive(e)) return;\n\n        switch (e.key) {\n            case 'w':\n            case 'i':\n            case 'ArrowUp':\n                return PalmButton.up;\n\n            case 's':\n            case 'k':\n            case 'ArrowDown':\n                return PalmButton.down;\n\n            case 'a':\n            case 'j':\n            case 'y':\n            case 'z':\n            case 'ArrowLeft':\n                return PalmButton.cal;\n\n            case 'q':\n            case 'u':\n            case 'x':\n                return PalmButton.phone;\n\n            case 'e':\n            case 'o':\n            case 'c':\n                return PalmButton.todo;\n\n            case 'd':\n            case 'l':\n            case 'v':\n            case 'ArrowRight':\n                return PalmButton.notes;\n        }\n\n        return undefined;\n    }\n\n    private keyCodeFromEvent(e: KeyboardEvent): number | undefined {\n        if (this.isGameModeActive(e)) return;\n\n        if (e.key.length === 1 && e.key.charCodeAt(0) <= 255) return e.key.charCodeAt(0);\n\n        switch (e.key) {\n            case 'ArrowLeft':\n                return 0x1c;\n\n            case 'ArrowRight':\n                return 0x1d;\n\n            case 'ArrowUp':\n                return 0x1e;\n\n            case 'ArrowDown':\n                return 0x1f;\n\n            case 'Backspace':\n                return 0x08;\n\n            case 'Tab':\n                return 0x09;\n\n            case 'Enter':\n                return 0x0a;\n\n            default:\n                return undefined;\n        }\n    }\n\n    private pointerEventTarget: EventTarget | undefined;\n    private keyEventTarget: EventTarget = window;\n\n    private interactionMouse: Interaction | undefined;\n    private interactionsTouch = new Map<number, Interaction>();\n    private activeButtons = new Set<PalmButton>();\n    private gameMode = false;\n    private enableGamemodeHotkey = true;\n}\n","import { AbstractEmulationService } from '@common/service/AbstractEmulationService';\nimport { EmbeddedCanvasDisplayService } from './EmbeddedCanvasDisplayService';\nimport { Event } from 'microevent.ts';\nimport { GenericEventHandlingService } from '@common/service/GenericEventHandlingService';\n\nexport class EmbeddedEventHandlingServie extends GenericEventHandlingService {\n    constructor(emulationService: AbstractEmulationService, canvasDisplayService: EmbeddedCanvasDisplayService) {\n        super(emulationService, canvasDisplayService);\n\n        this.canvasDisplayService = canvasDisplayService;\n    }\n\n    protected override onToggleGameMode(): void {\n        this.canvasDisplayService.toggleGameModeIndicator(this.isGameMode());\n        this.gameModeChangeEvent.dispatch(this.isGameMode());\n    }\n\n    gameModeChangeEvent = new Event<boolean>();\n\n    protected override canvasDisplayService: EmbeddedCanvasDisplayService;\n}\n","import { PrerenderedImage, loadImage, prerender } from '@common/helper/image';\n\nimport { Cloudpilot } from '@common/bridge/Cloudpilot';\nimport { svgToUrl } from './../helper/image';\n\nexport const enum SkinElement {\n    HARD_BUTTONS_IIIC = 'hard-buttons/iiic.svg',\n    HARD_BUTTONS_IIIE = 'hard-buttons/iiie.svg',\n    HARD_BUTTONS_IIIX = 'hard-buttons/iiix.svg',\n    HARD_BUTTONS_M100 = 'hard-buttons/m100.svg',\n    HARD_BUTTONS_M125 = 'hard-buttons/m125.svg',\n    HARD_BUTTONS_M130 = 'hard-buttons/m130.svg',\n    HARD_BUTTONS_M500 = 'hard-buttons/m500.svg',\n    HARD_BUTTONS_M515 = 'hard-buttons/m515.svg',\n    HARD_BUTTONS_PILOT = 'hard-buttons/pilot.svg',\n    HARD_BUTTONS_TUNGSTEN_W = 'hard-buttons/tungstenw.svg',\n    HARD_BUTTONS_PALM_V = 'hard-buttons/v.svg',\n    HARD_BUTTONS_I705 = 'hard-buttons/i705.svg',\n    HARD_BUTTONS_HANDERA330 = 'hard-buttons/handera330.svg',\n    HARD_BUTTONS_HANDERA330C = 'hard-buttons/handera330c.svg',\n    HARD_BUTTONS_PEG_S300 = 'hard-buttons/clie-s300.svg',\n    HARD_BUTTONS_PEG_S500 = 'hard-buttons/clie-s500.svg',\n    HARD_BUTTONS_PEG_S320 = 'hard-buttons/clie-s320.svg',\n    HARD_BUTTONS_PEG_T415 = 'hard-buttons/clie-t415.svg',\n    HARD_BUTTONS_PEG_N610 = 'hard-buttons/clie-n610.svg',\n    HARD_BUTTONS_PEG_N700 = 'hard-buttons/clie-n700.svg',\n    HARD_BUTTONS_PEG_NR70 = 'hard-buttons/clie-nr70.svg',\n    HARD_BUTTONS_ACER_S10 = 'hard-buttons/acer-s10.svg',\n    HARD_BUTTONS_LEGEND_P168 = 'hard-buttons/lp168.svg',\n    SILKSCREEN_IIIC = 'silkscreen/iiic.svg',\n    SILKSCREEN_M100 = 'silkscreen/m100.svg',\n    SILKSCREEN_M130 = 'silkscreen/m130.svg',\n    SILKSCREEN_M500 = 'silkscreen/m500.svg',\n    SILKSCREEN_M515 = 'silkscreen/m515.svg',\n    SILKSCREEN_PILOT = 'silkscreen/pilot.svg',\n    SILKSCREEN_TUNGSTEN_W = 'silkscreen/tungstenw.svg',\n    SILKSCREEN_V = 'silkscreen/v.svg',\n    SILKSCREEN_I705 = 'silkscreen/i705.svg',\n    SILKSCREEN_PEG_S300 = 'silkscreen/clie-s300.svg',\n    SILKSCREEN_PEG_S500 = 'silkscreen/clie-s500.svg',\n    SILKSCREEN_PEG_T415 = 'silkscreen/clie-t415.svg',\n    SILKSCREEN_PEG_N610 = 'silkscreen/clie-n610.svg',\n    SILKSCREEN_PEG_T600 = 'silkscreen/clie-t600.svg',\n    SILKSCREEN_ACER_S10 = 'silkscreen/acer-s10.svg',\n}\n\nexport class SkinLoader {\n    constructor(private cloudpilot: Promise<Cloudpilot>) {}\n\n    loadSkinElement(elt: SkinElement): PrerenderedImage {\n        if (this.images.has(elt)) return this.images.get(elt)!;\n\n        const skin: Promise<[string, HTMLImageElement]> = this.cloudpilot\n            .then((cloudpilot) => cloudpilot.loadSkin(elt))\n            .then((svg) =>\n                svg\n                    ? Promise.all([svg, loadImage(svgToUrl(svg))])\n                    : Promise.reject(new Error(`failed to load skin ${elt}`)),\n            );\n\n        const prerenderedImage = prerender(\n            skin.then(([, image]) => image),\n            skin.then(([svg]) => svg),\n        );\n\n        this.images.set(elt, prerenderedImage);\n\n        return prerenderedImage;\n    }\n\n    private images = new Map<SkinElement, PrerenderedImage>();\n}\n","import { Event } from 'microevent.ts';\n\nexport class Watcher<T> {\n    constructor(private query: () => T) {\n        this.last = query();\n    }\n\n    update(): void {\n        const current = this.query();\n\n        if (current !== this.last) {\n            this.changeEvent.dispatch(current);\n            this.last = current;\n        }\n    }\n\n    readonly changeEvent = new Event<T>();\n\n    private last: T;\n}\n","import { Cloudpilot } from '@common/bridge/Cloudpilot';\n\nimport { Button } from './index';\nimport { DeviceId } from '@common/model/DeviceId';\nimport { DeviceOrientation } from '@common/model/DeviceOrientation';\nimport { EmbeddedAudioService } from './service/EmbeddedAudioService';\nimport { EmbeddedCanvasDisplayService } from './service/EmbeddedCanvasDisplayService';\nimport { EmbeddedEmulationService } from './service/EmbeddedEmulationService';\nimport { EmbeddedEventHandlingServie } from './service/EmbeddedEventHandlingService';\nimport { EmulationStatistics } from '@common/model/EmulationStatistics';\nimport { Event } from './Event';\nimport { Event as EventImpl } from 'microevent.ts';\nimport { EventTarget } from '@common/service/GenericEventHandlingService';\nimport { Session } from './model/Session';\nimport { SessionMetadata } from '@common/model/SessionMetadata';\nimport { SkinLoader } from '@common/service/SkinLoader';\nimport { Watcher } from './Watcher';\nimport { ZipfileWalkerState } from '@common/bridge/ZipfileWalker';\nimport { SerialPort } from './SerialPort';\n\nconst DEFAULT_SESSION: Session = {\n    hotsyncName: undefined,\n    orientation: DeviceOrientation.portrait,\n    runInBackground: false,\n    speed: 1,\n    deviceId: DeviceId.m515,\n};\n\nconst CARD_KEY = 'MEMORY_CARD';\n\nexport interface Emulator {\n    /**\n     * Load a ROM and put the emulator in paused state.\n     *\n     * @param rom Device ROM\n     * @param deviceId Optional: device ID, autodetected if not specified\n     */\n    loadRom(rom: Uint8Array, deviceId?: DeviceId): this;\n\n    /**\n     * Load a Cloudpilot session and put the emulator in paused state.\n     *\n     * @param session Session image\n     */\n    loadSession(session: Uint8Array): this;\n\n    /**\n     * Attach and mount a gzip compressed card image.\n     *\n     * @param cardImage Gzip compressed image data\n     */\n    insertCompressedCardImage(cardImage: Uint8Array): this;\n\n    /**\n     * Attach and mount a plain card image.\n     *\n     * @param cardImage Image data\n     */\n    insertCardImage(cardImage: Uint8Array): this;\n\n    /**\n     * Eject a previously inserted card image:\n     */\n    ejectCard(): this;\n\n    /**\n     * Check whether a card is currently mounted.\n     */\n    isCardMounted(): boolean;\n\n    /**\n     * Configure the canvas element used for displaying the emulator.\n     *\n     * @param canvas Canvas for displaying the emulator\n     */\n    setCanvas(canvas: HTMLCanvasElement): this;\n\n    /**\n     * Receive input events from the specified sources. If this method is called\n     * multiple times the previous sources will be unbound.\n     *\n     * @param keyboardTarget Optional: target for keyboard events, default: `window`\n     */\n    bindInput(keyboardTarget?: EventTarget): this;\n\n    /**\n     * Unbind the handlers previous bound with `bindInput`.\n     */\n    releaseInput(): this;\n\n    /**\n     * Install a prc or pdb database to the device.\n     *\n     * @param file The database data.\n     */\n    installDatabase(file: Uint8Array): this;\n\n    /**\n     * Install a prc database to the device and attempt to launch it.\n     *\n     * @param file The database data.\n     */\n    installAndLaunchDatabase(file: Uint8Array): this;\n\n    /**\n     * Extract all databases from a zip archive and install them.\n     *\n     * @param file The zip archive data.\n     */\n    installFromZipfile(file: Uint8Array): this;\n\n    /**\n     * Extract all databases from a zip archive and install them, then attampt to\n     * launch the specified file.\n     *\n     * @param file The zip archive data.\n     * @param launchFile The file name of the database that Cloudpilot will try to launch.\n     */\n    installFromZipfileAndLaunch(file: Uint8Array, launchFile: string): this;\n\n    /**\n     * Attemot to launch the database with the specified name.\n     *\n     * @param name Database name\n     */\n    launchByName(name: string): this;\n\n    /**\n     * Attempt to extract the name from a database and launch it.\n     *\n     * @param database Database data (only the first 32 bytes are required)\n     */\n    launchDatabase(database: Uint8Array): this;\n\n    /**\n     * Perform a soft reset (equivalent of pushing the reset button).\n     */\n    reset(): this;\n\n    /**\n     * Reset w/o system extensions (equivalent to holding \"down\" while pushing the\n     * reset button).\n     */\n    resetNoExtensions(): this;\n\n    /**\n     * Hard reset (equivalent to holding \"power\" while pushing the\n     * reset button).\n     */\n    resetHard(): this;\n\n    /**\n     * Is the emulator running?\n     */\n    isRunning(): boolean;\n\n    /**\n     * Is the device powered off?\n     */\n    isPowerOff(): boolean;\n\n    /**\n     * Has the emulated device passed UI initialization (during boot)? This\n     * is required before software can be installed.\n     */\n    isUiInitialized(): boolean;\n\n    /**\n     * Resume a paused device.\n     */\n    resume(): this;\n\n    /**\n     * Pause a running device.\n     */\n    pause(): this;\n\n    /**\n     * Push a hardware button.\n     *\n     * @param button The desired button\n     */\n    buttonDown(button: Button): this;\n\n    /**\n     * Release a hardware button.\n     *\n     * @param button The desired button\n     */\n\n    buttonUp(button: Button): this;\n\n    /**\n     * Adjust speed of the emulated device.\n     *\n     * @param speed Speed factor\n     */\n    setSpeed(speed: number): this;\n\n    /**\n     * Query configured speed factor.\n     */\n    getSpeed(): number;\n\n    /**\n     * Set audio volume.\n     *\n     * @param volume Volume (1 = 100%, 0 = silent)\n     */\n    setVolume(volume: number): this;\n\n    /**\n     * Query audio volume\n     */\n    getVolume(): number;\n\n    /**\n     * Initialize audio. This must be called from an event handler that was triggered\n     * by a user interaction, i.e. a click or a key press.\n     */\n    initializeAudio(): Promise<boolean>;\n\n    /**\n     * Was audio initialized succesfully?\n     */\n    isAudioInitialized(): boolean;\n\n    /**\n     * Enable or disable game mode (direct key mapping to hardware buttons).\n     *\n     * @param gameModeActive Desired state\n     */\n    setGameMode(gameModeActive: boolean): this;\n\n    /**\n     * Is game mode enabled?\n     */\n    isGameMode(): boolean;\n\n    /**\n     * Enable or disable shift-ctrl for toggling game mode (enabled by default).\n     *\n     * @param enableGamemodeHotkey Desired state\n     */\n    setGameModeHotkeyEnabled(enableGamemodeHotkey: boolean): this;\n\n    /**\n     * Can game mode be toggled via shift-ctrl?\n     */\n    isGameModeHotkeyEnabled(): boolean;\n\n    /**\n     * Enable or disable game mode indicator (overlays hard buttons if game mode is active)? Enabled\n     * by default.\n     *\n     * @param gameModeIndicatorEnabled Desired state\n     */\n    setGameModeIndicatorEnabled(gameModeIndicatorEnabled: boolean): this;\n\n    /**\n     * Is game mode overlay enabled?\n     */\n    isGameModeIndicatorEnabled(): boolean;\n\n    /**\n     * Change device orientation.\n     *\n     * @param orientation Desired orientation\n     */\n    setOrientation(orientation: DeviceOrientation): this;\n\n    /**\n     * Query device orientation\n     */\n    getOrientation(): DeviceOrientation;\n\n    /**\n     * Set hotsync name.\n     *\n     * @param hotsyncName Desired hotsync name\n     */\n    setHotsyncName(hotsyncName: string | undefined): this;\n\n    /**\n     * Get hotsync name.\n     */\n    getHotsyncName(): string | undefined;\n\n    /**\n     * Keep running if the emulator tab is not visible?\n     *\n     * @param toggle Desired state\n     */\n    setRunHidden(toggle: boolean): this;\n\n    /**\n     * Keep running if the emulator tab is not visible?\n     */\n    getRunHidden(): boolean;\n\n    /**\n     * Get performance statistics\n     */\n    getStatistics(): EmulationStatistics;\n\n    /**\n     * Get serial transport for IR transceiver.\n     */\n    getSerialPortIR(): SerialPort;\n\n    /**\n     * Get serial transport for serial port.\n     */\n    getSerialPortSerial(): SerialPort;\n\n    /**\n     * Fires when the device turns on or off.\n     */\n    readonly powerOffChangeEvent: Event<boolean>;\n\n    /**\n     * Fires when PalmOS resets or passed UI initialization during boot.\n     */\n    readonly isUiInitializedChangeEvent: Event<boolean>;\n\n    /**\n     * Fires when audio is initializd successfully.\n     */\n    readonly audioInitializedEvent: Event<void>;\n\n    /**\n     * Fires after each emulated timeslice (typicall 60 times per second)\n     */\n    readonly timesliceEvent: Event<void>;\n\n    /**\n     * Fires when the hotsync name changes. This does not happen immediatelly when\n     * `setHotsyncName` is called, but only when the OS is notified of the new name.\n     */\n    readonly hotsyncNameChangeEvent: Event<string>;\n\n    /**\n     * Fires if game mode is enabled or disabled.\n     */\n    readonly gameModeChangeEvent: Event<boolean>;\n}\n\nexport class EmulatorImpl implements Emulator {\n    constructor(private cloudpilot: Cloudpilot) {\n        this.emulationService = new EmbeddedEmulationService();\n        this.canvasDisplayService = new EmbeddedCanvasDisplayService(new SkinLoader(Promise.resolve(cloudpilot)));\n        this.eventHandlingService = new EmbeddedEventHandlingServie(this.emulationService, this.canvasDisplayService);\n        this.audioService = new EmbeddedAudioService(this.emulationService);\n\n        this.emulationService.newFrameEvent.addHandler((canvas) =>\n            this.canvasDisplayService.updateEmulationCanvas(canvas),\n        );\n\n        this.timesliceEvent.addHandler(this.onTimeslice);\n\n        this.powerOffWatcher = new Watcher(() => this.isPowerOff());\n        this.uiInitializedWatcher = new Watcher(() => this.isUiInitialized());\n        this.hotsyncNameWatcher = new Watcher(() => this.getHotsyncName() || '');\n    }\n\n    getStatistics(): EmulationStatistics {\n        return this.emulationService.getStatistics();\n    }\n\n    loadRom(rom: Uint8Array, deviceId?: DeviceId): this {\n        if (deviceId === undefined) {\n            const rominfo = this.cloudpilot.getRomInfo(rom);\n            if (!rominfo || rominfo.supportedDevices.length === 0) {\n                throw new Error('unsupported device');\n            }\n\n            deviceId = rominfo.supportedDevices[0];\n        }\n        this.session = { ...DEFAULT_SESSION, deviceId };\n\n        if (this.emulationService.initWithRom(this.cloudpilot, rom, deviceId, this.session)) {\n            void this.canvasDisplayService.initialize(undefined, deviceId, this.session.orientation);\n            return this;\n        }\n\n        throw new Error('failed to initialize session');\n    }\n\n    loadSession(session: Uint8Array): this {\n        const sessionImage = this.cloudpilot.deserializeSessionImage<SessionMetadata>(session);\n        if (!sessionImage) throw new Error('bad session image');\n\n        this.session = {\n            hotsyncName: sessionImage.metadata?.hotsyncName,\n            speed: sessionImage.metadata?.speed ?? 1,\n            orientation: sessionImage.metadata?.deviceOrientation ?? DeviceOrientation.portrait,\n            runInBackground: false,\n            deviceId: sessionImage.deviceId,\n        };\n\n        if (this.emulationService.initWithSessionImage(this.cloudpilot, sessionImage, this.session)) {\n            void this.canvasDisplayService.initialize(undefined, sessionImage.deviceId, this.session.orientation);\n            return this;\n        }\n\n        throw new Error('failed to initialize session');\n    }\n\n    insertCompressedCardImage(cardImage: Uint8Array): this {\n        if (!this.cloudpilot.decompressCard(CARD_KEY, cardImage)) {\n            throw new Error('failed to decompress and mount card image');\n        }\n\n        if (!this.cloudpilot.mountCard(CARD_KEY)) {\n            throw new Error('failed to mount card image');\n        }\n\n        return this;\n    }\n\n    insertCardImage(cardImage: Uint8Array): this {\n        if (cardImage.length % 512 !== 0) {\n            throw new Error('card image size must be a multiple of 512');\n        }\n\n        if (!this.cloudpilot.allocateCard(CARD_KEY, cardImage.length)) {\n            throw new Error('failed to allocate card image');\n        }\n\n        const cardData = this.cloudpilot.getCardData(CARD_KEY);\n        if (!cardData) {\n            throw new Error('failed to allocate card image');\n        }\n\n        cardData.set(new Uint32Array(cardImage.buffer, cardImage.byteOffset, cardImage.byteLength >>> 2));\n\n        if (!this.cloudpilot.mountCard(CARD_KEY)) {\n            throw new Error('failed to mount card image');\n        }\n\n        return this;\n    }\n\n    ejectCard(): this {\n        if (!this.isCardMounted()) return this;\n\n        if (!this.cloudpilot.removeCard(CARD_KEY)) {\n            throw new Error('failed to eject card');\n        }\n\n        return this;\n    }\n\n    isCardMounted(): boolean {\n        return this.cloudpilot.getMountedKey() === CARD_KEY;\n    }\n\n    setCanvas(canvas: HTMLCanvasElement): this {\n        void this.canvasDisplayService.initialize(canvas, this.session.deviceId, this.session.orientation);\n\n        return this;\n    }\n\n    bindInput(keyEventTarget?: EventTarget): this {\n        const canvas = this.canvasDisplayService.getCanvas();\n        if (!canvas) {\n            throw new Error('you must set up the canvas setCanvas before calling bindInput');\n        }\n        this.eventHandlingService.bind(canvas, keyEventTarget);\n\n        return this;\n    }\n\n    releaseInput(): this {\n        this.eventHandlingService.release();\n\n        return this;\n    }\n\n    installDatabase(file: Uint8Array): this {\n        if (this.cloudpilot.installDb(file) < 0) throw new Error('failed to install database');\n\n        return this;\n    }\n\n    installAndLaunchDatabase(file: Uint8Array): this {\n        return this.installDatabase(file).launchDatabase(file);\n    }\n\n    installFromZipfile(file: Uint8Array): this {\n        return this.installFromZipfileAndLaunch(file);\n    }\n\n    installFromZipfileAndLaunch(file: Uint8Array, launchFile?: string): this {\n        let launch: Uint8Array | undefined;\n\n        this.cloudpilot.withZipfileWalkerSync(file, (walker) => {\n            while (walker.GetState() === ZipfileWalkerState.open) {\n                const content = walker.GetCurrentEntryContent();\n                const name = walker.GetCurrentEntryName();\n\n                if (!content) {\n                    throw new Error(`unable to read ${name} from zupfile`);\n                }\n\n                this.installDatabase(content);\n\n                if (name.toLowerCase() === launchFile?.toLowerCase()) launch = content.subarray(0, 32).slice();\n\n                walker.Next();\n            }\n\n            if (walker.GetState() === ZipfileWalkerState.error) {\n                throw new Error('error reading zipfile');\n            }\n        });\n\n        if (launchFile !== undefined && !launch) throw new Error(`database ${launchFile} not found `);\n        if (launch) this.launchDatabase(launch);\n\n        return this;\n    }\n\n    launchByName(name: string): this {\n        if (!this.cloudpilot.launchAppByName(name)) throw new Error(`failed to launch ${name}`);\n\n        return this;\n    }\n\n    launchDatabase(database: Uint8Array): this {\n        if (!this.cloudpilot.launchAppByDbHeader(database)) throw new Error('failed to launch database');\n\n        return this;\n    }\n\n    reset(): this {\n        this.emulationService.reset();\n\n        return this;\n    }\n\n    resetNoExtensions(): this {\n        this.emulationService.resetNoExtensions();\n\n        return this;\n    }\n\n    resetHard(): this {\n        this.emulationService.resetHard();\n\n        return this;\n    }\n\n    isRunning(): boolean {\n        return this.emulationService.isRunning();\n    }\n\n    isPowerOff(): boolean {\n        return this.emulationService.isPowerOff();\n    }\n\n    isUiInitialized(): boolean {\n        return this.emulationService.isUiInitialized();\n    }\n\n    resume(): this {\n        this.emulationService.resume();\n\n        return this;\n    }\n\n    pause(): this {\n        this.emulationService.pause();\n\n        return this;\n    }\n\n    buttonDown(button: Button): this {\n        this.emulationService.handleButtonDown(button as number);\n\n        return this;\n    }\n\n    buttonUp(button: Button): this {\n        this.emulationService.handleButtonUp(button as number);\n\n        return this;\n    }\n\n    setSpeed(speed: number): this {\n        this.session.speed = speed;\n\n        return this;\n    }\n\n    getSpeed(): number {\n        return this.session.speed;\n    }\n\n    setVolume(volume: number): this {\n        this.audioService.setVolume(volume);\n\n        return this;\n    }\n\n    getVolume(): number {\n        return this.audioService.getVolume();\n    }\n\n    async initializeAudio(): Promise<boolean> {\n        await this.audioService.initialize();\n        return this.audioService.isInitialized();\n    }\n\n    isAudioInitialized(): boolean {\n        return this.audioService.isInitialized();\n    }\n\n    setOrientation(orientation: DeviceOrientation): this {\n        this.session.orientation = orientation;\n        this.canvasDisplayService.updateOrientation(this.session.orientation);\n\n        return this;\n    }\n\n    getOrientation(): DeviceOrientation {\n        return this.session.orientation;\n    }\n\n    setHotsyncName(hotsyncName: string | undefined): this {\n        this.session.hotsyncName = hotsyncName;\n        this.emulationService.forceUpdateHotsyncName();\n\n        return this;\n    }\n\n    getHotsyncName(): string | undefined {\n        return this.session.hotsyncName;\n    }\n\n    setRunHidden(toggle: boolean): this {\n        this.session.runInBackground = toggle;\n\n        return this;\n    }\n\n    getRunHidden(): boolean {\n        return this.session.runInBackground;\n    }\n\n    isGameMode(): boolean {\n        return this.eventHandlingService.isGameMode();\n    }\n\n    setGameMode(gameModeActive: boolean): this {\n        this.eventHandlingService.setGameMode(gameModeActive);\n\n        return this;\n    }\n\n    isGameModeHotkeyEnabled(): boolean {\n        return this.eventHandlingService.isGameModeHotkeyEnabled();\n    }\n\n    setGameModeHotkeyEnabled(enableGamemodeHotkey: boolean): this {\n        this.eventHandlingService.setGameModeHotkeyEnabled(enableGamemodeHotkey);\n\n        return this;\n    }\n\n    isGameModeIndicatorEnabled(): boolean {\n        return this.canvasDisplayService.isGameModeIndicatorEnabled();\n    }\n\n    setGameModeIndicatorEnabled(gameModeIndicatorEnabled: boolean): this {\n        this.canvasDisplayService.setGameModeIndicatorEnabled(gameModeIndicatorEnabled);\n\n        return this;\n    }\n\n    getSerialPortIR(): SerialPort {\n        return this.emulationService.getSerialPortIR();\n    }\n\n    getSerialPortSerial(): SerialPort {\n        return this.emulationService.getSerialPortSerial();\n    }\n\n    get powerOffChangeEvent(): Event<boolean> {\n        return this.powerOffWatcher.changeEvent;\n    }\n\n    get isUiInitializedChangeEvent(): Event<boolean> {\n        return this.uiInitializedWatcher.changeEvent;\n    }\n\n    get hotsyncNameChangeEvent(): Event<string> {\n        return this.hotsyncNameWatcher.changeEvent;\n    }\n\n    get gameModeChangeEvent(): Event<boolean> {\n        return this.eventHandlingService.gameModeChangeEvent;\n    }\n\n    get timesliceEvent(): Event<void> {\n        return this.emulationService.timesliceEvent;\n    }\n\n    private onTimeslice = (): void => {\n        this.powerOffWatcher.update();\n        this.uiInitializedWatcher.update();\n        this.hotsyncNameWatcher.update();\n    };\n\n    readonly audioInitializedEvent = new EventImpl<void>();\n\n    private emulationService: EmbeddedEmulationService;\n    private canvasDisplayService: EmbeddedCanvasDisplayService;\n    private eventHandlingService: EmbeddedEventHandlingServie;\n    private audioService: EmbeddedAudioService;\n\n    private powerOffWatcher: Watcher<boolean>;\n    private uiInitializedWatcher: Watcher<boolean>;\n    private hotsyncNameWatcher: Watcher<string>;\n\n    private session: Session = { ...DEFAULT_SESSION };\n}\n","// I am not sure why the ambient import is required here --- tsc does fine without it, but\n// the webpack build is unable to resolve emscripten with a simple ES6 style import.\n//\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path=\"../../node_modules/@types/emscripten/index.d.ts\"/>\n\nimport createModule, {\n    CardSupportLevel,\n    Cloudpilot as CloudpilotNative,\n    DbBackup,\n    DbInstallResult,\n    EmSerialTransport,\n    GunzipContext,\n    GunzipState,\n    Module,\n    PalmButton,\n    SuspendContextClipboardCopy,\n    SuspendContextClipboardPaste,\n    SuspendContextNetworkConnect,\n    SuspendContextNetworkRpc,\n    SuspendContextSerialSync,\n    SuspendKind,\n    VoidPtr,\n} from '@native/index';\n\nimport { DeviceId } from '../model/DeviceId';\nimport { Event, EventInterface } from 'microevent.ts';\nimport { InstantiateFunction } from '@common/helper/wasm';\nimport { dirtyPagesSize } from './util';\nimport { ZipfileWalker, decorateZipfileWalker } from './ZipfileWalker';\n\nlet nextId = 0;\n\nexport {\n    PalmButton,\n    DbBackup,\n    DbInstallResult,\n    SuspendKind,\n    SuspendContextClipboardCopy,\n    SuspendContextClipboardPaste,\n    VoidPtr,\n    CardSupportLevel,\n} from '@native/index';\n\nexport interface RomInfo {\n    cardVersion: number;\n    cardName: string;\n    romVersion: number;\n    romVersionString: string;\n    supportedDevices: Array<DeviceId>;\n}\n\nexport interface Frame {\n    bpp: number;\n    lineWidth: number;\n    lines: number;\n    margin: number;\n    bytesPerLine: number;\n\n    firstDirtyLine: number;\n    lastDirtyLine: number;\n    hasChanges: boolean;\n\n    scaleX: number;\n    scaleY: number;\n\n    buffer: Uint8Array;\n}\n\nexport interface PwmUpdate {\n    frequency: number;\n    dutyCycle: number;\n}\n\nexport interface SessionImage<T> {\n    metadata?: T;\n    deviceId: DeviceId;\n    rom: Uint8Array;\n    memory?: Uint8Array;\n    savestate?: Uint8Array;\n    version: number;\n}\n\nexport const SUPPORTED_DEVICES = [\n    DeviceId.palmPilot,\n    DeviceId.pilot,\n    DeviceId.iii,\n    DeviceId.palmVx,\n    DeviceId.palmV,\n    DeviceId.palmVII,\n    DeviceId.palmVIIEZ,\n    DeviceId.palmVIIx,\n    DeviceId.iiixe,\n    DeviceId.iiix,\n    DeviceId.iiie,\n    DeviceId.m500,\n    DeviceId.m505,\n    DeviceId.m515,\n    DeviceId.m520,\n    DeviceId.iiic,\n    DeviceId.m100,\n    DeviceId.m105,\n    DeviceId.m125,\n    DeviceId.m130,\n    DeviceId.i705,\n    DeviceId.i710,\n    DeviceId.handera330,\n    DeviceId.handera330c,\n    DeviceId.pegS300,\n    DeviceId.pegS320,\n    DeviceId.pegS500c,\n    DeviceId.pegT400,\n    DeviceId.pegN600c,\n    DeviceId.pegT600c,\n    DeviceId.pegN700c,\n    DeviceId.pegT650c,\n    DeviceId.pegNR70,\n    DeviceId.acerS11,\n    DeviceId.lp168,\n];\n\nexport interface SerialTransport extends Omit<EmSerialTransport, 'Receive' | 'Send'> {\n    Receive(): Uint8Array;\n    Send(data: Uint8Array | undefined, isFrameComplete: boolean): void;\n\n    frameCompleteEvent: EventInterface<void>;\n}\n\nfunction guard(): MethodDecorator {\n    return (target: unknown, propertyKey: string | symbol, desc: PropertyDescriptor) => {\n        const oldMethod = desc.value;\n\n        desc.value = function (this: Cloudpilot, p1: unknown, p2: unknown) {\n            return this.guard(() => oldMethod.call(this, p1, p2));\n        };\n\n        return desc;\n    };\n}\n\nexport class Cloudpilot {\n    private constructor(private module: Module) {\n        this.cloudpilot = new module.Cloudpilot();\n\n        this.cloudpilot.RegisterPwmHandler(\n            module.addFunction(\n                (frequency: number, dutyCycle: number) => this.pwmUpdateEvent.dispatch({ frequency, dutyCycle }),\n                'vdd',\n            ),\n        );\n\n        this.cloudpilot.RegisterProxyDisconnectHandler(\n            module.addFunction(() => this.proxyDisconnectEvent.dispatch(), 'v'),\n        );\n\n        this.transportIR = this.wrapTransport(this.cloudpilot.GetTransportIR());\n        this.transportSerial = this.wrapTransport(this.cloudpilot.GetTransportSerial());\n    }\n\n    static async create(wasmModuleUrl?: string): Promise<Cloudpilot>;\n    static async create(instantiateWasm?: InstantiateFunction): Promise<Cloudpilot>;\n    static async create(urlOrFunction?: string | InstantiateFunction): Promise<Cloudpilot> {\n        const id = nextId++;\n\n        return new Cloudpilot(\n            await createModule({\n                print: (x: string) => console.log(`${id}: ${x}`),\n                printErr: (x: string) => console.error(`${id}: ${x}`),\n                ...(typeof urlOrFunction === 'string' ? { locateFile: () => urlOrFunction } : {}),\n                ...(typeof urlOrFunction === 'function' ? { instantiateWasm: urlOrFunction } : {}),\n            }),\n        );\n    }\n\n    destroy(): void {\n        this.module.destroy(this.cloudpilot);\n    }\n\n    hasFatalError(): boolean {\n        return this.amIdead;\n    }\n\n    @guard()\n    enableLogging(logging: boolean): void {\n        this.cloudpilot.EnableLogging(logging);\n    }\n\n    @guard()\n    getRomInfo(rom: Uint8Array): RomInfo | undefined {\n        const buffer = this.copyIn(rom);\n\n        const romInfoNative = new this.module.RomInfo(buffer, rom.length);\n        let romInfo: RomInfo | undefined;\n\n        if (romInfoNative.IsValid()) {\n            romInfo = {\n                cardVersion: romInfoNative.CardVersion(),\n                cardName: romInfoNative.CardName(),\n                romVersion: romInfoNative.RomVersion(),\n                romVersionString: romInfoNative.RomVersionString(),\n                supportedDevices: SUPPORTED_DEVICES.filter(romInfoNative.Supports.bind(romInfoNative)),\n            };\n        }\n\n        this.cloudpilot.Free(buffer);\n        this.module.destroy(romInfoNative);\n\n        return romInfo;\n    }\n\n    @guard()\n    initializeSession(rom: Uint8Array, deviceType: string): boolean {\n        const buffer = this.copyIn(rom);\n\n        const result = this.cloudpilot.InitializeSession(buffer, rom.length, deviceType);\n\n        this.cloudpilot.Free(buffer);\n\n        return result;\n    }\n\n    @guard()\n    cyclesPerSecond(): number {\n        return this.cloudpilot.GetCyclesPerSecond();\n    }\n\n    @guard()\n    runEmulation(cycles: number): number {\n        return this.cloudpilot.RunEmulation(cycles);\n    }\n\n    @guard()\n    getFrame(): Frame {\n        const nativeFrame = this.cloudpilot.CopyFrame();\n\n        const bufferPtr = this.module.getPointer(nativeFrame.GetBuffer());\n\n        return {\n            bpp: nativeFrame.GetBpp(),\n            bytesPerLine: nativeFrame.GetBytesPerLine(),\n            lines: nativeFrame.GetLines(),\n            lineWidth: nativeFrame.GetLineWidth(),\n            margin: nativeFrame.GetMargin(),\n            firstDirtyLine: nativeFrame.GetFirstDirtyLine(),\n            lastDirtyLine: nativeFrame.GetLastDirtyLine(),\n            hasChanges: nativeFrame.GetHasChanges(),\n            scaleX: nativeFrame.GetScaleX(),\n            scaleY: nativeFrame.GetScaleY(),\n            buffer: this.module.HEAPU8.subarray(bufferPtr, bufferPtr + nativeFrame.GetBufferSize()),\n        };\n    }\n\n    @guard()\n    isScreenDirty(): boolean {\n        return this.cloudpilot.IsScreenDirty();\n    }\n\n    @guard()\n    markScreenClean(): void {\n        this.cloudpilot.MarkScreenClean();\n    }\n\n    @guard()\n    minRamForDevice(id: DeviceId): number {\n        return this.cloudpilot.MinMemoryForDevice(id) * 1024;\n    }\n\n    @guard()\n    framebufferSizeForDevice(id: DeviceId): number {\n        return this.cloudpilot.FramebufferSizeForDevice(id) * 1024;\n    }\n\n    @guard()\n    totalMemorySizeForDevice(id: DeviceId): number {\n        return this.cloudpilot.TotalMemoryForDevice(id) * 1024;\n    }\n\n    @guard()\n    queuePenMove(x: number, y: number): void {\n        this.cloudpilot.QueuePenMove(x, y);\n    }\n\n    @guard()\n    queuePenUp(): void {\n        this.cloudpilot.QueuePenUp();\n    }\n\n    @guard()\n    queueButtonDown(button: PalmButton): void {\n        this.cloudpilot.QueueButtonDown(button);\n    }\n\n    @guard()\n    queueButtonUp(button: PalmButton): void {\n        this.cloudpilot.QueueButtonUp(button);\n    }\n\n    @guard()\n    queueKeyboardEvent(char: number, ctrl: boolean): void {\n        this.cloudpilot.QueueKeyboardEvent(char, ctrl);\n    }\n\n    @guard()\n    isPowerOff(): boolean {\n        return !!this.cloudpilot.IsPowerOff();\n    }\n\n    @guard()\n    isUiInitialized(): boolean {\n        return !!this.cloudpilot.IsUIInitialized();\n    }\n\n    @guard()\n    isSetupComplete(): boolean {\n        return !!this.cloudpilot.IsSetupComplete();\n    }\n\n    @guard()\n    getOSVersion(): number {\n        return this.cloudpilot.GetOSVersion();\n    }\n\n    @guard()\n    reset(): void {\n        this.cloudpilot.Reset();\n    }\n\n    @guard()\n    resetNoExtensions(): void {\n        this.cloudpilot.ResetNoExtensions();\n    }\n\n    @guard()\n    resetHard(): void {\n        this.cloudpilot.ResetHard();\n    }\n\n    @guard()\n    installDb(data: Uint8Array): DbInstallResult {\n        const buffer = this.copyIn(data);\n\n        const result = this.cloudpilot.InstallDb(buffer, data.length);\n\n        this.cloudpilot.Free(buffer);\n\n        return result;\n    }\n\n    @guard()\n    getPalette2bitMapping(): number {\n        return this.cloudpilot.GetPalette2bitMapping();\n    }\n\n    @guard()\n    getMemory(): Uint8Array {\n        const ptr = this.module.getPointer(this.cloudpilot.GetMemoryPtr());\n\n        return this.module.HEAPU8.subarray(ptr, ptr + this.cloudpilot.GetMemorySize());\n    }\n\n    @guard()\n    getMemory32(): Uint32Array {\n        let ptr = this.module.getPointer(this.cloudpilot.GetMemoryPtr());\n\n        if (ptr & 0x03) {\n            throw new Error('unaligned pointer');\n        }\n\n        ptr >>>= 2;\n\n        return this.module.HEAPU32.subarray(ptr, ptr + (this.cloudpilot.GetMemorySize() >>> 2));\n    }\n\n    @guard()\n    getDirtyPages(): Uint8Array {\n        const ptr = this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr());\n        const memorySize = this.cloudpilot.GetMemorySize();\n\n        const size = (memorySize >>> 13) + (memorySize % 8192 === 0 ? 0 : 1);\n\n        return this.module.HEAPU8.subarray(ptr, ptr + size);\n    }\n\n    @guard()\n    loadMemory(memory: Uint32Array): boolean {\n        const memory32 = this.getMemory32();\n\n        const imagesMatch = (): boolean => {\n            if (memory.length !== memory32.length || memory.length < 256) return false;\n\n            for (let i = 256; i > 0; i--) {\n                if (memory[memory.length - i] !== memory32[memory32.length - i]) return false;\n                if (memory32[memory32.length - i] === 0xffffffff) break;\n            }\n\n            return true;\n        };\n\n        if (imagesMatch()) {\n            memory32.set(memory);\n            return true;\n        } else {\n            const ptr = this.copyIn32(memory);\n            const result = this.cloudpilot.ImportMemoryImage(ptr, memory.length << 2);\n            this.cloudpilot.Free(ptr);\n\n            return result;\n        }\n    }\n\n    @guard()\n    getRomImage(): Uint8Array {\n        const ptr = this.module.getPointer(this.cloudpilot.GetRomPtr());\n\n        return this.module.HEAPU8.subarray(ptr, ptr + this.cloudpilot.GetRomSize());\n    }\n\n    @guard()\n    getSavestate(): Uint8Array {\n        const ptr = this.module.getPointer(this.cloudpilot.GetSavestatePtr());\n\n        return this.module.HEAPU8.subarray(ptr, ptr + this.cloudpilot.GetSavestateSize());\n    }\n\n    @guard()\n    saveState(): boolean {\n        return !!this.cloudpilot.SaveState();\n    }\n\n    @guard()\n    loadState(state: Uint8Array): boolean {\n        const ptr = this.copyIn(state);\n\n        const result = this.cloudpilot.LoadState(ptr, state.length);\n\n        this.cloudpilot.Free(ptr);\n\n        return result;\n    }\n\n    @guard()\n    getHotsyncName(): string {\n        return this.cloudpilot.GetHotsyncName();\n    }\n\n    @guard()\n    setClockFactor(factor: number): void {\n        this.cloudpilot.SetClockFactor(factor);\n    }\n\n    @guard()\n    setHotsyncName(name: string): void {\n        this.cloudpilot.SetHotsyncName(name);\n    }\n\n    async backup<T>(worker: (dbBackup: DbBackup) => Promise<T>): Promise<T> {\n        const dbBackup = this.guard(() => this.cloudpilot.StartBackup());\n\n        try {\n            return await worker(this.wrap(dbBackup));\n        } finally {\n            this.module.destroy(dbBackup);\n        }\n    }\n\n    getArchive(dbBackup: DbBackup): Uint8Array | undefined {\n        const size = dbBackup.GetArchiveSize();\n\n        return this.copyOut(dbBackup.GetArchivePtr(), size);\n    }\n\n    @guard()\n    setClipboardIntegration(toggle: boolean): void {\n        this.cloudpilot.SetClipboardIntegration(toggle);\n    }\n\n    @guard()\n    getClipboardIntegration(): boolean {\n        return this.cloudpilot.GetClipboardIntegration();\n    }\n\n    @guard()\n    isSuspended(): boolean {\n        return this.cloudpilot.IsSuspended();\n    }\n\n    @guard()\n    getSuspendKind(): SuspendKind | undefined {\n        return this.cloudpilot.IsSuspended() ? this.cloudpilot.GetSuspendContext().GetKind() : undefined;\n    }\n\n    @guard()\n    cancelSuspend(): void {\n        this.cloudpilot.GetSuspendContext().Cancel();\n    }\n\n    @guard()\n    getSuspendContextClipboardCopy(): SuspendContextClipboardCopy {\n        return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy());\n    }\n\n    @guard()\n    getSuspendContextClipboardPaste(): SuspendContextClipboardPaste {\n        return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste());\n    }\n\n    @guard()\n    setNetworkRedirection(toggle: boolean) {\n        this.cloudpilot.SetNetworkRedirection(toggle);\n    }\n\n    @guard()\n    getNetworkRedirection(): boolean {\n        return this.cloudpilot.GetNetworkRedirection();\n    }\n\n    @guard()\n    getSuspendContextNetworkConnect(): SuspendContextNetworkConnect {\n        return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect());\n    }\n\n    @guard()\n    getSuspendContextNetworkRpc(): SuspendContextNetworkRpc {\n        return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc());\n    }\n\n    @guard()\n    getSuspendContextSerialSync(): SuspendContextSerialSync {\n        return this.wrap(this.cloudpilot.GetSuspendContext().AsContextSerialSync());\n    }\n\n    @guard()\n    copyBuffer(data: Uint8Array): VoidPtr {\n        return this.copyIn(data);\n    }\n\n    @guard()\n    freeBuffer(ptr: VoidPtr): void {\n        this.cloudpilot.Free(ptr);\n    }\n\n    @guard()\n    setHotsyncNameManagement(toggle: boolean): void {\n        this.cloudpilot.SetHotsyncNameManagement(toggle);\n    }\n\n    @guard()\n    resolveBuffer(ptr: VoidPtr, size: number): Uint8Array {\n        const bufferPtr = this.module.getPointer(ptr);\n\n        return this.module.HEAPU8.subarray(bufferPtr, bufferPtr + size);\n    }\n\n    async withZipfileWalker<T>(buffer: Uint8Array, callback: (walker: ZipfileWalker) => Promise<T>): Promise<T> {\n        const walker = this.guard(() => {\n            const ptr = this.copyIn(buffer);\n            const newWalker = new this.module.ZipfileWalker(buffer.length, ptr);\n\n            this.cloudpilot.Free(ptr);\n\n            return newWalker;\n        });\n\n        try {\n            return await callback(decorateZipfileWalker(this.wrap(walker), this.module));\n        } finally {\n            this.module.destroy(walker);\n        }\n    }\n\n    withZipfileWalkerSync<T>(buffer: Uint8Array, callback: (walker: ZipfileWalker) => T): T {\n        const walker = this.guard(() => {\n            const ptr = this.copyIn(buffer);\n            const newWalker = new this.module.ZipfileWalker(buffer.length, ptr);\n\n            this.cloudpilot.Free(ptr);\n\n            return newWalker;\n        });\n\n        try {\n            return callback(\n                this.wrap(\n                    Object.setPrototypeOf(\n                        {\n                            GetCurrentEntryContent: () =>\n                                this.copyOut(walker.GetCurrentEntryContent(), walker.GetCurrentEntrySize()),\n                        },\n                        walker,\n                    ),\n                ),\n            );\n        } finally {\n            this.module.destroy(walker);\n        }\n    }\n\n    @guard()\n    serializeSessionImage<T>(sessionImage: Omit<SessionImage<T>, 'version'>): Uint8Array | undefined {\n        const nativeImage = new this.module.SessionImage();\n        const nullptr = this.cloudpilot.Nullptr();\n\n        const romImage = this.copyIn(sessionImage.rom);\n        const memoryImage = sessionImage.memory ? this.copyIn(sessionImage.memory) : nullptr;\n        const savestate = sessionImage.savestate !== undefined ? this.copyIn(sessionImage.savestate) : nullptr;\n\n        let metadata = nullptr;\n        let metadataLenght = 0;\n        if (sessionImage.metadata !== undefined) {\n            const serializedMetadata = new TextEncoder().encode(JSON.stringify(sessionImage.metadata));\n\n            metadataLenght = serializedMetadata.length;\n            metadata = this.copyIn(serializedMetadata);\n        }\n\n        nativeImage.SetRomImage(romImage, sessionImage.rom.length);\n        nativeImage.SetMemoryImage(memoryImage, sessionImage.memory?.length || 0);\n        nativeImage.SetDeviceId(sessionImage.deviceId);\n        nativeImage.SetSavestate(savestate, sessionImage.savestate?.length || 0);\n        nativeImage.SetMetadata(metadata, metadataLenght);\n\n        const result = nativeImage.Serialize()\n            ? this.copyOut(nativeImage.GetSerializedImage(), nativeImage.GetSerializedImageSize())\n            : undefined;\n\n        this.module.destroy(nativeImage);\n        [romImage, memoryImage, savestate, metadata].forEach((buffer) => this.cloudpilot.Free(buffer));\n\n        return result;\n    }\n\n    @guard()\n    deserializeSessionImage<T>(buffer: Uint8Array | undefined): SessionImage<T> | undefined {\n        if (!buffer) return undefined;\n\n        const nativeImage = new this.module.SessionImage();\n        const bufferPtr = this.copyIn(buffer);\n\n        const result = ((): SessionImage<T> | undefined => {\n            if (!nativeImage.Deserialize(bufferPtr, buffer.length)) return undefined;\n\n            const rom = this.copyOut(nativeImage.GetRomImage(), nativeImage.GetRomImageSize())!;\n            const memory = this.copyOut(nativeImage.GetMemoryImage(), nativeImage.GetMemoryImageSize())!;\n            const savestate = this.copyOut(nativeImage.GetSavestate(), nativeImage.GetSavestateSize());\n\n            const deviceId = nativeImage.GetDeviceId() as DeviceId;\n            if (!SUPPORTED_DEVICES.includes(deviceId)) {\n                console.warn(`unsupported device ${deviceId}`);\n                return undefined;\n            }\n\n            let metadata: T | undefined;\n            const serializedMetadata = this.copyOut(nativeImage.GetMetadata(), nativeImage.GetMetadataSize());\n\n            if (serializedMetadata) {\n                try {\n                    metadata = JSON.parse(new TextDecoder().decode(serializedMetadata));\n                } catch (e) {\n                    console.warn('invalid metadata', e);\n                }\n            }\n\n            return {\n                deviceId,\n                rom,\n                memory,\n                savestate,\n                metadata,\n                version: nativeImage.GetVersion(),\n            };\n        })();\n\n        this.module.destroy(nativeImage);\n        this.cloudpilot.Free(bufferPtr);\n\n        return result;\n    }\n\n    @guard()\n    launchAppByName(name: string): boolean {\n        return this.cloudpilot.LaunchAppByName(name);\n    }\n\n    @guard()\n    launchAppByDbHeader(header: Uint8Array): boolean {\n        if (header.length < 32) return false;\n\n        const headerPtr = this.copyIn(header.subarray(0, 32));\n        const result = this.cloudpilot.LaunchAppByDbHeader(headerPtr, 32);\n        this.cloudpilot.Free(headerPtr);\n\n        return result;\n    }\n\n    @guard()\n    deviceSupportsCardSize(size: number): boolean {\n        return this.cloudpilot.DeviceSupportsCardSize(size);\n    }\n\n    @guard()\n    clearExternalStorage(): void {\n        this.cloudpilot.ClearExternalStorage();\n    }\n\n    @guard()\n    allocateCard(key: string, size: number): boolean {\n        return this.cloudpilot.AllocateCard(key, size >>> 9);\n    }\n\n    @guard()\n    decompressCard(key: string, compressedData: Uint8Array): boolean {\n        const buffer = this.copyIn(compressedData);\n        let gunzipContext: GunzipContext | undefined = undefined;\n        try {\n            gunzipContext = new this.module.GunzipContext(buffer, compressedData.length, 512 * 1024);\n\n            while (gunzipContext.GetState() === GunzipState.more) {\n                gunzipContext.Continue();\n            }\n\n            if (gunzipContext.GetState() === GunzipState.error) {\n                console.error(`gunzip failed: ${gunzipContext.GetError()}`);\n                return false;\n            }\n\n            if (gunzipContext.GetUncompressedSize() % 512 !== 0) {\n                console.error('failed to allocate card: invalid size of decompressed image');\n                return false;\n            }\n\n            return this.cloudpilot.AdoptCard(\n                key,\n                gunzipContext.ReleaseUncompressedData(),\n                gunzipContext.GetUncompressedSize() >>> 9,\n            );\n        } finally {\n            this.cloudpilot.Free(buffer);\n            if (gunzipContext) this.module.destroy(gunzipContext);\n        }\n    }\n\n    @guard()\n    getCardData(key: string): Uint32Array | undefined {\n        const dataPtr = this.module.getPointer(this.cloudpilot.GetCardData(key));\n        if (dataPtr === 0) return undefined;\n\n        return this.module.HEAPU32.subarray(dataPtr >>> 2, (dataPtr + this.cloudpilot.GetCardSize(key)) >> 2);\n    }\n\n    @guard()\n    getCardDirtyPages(key: string): Uint8Array | undefined {\n        const dirtyPagesPtr = this.module.getPointer(this.cloudpilot.GetCardDirtyPages(key));\n        if (dirtyPagesPtr === 0) return undefined;\n\n        const bufferSize = dirtyPagesSize(this.cloudpilot.GetCardSize(key));\n        return this.module.HEAPU8.subarray(dirtyPagesPtr, dirtyPagesPtr + bufferSize);\n    }\n\n    @guard()\n    getMountedKey(): string {\n        return this.cloudpilot.GetMountedKey();\n    }\n\n    @guard()\n    mountCard(key: string): boolean {\n        return this.cloudpilot.MountCard(key);\n    }\n\n    @guard()\n    removeCard(key: string): boolean {\n        return this.cloudpilot.RemoveCard(key);\n    }\n\n    @guard()\n    remountCards() {\n        this.cloudpilot.RemountCards();\n    }\n\n    @guard()\n    getCardSupportLevel(size: number): CardSupportLevel {\n        return this.cloudpilot.GetSupportLevel(size);\n    }\n\n    @guard()\n    loadSkin(name: string): string | undefined {\n        const skinLoader = new this.module.SkinLoader(name);\n\n        try {\n            const dataPtr = this.module.getPointer(skinLoader.GetData());\n            if (dataPtr === 0) return undefined;\n\n            const decoder = new TextDecoder();\n            return decoder.decode(this.module.HEAPU8.subarray(dataPtr, dataPtr + skinLoader.GetSize()));\n        } finally {\n            this.module.destroy(skinLoader);\n        }\n    }\n\n    getTransportIR(): SerialTransport {\n        return this.transportIR;\n    }\n\n    getTransportSerial(): SerialTransport {\n        return this.transportSerial;\n    }\n\n    public guard<T>(fn: () => T) {\n        if (this.amIdead) throw new Error('cloudpilot instance is dead');\n\n        try {\n            return fn();\n        } catch (e) {\n            this.amIdead = true;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.cloudpilot = undefined as any;\n\n            this.fatalErrorEvent.dispatch(e instanceof Error ? e : new Error('unknown error'));\n\n            throw e;\n        }\n    }\n\n    private copyIn(data: Uint8Array): VoidPtr {\n        const buffer = this.cloudpilot.Malloc(data.length);\n        const bufferPtr = this.module.getPointer(buffer);\n\n        this.module.HEAPU8.subarray(bufferPtr, bufferPtr + data.length).set(data);\n\n        return buffer;\n    }\n\n    private copyIn32(data: Uint32Array): VoidPtr {\n        const buffer = this.cloudpilot.Malloc(data.length << 2);\n        const bufferPtr = this.module.getPointer(buffer);\n\n        this.module.HEAPU32.subarray(bufferPtr >>> 2, (bufferPtr >>> 2) + data.length).set(data);\n\n        return buffer;\n    }\n\n    private copyOut(ptr: VoidPtr, size: number): Uint8Array | undefined {\n        const p = this.module.getPointer(ptr);\n\n        return p > 0 && size > 0 ? this.module.HEAPU8.subarray(p, p + size).slice() : undefined;\n    }\n\n    private wrap<T extends object>(unguarded: T): T {\n        return new Proxy<T>(unguarded, {\n            get: (target: T, p: string) => {\n                const val = target[p as keyof T];\n\n                if (typeof val !== 'function') {\n                    return val;\n                }\n\n                // eslint-disable-next-line @typescript-eslint/ban-types\n                return (...args: Array<unknown>) => this.guard(() => (val as Function).apply(target, args));\n            },\n        });\n    }\n\n    private wrapTransport(transport: EmSerialTransport): SerialTransport {\n        const frameCompleteEvent = new Event<void>();\n        transport.SetRequestTransferCallback(this.module.addFunction(() => frameCompleteEvent.dispatch(), 'v'));\n\n        return this.wrap(\n            Object.setPrototypeOf(\n                {\n                    Receive: (): Uint8Array | undefined => {\n                        const count = transport.RxBytesPending();\n\n                        return this.copyOut(transport.Receive(), count);\n                    },\n\n                    Send: (data: Uint8Array | undefined, frameComplete: boolean): void => {\n                        const buffer = data && this.copyIn(data);\n\n                        transport.Send(data?.length ?? 0, buffer ?? this.cloudpilot.Nullptr(), frameComplete);\n\n                        if (buffer) this.cloudpilot.Free(buffer);\n                    },\n\n                    frameCompleteEvent,\n                },\n                transport,\n            ),\n        );\n    }\n\n    fatalErrorEvent = new Event<Error>();\n    pwmUpdateEvent = new Event<PwmUpdate>();\n    proxyDisconnectEvent = new Event<void>();\n\n    private cloudpilot: CloudpilotNative;\n\n    private transportIR: SerialTransport;\n    private transportSerial: SerialTransport;\n\n    private amIdead = false;\n}\n","export { ZipfileWalkerState } from '@native-common/index';\nimport { ZipfileWalker as ZipfileWalkerNative } from '@native-common/index';\n\nexport interface ZipfileWalker extends Omit<ZipfileWalkerNative<unknown>, 'GetCurrentEntryContent'> {\n    GetCurrentEntryContent(): Uint8Array | undefined;\n}\n\nexport interface Module<VoidPtr> {\n    getPointer(ptr: VoidPtr): number;\n\n    HEAPU8: Uint8Array;\n}\n\nexport function decorateZipfileWalker<VoidPtr>(\n    nativeWalker: ZipfileWalkerNative<VoidPtr>,\n    module: Module<VoidPtr>,\n): ZipfileWalker {\n    return Object.setPrototypeOf(\n        {\n            GetCurrentEntryContent: () => {\n                const ptr = module.getPointer(nativeWalker.GetCurrentEntryContent());\n                const size = nativeWalker.GetCurrentEntrySize();\n\n                return ptr > 0 && size > 0 ? module.HEAPU8.subarray(ptr, ptr + size) : undefined;\n            },\n        },\n        nativeWalker,\n    );\n}\n","export function dirtyPagesSize(imageSize: number): number {\n    const pages = (imageSize >>> 13) + (imageSize % 8192 > 0 ? 1 : 0);\n    return (pages >>> 3) + (pages % 8 > 0 ? 1 : 0);\n}\n","import { PalmButton } from '@native/cloudpilot_web';\n\n/**\n * The various supported hard buttons.\n */\nexport enum Button {\n    cal = PalmButton.cal,\n    phone = PalmButton.phone,\n    todo = PalmButton.todo,\n    notes = PalmButton.notes,\n    up = PalmButton.up,\n    down = PalmButton.down,\n    power = PalmButton.power,\n    cradle = PalmButton.cradle,\n}\n","import { Emulator, EmulatorImpl } from './Emulator';\n\nimport { Cloudpilot } from '@common/bridge/Cloudpilot';\nimport { cachedInstantiate } from '@common/helper/wasm';\n\nexport { DeviceId } from '@common/model/DeviceId';\nexport { Button } from './button';\nexport { DeviceOrientation } from '@common/model/DeviceOrientation';\nexport { Emulator } from './Emulator';\nexport { EmulationStatistics } from '@common/model/EmulationStatistics';\nexport { EventTarget, EventHandler } from '@common/service/GenericEventHandlingService';\nexport { Event, Handler } from './Event';\nexport { SerialPort, ReceivePayload } from './SerialPort';\n\nexport const VERSION = process.env.VERSION;\n\n/**\n * Create a new instance of the emulator.\n *\n * @param wasmModuleUrl Optional: URL for loading the web assembly module\n *\n * @returns Emulator instance\n */\nexport async function createEmulator(wasmModuleUrl?: string): Promise<Emulator> {\n    return new EmulatorImpl(await Cloudpilot.create(wasmModuleUrl));\n}\n\n/**\n * Create a factory function that creates new Emulator instances without redownloading\n * and recompiling the WASM module.\n *\n * @param wasmModuleUrl Optional: URL for loading the web assembly module\n * @returns\n */\nexport function createEmulatorFactory(wasmModuleUrl?: string): () => Promise<Emulator> {\n    const instantiate = cachedInstantiate(wasmModuleUrl ?? 'cloudpilot_web.wasm');\n\n    return () => Cloudpilot.create(instantiate).then((cloudpilot) => new EmulatorImpl(cloudpilot));\n}\n","export type InstantiateFunction = (\n    imports: WebAssembly.Imports,\n    callback: (instance: WebAssembly.Instance) => void,\n) => void;\n\nexport function cachedInstantiate(binaryUrl: string): InstantiateFunction {\n    const wasmModule = WebAssembly.compileStreaming\n        ? WebAssembly.compileStreaming(fetch(binaryUrl))\n        : fetch(binaryUrl)\n              .then((response) => response.arrayBuffer())\n              .then((binary) => WebAssembly.compile(binary));\n\n    return async (imports, callback) => callback(await WebAssembly.instantiate(await wasmModule, imports));\n}\n"],"names":["root","factory","exports","module","define","amd","self","_scriptName","createModule","document","currentScript","src","undefined","moduleArg","Module","ENVIRONMENT_IS_WEB","window","ENVIRONMENT_IS_WORKER","WorkerGlobalScope","thisProgram","process","versions","node","type","quit_","status","toThrow","location","href","readAsync","readBinary","scriptDirectory","URL","url","xhr","XMLHttpRequest","open","responseType","send","Uint8Array","response","async","fetch","credentials","ok","arrayBuffer","Error","wasmBinary","EXITSTATUS","readyPromiseResolve","readyPromiseReject","wasmMemory","HEAP8","HEAPU8","HEAP32","HEAPU32","HEAPF64","HEAP64","out","console","log","bind","err","error","ABORT","assert","condition","text","abort","checkStackCookie","max","_emscripten_stack_get_end","cookie1","cookie2","ptrToString","runtimeInitialized","updateMemoryViews","b","buffer","Int8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array","wasmBinaryFile","runDependencies","dependenciesFulfilled","what","e","WebAssembly","RuntimeError","instantiateAsync","binary","binaryFile","imports","instantiateStreaming","reason","file","getBinarySync","getWasmBinary","instantiate","instantiateArrayBuffer","ExitStatus","name","constructor","this","message","wasmTable","functionsInTableMap","callRuntimeCallbacks","callbacks","length","shift","onPostRuns","onPreRuns","noExitRuntime","ptr","toString","padStart","UTF8Decoder","TextDecoder","UTF8ArrayToString","heapOrArray","idx","maxBytesToRead","NaN","endIdx","endPtr","decode","subarray","str","u0","u1","u2","String","fromCharCode","ch","UTF8ToString","bigintToI53Checked","num","Number","runtimeKeepaliveCounter","MONTH_DAYS_LEAP_CUMULATIVE","MONTH_DAYS_REGULAR_CUMULATIVE","ydayFromDate","date","year","getFullYear","getMonth","getDate","yday","timers","handleException","_emscripten_stack_get_current","keepRuntimeAlive","_proc_exit","code","exitJS","implicit","_exit","_emscripten_get_now","performance","now","stringToUTF8Array","heap","outIdx","maxBytesToWrite","startIdx","i","u","codePointAt","stringToUTF8","outPtr","_emscripten_date_now","Date","readEmAsmArgsArray","alignMemory","size","alignment","Math","ceil","growMemory","pages","byteLength","grow","ENV","getEnvStrings","strings","env","USER","LOGNAME","PATH","PWD","HOME","LANG","navigator","language","replace","_","x","push","lengthBytesUTF8","len","c","charCodeAt","printCharBuffers","intArrayFromString","stringy","dontAddNull","u8array","Array","numBytesWritten","onInits","uleb128Encode","n","target","wasmTableMirror","freeTableIndexes","setWasmTableEntry","func","set","get","sig","rtn","WeakMap","offset","count","item","funcPtr","updateTableMap","getFunctionAddress","ret","pop","RangeError","getEmptyTableSlot","TypeError","wrapped","Function","typeNames","j","f","d","p","parameters","results","sigToWasmTypes","typeSectionBody","sigRet","slice","sigParam","typeCodes","paramType","generateFuncType","bytes","Instance","wrappedFunc","convertJsFunctionToWasm","_main","_emscripten_bind_VoidPtr___destroy___0","_emscripten_bind_Cloudpilot_Cloudpilot_0","_emscripten_bind_Cloudpilot_Malloc_1","_emscripten_bind_Cloudpilot_Free_1","_emscripten_bind_Cloudpilot_Nullptr_0","_emscripten_bind_Cloudpilot_EnableLogging_1","_emscripten_bind_Cloudpilot_InitializeSession_3","_emscripten_bind_Cloudpilot_GetCyclesPerSecond_0","_emscripten_bind_Cloudpilot_RunEmulation_1","_emscripten_bind_Cloudpilot_SetClockFactor_1","_emscripten_bind_Cloudpilot_CopyFrame_0","_emscripten_bind_Cloudpilot_IsScreenDirty_0","_emscripten_bind_Cloudpilot_MarkScreenClean_0","_emscripten_bind_Cloudpilot_MinMemoryForDevice_1","_emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1","_emscripten_bind_Cloudpilot_TotalMemoryForDevice_1","_emscripten_bind_Cloudpilot_QueuePenMove_2","_emscripten_bind_Cloudpilot_QueuePenUp_0","_emscripten_bind_Cloudpilot_QueueButtonDown_1","_emscripten_bind_Cloudpilot_QueueButtonUp_1","_emscripten_bind_Cloudpilot_QueueKeyboardEvent_2","_emscripten_bind_Cloudpilot_IsPowerOff_0","_emscripten_bind_Cloudpilot_IsUIInitialized_0","_emscripten_bind_Cloudpilot_GetOSVersion_0","_emscripten_bind_Cloudpilot_IsSetupComplete_0","_emscripten_bind_Cloudpilot_Reset_0","_emscripten_bind_Cloudpilot_ResetNoExtensions_0","_emscripten_bind_Cloudpilot_ResetHard_0","_emscripten_bind_Cloudpilot_InstallDb_2","_emscripten_bind_Cloudpilot_GetPalette2bitMapping_0","_emscripten_bind_Cloudpilot_GetMemoryPtr_0","_emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0","_emscripten_bind_Cloudpilot_GetMemorySize_0","_emscripten_bind_Cloudpilot_ImportMemoryImage_2","_emscripten_bind_Cloudpilot_GetRomPtr_0","_emscripten_bind_Cloudpilot_GetRomSize_0","_emscripten_bind_Cloudpilot_GetSavestatePtr_0","_emscripten_bind_Cloudpilot_GetSavestateSize_0","_emscripten_bind_Cloudpilot_SaveState_0","_emscripten_bind_Cloudpilot_LoadState_2","_emscripten_bind_Cloudpilot_GetHotsyncName_0","_emscripten_bind_Cloudpilot_SetHotsyncName_1","_emscripten_bind_Cloudpilot_RegisterPwmHandler_1","_emscripten_bind_Cloudpilot_StartBackup_0","_emscripten_bind_Cloudpilot_SetClipboardIntegration_1","_emscripten_bind_Cloudpilot_GetClipboardIntegration_0","_emscripten_bind_Cloudpilot_IsSuspended_0","_emscripten_bind_Cloudpilot_GetSuspendContext_0","_emscripten_bind_Cloudpilot_SetNetworkRedirection_1","_emscripten_bind_Cloudpilot_GetNetworkRedirection_0","_emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1","_emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1","_emscripten_bind_Cloudpilot_LaunchAppByName_1","_emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2","_emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1","_emscripten_bind_Cloudpilot_ClearExternalStorage_0","_emscripten_bind_Cloudpilot_AllocateCard_2","_emscripten_bind_Cloudpilot_AdoptCard_3","_emscripten_bind_Cloudpilot_MountCard_1","_emscripten_bind_Cloudpilot_RemoveCard_1","_emscripten_bind_Cloudpilot_GetCardData_1","_emscripten_bind_Cloudpilot_GetCardDirtyPages_1","_emscripten_bind_Cloudpilot_GetCardSize_1","_emscripten_bind_Cloudpilot_RemountCards_0","_emscripten_bind_Cloudpilot_GetSupportLevel_1","_emscripten_bind_Cloudpilot_GetMountedKey_0","_emscripten_bind_Cloudpilot_GetTransportIR_0","_emscripten_bind_Cloudpilot_GetTransportSerial_0","_emscripten_bind_Cloudpilot___destroy___0","_emscripten_bind_RomInfo_RomInfo_2","_emscripten_bind_RomInfo_IsValid_0","_emscripten_bind_RomInfo_CardVersion_0","_emscripten_bind_RomInfo_CardName_0","_emscripten_bind_RomInfo_RomVersion_0","_emscripten_bind_RomInfo_RomVersionString_0","_emscripten_bind_RomInfo_Supports_1","_emscripten_bind_RomInfo___destroy___0","_emscripten_bind_Frame_GetLineWidth_0","_emscripten_bind_Frame_GetBpp_0","_emscripten_bind_Frame_GetLines_0","_emscripten_bind_Frame_GetMargin_0","_emscripten_bind_Frame_GetBytesPerLine_0","_emscripten_bind_Frame_GetFirstDirtyLine_0","_emscripten_bind_Frame_GetLastDirtyLine_0","_emscripten_bind_Frame_GetHasChanges_0","_emscripten_bind_Frame_GetBuffer_0","_emscripten_bind_Frame_GetBufferSize_0","_emscripten_bind_Frame_GetScaleX_0","_emscripten_bind_Frame_GetScaleY_0","_emscripten_bind_Frame___destroy___0","_emscripten_bind_DbBackup_Init_1","_emscripten_bind_DbBackup_IsInProgress_0","_emscripten_bind_DbBackup_IsDone_0","_emscripten_bind_DbBackup_GetCurrentDatabase_0","_emscripten_bind_DbBackup_Save_0","_emscripten_bind_DbBackup_Skip_0","_emscripten_bind_DbBackup_GetArchivePtr_0","_emscripten_bind_DbBackup_GetArchiveSize_0","_emscripten_bind_DbBackup___destroy___0","_emscripten_bind_SuspendContextClipboardCopy_Cancel_0","_emscripten_bind_SuspendContextClipboardCopy_Resume_0","_emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0","_emscripten_bind_SuspendContextClipboardCopy___destroy___0","_emscripten_bind_SuspendContextClipboardPaste_Cancel_0","_emscripten_bind_SuspendContextClipboardPaste_Resume_1","_emscripten_bind_SuspendContextClipboardPaste___destroy___0","_emscripten_bind_SuspendContextNetworkConnect_Cancel_0","_emscripten_bind_SuspendContextNetworkConnect_Resume_0","_emscripten_bind_SuspendContextNetworkConnect___destroy___0","_emscripten_bind_SuspendContextNetworkRpc_Cancel_0","_emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0","_emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0","_emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2","_emscripten_bind_SuspendContextNetworkRpc___destroy___0","_emscripten_bind_SuspendContextSerialSync_Cancel_0","_emscripten_bind_SuspendContextSerialSync_Resume_0","_emscripten_bind_SuspendContextSerialSync___destroy___0","_emscripten_bind_SuspendContext_GetKind_0","_emscripten_bind_SuspendContext_Cancel_0","_emscripten_bind_SuspendContext_AsContextClipboardCopy_0","_emscripten_bind_SuspendContext_AsContextClipboardPaste_0","_emscripten_bind_SuspendContext_AsContextNetworkConnect_0","_emscripten_bind_SuspendContext_AsContextNetworkRpc_0","_emscripten_bind_SuspendContext_AsContextSerialSync_0","_emscripten_bind_SuspendContext___destroy___0","_emscripten_bind_SessionImage_SessionImage_0","_emscripten_bind_SessionImage_GetDeviceId_0","_emscripten_bind_SessionImage_SetDeviceId_1","_emscripten_bind_SessionImage_GetRomImage_0","_emscripten_bind_SessionImage_GetRomImageSize_0","_emscripten_bind_SessionImage_SetRomImage_2","_emscripten_bind_SessionImage_GetMemoryImage_0","_emscripten_bind_SessionImage_GetMemoryImageSize_0","_emscripten_bind_SessionImage_SetMemoryImage_2","_emscripten_bind_SessionImage_GetMetadata_0","_emscripten_bind_SessionImage_GetMetadataSize_0","_emscripten_bind_SessionImage_SetMetadata_2","_emscripten_bind_SessionImage_GetSavestate_0","_emscripten_bind_SessionImage_GetSavestateSize_0","_emscripten_bind_SessionImage_SetSavestate_2","_emscripten_bind_SessionImage_GetVersion_0","_emscripten_bind_SessionImage_Serialize_0","_emscripten_bind_SessionImage_GetSerializedImage_0","_emscripten_bind_SessionImage_GetSerializedImageSize_0","_emscripten_bind_SessionImage_Deserialize_2","_emscripten_bind_SessionImage___destroy___0","_emscripten_bind_SkinLoader_SkinLoader_1","_emscripten_bind_SkinLoader_GetData_0","_emscripten_bind_SkinLoader_GetSize_0","_emscripten_bind_SkinLoader___destroy___0","_emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0","_emscripten_bind_EmTransportSerialBuffer_Receive_0","_emscripten_bind_EmTransportSerialBuffer_Send_3","_emscripten_bind_EmTransportSerialBuffer_IsOpen_0","_emscripten_bind_EmTransportSerialBuffer_Rts_0","_emscripten_bind_EmTransportSerialBuffer_Dtr_0","_emscripten_bind_EmTransportSerialBuffer_IsBreak_0","_emscripten_bind_EmTransportSerialBuffer_BufferSize_0","_emscripten_bind_EmTransportSerialBuffer_GetBaud_0","_emscripten_bind_EmTransportSerialBuffer_GetParity_0","_emscripten_bind_EmTransportSerialBuffer_GetStopBits_0","_emscripten_bind_EmTransportSerialBuffer_GetDataBits_0","_emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0","_emscripten_bind_EmTransportSerialBuffer_GetModeSync_0","_emscripten_bind_EmTransportSerialBuffer_SetModeSync_1","_emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0","_emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1","_emscripten_bind_EmTransportSerialBuffer___destroy___0","_emscripten_bind_GunzipContext_GunzipContext_3","_emscripten_bind_GunzipContext_GetState_0","_emscripten_bind_GunzipContext_Continue_0","_emscripten_bind_GunzipContext_GetUncompressedData_0","_emscripten_bind_GunzipContext_ReleaseUncompressedData_0","_emscripten_bind_GunzipContext_GetUncompressedSize_0","_emscripten_bind_GunzipContext_GetError_0","_emscripten_bind_GunzipContext___destroy___0","_emscripten_bind_ZipfileWalker_ZipfileWalker_2","_emscripten_bind_ZipfileWalker_GetState_0","_emscripten_bind_ZipfileWalker_Next_0","_emscripten_bind_ZipfileWalker_GetTotalEntries_0","_emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0","_emscripten_bind_ZipfileWalker_GetCurrentEntryName_0","_emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0","_emscripten_bind_ZipfileWalker___destroy___0","__emscripten_timeout","_emscripten_stack_init","ASM_CONSTS","$0","wasmImports","a","filename","line","s","msg","isAssert","fd","h","time","tmPtr","getSeconds","getMinutes","getHours","getDay","getTimezoneOffset","start","summerOffset","winterOffset","dst","min","q","guessedOffset","dstOffset","nonDstOffset","trueOffset","setTime","getTime","getYear","timeMs","isNaN","BigInt","k","which","timeout_ms","clearTimeout","id","setTimeout","maybeExit","callUserCallback","r","timezone","daylight","std_name","dst_name","currentYear","winter","summer","stdTimezoneOffset","extractZone","timezoneOffset","sign","absOffset","abs","floor","winterName","summerName","clk_id","ignored_precision","ptime","clock_id","nsec","round","t","sigPtr","argbuf","args","buf","wide","readEmAsmArgs","runEmAsmFunction","g","o","requestedSize","oldSize","maxHeapSize","cutDown","overGrownHeapSize","newSize","l","__environ","environ_buf","bufSize","envp","string","Infinity","m","penviron_count","penviron_buf_size","iov","iovcnt","pnum","whence","newOffset","stream","curr","wasmExports","receiveInstance","instance","assignWasmExports","callback","removeRunDependency","path","info","Promise","resolve","reject","mod","inst","createWasm","WrapperObject","getCache","__class__","__cache__","wrapPointer","cache","Object","create","prototype","preInit","run","doRun","entryFunction","callMain","cb","postRun","preRun","obj","obj1","obj2","ensureCache","pos","temps","needed","prepare","alloc","array","view","BYTES_PER_ELEMENT","copy","ensureString","value","intArray","VoidPtr","Cloudpilot","RomInfo","Frame","DbBackup","SuspendContextClipboardCopy","SuspendContextClipboardPaste","SuspendContextNetworkConnect","SuspendContextNetworkRpc","SuspendContextSerialSync","SuspendContext","SessionImage","SkinLoader","EmTransportSerialBuffer","GunzipContext","data","slizeSize","ZipfileWalker","bufferSize","__destroy__","Malloc","Free","Nullptr","EnableLogging","logging","InitializeSession","deviceType","GetCyclesPerSecond","RunEmulation","cycles","SetClockFactor","clockFactor","CopyFrame","IsScreenDirty","MarkScreenClean","MinMemoryForDevice","deviceId","FramebufferSizeForDevice","TotalMemoryForDevice","QueuePenMove","y","QueuePenUp","QueueButtonDown","QueueButtonUp","QueueKeyboardEvent","ctrl","IsPowerOff","IsUIInitialized","GetOSVersion","IsSetupComplete","Reset","ResetNoExtensions","ResetHard","InstallDb","GetPalette2bitMapping","GetMemoryPtr","GetDirtyPagesPtr","GetMemorySize","ImportMemoryImage","GetRomPtr","GetRomSize","GetSavestatePtr","GetSavestateSize","SaveState","LoadState","GetHotsyncName","SetHotsyncName","RegisterPwmHandler","handlerPtr","StartBackup","SetClipboardIntegration","toggle","GetClipboardIntegration","IsSuspended","GetSuspendContext","SetNetworkRedirection","GetNetworkRedirection","RegisterProxyDisconnectHandler","SetHotsyncNameManagement","LaunchAppByName","LaunchAppByDbHeader","DeviceSupportsCardSize","ClearExternalStorage","AllocateCard","key","blockCount","AdoptCard","MountCard","RemoveCard","GetCardData","GetCardDirtyPages","GetCardSize","RemountCards","GetSupportLevel","GetMountedKey","GetTransportIR","GetTransportSerial","IsValid","CardVersion","CardName","RomVersion","RomVersionString","Supports","GetLineWidth","GetBpp","GetLines","GetMargin","GetBytesPerLine","GetFirstDirtyLine","GetLastDirtyLine","GetHasChanges","GetBuffer","GetBufferSize","GetScaleX","GetScaleY","Init","includeRomDatabases","IsInProgress","IsDone","GetCurrentDatabase","Save","Skip","GetArchivePtr","GetArchiveSize","Cancel","Resume","GetClipboardContent","clipboardContent","GetRequestSize","GetRequestData","ReceiveResponse","GetKind","AsContextClipboardCopy","AsContextClipboardPaste","AsContextNetworkConnect","AsContextNetworkRpc","AsContextSerialSync","GetDeviceId","SetDeviceId","GetRomImage","GetRomImageSize","SetRomImage","image","GetMemoryImage","GetMemoryImageSize","SetMemoryImage","GetMetadata","GetMetadataSize","SetMetadata","metadata","GetSavestate","SetSavestate","savestate","GetVersion","Serialize","GetSerializedImage","GetSerializedImageSize","Deserialize","GetData","GetSize","RxBytesPending","Receive","Send","Count","frameComplete","IsOpen","Rts","Dtr","IsBreak","BufferSize","GetBaud","GetParity","GetStopBits","GetDataBits","GetHwrHandshake","GetModeSync","SetModeSync","sync","IsFrameComplete","SetRequestTransferCallback","GetState","Continue","GetUncompressedData","ReleaseUncompressedData","GetUncompressedSize","GetError","Next","GetTotalEntries","GetCurrentEntrySize","GetCurrentEntryName","GetCurrentEntryContent","lastNumberWeakMap","MAX_SAFE_INTEGER","TWO_TO_THE_POWER_OF_TWENTY_NINE","TWO_TO_THE_POWER_OF_THIRTY","LAST_NUMBER_WEAK_MAP","generateUniqueNumber","collection","lastNumber","nextNumber","has","random","createGenerateUniqueNumber","addUniqueNumber","number","add","createAddUniqueNumber","defineProperty","factories","context","payload","Event","hasHandlers","_handlers","_contexts","_createDispatcher","addHandler","handler","isHandlerAttached","_updateHasHandlers","removeHandler","_getHandlerIndex","splice","handlerCount","dispatch","argsHandlers","argsContexts","apply","concat","compileFactory","Event_1","default","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call","getter","__esModule","definition","enumerable","prop","hasOwnProperty","Symbol","toStringTag","__decorate","decorators","desc","arguments","getOwnPropertyDescriptor","Reflect","decorate","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","result","done","then","DeviceOrientation","DeviceId","SuppressedError","E_CANCELED","Semaphore","_value","_cancelError","_weightedQueues","_weightedWaiters","acquire","weight","_dispatch","runExclusive","release","waitForUnlock","isLocked","getValue","setValue","cancel","forEach","queue","entry","_a","queueEntry","previousValue","previousWeight","_newReleaser","_drainUnlockWaiters","called","waiter","Mutex","cancelError","_semaphore","releaser","isMacOSSafari","isIOS","platform","match","maxTouchPoints","audioContextCtor","userAgent","toLowerCase","indexOf","AudioContext","webkitAudioContext","v","timeout","AbstractAudioService","emulationService","initialize","mutex","initializeAudioUnguarded","updateState","skipPwmUpdate","isRunning","shouldRun","applyPwmUpdate","oldState","state","updateGain","resume","suspend","onPwmUpdate","pwmUpdate","pendingPwmUpdate","initialized","muted","pwmUpdateEvent","emulationStateChangeEvent","powerOffChangeEvent","addEventListener","isInitialized","mute","isMuted","isPowerOff","gain","visibilityState","runHidden","gainNode","destination","channelCount","warn","createGain","channelInterpretation","connect","frequency","dutyCycle","sampleRate","disconnectSource","createBuffer","getChannelData","bufferSourceNode","createBufferSource","loop","stop","disconnect","getVolume","EmbeddedAudioService","volume","setVolume","prerender","source","cachedWidth","cachedHeight","canvas","createElement","width","height","ctx","getContext","drawImage","loadImage","Image","onload","onerror","svgToUrl","svg","btoa","SlotType","deviceDimensions","i710","m520","screenSize","silkscreenHeight","handera330","handera330c","lp168","pegS300","pegS320","pegS500c","pegT600c","pegT400","pegT650c","silkscreenOvershoot","pegN600c","pegN700c","pegNR70","acerS11","siklscreenShift","isColor","pilot","palmPilot","iii","palmV","palmVx","iiix","iiixe","iiie","m100","m105","m125","m500","palmVII","palmVIIEZ","palmVIIx","i705","BACKGROUND","FOREGROUND","GRAYSCALE_PALETTE_RGBA","fill","map","fg","GRAYSCALE_PALETTE_HEX","reverse","join","DEFAULT_DEVICE","m515","BACKGROUND_COLOR_SILKSCREEN","BACKGROUND_COLOR_GRAYSCALE_DEVICE","BACKGROUND_ACTIVE_BUTTON","calculateLayout","device","dimensions","scale","devicePixelRatio","borderWidth","frameDevice","frameCanvas","dist","coord","separatorHeight","buttonHeight","buttonHeightForScreenSize","screenHeight","screenWidth","screenLeft","screenTop","screenBottom","silkscreenTop","silkscreenBottom","softSilkscreenHeight","buttonWidth","buttonTop","buttonBottom","AbstractCanvasDisplayService","skinLoader","layout","onResize","getOrientation","portrait","portrait180","updateEmulationCanvas","setupTransformation","drawEmulationCanvas","onAfterUpdateCanvas","eventToPalmCoordinates","clip","bb","getBoundingClientRect","contentX","contentY","contentWidth","contentHeight","top","left","clientX","clientY","landscape90","tmp","landscape270","totalHeight","isSilkscreen","coords","isButtons","determineButton","initWithCanvas","getDeviceId","fillCanvasRect","frameColor","fillRect","backgroundColor","all","drawSilkscreen","drawButtons","activeButtons","imageSmoothingEnabled","imageSmoothingQuality","buttonsImage","includes","resetTransform","translate","rotate","PI","silkscreenImage","lastEmulationCanvas","style","beginPath","rect","fillStyle","loadSkinElement","silkscreenSkinElement","m505","iiic","m130","buttonsSkinElement","GAME_ICON_SVG","GAME_ICON_PRERENDERED","EmbeddedCanvasDisplayService","orientation","gameModeIndicatorEnabled","gameModeActive","lastActiveButtons","theCanvas","objectFit","updateOrientation","toggleGameModeIndicator","setGameModeIndicatorEnabled","isGameModeIndicatorEnabled","getCanvas","drawGameModeIndicator","indicatorSize","iconSize","padding","iconPadding","loadOrReturnBroker","loadBroker","worker","broker","blob","Blob","createObjectURL","scheduledIntervalFunctions","Map","scheduledTimeoutFunctions","unrespondedRequests","Worker","method","params","timerId","timerType","idOrFunc","timerIdAndTimerType","delete","isClearResponse","clearInterval","postMessage","setInterval","delay","revokeObjectURL","createLoadOrReturnBroker","SchedulerKind","AnimationFrameScheduler","schedule","handle","requestAnimationFrame","timestamp","cancelAnimationFrame","isScheduled","getKind","animationFrame","TimeoutScheduler","fps","nextTick","Average","capacity","initialValue","reset","calculateAverage","acc","Fifo","elt","peekLast","replaceLast","flush","SerialPortImpl","onFrameComplete","transport","receiveEvent","isFrameComplete","dispatchEvent","isSync","frameCompleteEvent","setModeSync","modeSync","getModeSync","bytesPending","AbstractEmulationService","pendingPwmUpdates","advanceEmulation","isDirty","cloudpilotInstance","hasFatalError","clockEmulator","isSuspended","getSuspendKind","serialSyncStartedAt","getSuspendContextSerialSync","wasSuspended","setClockFactor","emulationSpeed","getConfiguredSpeed","cyclesToRun","cyclesPerSecond","timestampBeforeCycle","runEmulation","virtualTimePassed","realTimePassed","speedAverage","updateEmulationSpeed","handleSuspend","powerOff","uiInitialized","isUiInitialized","oldPowerOff","manageHotsyncName","checkAndUpdateHotsyncName","serialPortIR","serialPortSerial","onAfterAdvanceEmulation","newFrameEvent","scheduler","onSchedule","canvasTmp","lastPenUpdate","penDown","running","lastPwmUpdateEvent","timePerFrameAverage","timestampLastFrame","frameCounter","handlePointerMove","handleInput","ts","transformSilkscreenX","transformSilkscreenY","queuePenMove","handlePointerUp","queuePenUp","handleButtonDown","button","queueButtonDown","handleButtonUp","queueButtonUp","handleKeyDown","queueKeyboardEvent","resetNoExtensions","resetHard","getStatistics","hostSpeed","averageFps","calculateFPS","getEmulationSpeed","getSerialPortSerial","getSerialPortIR","callScheduler","openSession","cloudpilot","rom","memory","memoryLoaded","initializeSession","loadMemory","byteOffset","loadState","remountCards","getTransportIR","getTransportSerial","resetCanvas","deviceHotsyncName","contextTmp","clearCanvas","imageData","doResume","setRunning","resetFPS","doPause","stopLoop","doStop","advanceEmulationHandle","timePerFrame","factor","currentSpeed","normalizedSpeed","performScreenUpdate","isScreenDirty","updateScreen","markScreenClean","skipEmulationUpdate","getConfiguredSchdedulerKind","getHotsyncName","configuredHotsyncName","getConfiguredHotsyncName","updateConfiguredHotsyncName","isSetupComplete","setHotsyncName","frame","getFrame","hasChanges","lines","scaleY","lineWidth","scaleX","ImageData","imageData32","bpp","bg","iDest","firstDirtyLine","lastDirtyLine","offsetSrc","bytesPerLine","margin","mapping","getPalette2bitMapping","palette","buffer32","scaling","putImageData","EmbeddedEmulationService","timesliceEvent","pause","initWithRom","session","clearExternalStorage","initWithSessionImage","sessionImage","getSession","forceUpdateHotsyncName","speed","hotsyncName","runInBackground","GenericEventHandlingService","canvasDisplayService","handleMouseDown","area","determineArea","interactionMouse","buttonPrimary","handleMouseMove","buttons","handeMouseUp","interaction","handleTouchStart","handled","changedTouches","touch","interactionsTouch","identifier","cancelable","preventDefault","handleTouchMove","buttonSecondary","handleTouchEnd","enableKeyboardEvents","isToggleGameMode","gameMode","onToggleGameMode","buttonFromEvent","keyCode","keyCodeFromEvent","handleKeyUp","btn","clear","keyEventTarget","Set","enableGamemodeHotkey","pointerEventTarget","removeEventListener","isGameMode","setGameMode","enableGameMode","setGameModeHotkeyEnabled","isGameModeHotkeyEnabled","caputure","from","values","ctrlKey","shiftKey","isGameModeActive","EmbeddedEventHandlingServie","super","gameModeChangeEvent","images","skin","loadSkin","prerenderedImage","Watcher","query","changeEvent","last","update","current","DEFAULT_SESSION","CARD_KEY","EmulatorImpl","onTimeslice","powerOffWatcher","uiInitializedWatcher","hotsyncNameWatcher","audioInitializedEvent","eventHandlingService","audioService","loadRom","rominfo","getRomInfo","supportedDevices","loadSession","deserializeSessionImage","deviceOrientation","insertCompressedCardImage","cardImage","decompressCard","mountCard","insertCardImage","allocateCard","cardData","getCardData","ejectCard","isCardMounted","removeCard","getMountedKey","setCanvas","bindInput","releaseInput","installDatabase","installDb","installAndLaunchDatabase","launchDatabase","installFromZipfile","installFromZipfileAndLaunch","launchFile","launch","withZipfileWalkerSync","walker","content","launchByName","launchAppByName","database","launchAppByDbHeader","buttonDown","buttonUp","setSpeed","getSpeed","initializeAudio","isAudioInitialized","setOrientation","setRunHidden","getRunHidden","isUiInitializedChangeEvent","hotsyncNameChangeEvent","nextId","SUPPORTED_DEVICES","guard","propertyKey","oldMethod","p1","p2","fatalErrorEvent","proxyDisconnectEvent","amIdead","addFunction","transportIR","wrapTransport","transportSerial","urlOrFunction","print","printErr","locateFile","instantiateWasm","destroy","enableLogging","copyIn","romInfoNative","romInfo","cardVersion","cardName","romVersion","romVersionString","filter","nativeFrame","bufferPtr","getPointer","minRamForDevice","framebufferSizeForDevice","totalMemorySizeForDevice","char","getOSVersion","getMemory","getMemory32","getDirtyPages","memorySize","memory32","imagesMatch","copyIn32","getRomImage","getSavestate","saveState","backup","dbBackup","wrap","getArchive","copyOut","setClipboardIntegration","getClipboardIntegration","cancelSuspend","getSuspendContextClipboardCopy","getSuspendContextClipboardPaste","setNetworkRedirection","getNetworkRedirection","getSuspendContextNetworkConnect","getSuspendContextNetworkRpc","copyBuffer","freeBuffer","setHotsyncNameManagement","resolveBuffer","withZipfileWalker","newWalker","nativeWalker","setPrototypeOf","decorateZipfileWalker","serializeSessionImage","nativeImage","nullptr","romImage","memoryImage","metadataLenght","serializedMetadata","TextEncoder","encode","JSON","stringify","parse","version","header","headerPtr","deviceSupportsCardSize","compressedData","gunzipContext","dataPtr","getCardDirtyPages","dirtyPagesPtr","imageSize","dirtyPagesSize","getCardSupportLevel","fn","unguarded","Proxy","val","Button","VERSION","createEmulator","wasmModuleUrl","createEmulatorFactory","binaryUrl","wasmModule","compileStreaming","compile","cachedInstantiate"],"sourceRoot":""}